(()=>{var KE=Object.create;var io=Object.defineProperty;var $E=Object.getOwnPropertyDescriptor;var XE=Object.getOwnPropertyNames;var QE=Object.getPrototypeOf,JE=Object.prototype.hasOwnProperty;var i=(r,t)=>io(r,"name",{value:t,configurable:!0});var Xu=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),ZE=(r,t)=>{for(var e in t)io(r,e,{get:t[e],enumerable:!0})},eg=(r,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of XE(t))!JE.call(r,l)&&l!==e&&io(r,l,{get:()=>t[l],enumerable:!(s=$E(t,l))||s.enumerable});return r};var Qu=(r,t,e)=>(e=r!=null?KE(QE(r)):{},eg(t||!r||!r.__esModule?io(e,"default",{value:r,enumerable:!0}):e,r));var Lf=Xu((xo,wf)=>{(function(r,t){typeof xo=="object"&&typeof wf<"u"?t(xo):typeof define=="function"&&define.amd?define(["exports"],t):(r=r||self,t(r.FilePond={}))})(xo,function(r){"use strict";var t=i(function(n){return n instanceof HTMLElement},"isNode"),e=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=Object.assign({},n),f=[],m=[],h=i(function(){return Object.assign({},u)},"getState"),E=i(function(){var N=[].concat(f);return f.length=0,N},"processActionQueue"),_=i(function(){var N=[].concat(m);m.length=0,N.forEach(function(H){var Q=H.type,ee=H.data;I(Q,ee)})},"processDispatchQueue"),I=i(function(N,H,Q){if(Q&&!document.hidden){m.push({type:N,data:H});return}B[N]&&B[N](H),f.push({type:N,data:H})},"dispatch"),D=i(function(N){for(var H,Q=arguments.length,ee=new Array(Q>1?Q-1:0),q=1;q<Q;q++)ee[q-1]=arguments[q];return F[N]?(H=F)[N].apply(H,ee):null},"query"),O={getState:h,processActionQueue:E,processDispatchQueue:_,dispatch:I,query:D},F={};o.forEach(function(V){F=Object.assign({},V(u),{},F)});var B={};return a.forEach(function(V){B=Object.assign({},V(I,D,u),{},B)}),O},"createStore"),s=i(function(n,o,a){if(typeof a=="function"){n[o]=a;return}Object.defineProperty(n,o,Object.assign({},a))},"defineProperty"),l=i(function(n,o){for(var a in n)n.hasOwnProperty(a)&&o(a,n[a])},"forin"),p=i(function(n){var o={};return l(n,function(a){s(o,a,n[a])}),o},"createObject"),d=i(function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(a===null)return n.getAttribute(o)||n.hasAttribute(o);n.setAttribute(o,a)},"attr"),v="http://www.w3.org/2000/svg",b=["svg","path"],y=i(function(n){return b.includes(n)},"isSVGElement"),A=i(function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof o=="object"&&(a=o,o=null);var u=y(n)?document.createElementNS(v,n):document.createElement(n);return o&&(y(n)?d(u,"class",o):u.className=o),l(a,function(f,m){d(u,f,m)}),u},"createElement"),R=i(function(n){return function(o,a){typeof a<"u"&&n.children[a]?n.insertBefore(o,n.children[a]):n.appendChild(o)}},"appendChild"),x=i(function(n,o){return function(a,u){return typeof u<"u"?o.splice(u,0,a):o.push(a),a}},"appendChildView"),X=i(function(n,o){return function(a){return o.splice(o.indexOf(a),1),a.element.parentNode&&n.removeChild(a.element),a}},"removeChildView"),C=function(){return typeof window<"u"&&typeof window.document<"u"}(),M=i(function(){return C},"isBrowser"),k=M()?A("svg"):{},ie="children"in k?function(c){return c.children.length}:function(c){return c.childNodes.length},j=i(function(n,o,a,u){var f=a[0]||n.left,m=a[1]||n.top,h=f+n.width,E=m+n.height*(u[1]||1),_={element:Object.assign({},n),inner:{left:n.left,top:n.top,right:n.right,bottom:n.bottom},outer:{left:f,top:m,right:h,bottom:E}};return o.filter(function(I){return!I.isRectIgnored()}).map(function(I){return I.rect}).forEach(function(I){le(_.inner,Object.assign({},I.inner)),le(_.outer,Object.assign({},I.outer))}),Pe(_.inner),_.outer.bottom+=_.element.marginBottom,_.outer.right+=_.element.marginRight,Pe(_.outer),_},"getViewRect"),le=i(function(n,o){o.top+=n.top,o.right+=n.left,o.bottom+=n.top,o.left+=n.left,o.bottom>n.bottom&&(n.bottom=o.bottom),o.right>n.right&&(n.right=o.right)},"expandRect"),Pe=i(function(n){n.width=n.right-n.left,n.height=n.bottom-n.top},"calculateRectSize"),Le=i(function(n){return typeof n=="number"},"isNumber"),Be=i(function(n,o,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.001;return Math.abs(n-o)<u&&Math.abs(a)<u},"thereYet"),ue=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=n.stiffness,a=o===void 0?.5:o,u=n.damping,f=u===void 0?.75:u,m=n.mass,h=m===void 0?10:m,E=null,_=null,I=0,D=!1,O=i(function(N,H){if(!D){if(!(Le(E)&&Le(_))){D=!0,I=0;return}var Q=-(_-E)*a;I+=Q/h,_+=I,I*=f,Be(_,E,I)||H?(_=E,I=0,D=!0,B.onupdate(_),B.oncomplete(_)):B.onupdate(_)}},"interpolate"),F=i(function(N){if(Le(N)&&!Le(_)&&(_=N),E===null&&(E=N,_=N),E=N,_===E||typeof E>"u"){D=!0,I=0,B.onupdate(_),B.oncomplete(_);return}D=!1},"setTarget"),B=p({interpolate:O,target:{set:F,get:i(function(){return E},"get")},resting:{get:i(function(){return D},"get")},onupdate:i(function(N){},"onupdate"),oncomplete:i(function(N){},"oncomplete")});return B},"spring"),_e=i(function(n){return n},"easeLinear"),de=i(function(n){return n<.5?2*n*n:-1+(4-2*n)*n},"easeInOutQuad"),He=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=n.duration,a=o===void 0?500:o,u=n.easing,f=u===void 0?de:u,m=n.delay,h=m===void 0?0:m,E=null,_,I,D=!0,O=!1,F=null,B=i(function(H,Q){D||F===null||(E===null&&(E=H),!(H-E<h)&&(_=H-E-h,_>=a||Q?(_=1,I=O?0:1,V.onupdate(I*F),V.oncomplete(I*F),D=!0):(I=_/a,V.onupdate((_>=0?f(O?1-I:I):0)*F))))},"interpolate"),V=p({interpolate:B,target:{get:i(function(){return O?0:F},"get"),set:i(function(H){if(F===null){F=H,V.onupdate(H),V.oncomplete(H);return}H<F?(F=1,O=!0):(O=!1,F=H),D=!1,E=null},"set")},resting:{get:i(function(){return D},"get")},onupdate:i(function(H){},"onupdate"),oncomplete:i(function(H){},"oncomplete")});return V},"tween"),Se={spring:ue,tween:He},Bt=i(function(n,o,a){var u=n[o]&&typeof n[o][a]=="object"?n[o][a]:n[o]||n,f=typeof u=="string"?u:u.type,m=typeof u=="object"?Object.assign({},u):{};return Se[f]?Se[f](m):null},"createAnimator"),gt=i(function(n,o,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;o=Array.isArray(o)?o:[o],o.forEach(function(f){n.forEach(function(m){var h=m,E=i(function(){return a[m]},"getter"),_=i(function(D){return a[m]=D},"setter");typeof m=="object"&&(h=m.key,E=m.getter||E,_=m.setter||_),!(f[h]&&!u)&&(f[h]={get:E,set:_})})})},"addGetSet"),yr=i(function(n){var o=n.mixinConfig,a=n.viewProps,u=n.viewInternalAPI,f=n.viewExternalAPI,m=Object.assign({},a),h=[];return l(o,function(E,_){var I=Bt(_);if(I){I.onupdate=function(O){a[E]=O},I.target=m[E];var D={key:E,setter:i(function(F){I.target!==F&&(I.target=F)},"setter"),getter:i(function(){return a[E]},"getter")};gt([D],[u,f],a,!0),h.push(I)}}),{write:i(function(_){var I=document.hidden,D=!0;return h.forEach(function(O){O.resting||(D=!1),O.interpolate(_,I)}),D},"write"),destroy:i(function(){},"destroy")}},"animations"),kn=i(function(n){return function(o,a){n.addEventListener(o,a)}},"addEvent"),Os=i(function(n){return function(o,a){n.removeEventListener(o,a)}},"removeEvent"),Ss=i(function(n){var o=n.mixinConfig,a=n.viewProps,u=n.viewInternalAPI,f=n.viewExternalAPI,m=n.viewState,h=n.view,E=[],_=kn(h.element),I=Os(h.element);return f.on=function(D,O){E.push({type:D,fn:O}),_(D,O)},f.off=function(D,O){E.splice(E.findIndex(function(F){return F.type===D&&F.fn===O}),1),I(D,O)},{write:i(function(){return!0},"write"),destroy:i(function(){E.forEach(function(O){I(O.type,O.fn)})},"destroy")}},"listeners"),wi=i(function(n){var o=n.mixinConfig,a=n.viewProps,u=n.viewExternalAPI;gt(o,u,a)},"apis"),ct=i(function(n){return n!=null},"isDefined"),Rs={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},br=i(function(n){var o=n.mixinConfig,a=n.viewProps,u=n.viewInternalAPI,f=n.viewExternalAPI,m=n.view,h=Object.assign({},a),E={};gt(o,[u,f],a);var _=i(function(){return[a.translateX||0,a.translateY||0]},"getOffset"),I=i(function(){return[a.scaleX||0,a.scaleY||0]},"getScale"),D=i(function(){return m.rect?j(m.rect,m.childViews,_(),I()):null},"getRect");return u.rect={get:D},f.rect={get:D},o.forEach(function(O){a[O]=typeof h[O]>"u"?Rs[O]:h[O]}),{write:i(function(){if(ws(E,a))return Ls(m.element,a),Object.assign(E,Object.assign({},a)),!0},"write"),destroy:i(function(){},"destroy")}},"styles"),ws=i(function(n,o){if(Object.keys(n).length!==Object.keys(o).length)return!0;for(var a in o)if(o[a]!==n[a])return!0;return!1},"propsHaveChanged"),Ls=i(function(n,o){var a=o.opacity,u=o.perspective,f=o.translateX,m=o.translateY,h=o.scaleX,E=o.scaleY,_=o.rotateX,I=o.rotateY,D=o.rotateZ,O=o.originX,F=o.originY,B=o.width,V=o.height,N="",H="";(ct(O)||ct(F))&&(H+="transform-origin: "+(O||0)+"px "+(F||0)+"px;"),ct(u)&&(N+="perspective("+u+"px) "),(ct(f)||ct(m))&&(N+="translate3d("+(f||0)+"px, "+(m||0)+"px, 0) "),(ct(h)||ct(E))&&(N+="scale3d("+(ct(h)?h:1)+", "+(ct(E)?E:1)+", 1) "),ct(D)&&(N+="rotateZ("+D+"rad) "),ct(_)&&(N+="rotateX("+_+"rad) "),ct(I)&&(N+="rotateY("+I+"rad) "),N.length&&(H+="transform:"+N+";"),ct(a)&&(H+="opacity:"+a+";",a===0&&(H+="visibility:hidden;"),a<1&&(H+="pointer-events:none;")),ct(V)&&(H+="height:"+V+"px;"),ct(B)&&(H+="width:"+B+"px;");var Q=n.elementCurrentStyle||"";(H.length!==Q.length||H!==Q)&&(n.style.cssText=H,n.elementCurrentStyle=H)},"applyStyles"),Cs={styles:br,listeners:Ss,animations:yr,apis:wi},an=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return o.layoutCalculated||(n.paddingTop=parseInt(a.paddingTop,10)||0,n.marginTop=parseInt(a.marginTop,10)||0,n.marginRight=parseInt(a.marginRight,10)||0,n.marginBottom=parseInt(a.marginBottom,10)||0,n.marginLeft=parseInt(a.marginLeft,10)||0,o.layoutCalculated=!0),n.left=o.offsetLeft||0,n.top=o.offsetTop||0,n.width=o.offsetWidth||0,n.height=o.offsetHeight||0,n.right=n.left+n.width,n.bottom=n.top+n.height,n.scrollTop=o.scrollTop,n.hidden=o.offsetParent===null,n},"updateRect"),Ye=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=n.tag,a=o===void 0?"div":o,u=n.name,f=u===void 0?null:u,m=n.attributes,h=m===void 0?{}:m,E=n.read,_=E===void 0?function(){}:E,I=n.write,D=I===void 0?function(){}:I,O=n.create,F=O===void 0?function(){}:O,B=n.destroy,V=B===void 0?function(){}:B,N=n.filterFrameActionsForChild,H=N===void 0?function(W,J){return J}:N,Q=n.didCreateView,ee=Q===void 0?function(){}:Q,q=n.didWriteView,ve=q===void 0?function(){}:q,z=n.ignoreRect,Ne=z===void 0?!1:z,Me=n.ignoreRectUpdate,K=Me===void 0?!1:Me,te=n.mixins,oe=te===void 0?[]:te;return function(W){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=A(a,"filepond--"+f,h),xe=window.getComputedStyle(se,null),Ce=an(),ae=null,G=!1,L=[],Z=[],Ee={},Ie={},Ae=[D],Re=[_],je=[V],Xe=i(function(){return se},"getElement"),tr=i(function(){return L.concat()},"getChildViews"),qu=i(function(){return Ee},"getReference"),kE=i(function(De){return function(en,tn){return en(De,tn)}},"createChildView"),zu=i(function(){return ae||(ae=j(Ce,L,[0,0],[1,1]),ae)},"getRect"),HE=i(function(){return xe},"getStyle"),YE=i(function(){ae=null,L.forEach(function(tn){return tn._read()});var De=!(K&&Ce.width&&Ce.height);De&&an(Ce,se,xe);var en={root:un,props:J,rect:Ce};Re.forEach(function(tn){return tn(en)})},"_read"),jE=i(function(De,en,tn){var nr=en.length===0;return Ae.forEach(function(yt){var wn=yt({props:J,root:un,actions:en,timestamp:De,shouldOptimize:tn});wn===!1&&(nr=!1)}),Z.forEach(function(yt){var wn=yt.write(De);wn===!1&&(nr=!1)}),L.filter(function(yt){return!!yt.element.parentNode}).forEach(function(yt){var wn=yt._write(De,H(yt,en),tn);wn||(nr=!1)}),L.forEach(function(yt,wn){yt.element.parentNode||(un.appendChild(yt.element,wn),yt._read(),yt._write(De,H(yt,en),tn),nr=!1)}),G=nr,ve({props:J,root:un,actions:en,timestamp:De}),nr},"_write"),qE=i(function(){Z.forEach(function(De){return De.destroy()}),je.forEach(function(De){De({root:un,props:J})}),L.forEach(function(De){return De._destroy()})},"_destroy"),Wu={element:{get:Xe},style:{get:HE},childViews:{get:tr}},Ku=Object.assign({},Wu,{rect:{get:zu},ref:{get:qu},is:i(function(De){return f===De},"is"),appendChild:R(se),createChildView:kE(W),linkView:i(function(De){return L.push(De),De},"linkView"),unlinkView:i(function(De){L.splice(L.indexOf(De),1)},"unlinkView"),appendChildView:x(se,L),removeChildView:X(se,L),registerWriter:i(function(De){return Ae.push(De)},"registerWriter"),registerReader:i(function(De){return Re.push(De)},"registerReader"),registerDestroyer:i(function(De){return je.push(De)},"registerDestroyer"),invalidateLayout:i(function(){return se.layoutCalculated=!1},"invalidateLayout"),dispatch:W.dispatch,query:W.query}),$u={element:{get:Xe},childViews:{get:tr},rect:{get:zu},resting:{get:i(function(){return G},"get")},isRectIgnored:i(function(){return Ne},"isRectIgnored"),_read:YE,_write:jE,_destroy:qE},zE=Object.assign({},Wu,{rect:{get:i(function(){return Ce},"get")}});Object.keys(oe).sort(function(Ge,De){return Ge==="styles"?1:De==="styles"?-1:0}).forEach(function(Ge){var De=Cs[Ge]({mixinConfig:oe[Ge],viewProps:J,viewState:Ie,viewInternalAPI:Ku,viewExternalAPI:$u,view:p(zE)});De&&Z.push(De)});var un=p(Ku);F({root:un,props:J});var WE=ie(se);return L.forEach(function(Ge,De){un.appendChild(Ge.element,WE+De)}),ee(un),p($u)}},"createView"),Hn=i(function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:60,u="__framePainter";if(window[u]){window[u].readers.push(n),window[u].writers.push(o);return}window[u]={readers:[n],writers:[o]};var f=window[u],m=1e3/a,h=null,E=null,_=null,I=null,D=i(function(){document.hidden?(_=i(function(){return window.setTimeout(function(){return O(performance.now())},m)},"requestTick"),I=i(function(){return window.clearTimeout(E)},"cancelTick")):(_=i(function(){return window.requestAnimationFrame(O)},"requestTick"),I=i(function(){return window.cancelAnimationFrame(E)},"cancelTick"))},"setTimerType");document.addEventListener("visibilitychange",function(){I&&I(),D(),O(performance.now())});var O=i(function F(B){E=_(F),h||(h=B);var V=B-h;V<=m||(h=B-V%m,f.readers.forEach(function(N){return N()}),f.writers.forEach(function(N){return N(B)}))},"tick");return D(),O(performance.now()),{pause:i(function(){I(E)},"pause")}},"createPainter"),We=i(function(n,o){return function(a){var u=a.root,f=a.props,m=a.actions,h=m===void 0?[]:m,E=a.timestamp,_=a.shouldOptimize;h.filter(function(I){return n[I.type]}).forEach(function(I){return n[I.type]({root:u,props:f,action:I.data,timestamp:E,shouldOptimize:_})}),o&&o({root:u,props:f,actions:h,timestamp:E,shouldOptimize:_})}},"createRoute"),_n=i(function(n,o){return o.parentNode.insertBefore(n,o)},"insertBefore"),Li=i(function(n,o){return o.parentNode.insertBefore(n,o.nextSibling)},"insertAfter"),Tn=i(function(n){return Array.isArray(n)},"isArray"),vt=i(function(n){return n==null},"isEmpty"),Ps=i(function(n){return n.trim()},"trim"),Yn=i(function(n){return""+n},"toString"),Ci=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return vt(n)?[]:Tn(n)?n:Yn(n).split(o).map(Ps).filter(function(a){return a.length})},"toArray"),Pi=i(function(n){return typeof n=="boolean"},"isBoolean"),Ar=i(function(n){return Pi(n)?n:n==="true"},"toBoolean"),ft=i(function(n){return typeof n=="string"},"isString"),In=i(function(n){return Le(n)?n:ft(n)?Yn(n).replace(/[a-z]+/gi,""):0},"toNumber"),jn=i(function(n){return parseInt(In(n),10)},"toInt"),Ni=i(function(n){return parseFloat(In(n))},"toFloat"),Qt=i(function(n){return Le(n)&&isFinite(n)&&Math.floor(n)===n},"isInt"),qn=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(Qt(n))return n;var a=Yn(n).trim();return/MB$/i.test(a)?(a=a.replace(/MB$i/,"").trim(),jn(a)*o*o):/KB/i.test(a)?(a=a.replace(/KB$i/,"").trim(),jn(a)*o):jn(a)},"toBytes"),qt=i(function(n){return typeof n=="function"},"isFunction"),zn=i(function(n){for(var o=self,a=n.split("."),u=null;u=a.shift();)if(o=o[u],!o)return null;return o},"toFunctionReference"),Mi={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},xi=i(function(n){var o={};return o.url=ft(n)?n:n.url||"",o.timeout=n.timeout?parseInt(n.timeout,10):0,o.headers=n.headers?n.headers:{},l(Mi,function(a){o[a]=Ns(a,n[a],Mi[a],o.timeout,o.headers)}),o.process=n.process||ft(n)||n.url?o.process:null,o.remove=n.remove||null,delete o.headers,o},"createServerAPI"),Ns=i(function(n,o,a,u,f){if(o===null)return null;if(typeof o=="function")return o;var m={url:a==="GET"||a==="PATCH"?"?"+n+"=":"",method:a,headers:f,withCredentials:!1,timeout:u,onload:null,ondata:null,onerror:null};if(ft(o))return m.url=o,m;if(Object.assign(m,o),ft(m.headers)){var h=m.headers.split(/:(.+)/);m.headers={header:h[0],value:h[1]}}return m.withCredentials=Ar(m.withCredentials),m},"createAction"),Fi=i(function(n){return xi(n)},"toServerAPI"),Ms=i(function(n){return n===null},"isNull"),et=i(function(n){return typeof n=="object"&&n!==null},"isObject"),Ui=i(function(n){return et(n)&&ft(n.url)&&et(n.process)&&et(n.revert)&&et(n.restore)&&et(n.fetch)},"isAPI"),Dr=i(function(n){return Tn(n)?"array":Ms(n)?"null":Qt(n)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(n)?"bytes":Ui(n)?"api":typeof n},"getType"),xs=i(function(n){return n.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},"replaceSingleQuotes"),Ve={array:Ci,boolean:Ar,int:i(function(n){return Dr(n)==="bytes"?qn(n):jn(n)},"int"),number:Ni,float:Ni,bytes:qn,string:i(function(n){return qt(n)?n:Yn(n)},"string"),function:i(function(n){return zn(n)},"_function"),serverapi:Fi,object:i(function(n){try{return JSON.parse(xs(n))}catch{return null}},"object")},Or=i(function(n,o){return Ve[o](n)},"convertTo"),Wn=i(function(n,o,a){if(n===o)return n;var u=Dr(n);if(u!==a){var f=Or(n,a);if(u=Dr(f),f===null)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+a+'"';n=f}return n},"getValueByType"),Fs=i(function(n,o){var a=n;return{enumerable:!0,get:i(function(){return a},"get"),set:i(function(f){a=Wn(f,n,o)},"set")}},"createOption"),Kn=i(function(n){var o={};return l(n,function(a){var u=n[a];o[a]=Fs(u[0],u[1])}),p(o)},"createOptions"),Sr=i(function(n){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Kn(n)}},"createInitialState"),_t=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return n.split(/(?=[A-Z])/).map(function(a){return a.toLowerCase()}).join(o)},"fromCamels"),Us=i(function(n,o){var a={};return l(o,function(u){a[u]={get:i(function(){return n.getState().options[u]},"get"),set:i(function(m){n.dispatch("SET_"+_t(u,"_").toUpperCase(),{value:m})},"set")}}),a},"createOptionAPI"),Bs=i(function(n){return function(o,a,u){var f={};return l(n,function(m){var h=_t(m,"_").toUpperCase();f["SET_"+h]=function(E){try{u.options[m]=E.value}catch{}o("DID_SET_"+h,{value:u.options[m]})}}),f}},"createOptionActions"),g=i(function(n){return function(o){var a={};return l(n,function(u){a["GET_"+_t(u,"_").toUpperCase()]=function(f){return o.options[u]}}),a}},"createOptionQueries"),T={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},S=i(function(){return Math.random().toString(36).substring(2,11)},"getUniqueId");function P(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=i(function(n){return typeof n},"_typeof"):P=i(function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},"_typeof"),P(c)}i(P,"_typeof");var Y;function $(c,n,o,a){Y||(Y=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var u=c&&c.defaultProps,f=arguments.length-3;if(!n&&f!==0&&(n={children:void 0}),n&&u)for(var m in u)n[m]===void 0&&(n[m]=u[m]);else n||(n=u||{});if(f===1)n.children=a;else if(f>1){for(var h=new Array(f),E=0;E<f;E++)h[E]=arguments[E+3];n.children=h}return{$$typeof:Y,type:c,key:o===void 0?null:""+o,ref:null,props:n,_owner:null}}i($,"_jsx");function Te(c){var n;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(n=c[Symbol.asyncIterator],n!=null)||Symbol.iterator&&(n=c[Symbol.iterator],n!=null)))return n.call(c);throw new TypeError("Object is not async iterable")}i(Te,"_asyncIterator");function ne(c){this.wrapped=c}i(ne,"_AwaitValue");function ge(c){var n,o;function a(m,h){return new Promise(function(E,_){var I={key:m,arg:h,resolve:E,reject:_,next:null};o?o=o.next=I:(n=o=I,u(m,h))})}i(a,"send");function u(m,h){try{var E=c[m](h),_=E.value,I=_ instanceof ne;Promise.resolve(I?_.wrapped:_).then(function(D){if(I){u("next",D);return}f(E.done?"return":"normal",D)},function(D){u("throw",D)})}catch(D){f("throw",D)}}i(u,"resume");function f(m,h){switch(m){case"return":n.resolve({value:h,done:!0});break;case"throw":n.reject(h);break;default:n.resolve({value:h,done:!1});break}n=n.next,n?u(n.key,n.arg):o=null}i(f,"settle"),this._invoke=a,typeof c.return!="function"&&(this.return=void 0)}i(ge,"_AsyncGenerator"),typeof Symbol=="function"&&Symbol.asyncIterator&&(ge.prototype[Symbol.asyncIterator]=function(){return this}),ge.prototype.next=function(c){return this._invoke("next",c)},ge.prototype.throw=function(c){return this._invoke("throw",c)},ge.prototype.return=function(c){return this._invoke("return",c)};function re(c){return function(){return new ge(c.apply(this,arguments))}}i(re,"_wrapAsyncGenerator");function ce(c){return new ne(c)}i(ce,"_awaitAsyncGenerator");function Fe(c,n){var o={},a=!1;function u(f,m){return a=!0,m=new Promise(function(h){h(c[f](m))}),{done:!1,value:n(m)}}return i(u,"pump"),typeof Symbol=="function"&&Symbol.iterator&&(o[Symbol.iterator]=function(){return this}),o.next=function(f){return a?(a=!1,f):u("next",f)},typeof c.throw=="function"&&(o.throw=function(f){if(a)throw a=!1,f;return u("throw",f)}),typeof c.return=="function"&&(o.return=function(f){return u("return",f)}),o}i(Fe,"_asyncGeneratorDelegate");function St(c,n,o,a,u,f,m){try{var h=c[f](m),E=h.value}catch(_){o(_);return}h.done?n(E):Promise.resolve(E).then(a,u)}i(St,"asyncGeneratorStep");function Tt(c){return function(){var n=this,o=arguments;return new Promise(function(a,u){var f=c.apply(n,o);function m(E){St(f,a,u,m,h,"next",E)}i(m,"_next");function h(E){St(f,a,u,m,h,"throw",E)}i(h,"_throw"),m(void 0)})}}i(Tt,"_asyncToGenerator");function $n(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}i($n,"_classCallCheck");function Jt(c,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}i(Jt,"_defineProperties");function Al(c,n,o){return n&&Jt(c.prototype,n),o&&Jt(c,o),c}i(Al,"_createClass");function Bi(c,n){for(var o in n){var a=n[o];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,o,a)}if(Object.getOwnPropertySymbols)for(var u=Object.getOwnPropertySymbols(n),f=0;f<u.length;f++){var m=u[f],a=n[m];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,m,a)}return c}i(Bi,"_defineEnumerableProperties");function Dl(c,n){for(var o=Object.getOwnPropertyNames(n),a=0;a<o.length;a++){var u=o[a],f=Object.getOwnPropertyDescriptor(n,u);f&&f.configurable&&c[u]===void 0&&Object.defineProperty(c,u,f)}return c}i(Dl,"_defaults");function Rr(c,n,o){return n in c?Object.defineProperty(c,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):c[n]=o,c}i(Rr,"_defineProperty");function Vi(){return Vi=Object.assign||function(c){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(c[a]=o[a])}return c},Vi.apply(this,arguments)}i(Vi,"_extends");function Ol(c){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),a.forEach(function(u){Rr(c,u,o[u])})}return c}i(Ol,"_objectSpread");function Gi(c,n){var o=Object.keys(c);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(c);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(c,u).enumerable})),o.push.apply(o,a)}return o}i(Gi,"ownKeys");function Sl(c){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?Gi(o,!0).forEach(function(a){Rr(c,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(o)):Gi(o).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(o,a))})}return c}i(Sl,"_objectSpread2");function Vs(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),n&&wr(c,n)}i(Vs,"_inherits");function Rl(c,n){c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.__proto__=n}i(Rl,"_inheritsLoose");function ki(c){return ki=Object.setPrototypeOf?Object.getPrototypeOf:i(function(o){return o.__proto__||Object.getPrototypeOf(o)},"_getPrototypeOf"),ki(c)}i(ki,"_getPrototypeOf");function wr(c,n){return wr=Object.setPrototypeOf||i(function(a,u){return a.__proto__=u,a},"_setPrototypeOf"),wr(c,n)}i(wr,"_setPrototypeOf");function lp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}i(lp,"isNativeReflectConstruct");function Hi(c,n,o){return lp()?Hi=Reflect.construct:Hi=i(function(u,f,m){var h=[null];h.push.apply(h,f);var E=Function.bind.apply(u,h),_=new E;return m&&wr(_,m.prototype),_},"_construct"),Hi.apply(null,arguments)}i(Hi,"_construct");function up(c){return Function.toString.call(c).indexOf("[native code]")!==-1}i(up,"_isNativeFunction");function Gs(c){var n=typeof Map=="function"?new Map:void 0;return Gs=i(function(a){if(a===null||!up(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(a))return n.get(a);n.set(a,u)}function u(){return Hi(a,arguments,ki(this).constructor)}return i(u,"Wrapper"),u.prototype=Object.create(a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),wr(u,a)},"_wrapNativeSuper"),Gs(c)}i(Gs,"_wrapNativeSuper");function Q_(c,n){return n!=null&&typeof Symbol<"u"&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](c):c instanceof n}i(Q_,"_instanceof");function J_(c){return c&&c.__esModule?c:{default:c}}i(J_,"_interopRequireDefault");function Z_(c){if(c&&c.__esModule)return c;var n={};if(c!=null){for(var o in c)if(Object.prototype.hasOwnProperty.call(c,o)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(c,o):{};a.get||a.set?Object.defineProperty(n,o,a):n[o]=c[o]}}return n.default=c,n}i(Z_,"_interopRequireWildcard");function eT(c,n){if(c!==n)throw new TypeError("Cannot instantiate an arrow function")}i(eT,"_newArrowCheck");function tT(c){if(c==null)throw new TypeError("Cannot destructure undefined")}i(tT,"_objectDestructuringEmpty");function cp(c,n){if(c==null)return{};var o={},a=Object.keys(c),u,f;for(f=0;f<a.length;f++)u=a[f],!(n.indexOf(u)>=0)&&(o[u]=c[u]);return o}i(cp,"_objectWithoutPropertiesLoose");function fp(c,n){if(c==null)return{};var o=cp(c,n),a,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);for(u=0;u<f.length;u++)a=f[u],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(c,a)&&(o[a]=c[a])}return o}i(fp,"_objectWithoutProperties");function dp(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}i(dp,"_assertThisInitialized");function nT(c,n){return n&&(typeof n=="object"||typeof n=="function")?n:dp(c)}i(nT,"_possibleConstructorReturn");function wl(c,n){for(;!Object.prototype.hasOwnProperty.call(c,n)&&(c=ki(c),c!==null););return c}i(wl,"_superPropBase");function ks(c,n,o){return typeof Reflect<"u"&&Reflect.get?ks=Reflect.get:ks=i(function(u,f,m){var h=wl(u,f);if(h){var E=Object.getOwnPropertyDescriptor(h,f);return E.get?E.get.call(m):E.value}},"_get"),ks(c,n,o||c)}i(ks,"_get");function Yi(c,n,o,a){return typeof Reflect<"u"&&Reflect.set?Yi=Reflect.set:Yi=i(function(f,m,h,E){var _=wl(f,m),I;if(_){if(I=Object.getOwnPropertyDescriptor(_,m),I.set)return I.set.call(E,h),!0;if(!I.writable)return!1}if(I=Object.getOwnPropertyDescriptor(E,m),I){if(!I.writable)return!1;I.value=h,Object.defineProperty(E,m,I)}else Rr(E,m,h);return!0},"set"),Yi(c,n,o,a)}i(Yi,"set");function rT(c,n,o,a,u){var f=Yi(c,n,o,a||c);if(!f&&u)throw new Error("failed to set property");return o}i(rT,"_set");function iT(c,n){return n||(n=c.slice(0)),Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(n)}}))}i(iT,"_taggedTemplateLiteral");function oT(c,n){return n||(n=c.slice(0)),c.raw=n,c}i(oT,"_taggedTemplateLiteralLoose");function sT(c,n){if(c===pp)throw new ReferenceError(n+" is not defined - temporal dead zone");return c}i(sT,"_temporalRef");function aT(c){throw new Error('"'+c+'" is read-only')}i(aT,"_readOnlyError");function lT(c){throw new Error('Class "'+c+'" cannot be referenced in computed property keys.')}i(lT,"_classNameTDZError");var pp={};function uT(c,n){return Hs(c)||Ep(c,n)||Ys()}i(uT,"_slicedToArray");function cT(c,n){return Hs(c)||gp(c,n)||Ys()}i(cT,"_slicedToArrayLoose");function mp(c){return Hs(c)||Ll(c)||Ys()}i(mp,"_toArray");function ji(c){return hp(c)||Ll(c)||vp()}i(ji,"_toConsumableArray");function hp(c){if(Array.isArray(c)){for(var n=0,o=new Array(c.length);n<c.length;n++)o[n]=c[n];return o}}i(hp,"_arrayWithoutHoles");function Hs(c){if(Array.isArray(c))return c}i(Hs,"_arrayWithHoles");function Ll(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}i(Ll,"_iterableToArray");function Ep(c,n){var o=[],a=!0,u=!1,f=void 0;try{for(var m=c[Symbol.iterator](),h;!(a=(h=m.next()).done)&&(o.push(h.value),!(n&&o.length===n));a=!0);}catch(E){u=!0,f=E}finally{try{!a&&m.return!=null&&m.return()}finally{if(u)throw f}}return o}i(Ep,"_iterableToArrayLimit");function gp(c,n){for(var o=[],a=c[Symbol.iterator](),u;!(u=a.next()).done&&(o.push(u.value),!(n&&o.length===n)););return o}i(gp,"_iterableToArrayLimitLoose");function vp(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i(vp,"_nonIterableSpread");function Ys(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i(Ys,"_nonIterableRest");function fT(c){return function(){var n=c.apply(this,arguments);return n.next(),n}}i(fT,"_skipFirstGeneratorNext");function _p(c,n){if(typeof c!="object"||c===null)return c;var o=c[Symbol.toPrimitive];if(o!==void 0){var a=o.call(c,n||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(c)}i(_p,"_toPrimitive");function Cl(c){var n=_p(c,"string");return typeof n=="symbol"?n:String(n)}i(Cl,"_toPropertyKey");function dT(c,n){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}i(dT,"_initializerWarningHelper");function pT(c,n,o,a){o&&Object.defineProperty(c,n,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}i(pT,"_initializerDefineProperty");function mT(c,n,o,a,u){var f={};return Object.keys(a).forEach(function(m){f[m]=a[m]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=o.slice().reverse().reduce(function(m,h){return h(c,n,m)||m},f),u&&f.initializer!==void 0&&(f.value=f.initializer?f.initializer.call(u):void 0,f.initializer=void 0),f.initializer===void 0&&(Object.defineProperty(c,n,f),f=null),f}i(mT,"_applyDecoratedDescriptor");var Tp=0;function hT(c){return"__private_"+Tp+++"_"+c}i(hT,"_classPrivateFieldLooseKey");function ET(c,n){if(!Object.prototype.hasOwnProperty.call(c,n))throw new TypeError("attempted to use private field on non-instance");return c}i(ET,"_classPrivateFieldLooseBase");function gT(c,n){var o=n.get(c);if(!o)throw new TypeError("attempted to get private field on non-instance");return o.get?o.get.call(c):o.value}i(gT,"_classPrivateFieldGet");function vT(c,n,o){var a=n.get(c);if(!a)throw new TypeError("attempted to set private field on non-instance");if(a.set)a.set.call(c,o);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=o}return o}i(vT,"_classPrivateFieldSet");function _T(c,n){if(!n.has(c))throw new TypeError("attempted to set private field on non-instance");var o=n.get(c);if(o.set)return"__destrObj"in o||(o.__destrObj={set value(a){o.set.call(c,a)}}),o.__destrObj;if(!o.writable)throw new TypeError("attempted to set read only private field");return o}i(_T,"_classPrivateFieldDestructureSet");function TT(c,n,o){if(c!==n)throw new TypeError("Private static access of wrong provenance");return o.value}i(TT,"_classStaticPrivateFieldSpecGet");function IT(c,n,o,a){if(c!==n)throw new TypeError("Private static access of wrong provenance");if(!o.writable)throw new TypeError("attempted to set read only private field");return o.value=a,a}i(IT,"_classStaticPrivateFieldSpecSet");function yT(c,n,o){if(c!==n)throw new TypeError("Private static access of wrong provenance");return o}i(yT,"_classStaticPrivateMethodGet");function bT(){throw new TypeError("attempted to set read only static private field")}i(bT,"_classStaticPrivateMethodSet");function AT(c,n,o,a){var u=Pl();if(a)for(var f=0;f<a.length;f++)u=a[f](u);var m=n(i(function(_){u.initializeInstanceElements(_,h.elements)},"initialize"),o),h=u.decorateClass(bp(m.d.map(Ip)),c);return u.initializeClassElements(m.F,h.elements),u.runClassFinishers(m.F,h.finishers)}i(AT,"_decorate");function Pl(){Pl=i(function(){return c},"_getDecoratorsApi");var c={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:i(function(n,o){["method","field"].forEach(function(a){o.forEach(function(u){u.kind===a&&u.placement==="own"&&this.defineClassElement(n,u)},this)},this)},"initializeInstanceElements"),initializeClassElements:i(function(n,o){var a=n.prototype;["method","field"].forEach(function(u){o.forEach(function(f){var m=f.placement;if(f.kind===u&&(m==="static"||m==="prototype")){var h=m==="static"?n:a;this.defineClassElement(h,f)}},this)},this)},"initializeClassElements"),defineClassElement:i(function(n,o){var a=o.descriptor;if(o.kind==="field"){var u=o.initializer;a={enumerable:a.enumerable,writable:a.writable,configurable:a.configurable,value:u===void 0?void 0:u.call(n)}}Object.defineProperty(n,o.key,a)},"defineClassElement"),decorateClass:i(function(n,o){var a=[],u=[],f={static:[],prototype:[],own:[]};if(n.forEach(function(h){this.addElementPlacement(h,f)},this),n.forEach(function(h){if(!Lr(h))return a.push(h);var E=this.decorateElement(h,f);a.push(E.element),a.push.apply(a,E.extras),u.push.apply(u,E.finishers)},this),!o)return{elements:a,finishers:u};var m=this.decorateConstructor(a,o);return u.push.apply(u,m.finishers),m.finishers=u,m},"decorateClass"),addElementPlacement:i(function(n,o,a){var u=o[n.placement];if(!a&&u.indexOf(n.key)!==-1)throw new TypeError("Duplicated element ("+n.key+")");u.push(n.key)},"addElementPlacement"),decorateElement:i(function(n,o){for(var a=[],u=[],f=n.decorators,m=f.length-1;m>=0;m--){var h=o[n.placement];h.splice(h.indexOf(n.key),1);var E=this.fromElementDescriptor(n),_=this.toElementFinisherExtras((0,f[m])(E)||E);n=_.element,this.addElementPlacement(n,o),_.finisher&&u.push(_.finisher);var I=_.extras;if(I){for(var D=0;D<I.length;D++)this.addElementPlacement(I[D],o);a.push.apply(a,I)}}return{element:n,finishers:u,extras:a}},"decorateElement"),decorateConstructor:i(function(n,o){for(var a=[],u=o.length-1;u>=0;u--){var f=this.fromClassDescriptor(n),m=this.toClassDescriptor((0,o[u])(f)||f);if(m.finisher!==void 0&&a.push(m.finisher),m.elements!==void 0){n=m.elements;for(var h=0;h<n.length-1;h++)for(var E=h+1;E<n.length;E++)if(n[h].key===n[E].key&&n[h].placement===n[E].placement)throw new TypeError("Duplicated element ("+n[h].key+")")}}return{elements:n,finishers:a}},"decorateConstructor"),fromElementDescriptor:i(function(n){var o={kind:n.kind,key:n.key,placement:n.placement,descriptor:n.descriptor},a={value:"Descriptor",configurable:!0};return Object.defineProperty(o,Symbol.toStringTag,a),n.kind==="field"&&(o.initializer=n.initializer),o},"fromElementDescriptor"),toElementDescriptors:i(function(n){if(n!==void 0)return mp(n).map(function(o){var a=this.toElementDescriptor(o);return this.disallowProperty(o,"finisher","An element descriptor"),this.disallowProperty(o,"extras","An element descriptor"),a},this)},"toElementDescriptors"),toElementDescriptor:i(function(n){var o=String(n.kind);if(o!=="method"&&o!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+o+'"');var a=Cl(n.key),u=String(n.placement);if(u!=="static"&&u!=="prototype"&&u!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+u+'"');var f=n.descriptor;this.disallowProperty(n,"elements","An element descriptor");var m={kind:o,key:a,placement:u,descriptor:Object.assign({},f)};return o!=="field"?this.disallowProperty(n,"initializer","A method descriptor"):(this.disallowProperty(f,"get","The property descriptor of a field descriptor"),this.disallowProperty(f,"set","The property descriptor of a field descriptor"),this.disallowProperty(f,"value","The property descriptor of a field descriptor"),m.initializer=n.initializer),m},"toElementDescriptor"),toElementFinisherExtras:i(function(n){var o=this.toElementDescriptor(n),a=Ml(n,"finisher"),u=this.toElementDescriptors(n.extras);return{element:o,finisher:a,extras:u}},"toElementFinisherExtras"),fromClassDescriptor:i(function(n){var o={kind:"class",elements:n.map(this.fromElementDescriptor,this)},a={value:"Descriptor",configurable:!0};return Object.defineProperty(o,Symbol.toStringTag,a),o},"fromClassDescriptor"),toClassDescriptor:i(function(n){var o=String(n.kind);if(o!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+o+'"');this.disallowProperty(n,"key","A class descriptor"),this.disallowProperty(n,"placement","A class descriptor"),this.disallowProperty(n,"descriptor","A class descriptor"),this.disallowProperty(n,"initializer","A class descriptor"),this.disallowProperty(n,"extras","A class descriptor");var a=Ml(n,"finisher"),u=this.toElementDescriptors(n.elements);return{elements:u,finisher:a}},"toClassDescriptor"),runClassFinishers:i(function(n,o){for(var a=0;a<o.length;a++){var u=(0,o[a])(n);if(u!==void 0){if(typeof u!="function")throw new TypeError("Finishers must return a constructor.");n=u}}return n},"runClassFinishers"),disallowProperty:i(function(n,o,a){if(n[o]!==void 0)throw new TypeError(a+" can't have a ."+o+" property.")},"disallowProperty")};return c}i(Pl,"_getDecoratorsApi");function Ip(c){var n=Cl(c.key),o;c.kind==="method"?o={value:c.value,writable:!0,configurable:!0,enumerable:!1}:c.kind==="get"?o={get:c.value,configurable:!0,enumerable:!1}:c.kind==="set"?o={set:c.value,configurable:!0,enumerable:!1}:c.kind==="field"&&(o={configurable:!0,writable:!0,enumerable:!0});var a={kind:c.kind==="field"?"field":"method",key:n,placement:c.static?"static":c.kind==="field"?"own":"prototype",descriptor:o};return c.decorators&&(a.decorators=c.decorators),c.kind==="field"&&(a.initializer=c.value),a}i(Ip,"_createElementDescriptor");function yp(c,n){c.descriptor.get!==void 0?n.descriptor.get=c.descriptor.get:n.descriptor.set=c.descriptor.set}i(yp,"_coalesceGetterSetter");function bp(c){for(var n=[],o=i(function(m){return m.kind==="method"&&m.key===u.key&&m.placement===u.placement},"isSameElement"),a=0;a<c.length;a++){var u=c[a],f;if(u.kind==="method"&&(f=n.find(o)))if(Nl(u.descriptor)||Nl(f.descriptor)){if(Lr(u)||Lr(f))throw new ReferenceError("Duplicated methods ("+u.key+") can't be decorated.");f.descriptor=u.descriptor}else{if(Lr(u)){if(Lr(f))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+u.key+").");f.decorators=u.decorators}yp(u,f)}else n.push(u)}return n}i(bp,"_coalesceClassElements");function Lr(c){return c.decorators&&c.decorators.length}i(Lr,"_hasDecorators");function Nl(c){return c!==void 0&&!(c.value===void 0&&c.writable===void 0)}i(Nl,"_isDataDescriptor");function Ml(c,n){var o=c[n];if(o!==void 0&&typeof o!="function")throw new TypeError("Expected '"+n+"' to be a function");return o}i(Ml,"_optionalCallableProperty");function DT(c,n,o){if(!n.has(c))throw new TypeError("attempted to get private field on non-instance");return o}i(DT,"_classPrivateMethodGet");function OT(){throw new TypeError("attempted to reassign private method")}i(OT,"_classPrivateMethodSet");function xl(c,n){xl=i(function(h,E){return new f(h,E)},"_wrapRegExp");var o=Gs(RegExp),a=RegExp.prototype,u=new WeakMap;function f(h,E){var _=o.call(this,h);return u.set(_,E),_}i(f,"BabelRegExp"),Vs(f,o),f.prototype.exec=function(h){var E=a.exec.call(this,h);return E&&(E.groups=m(E,this)),E},f.prototype[Symbol.replace]=function(h,E){if(typeof E=="string"){var _=u.get(this);return a[Symbol.replace].call(this,h,E.replace(/\$<([^>]+)>/g,function(D,O){return"$"+_[O]}))}else if(typeof E=="function"){var I=this;return a[Symbol.replace].call(this,h,function(){var D=[];return D.push.apply(D,arguments),typeof D[D.length-1]!="object"&&D.push(m(D,I)),E.apply(this,D)})}else return a[Symbol.replace].call(this,h,E)};function m(h,E){var _=u.get(E);return Object.keys(_).reduce(function(I,D){return I[D]=h[_[D]],I},Object.create(null))}return i(m,"buildGroups"),xl.apply(this,arguments)}i(xl,"_wrapRegExp");var js=i(function(n,o){return n.splice(o,1)},"arrayRemove"),Ap=i(function(n,o){o?n():document.hidden?Promise.resolve(1).then(n):setTimeout(n,0)},"run"),qi=i(function(){var n=[],o=i(function(f,m){js(n,n.findIndex(function(h){return h.event===f&&(h.cb===m||!m)}))},"off"),a=i(function(f,m,h){n.filter(function(E){return E.event===f}).map(function(E){return E.cb}).forEach(function(E){return Ap(function(){return E.apply(void 0,ji(m))},h)})},"fire");return{fireSync:i(function(f){for(var m=arguments.length,h=new Array(m>1?m-1:0),E=1;E<m;E++)h[E-1]=arguments[E];a(f,h,!0)},"fireSync"),fire:i(function(f){for(var m=arguments.length,h=new Array(m>1?m-1:0),E=1;E<m;E++)h[E-1]=arguments[E];a(f,h,!1)},"fire"),on:i(function(f,m){n.push({event:f,cb:m})},"on"),onOnce:i(function(f,m){n.push({event:f,cb:i(function(){o(f,m),m.apply(void 0,arguments)},"cb")})},"onOnce"),off:o}},"on"),Fl=i(function(n,o,a){Object.getOwnPropertyNames(n).filter(function(u){return!a.includes(u)}).forEach(function(u){return Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(n,u))})},"copyObjectPropertiesToObject"),Dp=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],It=i(function(n){var o={};return Fl(n,o,Dp),o},"createItemAPI"),Op=i(function(n){n.forEach(function(o,a){o.released&&js(n,a)})},"removeReleasedItems"),he={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},st={INPUT:1,LIMBO:2,LOCAL:3},Ul=i(function(n){return/[^0-9]+/.exec(n)},"getNonNumeric"),Bl=i(function(){return Ul(1.1.toLocaleString())[0]},"getDecimalSeparator"),Sp=i(function(){var n=Bl(),o=1e3.toLocaleString(),a="1000";return o!==a?Ul(o)[0]:n==="."?",":"."},"getThousandsSeparator"),U={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},qs=[],Vt=i(function(n,o,a){return new Promise(function(u,f){var m=qs.filter(function(E){return E.key===n}).map(function(E){return E.cb});if(m.length===0){u(o);return}var h=m.shift();m.reduce(function(E,_){return E.then(function(I){return _(I,a)})},h(o,a)).then(function(E){return u(E)}).catch(function(E){return f(E)})})},"applyFilterChain"),yn=i(function(n,o,a){return qs.filter(function(u){return u.key===n}).map(function(u){return u.cb(o,a)})},"applyFilters"),Rp=i(function(n,o){return qs.push({key:n,cb:o})},"addFilter"),wp=i(function(n){return Object.assign(Xn,n)},"extendDefaultOptions"),zi=i(function(){return Object.assign({},Xn)},"getOptions"),Lp=i(function(n){l(n,function(o,a){Xn[o]&&(Xn[o][0]=Wn(a,Xn[o][0],Xn[o][1]))})},"setOptions"),Xn={id:[null,U.STRING],name:["filepond",U.STRING],disabled:[!1,U.BOOLEAN],className:[null,U.STRING],required:[!1,U.BOOLEAN],captureMethod:[null,U.STRING],allowSyncAcceptAttribute:[!0,U.BOOLEAN],allowDrop:[!0,U.BOOLEAN],allowBrowse:[!0,U.BOOLEAN],allowPaste:[!0,U.BOOLEAN],allowMultiple:[!1,U.BOOLEAN],allowReplace:[!0,U.BOOLEAN],allowRevert:[!0,U.BOOLEAN],allowRemove:[!0,U.BOOLEAN],allowProcess:[!0,U.BOOLEAN],allowReorder:[!1,U.BOOLEAN],allowDirectoriesOnly:[!1,U.BOOLEAN],storeAsFile:[!1,U.BOOLEAN],forceRevert:[!1,U.BOOLEAN],maxFiles:[null,U.INT],checkValidity:[!1,U.BOOLEAN],itemInsertLocationFreedom:[!0,U.BOOLEAN],itemInsertLocation:["before",U.STRING],itemInsertInterval:[75,U.INT],dropOnPage:[!1,U.BOOLEAN],dropOnElement:[!0,U.BOOLEAN],dropValidation:[!1,U.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],U.ARRAY],instantUpload:[!0,U.BOOLEAN],maxParallelUploads:[2,U.INT],allowMinimumUploadDuration:[!0,U.BOOLEAN],chunkUploads:[!1,U.BOOLEAN],chunkForce:[!1,U.BOOLEAN],chunkSize:[5e6,U.INT],chunkRetryDelays:[[500,1e3,3e3],U.ARRAY],server:[null,U.SERVER_API],fileSizeBase:[1e3,U.INT],labelFileSizeBytes:["bytes",U.STRING],labelFileSizeKilobytes:["KB",U.STRING],labelFileSizeMegabytes:["MB",U.STRING],labelFileSizeGigabytes:["GB",U.STRING],labelDecimalSeparator:[Bl(),U.STRING],labelThousandsSeparator:[Sp(),U.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',U.STRING],labelInvalidField:["Field contains invalid files",U.STRING],labelFileWaitingForSize:["Waiting for size",U.STRING],labelFileSizeNotAvailable:["Size not available",U.STRING],labelFileCountSingular:["file in list",U.STRING],labelFileCountPlural:["files in list",U.STRING],labelFileLoading:["Loading",U.STRING],labelFileAdded:["Added",U.STRING],labelFileLoadError:["Error during load",U.STRING],labelFileRemoved:["Removed",U.STRING],labelFileRemoveError:["Error during remove",U.STRING],labelFileProcessing:["Uploading",U.STRING],labelFileProcessingComplete:["Upload complete",U.STRING],labelFileProcessingAborted:["Upload cancelled",U.STRING],labelFileProcessingError:["Error during upload",U.STRING],labelFileProcessingRevertError:["Error during revert",U.STRING],labelTapToCancel:["tap to cancel",U.STRING],labelTapToRetry:["tap to retry",U.STRING],labelTapToUndo:["tap to undo",U.STRING],labelButtonRemoveItem:["Remove",U.STRING],labelButtonAbortItemLoad:["Abort",U.STRING],labelButtonRetryItemLoad:["Retry",U.STRING],labelButtonAbortItemProcessing:["Cancel",U.STRING],labelButtonUndoItemProcessing:["Undo",U.STRING],labelButtonRetryItemProcessing:["Retry",U.STRING],labelButtonProcessItem:["Upload",U.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',U.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',U.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',U.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',U.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',U.STRING],oninit:[null,U.FUNCTION],onwarning:[null,U.FUNCTION],onerror:[null,U.FUNCTION],onactivatefile:[null,U.FUNCTION],oninitfile:[null,U.FUNCTION],onaddfilestart:[null,U.FUNCTION],onaddfileprogress:[null,U.FUNCTION],onaddfile:[null,U.FUNCTION],onprocessfilestart:[null,U.FUNCTION],onprocessfileprogress:[null,U.FUNCTION],onprocessfileabort:[null,U.FUNCTION],onprocessfilerevert:[null,U.FUNCTION],onprocessfile:[null,U.FUNCTION],onprocessfiles:[null,U.FUNCTION],onremovefile:[null,U.FUNCTION],onpreparefile:[null,U.FUNCTION],onupdatefiles:[null,U.FUNCTION],onreorderfiles:[null,U.FUNCTION],beforeDropFile:[null,U.FUNCTION],beforeAddFile:[null,U.FUNCTION],beforeRemoveFile:[null,U.FUNCTION],beforePrepareFile:[null,U.FUNCTION],stylePanelLayout:[null,U.STRING],stylePanelAspectRatio:[null,U.STRING],styleItemPanelAspectRatio:[null,U.STRING],styleButtonRemoveItemPosition:["left",U.STRING],styleButtonProcessItemPosition:["right",U.STRING],styleLoadIndicatorPosition:["right",U.STRING],styleProgressIndicatorPosition:["right",U.STRING],styleButtonRemoveItemAlign:[!1,U.BOOLEAN],files:[[],U.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],U.ARRAY]},bn=i(function(n,o){return vt(o)?n[0]||null:Qt(o)?n[o]||null:(typeof o=="object"&&(o=o.id),n.find(function(a){return a.id===o})||null)},"getItemByQuery"),Vl=i(function(n){if(vt(n))return n;if(/:/.test(n)){var o=n.split(":");return o[1]/o[0]}return parseFloat(n)},"getNumericAspectRatioFromString"),Gt=i(function(n){return n.filter(function(o){return!o.archived})},"getActiveItems"),Qn={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Wi=null,Cp=i(function(){if(Wi===null)try{var n=new DataTransfer;n.items.add(new File(["hello world"],"This_Works.txt"));var o=document.createElement("input");o.setAttribute("type","file"),o.files=n.files,Wi=o.files.length===1}catch{Wi=!1}return Wi},"canUpdateFileInput"),Pp=[he.LOAD_ERROR,he.PROCESSING_ERROR,he.PROCESSING_REVERT_ERROR],Np=[he.LOADING,he.PROCESSING,he.PROCESSING_QUEUED,he.INIT],Mp=[he.PROCESSING_COMPLETE],xp=i(function(n){return Pp.includes(n.status)},"isItemInErrorState"),Fp=i(function(n){return Np.includes(n.status)},"isItemInBusyState"),Up=i(function(n){return Mp.includes(n.status)},"isItemInReadyState"),Gl=i(function(n){return et(n.options.server)&&(et(n.options.server.process)||qt(n.options.server.process))},"isAsync"),Bp=i(function(n){return{GET_STATUS:i(function(){var a=Gt(n.items),u=Qn.EMPTY,f=Qn.ERROR,m=Qn.BUSY,h=Qn.IDLE,E=Qn.READY;return a.length===0?u:a.some(xp)?f:a.some(Fp)?m:a.some(Up)?E:h},"GET_STATUS"),GET_ITEM:i(function(a){return bn(n.items,a)},"GET_ITEM"),GET_ACTIVE_ITEM:i(function(a){return bn(Gt(n.items),a)},"GET_ACTIVE_ITEM"),GET_ACTIVE_ITEMS:i(function(){return Gt(n.items)},"GET_ACTIVE_ITEMS"),GET_ITEMS:i(function(){return n.items},"GET_ITEMS"),GET_ITEM_NAME:i(function(a){var u=bn(n.items,a);return u?u.filename:null},"GET_ITEM_NAME"),GET_ITEM_SIZE:i(function(a){var u=bn(n.items,a);return u?u.fileSize:null},"GET_ITEM_SIZE"),GET_STYLES:i(function(){return Object.keys(n.options).filter(function(a){return/^style/.test(a)}).map(function(a){return{name:a,value:n.options[a]}})},"GET_STYLES"),GET_PANEL_ASPECT_RATIO:i(function(){var a=/circle/.test(n.options.stylePanelLayout),u=a?1:Vl(n.options.stylePanelAspectRatio);return u},"GET_PANEL_ASPECT_RATIO"),GET_ITEM_PANEL_ASPECT_RATIO:i(function(){return n.options.styleItemPanelAspectRatio},"GET_ITEM_PANEL_ASPECT_RATIO"),GET_ITEMS_BY_STATUS:i(function(a){return Gt(n.items).filter(function(u){return u.status===a})},"GET_ITEMS_BY_STATUS"),GET_TOTAL_ITEMS:i(function(){return Gt(n.items).length},"GET_TOTAL_ITEMS"),SHOULD_UPDATE_FILE_INPUT:i(function(){return n.options.storeAsFile&&Cp()&&!Gl(n)},"SHOULD_UPDATE_FILE_INPUT"),IS_ASYNC:i(function(){return Gl(n)},"IS_ASYNC"),GET_FILE_SIZE_LABELS:i(function(a){return{labelBytes:a("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:a("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:a("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:a("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}},"GET_FILE_SIZE_LABELS")}},"queries"),Vp=i(function(n){var o=Gt(n.items).length;if(!n.options.allowMultiple)return o===0;var a=n.options.maxFiles;return a===null||o<a},"hasRoomForItem"),kl=i(function(n,o,a){return Math.max(Math.min(a,n),o)},"limit"),Gp=i(function(n,o,a){return n.splice(o,0,a)},"arrayInsert"),kp=i(function(n,o,a){return vt(o)?null:typeof a>"u"?(n.push(o),o):(a=kl(a,0,n.length),Gp(n,a,o),o)},"insertItem"),zs=i(function(n){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(n)},"isBase64DataURI"),Cr=i(function(n){return(""+n).split("/").pop().split("?").shift()},"getFilenameFromURL"),Ki=i(function(n){return n.split(".").pop()},"getExtensionFromFilename"),Hp=i(function(n){if(typeof n!="string")return"";var o=n.split("/").pop();return/svg/.test(o)?"svg":/zip|compressed/.test(o)?"zip":/plain/.test(o)?"txt":/msword/.test(o)?"doc":/[a-z]+/.test(o)?o==="jpeg"?"jpg":o:""},"guesstimateExtension"),Pr=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(o+n).slice(-o.length)},"leftPad"),Hl=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return n.getFullYear()+"-"+Pr(n.getMonth()+1,"00")+"-"+Pr(n.getDate(),"00")+"_"+Pr(n.getHours(),"00")+"-"+Pr(n.getMinutes(),"00")+"-"+Pr(n.getSeconds(),"00")},"getDateString"),Jn=i(function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,f=typeof a=="string"?n.slice(0,n.size,a):n.slice(0,n.size,n.type);return f.lastModifiedDate=new Date,n._relativePath&&(f._relativePath=n._relativePath),ft(o)||(o=Hl()),o&&u===null&&Ki(o)?f.name=o:(u=u||Hp(f.type),f.name=o+(u?"."+u:"")),f},"getFileFromBlob"),Yp=i(function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},"getBlobBuilder"),Yl=i(function(n,o){var a=Yp();if(a){var u=new a;return u.append(n),u.getBlob(o)}return new Blob([n],{type:o})},"createBlob"),jp=i(function(n,o){for(var a=new ArrayBuffer(n.length),u=new Uint8Array(a),f=0;f<n.length;f++)u[f]=n.charCodeAt(f);return Yl(a,o)},"getBlobFromByteStringWithMimeType"),jl=i(function(n){return(/^data:(.+);/.exec(n)||[])[1]||null},"getMimeTypeFromBase64DataURI"),qp=i(function(n){var o=n.split(",")[1];return o.replace(/\s/g,"")},"getBase64DataFromBase64DataURI"),zp=i(function(n){return atob(qp(n))},"getByteStringFromBase64DataURI"),Wp=i(function(n){var o=jl(n),a=zp(n);return jp(a,o)},"getBlobFromBase64DataURI"),Kp=i(function(n,o,a){return Jn(Wp(n),o,null,a)},"getFileFromBase64DataURI"),$p=i(function(n){if(!/^content-disposition:/i.test(n))return null;var o=n.split(/filename=|filename\*=.+''/).splice(1).map(function(a){return a.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(a){return a.length});return o.length?decodeURI(o[o.length-1]):null},"getFileNameFromHeader"),Xp=i(function(n){if(/content-length:/i.test(n)){var o=n.match(/[0-9]+/)[0];return o?parseInt(o,10):null}return null},"getFileSizeFromHeader"),Qp=i(function(n){if(/x-content-transfer-id:/i.test(n)){var o=(n.split(":")[1]||"").trim();return o||null}return null},"getTranfserIdFromHeader"),Ws=i(function(n){var o={source:null,name:null,size:null},a=n.split(`
`),u=!0,f=!1,m=void 0;try{for(var h=a[Symbol.iterator](),E;!(u=(E=h.next()).done);u=!0){var _=E.value,I=$p(_);if(I){o.name=I;continue}var D=Xp(_);if(D){o.size=D;continue}var O=Qp(_);if(O){o.source=O;continue}}}catch(F){f=!0,m=F}finally{try{!u&&h.return!=null&&h.return()}finally{if(f)throw m}}return o},"getFileInfoFromHeaders"),Jp=i(function(n){var o={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},a=i(function(){return o.progress},"getProgress"),u=i(function(){o.request&&o.request.abort&&o.request.abort()},"abort"),f=i(function(){var _=o.source;h.fire("init",_),_ instanceof File?h.fire("load",_):_ instanceof Blob?h.fire("load",Jn(_,_.name)):zs(_)?h.fire("load",Kp(_)):m(_)},"load"),m=i(function(_){if(!n){h.fire("error",{type:"error",body:"Can't load URL",code:400});return}o.timestamp=Date.now(),o.request=n(_,function(I){o.duration=Date.now()-o.timestamp,o.complete=!0,I instanceof Blob&&(I=Jn(I,I.name||Cr(_))),h.fire("load",I instanceof Blob?I:I?I.body:null)},function(I){h.fire("error",typeof I=="string"?{type:"error",code:0,body:I}:I)},function(I,D,O){if(O&&(o.size=O),o.duration=Date.now()-o.timestamp,!I){o.progress=null;return}o.progress=D/O,h.fire("progress",o.progress)},function(){h.fire("abort")},function(I){var D=Ws(typeof I=="string"?I:I.headers);h.fire("meta",{size:o.size||D.size,filename:D.name,source:D.source})})},"loadURL"),h=Object.assign({},qi(),{setSource:i(function(_){return o.source=_},"setSource"),getProgress:a,abort:u,load:f});return h},"createFileLoader"),ql=i(function(n){return/GET|HEAD/.test(n)},"isGet"),An=i(function(n,o,a){var u={onheaders:i(function(){},"onheaders"),onprogress:i(function(){},"onprogress"),onload:i(function(){},"onload"),ontimeout:i(function(){},"ontimeout"),onerror:i(function(){},"onerror"),onabort:i(function(){},"onabort"),abort:i(function(){f=!0,h.abort()},"abort")},f=!1,m=!1;a=Object.assign({method:"POST",headers:{},withCredentials:!1},a),o=encodeURI(o),ql(a.method)&&n&&(o=""+o+encodeURIComponent(typeof n=="string"?n:JSON.stringify(n)));var h=new XMLHttpRequest,E=ql(a.method)?h:h.upload;return E.onprogress=function(_){f||u.onprogress(_.lengthComputable,_.loaded,_.total)},h.onreadystatechange=function(){h.readyState<2||h.readyState===4&&h.status===0||m||(m=!0,u.onheaders(h))},h.onload=function(){h.status>=200&&h.status<300?u.onload(h):u.onerror(h)},h.onerror=function(){return u.onerror(h)},h.onabort=function(){f=!0,u.onabort()},h.ontimeout=function(){return u.ontimeout(h)},h.open(a.method,o,!0),Qt(a.timeout)&&(h.timeout=a.timeout),Object.keys(a.headers).forEach(function(_){var I=unescape(encodeURIComponent(a.headers[_]));h.setRequestHeader(_,I)}),a.responseType&&(h.responseType=a.responseType),a.withCredentials&&(h.withCredentials=!0),h.send(n),u},"sendRequest"),Je=i(function(n,o,a,u){return{type:n,code:o,body:a,headers:u}},"createResponse"),Dn=i(function(n){return function(o){n(Je("error",0,"Timeout",o.getAllResponseHeaders()))}},"createTimeoutResponse"),zl=i(function(n){return/\?/.test(n)},"hasQS"),Nr=i(function(){for(var n="",o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return a.forEach(function(f){n+=zl(n)&&zl(f)?f.replace(/\?/,"&"):f}),n},"buildURL"),Ks=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;if(typeof o=="function")return o;if(!o||!ft(o.url))return null;var a=o.onload||function(f){return f},u=o.onerror||function(f){return null};return function(f,m,h,E,_,I){var D=An(f,Nr(n,o.url),Object.assign({},o,{responseType:"blob"}));return D.onload=function(O){var F=O.getAllResponseHeaders(),B=Ws(F).name||Cr(f);m(Je("load",O.status,o.method==="HEAD"?null:Jn(a(O.response),B),F))},D.onerror=function(O){h(Je("error",O.status,u(O.response)||O.statusText,O.getAllResponseHeaders()))},D.onheaders=function(O){I(Je("headers",O.status,null,O.getAllResponseHeaders()))},D.ontimeout=Dn(h),D.onprogress=E,D.onabort=_,D}},"createFetchFunction"),Ct={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Zp=i(function(n,o,a,u,f,m,h,E,_,I,D){for(var O=[],F=D.chunkTransferId,B=D.chunkServer,V=D.chunkSize,N=D.chunkRetryDelays,H={serverId:F,aborted:!1},Q=o.ondata||function(G){return G},ee=o.onload||function(G,L){return L==="HEAD"?G.getResponseHeader("Upload-Offset"):G.response},q=o.onerror||function(G){return null},ve=i(function(L){var Z=new FormData;et(f)&&Z.append(a,JSON.stringify(f));var Ee=typeof o.headers=="function"?o.headers(u,f):Object.assign({},o.headers,{"Upload-Length":u.size}),Ie=Object.assign({},o,{headers:Ee}),Ae=An(Q(Z),Nr(n,o.url),Ie);Ae.onload=function(Re){return L(ee(Re,Ie.method))},Ae.onerror=function(Re){return h(Je("error",Re.status,q(Re.response)||Re.statusText,Re.getAllResponseHeaders()))},Ae.ontimeout=Dn(h)},"requestTransferId"),z=i(function(L){var Z=Nr(n,B.url,H.serverId),Ee=typeof o.headers=="function"?o.headers(H.serverId):Object.assign({},o.headers),Ie={headers:Ee,method:"HEAD"},Ae=An(null,Z,Ie);Ae.onload=function(Re){return L(ee(Re,Ie.method))},Ae.onerror=function(Re){return h(Je("error",Re.status,q(Re.response)||Re.statusText,Re.getAllResponseHeaders()))},Ae.ontimeout=Dn(h)},"requestTransferOffset"),Ne=Math.floor(u.size/V),Me=0;Me<=Ne;Me++){var K=Me*V,te=u.slice(K,K+V,"application/offset+octet-stream");O[Me]={index:Me,size:te.size,offset:K,data:te,file:u,progress:0,retries:ji(N),status:Ct.QUEUED,error:null,request:null,timeout:null}}var oe=i(function(){return m(H.serverId)},"completeProcessingChunks"),W=i(function(L){return L.status===Ct.QUEUED||L.status===Ct.ERROR},"canProcessChunk"),J=i(function(L){if(!H.aborted){if(L=L||O.find(W),!L){O.every(function(Xe){return Xe.status===Ct.COMPLETE})&&oe();return}L.status=Ct.PROCESSING,L.progress=null;var Z=B.ondata||function(Xe){return Xe},Ee=B.onerror||function(Xe){return null},Ie=B.onload||function(){},Ae=Nr(n,B.url,H.serverId),Re=typeof B.headers=="function"?B.headers(L):Object.assign({},B.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":L.offset,"Upload-Length":u.size,"Upload-Name":u.name}),je=L.request=An(Z(L.data),Ae,Object.assign({},B,{headers:Re}));je.onload=function(Xe){Ie(Xe,L.index,O.length),L.status=Ct.COMPLETE,L.request=null,Ce()},je.onprogress=function(Xe,tr,qu){L.progress=Xe?tr:null,xe()},je.onerror=function(Xe){L.status=Ct.ERROR,L.request=null,L.error=Ee(Xe.response)||Xe.statusText,se(L)||h(Je("error",Xe.status,Ee(Xe.response)||Xe.statusText,Xe.getAllResponseHeaders()))},je.ontimeout=function(Xe){L.status=Ct.ERROR,L.request=null,se(L)||Dn(h)(Xe)},je.onabort=function(){L.status=Ct.QUEUED,L.request=null,_()}}},"processChunk"),se=i(function(L){return L.retries.length===0?!1:(L.status=Ct.WAITING,clearTimeout(L.timeout),L.timeout=setTimeout(function(){J(L)},L.retries.shift()),!0)},"retryProcessChunk"),xe=i(function(){var L=O.reduce(function(Ee,Ie){return Ee===null||Ie.progress===null?null:Ee+Ie.progress},0);if(L===null)return E(!1,0,0);var Z=O.reduce(function(Ee,Ie){return Ee+Ie.size},0);E(!0,L,Z)},"updateTotalProgress"),Ce=i(function(){var L=O.filter(function(Z){return Z.status===Ct.PROCESSING}).length;L>=1||J()},"processChunks"),ae=i(function(){O.forEach(function(L){clearTimeout(L.timeout),L.request&&L.request.abort()})},"abortChunks");return H.serverId?z(function(G){H.aborted||(O.filter(function(L){return L.offset<G}).forEach(function(L){L.status=Ct.COMPLETE,L.progress=L.size}),Ce())}):ve(function(G){H.aborted||(I(G),H.serverId=G,Ce())}),{abort:i(function(){H.aborted=!0,ae()},"abort")}},"processFileChunked"),em=i(function(n,o,a,u){return function(f,m,h,E,_,I,D){if(f){var O=u.chunkUploads,F=O&&f.size>u.chunkSize,B=O&&(F||u.chunkForce);if(f instanceof Blob&&B)return Zp(n,o,a,f,m,h,E,_,I,D,u);var V=o.ondata||function(z){return z},N=o.onload||function(z){return z},H=o.onerror||function(z){return null},Q=typeof o.headers=="function"?o.headers(f,m)||{}:Object.assign({},o.headers),ee=Object.assign({},o,{headers:Q}),q=new FormData;et(m)&&q.append(a,JSON.stringify(m)),(f instanceof Blob?[{name:null,file:f}]:f).forEach(function(z){q.append(a,z.file,z.name===null?z.file.name:""+z.name+z.file.name)});var ve=An(V(q),Nr(n,o.url),ee);return ve.onload=function(z){h(Je("load",z.status,N(z.response),z.getAllResponseHeaders()))},ve.onerror=function(z){E(Je("error",z.status,H(z.response)||z.statusText,z.getAllResponseHeaders()))},ve.ontimeout=Dn(E),ve.onprogress=_,ve.onabort=I,ve}}},"createFileProcessorFunction"),tm=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;return typeof o=="function"?function(){for(var f=arguments.length,m=new Array(f),h=0;h<f;h++)m[h]=arguments[h];return o.apply(void 0,[a].concat(m,[u]))}:!o||!ft(o.url)?null:em(n,o,a,u)},"createProcessorFunction"),Mr=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;if(typeof o=="function")return o;if(!o||!ft(o.url))return function(f,m){return m()};var a=o.onload||function(f){return f},u=o.onerror||function(f){return null};return function(f,m,h){var E=An(f,n+o.url,o);return E.onload=function(_){m(Je("load",_.status,a(_.response),_.getAllResponseHeaders()))},E.onerror=function(_){h(Je("error",_.status,u(_.response)||_.statusText,_.getAllResponseHeaders()))},E.ontimeout=Dn(h),E}},"createRevertFunction"),Wl=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return n+Math.random()*(o-n)},"getRandomNumber"),nm=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:25,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,m=null,h=Date.now(),E=i(function _(){var I=Date.now()-h,D=Wl(u,f);I+D>o&&(D=I+D-o);var O=I/o;if(O>=1||document.hidden){n(1);return}n(O),m=setTimeout(_,D)},"tick");return o>0&&E(),{clear:i(function(){clearTimeout(m)},"clear")}},"createPerceivedPerformanceUpdater"),rm=i(function(n,o){var a={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},u=o.allowMinimumUploadDuration,f=i(function(O,F){var B=i(function(){a.duration===0||a.progress===null||I.fire("progress",I.getProgress())},"progressFn"),V=i(function(){a.complete=!0,I.fire("load-perceived",a.response.body)},"completeFn");I.fire("start"),a.timestamp=Date.now(),a.perceivedPerformanceUpdater=nm(function(N){a.perceivedProgress=N,a.perceivedDuration=Date.now()-a.timestamp,B(),a.response&&a.perceivedProgress===1&&!a.complete&&V()},u?Wl(750,1500):0),a.request=n(O,F,function(N){a.response=et(N)?N:{type:"load",code:200,body:""+N,headers:{}},a.duration=Date.now()-a.timestamp,a.progress=1,I.fire("load",a.response.body),(!u||u&&a.perceivedProgress===1)&&V()},function(N){a.perceivedPerformanceUpdater.clear(),I.fire("error",et(N)?N:{type:"error",code:0,body:""+N})},function(N,H,Q){a.duration=Date.now()-a.timestamp,a.progress=N?H/Q:null,B()},function(){a.perceivedPerformanceUpdater.clear(),I.fire("abort",a.response?a.response.body:null)},function(N){I.fire("transfer",N)})},"process"),m=i(function(){a.request&&(a.perceivedPerformanceUpdater.clear(),a.request.abort&&a.request.abort(),a.complete=!0)},"abort"),h=i(function(){m(),a.complete=!1,a.perceivedProgress=0,a.progress=0,a.timestamp=null,a.perceivedDuration=0,a.duration=0,a.request=null,a.response=null},"reset"),E=u?function(){return a.progress?Math.min(a.progress,a.perceivedProgress):null}:function(){return a.progress||null},_=u?function(){return Math.min(a.duration,a.perceivedDuration)}:function(){return a.duration},I=Object.assign({},qi(),{process:f,abort:m,getProgress:E,getDuration:_,reset:h});return I},"createFileProcessor"),Kl=i(function(n){return n.substring(0,n.lastIndexOf("."))||n},"getFilenameWithoutExtension"),im=i(function(n){var o=[n.name,n.size,n.type];return n instanceof Blob||zs(n)?o[0]=n.name||Hl():zs(n)?(o[1]=n.length,o[2]=jl(n)):ft(n)&&(o[0]=Cr(n),o[1]=0,o[2]="application/octet-stream"),{name:o[0],size:o[1],type:o[2]}},"createFileStub"),On=i(function(n){return!!(n instanceof File||n instanceof Blob&&n.name)},"isFile"),om=i(function c(n){if(!et(n))return n;var o=Tn(n)?[]:{};for(var a in n)if(n.hasOwnProperty(a)){var u=n[a];o[a]=u&&et(u)?c(u):u}return o},"deepCloneObject"),sm=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=S(),f={archived:!1,frozen:!1,released:!1,source:null,file:a,serverFileReference:o,transferId:null,processingAborted:!1,status:o?he.PROCESSING_COMPLETE:he.INIT,activeLoader:null,activeProcessor:null},m=null,h={},E=i(function(te){return f.status=te},"setStatus"),_=i(function(te){if(!(f.released||f.frozen)){for(var oe=arguments.length,W=new Array(oe>1?oe-1:0),J=1;J<oe;J++)W[J-1]=arguments[J];Ne.fire.apply(Ne,[te].concat(W))}},"fire"),I=i(function(){return Ki(f.file.name)},"getFileExtension"),D=i(function(){return f.file.type},"getFileType"),O=i(function(){return f.file.size},"getFileSize"),F=i(function(){return f.file},"getFile"),B=i(function(te,oe,W){if(f.source=te,Ne.fireSync("init"),f.file){Ne.fireSync("load-skip");return}f.file=im(te),oe.on("init",function(){_("load-init")}),oe.on("meta",function(J){f.file.size=J.size,f.file.filename=J.filename,J.source&&(n=st.LIMBO,f.serverFileReference=J.source,f.status=he.PROCESSING_COMPLETE),_("load-meta")}),oe.on("progress",function(J){E(he.LOADING),_("load-progress",J)}),oe.on("error",function(J){E(he.LOAD_ERROR),_("load-request-error",J)}),oe.on("abort",function(){E(he.INIT),_("load-abort")}),oe.on("load",function(J){f.activeLoader=null;var se=i(function(ae){f.file=On(ae)?ae:f.file,n===st.LIMBO&&f.serverFileReference?E(he.PROCESSING_COMPLETE):E(he.IDLE),_("load")},"success"),xe=i(function(ae){f.file=J,_("load-meta"),E(he.LOAD_ERROR),_("load-file-error",ae)},"error");if(f.serverFileReference){se(J);return}W(J,se,xe)}),oe.setSource(te),f.activeLoader=oe,oe.load()},"load"),V=i(function(){f.activeLoader&&f.activeLoader.load()},"retryLoad"),N=i(function(){if(f.activeLoader){f.activeLoader.abort();return}E(he.INIT),_("load-abort")},"abortLoad"),H=i(function K(te,oe){if(f.processingAborted){f.processingAborted=!1;return}if(E(he.PROCESSING),m=null,!(f.file instanceof Blob)){Ne.on("load",function(){K(te,oe)});return}te.on("load",function(se){f.transferId=null,f.serverFileReference=se}),te.on("transfer",function(se){f.transferId=se}),te.on("load-perceived",function(se){f.activeProcessor=null,f.transferId=null,f.serverFileReference=se,E(he.PROCESSING_COMPLETE),_("process-complete",se)}),te.on("start",function(){_("process-start")}),te.on("error",function(se){f.activeProcessor=null,E(he.PROCESSING_ERROR),_("process-error",se)}),te.on("abort",function(se){f.activeProcessor=null,f.serverFileReference=se,E(he.IDLE),_("process-abort"),m&&m()}),te.on("progress",function(se){_("process-progress",se)});var W=i(function(xe){f.archived||te.process(xe,Object.assign({},h))},"success"),J=console.error;oe(f.file,W,J),f.activeProcessor=te},"process"),Q=i(function(){f.processingAborted=!1,E(he.PROCESSING_QUEUED)},"requestProcessing"),ee=i(function(){return new Promise(function(te){if(!f.activeProcessor){f.processingAborted=!0,E(he.IDLE),_("process-abort"),te();return}m=i(function(){te()},"abortProcessingRequestComplete"),f.activeProcessor.abort()})},"abortProcessing"),q=i(function(te,oe){return new Promise(function(W,J){var se=f.serverFileReference!==null?f.serverFileReference:f.transferId;if(se===null){W();return}te(se,function(){f.serverFileReference=null,f.transferId=null,W()},function(xe){if(!oe){W();return}E(he.PROCESSING_REVERT_ERROR),_("process-revert-error"),J(xe)}),E(he.IDLE),_("process-revert")})},"revert"),ve=i(function(te,oe,W){var J=te.split("."),se=J[0],xe=J.pop(),Ce=h;J.forEach(function(ae){return Ce=Ce[ae]}),JSON.stringify(Ce[xe])!==JSON.stringify(oe)&&(Ce[xe]=oe,_("metadata-update",{key:se,value:h[se],silent:W}))},"setMetadata"),z=i(function(te){return om(te?h[te]:h)},"getMetadata"),Ne=Object.assign({id:{get:i(function(){return u},"get")},origin:{get:i(function(){return n},"get"),set:i(function(te){return n=te},"set")},serverId:{get:i(function(){return f.serverFileReference},"get")},transferId:{get:i(function(){return f.transferId},"get")},status:{get:i(function(){return f.status},"get")},filename:{get:i(function(){return f.file.name},"get")},filenameWithoutExtension:{get:i(function(){return Kl(f.file.name)},"get")},fileExtension:{get:I},fileType:{get:D},fileSize:{get:O},file:{get:F},relativePath:{get:i(function(){return f.file._relativePath},"get")},source:{get:i(function(){return f.source},"get")},getMetadata:z,setMetadata:i(function(te,oe,W){if(et(te)){var J=te;return Object.keys(J).forEach(function(se){ve(se,J[se],oe)}),te}return ve(te,oe,W),oe},"setMetadata"),extend:i(function(te,oe){return Me[te]=oe},"extend"),abortLoad:N,retryLoad:V,requestProcessing:Q,abortProcessing:ee,load:B,process:H,revert:q},qi(),{freeze:i(function(){return f.frozen=!0},"freeze"),release:i(function(){return f.released=!0},"release"),released:{get:i(function(){return f.released},"get")},archive:i(function(){return f.archived=!0},"archive"),archived:{get:i(function(){return f.archived},"get")},setFile:i(function(te){return f.file=te},"setFile")}),Me=p(Ne);return Me},"createItem"),am=i(function(n,o){return vt(o)?0:ft(o)?n.findIndex(function(a){return a.id===o}):-1},"getItemIndexByQuery"),$l=i(function(n,o){var a=am(n,o);if(!(a<0))return n[a]||null},"getItemById"),Xl=i(function(n,o,a,u,f,m){var h=An(null,n,{method:"GET",responseType:"blob"});return h.onload=function(E){var _=E.getAllResponseHeaders(),I=Ws(_).name||Cr(n);o(Je("load",E.status,Jn(E.response,I),_))},h.onerror=function(E){a(Je("error",E.status,E.statusText,E.getAllResponseHeaders()))},h.onheaders=function(E){m(Je("headers",E.status,null,E.getAllResponseHeaders()))},h.ontimeout=Dn(a),h.onprogress=u,h.onabort=f,h},"fetchBlob"),Ql=i(function(n){return n.indexOf("//")===0&&(n=location.protocol+n),n.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},"getDomainFromURL"),lm=i(function(n){return(n.indexOf(":")>-1||n.indexOf("//")>-1)&&Ql(location.href)!==Ql(n)},"isExternalURL"),$i=i(function(n){return function(){return qt(n)?n.apply(void 0,arguments):n}},"dynamicLabel"),um=i(function(n){return!On(n.file)},"isMockItem"),$s=i(function(n,o){clearTimeout(o.listUpdateTimeout),o.listUpdateTimeout=setTimeout(function(){n("DID_UPDATE_ITEMS",{items:Gt(o.items)})},0)},"listUpdated"),Jl=i(function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return new Promise(function(f){if(!n)return f(!0);var m=n.apply(void 0,a);if(m==null)return f(!0);if(typeof m=="boolean")return f(m);typeof m.then=="function"&&m.then(f)})},"optionalPromise"),Xs=i(function(n,o){n.items.sort(function(a,u){return o(It(a),It(u))})},"sortItems"),Pt=i(function(n,o){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.query,f=a.success,m=f===void 0?function(){}:f,h=a.failure,E=h===void 0?function(){}:h,_=fp(a,["query","success","failure"]),I=bn(n.items,u);if(!I){E({error:Je("error",0,"Item not found"),file:null});return}o(I,m,E,_||{})}},"getItemByQueryFromState"),cm=i(function(n,o,a){return{ABORT_ALL:i(function(){Gt(a.items).forEach(function(f){f.freeze(),f.abortLoad(),f.abortProcessing()})},"ABORT_ALL"),DID_SET_FILES:i(function(f){var m=f.value,h=m===void 0?[]:m,E=h.map(function(I){return{source:I.source?I.source:I,options:I.options}}),_=Gt(a.items);_.forEach(function(I){E.find(function(D){return D.source===I.source||D.source===I.file})||n("REMOVE_ITEM",{query:I,remove:!1})}),_=Gt(a.items),E.forEach(function(I,D){_.find(function(O){return O.source===I.source||O.file===I.source})||n("ADD_ITEM",Object.assign({},I,{interactionMethod:T.NONE,index:D}))})},"DID_SET_FILES"),DID_UPDATE_ITEM_METADATA:i(function(f){var m=f.id,h=f.action,E=f.change;E.silent||(clearTimeout(a.itemUpdateTimeout),a.itemUpdateTimeout=setTimeout(function(){var _=$l(a.items,m);if(!o("IS_ASYNC")){Vt("SHOULD_PREPARE_OUTPUT",!1,{item:_,query:o,action:h,change:E}).then(function(F){var B=o("GET_BEFORE_PREPARE_FILE");B&&(F=B(_,F)),F&&n("REQUEST_PREPARE_OUTPUT",{query:m,item:_,success:i(function(N){n("DID_PREPARE_OUTPUT",{id:m,file:N})},"success")},!0)});return}_.origin===st.LOCAL&&n("DID_LOAD_ITEM",{id:_.id,error:null,serverFileReference:_.source});var I=i(function(){setTimeout(function(){n("REQUEST_ITEM_PROCESSING",{query:m})},32)},"upload"),D=i(function(B){_.revert(Mr(a.options.server.url,a.options.server.revert),o("GET_FORCE_REVERT")).then(B?I:function(){}).catch(function(){})},"revert"),O=i(function(B){_.abortProcessing().then(B?I:function(){})},"abort");if(_.status===he.PROCESSING_COMPLETE)return D(a.options.instantUpload);if(_.status===he.PROCESSING)return O(a.options.instantUpload);a.options.instantUpload&&I()},0))},"DID_UPDATE_ITEM_METADATA"),MOVE_ITEM:i(function(f){var m=f.query,h=f.index,E=bn(a.items,m);if(E){var _=a.items.indexOf(E);h=kl(h,0,a.items.length-1),_!==h&&a.items.splice(h,0,a.items.splice(_,1)[0])}},"MOVE_ITEM"),SORT:i(function(f){var m=f.compare;Xs(a,m),n("DID_SORT_ITEMS",{items:o("GET_ACTIVE_ITEMS")})},"SORT"),ADD_ITEMS:i(function(f){var m=f.items,h=f.index,E=f.interactionMethod,_=f.success,I=_===void 0?function(){}:_,D=f.failure,O=D===void 0?function(){}:D,F=h;if(h===-1||typeof h>"u"){var B=o("GET_ITEM_INSERT_LOCATION"),V=o("GET_TOTAL_ITEMS");F=B==="before"?0:V}var N=o("GET_IGNORED_FILES"),H=i(function(ve){return On(ve)?!N.includes(ve.name.toLowerCase()):!vt(ve)},"isValidFile"),Q=m.filter(H),ee=Q.map(function(q){return new Promise(function(ve,z){n("ADD_ITEM",{interactionMethod:E,source:q.source||q,success:ve,failure:z,index:F++,options:q.options||{}})})});Promise.all(ee).then(I).catch(O)},"ADD_ITEMS"),ADD_ITEM:i(function(f){var m=f.source,h=f.index,E=h===void 0?-1:h,_=f.interactionMethod,I=f.success,D=I===void 0?function(){}:I,O=f.failure,F=O===void 0?function(){}:O,B=f.options,V=B===void 0?{}:B;if(vt(m)){F({error:Je("error",0,"No source"),file:null});return}if(!(On(m)&&a.options.ignoredFiles.includes(m.name.toLowerCase()))){if(!Vp(a)){if(a.options.allowMultiple||!a.options.allowMultiple&&!a.options.allowReplace){var N=Je("warning",0,"Max files");n("DID_THROW_MAX_FILES",{source:m,error:N}),F({error:N,file:null});return}var H=Gt(a.items)[0];if(H.status===he.PROCESSING_COMPLETE||H.status===he.PROCESSING_REVERT_ERROR){var Q=o("GET_FORCE_REVERT");if(H.revert(Mr(a.options.server.url,a.options.server.revert),Q).then(function(){Q&&n("ADD_ITEM",{source:m,index:E,interactionMethod:_,success:D,failure:F,options:V})}).catch(function(){}),Q)return}n("REMOVE_ITEM",{query:H.id})}var ee=V.type==="local"?st.LOCAL:V.type==="limbo"?st.LIMBO:st.INPUT,q=sm(ee,ee===st.INPUT?null:m,V.file);Object.keys(V.metadata||{}).forEach(function(W){q.setMetadata(W,V.metadata[W])}),yn("DID_CREATE_ITEM",q,{query:o,dispatch:n});var ve=o("GET_ITEM_INSERT_LOCATION");a.options.itemInsertLocationFreedom||(E=ve==="before"?-1:a.items.length),kp(a.items,q,E),qt(ve)&&m&&Xs(a,ve);var z=q.id;q.on("init",function(){n("DID_INIT_ITEM",{id:z})}),q.on("load-init",function(){n("DID_START_ITEM_LOAD",{id:z})}),q.on("load-meta",function(){n("DID_UPDATE_ITEM_META",{id:z})}),q.on("load-progress",function(W){n("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:z,progress:W})}),q.on("load-request-error",function(W){var J=$i(a.options.labelFileLoadError)(W);if(W.code>=400&&W.code<500){n("DID_THROW_ITEM_INVALID",{id:z,error:W,status:{main:J,sub:W.code+" ("+W.body+")"}}),F({error:W,file:It(q)});return}n("DID_THROW_ITEM_LOAD_ERROR",{id:z,error:W,status:{main:J,sub:a.options.labelTapToRetry}})}),q.on("load-file-error",function(W){n("DID_THROW_ITEM_INVALID",{id:z,error:W.status,status:W.status}),F({error:W.status,file:It(q)})}),q.on("load-abort",function(){n("REMOVE_ITEM",{query:z})}),q.on("load-skip",function(){q.on("metadata-update",function(W){On(q.file)&&n("DID_UPDATE_ITEM_METADATA",{id:z,change:W})}),n("COMPLETE_LOAD_ITEM",{query:z,item:q,data:{source:m,success:D}})}),q.on("load",function(){var W=i(function(se){if(!se){n("REMOVE_ITEM",{query:z});return}q.on("metadata-update",function(xe){n("DID_UPDATE_ITEM_METADATA",{id:z,change:xe})}),Vt("SHOULD_PREPARE_OUTPUT",!1,{item:q,query:o}).then(function(xe){var Ce=o("GET_BEFORE_PREPARE_FILE");Ce&&(xe=Ce(q,xe));var ae=i(function(){n("COMPLETE_LOAD_ITEM",{query:z,item:q,data:{source:m,success:D}}),$s(n,a)},"loadComplete");if(xe){n("REQUEST_PREPARE_OUTPUT",{query:z,item:q,success:i(function(L){n("DID_PREPARE_OUTPUT",{id:z,file:L}),ae()},"success")},!0);return}ae()})},"handleAdd");Vt("DID_LOAD_ITEM",q,{query:o,dispatch:n}).then(function(){Jl(o("GET_BEFORE_ADD_FILE"),It(q)).then(W)}).catch(function(J){if(!J||!J.error||!J.status)return W(!1);n("DID_THROW_ITEM_INVALID",{id:z,error:J.error,status:J.status})})}),q.on("process-start",function(){n("DID_START_ITEM_PROCESSING",{id:z})}),q.on("process-progress",function(W){n("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:z,progress:W})}),q.on("process-error",function(W){n("DID_THROW_ITEM_PROCESSING_ERROR",{id:z,error:W,status:{main:$i(a.options.labelFileProcessingError)(W),sub:a.options.labelTapToRetry}})}),q.on("process-revert-error",function(W){n("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:z,error:W,status:{main:$i(a.options.labelFileProcessingRevertError)(W),sub:a.options.labelTapToRetry}})}),q.on("process-complete",function(W){n("DID_COMPLETE_ITEM_PROCESSING",{id:z,error:null,serverFileReference:W}),n("DID_DEFINE_VALUE",{id:z,value:W})}),q.on("process-abort",function(){n("DID_ABORT_ITEM_PROCESSING",{id:z})}),q.on("process-revert",function(){n("DID_REVERT_ITEM_PROCESSING",{id:z}),n("DID_DEFINE_VALUE",{id:z,value:null})}),n("DID_ADD_ITEM",{id:z,index:E,interactionMethod:_}),$s(n,a);var Ne=a.options.server||{},Me=Ne.url,K=Ne.load,te=Ne.restore,oe=Ne.fetch;q.load(m,Jp(ee===st.INPUT?ft(m)&&lm(m)&&oe?Ks(Me,oe):Xl:ee===st.LIMBO?Ks(Me,te):Ks(Me,K)),function(W,J,se){Vt("LOAD_FILE",W,{query:o}).then(J).catch(se)})}},"ADD_ITEM"),REQUEST_PREPARE_OUTPUT:i(function(f){var m=f.item,h=f.success,E=f.failure,_=E===void 0?function(){}:E,I={error:Je("error",0,"Item not found"),file:null};if(m.archived)return _(I);Vt("PREPARE_OUTPUT",m.file,{query:o,item:m}).then(function(D){Vt("COMPLETE_PREPARE_OUTPUT",D,{query:o,item:m}).then(function(O){if(m.archived)return _(I);h(O)})})},"REQUEST_PREPARE_OUTPUT"),COMPLETE_LOAD_ITEM:i(function(f){var m=f.item,h=f.data,E=h.success,_=h.source,I=o("GET_ITEM_INSERT_LOCATION");if(qt(I)&&_&&Xs(a,I),n("DID_LOAD_ITEM",{id:m.id,error:null,serverFileReference:m.origin===st.INPUT?null:_}),E(It(m)),m.origin===st.LOCAL){n("DID_LOAD_LOCAL_ITEM",{id:m.id});return}if(m.origin===st.LIMBO){n("DID_COMPLETE_ITEM_PROCESSING",{id:m.id,error:null,serverFileReference:_}),n("DID_DEFINE_VALUE",{id:m.id,value:m.serverId||_});return}o("IS_ASYNC")&&a.options.instantUpload&&n("REQUEST_ITEM_PROCESSING",{query:m.id})},"COMPLETE_LOAD_ITEM"),RETRY_ITEM_LOAD:Pt(a,function(u){u.retryLoad()}),REQUEST_ITEM_PREPARE:Pt(a,function(u,f,m){n("REQUEST_PREPARE_OUTPUT",{query:u.id,item:u,success:i(function(E){n("DID_PREPARE_OUTPUT",{id:u.id,file:E}),f({file:u,output:E})},"success"),failure:m},!0)}),REQUEST_ITEM_PROCESSING:Pt(a,function(u,f,m){var h=u.status===he.IDLE||u.status===he.PROCESSING_ERROR;if(!h){var E=i(function(){return n("REQUEST_ITEM_PROCESSING",{query:u,success:f,failure:m})},"processNow"),_=i(function(){return document.hidden?E():setTimeout(E,32)},"process");u.status===he.PROCESSING_COMPLETE||u.status===he.PROCESSING_REVERT_ERROR?u.revert(Mr(a.options.server.url,a.options.server.revert),o("GET_FORCE_REVERT")).then(_).catch(function(){}):u.status===he.PROCESSING&&u.abortProcessing().then(_);return}u.status!==he.PROCESSING_QUEUED&&(u.requestProcessing(),n("DID_REQUEST_ITEM_PROCESSING",{id:u.id}),n("PROCESS_ITEM",{query:u,success:f,failure:m},!0))}),PROCESS_ITEM:Pt(a,function(u,f,m){var h=o("GET_MAX_PARALLEL_UPLOADS"),E=o("GET_ITEMS_BY_STATUS",he.PROCESSING).length;if(E===h){a.processingQueue.push({id:u.id,success:f,failure:m});return}if(u.status!==he.PROCESSING){var _=i(function D(){var O=a.processingQueue.shift();if(O){var F=O.id,B=O.success,V=O.failure,N=bn(a.items,F);if(!N||N.archived){D();return}n("PROCESS_ITEM",{query:F,success:B,failure:V},!0)}},"processNext");u.onOnce("process-complete",function(){f(It(u)),_();var D=a.options.server,O=a.options.instantUpload;if(O&&u.origin===st.LOCAL&&qt(D.remove)){var F=i(function(){},"noop");u.origin=st.LIMBO,a.options.server.remove(u.source,F,F)}var B=o("GET_ITEMS_BY_STATUS",he.PROCESSING_COMPLETE).length===a.items.length;B&&n("DID_COMPLETE_ITEM_PROCESSING_ALL")}),u.onOnce("process-error",function(D){m({error:D,file:It(u)}),_()});var I=a.options;u.process(rm(tm(I.server.url,I.server.process,I.name,{chunkTransferId:u.transferId,chunkServer:I.server.patch,chunkUploads:I.chunkUploads,chunkForce:I.chunkForce,chunkSize:I.chunkSize,chunkRetryDelays:I.chunkRetryDelays}),{allowMinimumUploadDuration:o("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(D,O,F){Vt("PREPARE_OUTPUT",D,{query:o,item:u}).then(function(B){n("DID_PREPARE_OUTPUT",{id:u.id,file:B}),O(B)}).catch(F)})}}),RETRY_ITEM_PROCESSING:Pt(a,function(u){n("REQUEST_ITEM_PROCESSING",{query:u})}),REQUEST_REMOVE_ITEM:Pt(a,function(u){Jl(o("GET_BEFORE_REMOVE_FILE"),It(u)).then(function(f){f&&n("REMOVE_ITEM",{query:u})})}),RELEASE_ITEM:Pt(a,function(u){u.release()}),REMOVE_ITEM:Pt(a,function(u,f,m,h){var E=i(function(){var D=u.id;$l(a.items,D).archive(),n("DID_REMOVE_ITEM",{error:null,id:D,item:u}),$s(n,a),f(It(u))},"removeFromView"),_=a.options.server;u.origin===st.LOCAL&&_&&qt(_.remove)&&h.remove!==!1?(n("DID_START_ITEM_REMOVE",{id:u.id}),_.remove(u.source,function(){return E()},function(I){n("DID_THROW_ITEM_REMOVE_ERROR",{id:u.id,error:Je("error",0,I,null),status:{main:$i(a.options.labelFileRemoveError)(I),sub:a.options.labelTapToRetry}})})):((h.revert&&u.origin!==st.LOCAL&&u.serverId!==null||a.options.chunkUploads&&u.file.size>a.options.chunkSize||a.options.chunkUploads&&a.options.chunkForce)&&u.revert(Mr(a.options.server.url,a.options.server.revert),o("GET_FORCE_REVERT")),E())}),ABORT_ITEM_LOAD:Pt(a,function(u){u.abortLoad()}),ABORT_ITEM_PROCESSING:Pt(a,function(u){if(u.serverId){n("REVERT_ITEM_PROCESSING",{id:u.id});return}u.abortProcessing().then(function(){var f=a.options.instantUpload;f&&n("REMOVE_ITEM",{query:u.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Pt(a,function(u){if(!a.options.instantUpload){n("REVERT_ITEM_PROCESSING",{query:u});return}var f=i(function(_){_&&n("REVERT_ITEM_PROCESSING",{query:u})},"handleRevert"),m=o("GET_BEFORE_REMOVE_FILE");if(!m)return f(!0);var h=m(It(u));if(h==null)return f(!0);if(typeof h=="boolean")return f(h);typeof h.then=="function"&&h.then(f)}),REVERT_ITEM_PROCESSING:Pt(a,function(u){u.revert(Mr(a.options.server.url,a.options.server.revert),o("GET_FORCE_REVERT")).then(function(){var f=a.options.instantUpload||um(u);f&&n("REMOVE_ITEM",{query:u.id})}).catch(function(){})}),SET_OPTIONS:i(function(f){var m=f.options,h=Object.keys(m),E=fm.filter(function(I){return h.includes(I)}),_=[].concat(ji(E),ji(Object.keys(m).filter(function(I){return!E.includes(I)})));_.forEach(function(I){n("SET_"+_t(I,"_").toUpperCase(),{value:m[I]})})},"SET_OPTIONS")}},"actions"),fm=["server"],Qs=i(function(n){return n},"formatFilename"),Zt=i(function(n){return document.createElement(n)},"createElement"),Ze=i(function(n,o){var a=n.childNodes[0];a?o!==a.nodeValue&&(a.nodeValue=o):(a=document.createTextNode(o),n.appendChild(a))},"text"),Zl=i(function(n,o,a,u){var f=(u%360-90)*Math.PI/180;return{x:n+a*Math.cos(f),y:o+a*Math.sin(f)}},"polarToCartesian"),dm=i(function(n,o,a,u,f,m){var h=Zl(n,o,a,f),E=Zl(n,o,a,u);return["M",h.x,h.y,"A",a,a,0,m,0,E.x,E.y].join(" ")},"describeArc"),pm=i(function(n,o,a,u,f){var m=1;return f>u&&f-u<=.5&&(m=0),u>f&&u-f>=.5&&(m=0),dm(n,o,a,Math.min(.9999,u)*360,Math.min(.9999,f)*360,m)},"percentageArc"),mm=i(function(n){var o=n.root,a=n.props;a.spin=!1,a.progress=0,a.opacity=0;var u=A("svg");o.ref.path=A("path",{"stroke-width":2,"stroke-linecap":"round"}),u.appendChild(o.ref.path),o.ref.svg=u,o.appendChild(u)},"create"),hm=i(function(n){var o=n.root,a=n.props;if(a.opacity!==0){a.align&&(o.element.dataset.align=a.align);var u=parseInt(d(o.ref.path,"stroke-width"),10),f=o.rect.element.width*.5,m=0,h=0;a.spin?(m=0,h=.5):(m=0,h=a.progress);var E=pm(f,f,f-u,m,h);d(o.ref.path,"d",E),d(o.ref.path,"stroke-opacity",a.spin||a.progress>0?1:0)}},"write"),eu=Ye({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:mm,write:hm,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Em=i(function(n){var o=n.root,a=n.props;o.element.innerHTML=(a.icon||"")+("<span>"+a.label+"</span>"),a.isDisabled=!1},"create"),gm=i(function(n){var o=n.root,a=n.props,u=a.isDisabled,f=o.query("GET_DISABLED")||a.opacity===0;f&&!u?(a.isDisabled=!0,d(o.element,"disabled","disabled")):!f&&u&&(a.isDisabled=!1,o.element.removeAttribute("disabled"))},"write"),tu=Ye({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Em,write:gm}),nu=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=u.labelBytes,m=f===void 0?"bytes":f,h=u.labelKilobytes,E=h===void 0?"KB":h,_=u.labelMegabytes,I=_===void 0?"MB":_,D=u.labelGigabytes,O=D===void 0?"GB":D;n=Math.round(Math.abs(n));var F=a,B=a*a,V=a*a*a;return n<F?n+" "+m:n<B?Math.floor(n/F)+" "+E:n<V?ru(n/B,1,o)+" "+I:ru(n/V,2,o)+" "+O},"toNaturalFileSize"),ru=i(function(n,o,a){return n.toFixed(o).split(".").filter(function(u){return u!=="0"}).join(a)},"removeDecimalsWhenZero"),vm=i(function(n){var o=n.root,a=n.props,u=Zt("span");u.className="filepond--file-info-main",d(u,"aria-hidden","true"),o.appendChild(u),o.ref.fileName=u;var f=Zt("span");f.className="filepond--file-info-sub",o.appendChild(f),o.ref.fileSize=f,Ze(f,o.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Ze(u,Qs(o.query("GET_ITEM_NAME",a.id)))},"create"),Js=i(function(n){var o=n.root,a=n.props;Ze(o.ref.fileSize,nu(o.query("GET_ITEM_SIZE",a.id),".",o.query("GET_FILE_SIZE_BASE"),o.query("GET_FILE_SIZE_LABELS",o.query))),Ze(o.ref.fileName,Qs(o.query("GET_ITEM_NAME",a.id)))},"updateFile"),iu=i(function(n){var o=n.root,a=n.props;if(Qt(o.query("GET_ITEM_SIZE",a.id))){Js({root:o,props:a});return}Ze(o.ref.fileSize,o.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},"updateFileSizeOnError"),_m=Ye({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:We({DID_LOAD_ITEM:Js,DID_UPDATE_ITEM_META:Js,DID_THROW_ITEM_LOAD_ERROR:iu,DID_THROW_ITEM_INVALID:iu}),didCreateView:i(function(n){yn("CREATE_VIEW",Object.assign({},n,{view:n}))},"didCreateView"),create:vm,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),ou=i(function(n){return Math.round(n*100)},"toPercentage"),Tm=i(function(n){var o=n.root,a=Zt("span");a.className="filepond--file-status-main",o.appendChild(a),o.ref.main=a;var u=Zt("span");u.className="filepond--file-status-sub",o.appendChild(u),o.ref.sub=u,su({root:o,action:{progress:null}})},"create"),su=i(function(n){var o=n.root,a=n.action,u=a.progress===null?o.query("GET_LABEL_FILE_LOADING"):o.query("GET_LABEL_FILE_LOADING")+" "+ou(a.progress)+"%";Ze(o.ref.main,u),Ze(o.ref.sub,o.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemLoadProgress"),Im=i(function(n){var o=n.root,a=n.action,u=a.progress===null?o.query("GET_LABEL_FILE_PROCESSING"):o.query("GET_LABEL_FILE_PROCESSING")+" "+ou(a.progress)+"%";Ze(o.ref.main,u),Ze(o.ref.sub,o.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemProcessProgress"),ym=i(function(n){var o=n.root;Ze(o.ref.main,o.query("GET_LABEL_FILE_PROCESSING")),Ze(o.ref.sub,o.query("GET_LABEL_TAP_TO_CANCEL"))},"didRequestItemProcessing"),bm=i(function(n){var o=n.root;Ze(o.ref.main,o.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Ze(o.ref.sub,o.query("GET_LABEL_TAP_TO_RETRY"))},"didAbortItemProcessing"),Am=i(function(n){var o=n.root;Ze(o.ref.main,o.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Ze(o.ref.sub,o.query("GET_LABEL_TAP_TO_UNDO"))},"didCompleteItemProcessing"),au=i(function(n){var o=n.root;Ze(o.ref.main,""),Ze(o.ref.sub,"")},"clear"),xr=i(function(n){var o=n.root,a=n.action;Ze(o.ref.main,a.status.main),Ze(o.ref.sub,a.status.sub)},"error"),Dm=Ye({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:We({DID_LOAD_ITEM:au,DID_REVERT_ITEM_PROCESSING:au,DID_REQUEST_ITEM_PROCESSING:ym,DID_ABORT_ITEM_PROCESSING:bm,DID_COMPLETE_ITEM_PROCESSING:Am,DID_UPDATE_ITEM_PROCESS_PROGRESS:Im,DID_UPDATE_ITEM_LOAD_PROGRESS:su,DID_THROW_ITEM_LOAD_ERROR:xr,DID_THROW_ITEM_INVALID:xr,DID_THROW_ITEM_PROCESSING_ERROR:xr,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:xr,DID_THROW_ITEM_REMOVE_ERROR:xr}),didCreateView:i(function(n){yn("CREATE_VIEW",Object.assign({},n,{view:n}))},"didCreateView"),create:Tm,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Zs={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ea=[];l(Zs,function(c){ea.push(c)});var Rt=i(function(n){if(ta(n)==="right")return 0;var o=n.ref.buttonRemoveItem.rect.element;return o.hidden?null:o.width+o.left},"calculateFileInfoOffset"),Om=i(function(n){var o=n.ref.buttonAbortItemLoad.rect.element;return o.width},"calculateButtonWidth"),Xi=i(function(n){return Math.floor(n.ref.buttonRemoveItem.rect.element.height/4)},"calculateFileVerticalCenterOffset"),Sm=i(function(n){return Math.floor(n.ref.buttonRemoveItem.rect.element.left/2)},"calculateFileHorizontalCenterOffset"),Rm=i(function(n){return n.query("GET_STYLE_LOAD_INDICATOR_POSITION")},"getLoadIndicatorAlignment"),wm=i(function(n){return n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},"getProcessIndicatorAlignment"),ta=i(function(n){return n.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},"getRemoveIndicatorAligment"),Lm={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Rm},processProgressIndicator:{opacity:0,align:wm},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},lu={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Rt},status:{translateX:Rt}},na={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Zn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Rt},status:{translateX:Rt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Rt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ta},info:{translateX:Rt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ta},buttonRemoveItem:{opacity:1},info:{translateX:Rt},status:{opacity:1,translateX:Rt}},DID_LOAD_ITEM:lu,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Rt},status:{translateX:Rt}},DID_START_ITEM_PROCESSING:na,DID_REQUEST_ITEM_PROCESSING:na,DID_UPDATE_ITEM_PROCESS_PROGRESS:na,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Rt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Rt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:lu},Cm=Ye({create:i(function(n){var o=n.root;o.element.innerHTML=o.query("GET_ICON_DONE")},"create"),name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Pm=i(function(n){var o=n.root,a=n.props,u=Object.keys(Zs).reduce(function(Q,ee){return Q[ee]=Object.assign({},Zs[ee]),Q},{}),f=a.id,m=o.query("GET_ALLOW_REVERT"),h=o.query("GET_ALLOW_REMOVE"),E=o.query("GET_ALLOW_PROCESS"),_=o.query("GET_INSTANT_UPLOAD"),I=o.query("IS_ASYNC"),D=o.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),O;I?E&&!m?O=i(function(ee){return!/RevertItemProcessing/.test(ee)},"buttonFilter"):!E&&m?O=i(function(ee){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(ee)},"buttonFilter"):!E&&!m&&(O=i(function(ee){return!/Process/.test(ee)},"buttonFilter")):O=i(function(ee){return!/Process/.test(ee)},"buttonFilter");var F=O?ea.filter(O):ea.concat();if(_&&m&&(u.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",u.RevertItemProcessing.icon="GET_ICON_REMOVE"),I&&!m){var B=Zn.DID_COMPLETE_ITEM_PROCESSING;B.info.translateX=Sm,B.info.translateY=Xi,B.status.translateY=Xi,B.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(I&&!E&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(Q){Zn[Q].status.translateY=Xi}),Zn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Om),D&&m){u.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var V=Zn.DID_COMPLETE_ITEM_PROCESSING;V.info.translateX=Rt,V.status.translateY=Xi,V.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}h||(u.RemoveItem.disabled=!0),l(u,function(Q,ee){var q=o.createChildView(tu,{label:o.query(ee.label),icon:o.query(ee.icon),opacity:0});F.includes(Q)&&o.appendChildView(q),ee.disabled&&(q.element.setAttribute("disabled","disabled"),q.element.setAttribute("hidden","hidden")),q.element.dataset.align=o.query("GET_STYLE_"+ee.align),q.element.classList.add(ee.className),q.on("click",function(ve){ve.stopPropagation(),!ee.disabled&&o.dispatch(ee.action,{query:f})}),o.ref["button"+Q]=q}),o.ref.processingCompleteIndicator=o.appendChildView(o.createChildView(Cm)),o.ref.processingCompleteIndicator.element.dataset.align=o.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),o.ref.info=o.appendChildView(o.createChildView(_m,{id:f})),o.ref.status=o.appendChildView(o.createChildView(Dm,{id:f}));var N=o.appendChildView(o.createChildView(eu,{opacity:0,align:o.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));N.element.classList.add("filepond--load-indicator"),o.ref.loadProgressIndicator=N;var H=o.appendChildView(o.createChildView(eu,{opacity:0,align:o.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));H.element.classList.add("filepond--process-indicator"),o.ref.processProgressIndicator=H,o.ref.activeStyles=[]},"create"),Nm=i(function(n){var o=n.root,a=n.actions,u=n.props;Mm({root:o,actions:a,props:u});var f=a.concat().filter(function(h){return/^DID_/.test(h.type)}).reverse().find(function(h){return Zn[h.type]});if(f){o.ref.activeStyles=[];var m=Zn[f.type];l(Lm,function(h,E){var _=o.ref[h];l(E,function(I,D){var O=m[h]&&typeof m[h][I]<"u"?m[h][I]:D;o.ref.activeStyles.push({control:_,key:I,value:O})})})}o.ref.activeStyles.forEach(function(h){var E=h.control,_=h.key,I=h.value;E[_]=typeof I=="function"?I(o):I})},"write"),Mm=We({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:i(function(n){var o=n.root,a=n.action;o.ref.buttonAbortItemProcessing.label=a.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING"),DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:i(function(n){var o=n.root,a=n.action;o.ref.buttonAbortItemLoad.label=a.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD"),DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:i(function(n){var o=n.root,a=n.action;o.ref.buttonAbortItemRemoval.label=a.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL"),DID_REQUEST_ITEM_PROCESSING:i(function(n){var o=n.root;o.ref.processProgressIndicator.spin=!0,o.ref.processProgressIndicator.progress=0},"DID_REQUEST_ITEM_PROCESSING"),DID_START_ITEM_LOAD:i(function(n){var o=n.root;o.ref.loadProgressIndicator.spin=!0,o.ref.loadProgressIndicator.progress=0},"DID_START_ITEM_LOAD"),DID_START_ITEM_REMOVE:i(function(n){var o=n.root;o.ref.processProgressIndicator.spin=!0,o.ref.processProgressIndicator.progress=0},"DID_START_ITEM_REMOVE"),DID_UPDATE_ITEM_LOAD_PROGRESS:i(function(n){var o=n.root,a=n.action;o.ref.loadProgressIndicator.spin=!1,o.ref.loadProgressIndicator.progress=a.progress},"DID_UPDATE_ITEM_LOAD_PROGRESS"),DID_UPDATE_ITEM_PROCESS_PROGRESS:i(function(n){var o=n.root,a=n.action;o.ref.processProgressIndicator.spin=!1,o.ref.processProgressIndicator.progress=a.progress},"DID_UPDATE_ITEM_PROCESS_PROGRESS")}),xm=Ye({create:Pm,write:Nm,didCreateView:i(function(n){yn("CREATE_VIEW",Object.assign({},n,{view:n}))},"didCreateView"),name:"file"}),Fm=i(function(n){var o=n.root,a=n.props;o.ref.fileName=Zt("legend"),o.appendChild(o.ref.fileName),o.ref.file=o.appendChildView(o.createChildView(xm,{id:a.id})),o.ref.data=!1},"create"),Um=i(function(n){var o=n.root,a=n.props;Ze(o.ref.fileName,Qs(o.query("GET_ITEM_NAME",a.id)))},"didLoadItem"),Bm=Ye({create:Fm,ignoreRect:!0,write:We({DID_LOAD_ITEM:Um}),didCreateView:i(function(n){yn("CREATE_VIEW",Object.assign({},n,{view:n}))},"didCreateView"),tag:"fieldset",name:"file-wrapper"}),uu={type:"spring",damping:.6,mass:7},Vm=i(function(n){var o=n.root,a=n.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:uu},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:uu},styles:["translateY"]}}].forEach(function(u){Gm(o,u,a.name)}),o.element.classList.add("filepond--"+a.name),o.ref.scalable=null},"create"),Gm=i(function(n,o,a){var u=Ye({name:"panel-"+o.name+" filepond--"+a,mixins:o.mixins,ignoreRectUpdate:!0}),f=n.createChildView(u,o.props);n.ref[o.name]=n.appendChildView(f)},"createSection"),km=i(function(n){var o=n.root,a=n.props;if((o.ref.scalable===null||a.scalable!==o.ref.scalable)&&(o.ref.scalable=Pi(a.scalable)?a.scalable:!0,o.element.dataset.scalable=o.ref.scalable),!!a.height){var u=o.ref.top.rect.element,f=o.ref.bottom.rect.element,m=Math.max(u.height+f.height,a.height);o.ref.center.translateY=u.height,o.ref.center.scaleY=(m-u.height-f.height)/100,o.ref.bottom.translateY=m-f.height}},"write"),cu=Ye({name:"panel",read:i(function(n){var o=n.root,a=n.props;return a.heightCurrent=o.ref.bottom.translateY},"read"),write:km,create:Vm,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Hm=i(function(n){var o=n.map(function(u){return u.id}),a=void 0;return{setIndex:i(function(f){a=f},"setIndex"),getIndex:i(function(){return a},"getIndex"),getItemIndex:i(function(f){return o.indexOf(f.id)},"getItemIndex")}},"createDragHelper"),fu={type:"spring",stiffness:.75,damping:.45,mass:10},du="spring",pu={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ym=i(function(n){var o=n.root,a=n.props;if(o.ref.handleClick=function(f){return o.dispatch("DID_ACTIVATE_ITEM",{id:a.id})},o.element.id="filepond--item-"+a.id,o.element.addEventListener("click",o.ref.handleClick),o.ref.container=o.appendChildView(o.createChildView(Bm,{id:a.id})),o.ref.panel=o.appendChildView(o.createChildView(cu,{name:"item-panel"})),o.ref.panel.height=null,a.markedForRemoval=!1,!!o.query("GET_ALLOW_REORDER")){o.element.dataset.dragState="idle";var u=i(function(m){if(m.isPrimary){var h=!1,E={x:m.pageX,y:m.pageY};a.dragOrigin={x:o.translateX,y:o.translateY},a.dragCenter={x:m.offsetX,y:m.offsetY};var _=Hm(o.query("GET_ACTIVE_ITEMS"));o.dispatch("DID_GRAB_ITEM",{id:a.id,dragState:_});var I=i(function(V){if(V.isPrimary){V.stopPropagation(),V.preventDefault(),a.dragOffset={x:V.pageX-E.x,y:V.pageY-E.y};var N=a.dragOffset.x*a.dragOffset.x+a.dragOffset.y*a.dragOffset.y;N>16&&!h&&(h=!0,o.element.removeEventListener("click",o.ref.handleClick)),o.dispatch("DID_DRAG_ITEM",{id:a.id,dragState:_})}},"drag"),D=i(function(V){V.isPrimary&&(a.dragOffset={x:V.pageX-E.x,y:V.pageY-E.y},F())},"drop"),O=i(function(){F()},"cancel"),F=i(function(){document.removeEventListener("pointercancel",O),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",D),o.dispatch("DID_DROP_ITEM",{id:a.id,dragState:_}),h&&setTimeout(function(){return o.element.addEventListener("click",o.ref.handleClick)},0)},"reset");document.addEventListener("pointercancel",O),document.addEventListener("pointermove",I),document.addEventListener("pointerup",D)}},"grab");o.element.addEventListener("pointerdown",u)}},"create"),jm=We({DID_UPDATE_PANEL_HEIGHT:i(function(n){var o=n.root,a=n.action;o.height=a.height},"DID_UPDATE_PANEL_HEIGHT")}),qm=We({DID_GRAB_ITEM:i(function(n){var o=n.root,a=n.props;a.dragOrigin={x:o.translateX,y:o.translateY}},"DID_GRAB_ITEM"),DID_DRAG_ITEM:i(function(n){var o=n.root;o.element.dataset.dragState="drag"},"DID_DRAG_ITEM"),DID_DROP_ITEM:i(function(n){var o=n.root,a=n.props;a.dragOffset=null,a.dragOrigin=null,o.element.dataset.dragState="drop"},"DID_DROP_ITEM")},function(c){var n=c.root,o=c.actions,a=c.props,u=c.shouldOptimize;n.element.dataset.dragState==="drop"&&n.scaleX<=1&&(n.element.dataset.dragState="idle");var f=o.concat().filter(function(h){return/^DID_/.test(h.type)}).reverse().find(function(h){return pu[h.type]});f&&f.type!==a.currentState&&(a.currentState=f.type,n.element.dataset.filepondItemState=pu[a.currentState]||"");var m=n.query("GET_ITEM_PANEL_ASPECT_RATIO")||n.query("GET_PANEL_ASPECT_RATIO");m?u||(n.height=n.rect.element.width*m):(jm({root:n,actions:o,props:a}),!n.height&&n.ref.container.rect.element.height>0&&(n.height=n.ref.container.rect.element.height)),u&&(n.ref.panel.height=null),n.ref.panel.height=n.height}),zm=Ye({create:Ym,write:qm,destroy:i(function(n){var o=n.root,a=n.props;o.element.removeEventListener("click",o.ref.handleClick),o.dispatch("RELEASE_ITEM",{query:a.id})},"destroy"),tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:du,scaleY:du,translateX:fu,translateY:fu,opacity:{type:"tween",duration:150}}}}),ra=i(function(c,n){return Math.max(1,Math.floor((c+1)/n))},"getItemsPerRow"),ia=i(function(n,o,a){if(a){var u=n.rect.element.width,f=o.length,m=null;if(f===0||a.top<o[0].rect.element.top)return-1;var h=o[0],E=h.rect.element,_=E.marginLeft+E.marginRight,I=E.width+_,D=ra(u,I);if(D===1){for(var O=0;O<f;O++){var F=o[O],B=F.rect.outer.top+F.rect.element.height*.5;if(a.top<B)return O}return f}for(var V=E.marginTop+E.marginBottom,N=E.height+V,H=0;H<f;H++){var Q=H%D,ee=Math.floor(H/D),q=Q*I,ve=ee*N,z=ve-E.marginTop,Ne=q+I,Me=ve+N+E.marginBottom;if(a.top<Me&&a.top>z){if(a.left<Ne)return H;H!==f-1?m=H:m=null}}return m!==null?m:f}},"getItemIndexByPosition"),Qi={height:0,width:0,get getHeight(){return this.height},set setHeight(c){(this.height===0||c===0)&&(this.height=c)},get getWidth(){return this.width},set setWidth(c){(this.width===0||c===0)&&(this.width=c)},setDimensions:i(function(n,o){(this.height===0||n===0)&&(this.height=n),(this.width===0||o===0)&&(this.width=o)},"setDimensions")},Wm=i(function(n){var o=n.root;d(o.element,"role","list"),o.ref.lastItemSpanwDate=Date.now()},"create"),Km=i(function(n){var o=n.root,a=n.action,u=a.id,f=a.index,m=a.interactionMethod;o.ref.addIndex=f;var h=Date.now(),E=h,_=1;if(m!==T.NONE){_=0;var I=o.query("GET_ITEM_INSERT_INTERVAL"),D=h-o.ref.lastItemSpanwDate;E=D<I?h+(I-D):h}o.ref.lastItemSpanwDate=E,o.appendChildView(o.createChildView(zm,{spawnDate:E,id:u,opacity:_,interactionMethod:m}),f)},"addItemView"),mu=i(function(n,o,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;n.dragOffset?(n.translateX=null,n.translateY=null,n.translateX=n.dragOrigin.x+n.dragOffset.x,n.translateY=n.dragOrigin.y+n.dragOffset.y,n.scaleX=1.025,n.scaleY=1.025):(n.translateX=o,n.translateY=a,Date.now()>n.spawnDate&&(n.opacity===0&&$m(n,o,a,u,f),n.scaleX=1,n.scaleY=1,n.opacity=1))},"moveItem"),$m=i(function(n,o,a,u,f){n.interactionMethod===T.NONE?(n.translateX=null,n.translateX=o,n.translateY=null,n.translateY=a):n.interactionMethod===T.DROP?(n.translateX=null,n.translateX=o-u*20,n.translateY=null,n.translateY=a-f*10,n.scaleX=.8,n.scaleY=.8):n.interactionMethod===T.BROWSE?(n.translateY=null,n.translateY=a-30):n.interactionMethod===T.API&&(n.translateX=null,n.translateX=o-30,n.translateY=null)},"introItemView"),Xm=i(function(n){var o=n.root,a=n.action,u=a.id,f=o.childViews.find(function(m){return m.id===u});f&&(f.scaleX=.9,f.scaleY=.9,f.opacity=0,f.markedForRemoval=!0)},"removeItemView"),oa=i(function(n){return n.rect.element.height+n.rect.element.marginBottom*.5+n.rect.element.marginTop*.5},"getItemHeight"),Qm=i(function(n){return n.rect.element.width+n.rect.element.marginLeft*.5+n.rect.element.marginRight*.5},"getItemWidth"),Jm=i(function(n){var o=n.root,a=n.action,u=a.id,f=a.dragState,m=o.query("GET_ITEM",{id:u}),h=o.childViews.find(function(Q){return Q.id===u}),E=o.childViews.length,_=f.getItemIndex(m);if(h){var I={x:h.dragOrigin.x+h.dragOffset.x+h.dragCenter.x,y:h.dragOrigin.y+h.dragOffset.y+h.dragCenter.y},D=oa(h),O=Qm(h),F=Math.floor(o.rect.outer.width/O);F>E&&(F=E);var B=Math.floor(E/F+1);Qi.setHeight=D*B,Qi.setWidth=O*F;var V={y:Math.floor(I.y/D),x:Math.floor(I.x/O),getGridIndex:i(function(){return I.y>Qi.getHeight||I.y<0||I.x>Qi.getWidth||I.x<0?_:this.y*F+this.x},"getGridIndex"),getColIndex:i(function(){for(var ee=o.query("GET_ACTIVE_ITEMS"),q=o.childViews.filter(function(se){return se.rect.element.height}),ve=ee.map(function(se){return q.find(function(xe){return xe.id===se.id})}),z=ve.findIndex(function(se){return se===h}),Ne=oa(h),Me=ve.length,K=Me,te=0,oe=0,W=0,J=0;J<Me;J++)if(te=oa(ve[J]),W=oe,oe=W+te,I.y<oe){if(z>J){if(I.y<W+Ne){K=J;break}continue}K=J;break}return K},"getColIndex")},N=F>1?V.getGridIndex():V.getColIndex();o.dispatch("MOVE_ITEM",{query:h,index:N});var H=f.getIndex();if(H===void 0||H!==N){if(f.setIndex(N),H===void 0)return;o.dispatch("DID_REORDER_ITEMS",{items:o.query("GET_ACTIVE_ITEMS"),origin:_,target:N})}}},"dragItem"),Zm=We({DID_ADD_ITEM:Km,DID_REMOVE_ITEM:Xm,DID_DRAG_ITEM:Jm}),eh=i(function(n){var o=n.root,a=n.props,u=n.actions,f=n.shouldOptimize;Zm({root:o,props:a,actions:u});var m=a.dragCoordinates,h=o.rect.element.width,E=o.childViews.filter(function(K){return K.rect.element.height}),_=o.query("GET_ACTIVE_ITEMS").map(function(K){return E.find(function(te){return te.id===K.id})}).filter(function(K){return K}),I=m?ia(o,_,m):null,D=o.ref.addIndex||null;o.ref.addIndex=null;var O=0,F=0,B=0;if(_.length!==0){var V=_[0].rect.element,N=V.marginTop+V.marginBottom,H=V.marginLeft+V.marginRight,Q=V.width+H,ee=V.height+N,q=ra(h,Q);if(q===1){var ve=0,z=0;_.forEach(function(K,te){if(I){var oe=te-I;oe===-2?z=-N*.25:oe===-1?z=-N*.75:oe===0?z=N*.75:oe===1?z=N*.25:z=0}f&&(K.translateX=null,K.translateY=null),K.markedForRemoval||mu(K,0,ve+z);var W=K.rect.element.height+N,J=W*(K.markedForRemoval?K.opacity:1);ve+=J})}else{var Ne=0,Me=0;_.forEach(function(K,te){te===I&&(O=1),te===D&&(B+=1),K.markedForRemoval&&K.opacity<.5&&(F-=1);var oe=te+B+O+F,W=oe%q,J=Math.floor(oe/q),se=W*Q,xe=J*ee,Ce=Math.sign(se-Ne),ae=Math.sign(xe-Me);Ne=se,Me=xe,!K.markedForRemoval&&(f&&(K.translateX=null,K.translateY=null),mu(K,se,xe,Ce,ae))})}}},"write"),th=i(function(n,o){return o.filter(function(a){return a.data&&a.data.id?n.id===a.data.id:!0})},"filterSetItemActions"),nh=Ye({create:Wm,write:eh,tag:"ul",name:"list",didWriteView:i(function(n){var o=n.root;o.childViews.filter(function(a){return a.markedForRemoval&&a.opacity===0&&a.resting}).forEach(function(a){a._destroy(),o.removeChildView(a)})},"didWriteView"),filterFrameActionsForChild:th,mixins:{apis:["dragCoordinates"]}}),rh=i(function(n){var o=n.root,a=n.props;o.ref.list=o.appendChildView(o.createChildView(nh)),a.dragCoordinates=null,a.overflowing=!1},"create"),ih=i(function(n){var o=n.root,a=n.props,u=n.action;o.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(a.dragCoordinates={left:u.position.scopeLeft-o.ref.list.rect.element.left,top:u.position.scopeTop-(o.rect.outer.top+o.rect.element.marginTop+o.rect.element.scrollTop)})},"storeDragCoordinates"),oh=i(function(n){var o=n.props;o.dragCoordinates=null},"clearDragCoordinates"),sh=We({DID_DRAG:ih,DID_END_DRAG:oh}),ah=i(function(n){var o=n.root,a=n.props,u=n.actions;if(sh({root:o,props:a,actions:u}),o.ref.list.dragCoordinates=a.dragCoordinates,a.overflowing&&!a.overflow&&(a.overflowing=!1,o.element.dataset.state="",o.height=null),a.overflow){var f=Math.round(a.overflow);f!==o.height&&(a.overflowing=!0,o.element.dataset.state="overflow",o.height=f)}},"write"),lh=Ye({create:rh,write:ah,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),kt=i(function(n,o,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";a?d(n,o,u):n.removeAttribute(o)},"attrToggle"),uh=i(function(n){if(!(!n||n.value==="")){try{n.value=""}catch{}if(n.value){var o=Zt("form"),a=n.parentNode,u=n.nextSibling;o.appendChild(n),o.reset(),u?a.insertBefore(n,u):a.appendChild(n)}}},"resetFileInput"),ch=i(function(n){var o=n.root,a=n.props;o.element.id="filepond--browser-"+a.id,d(o.element,"name",o.query("GET_NAME")),d(o.element,"aria-controls","filepond--assistant-"+a.id),d(o.element,"aria-labelledby","filepond--drop-label-"+a.id),hu({root:o,action:{value:o.query("GET_ACCEPTED_FILE_TYPES")}}),Eu({root:o,action:{value:o.query("GET_ALLOW_MULTIPLE")}}),gu({root:o,action:{value:o.query("GET_ALLOW_DIRECTORIES_ONLY")}}),sa({root:o}),vu({root:o,action:{value:o.query("GET_REQUIRED")}}),_u({root:o,action:{value:o.query("GET_CAPTURE_METHOD")}}),o.ref.handleChange=function(u){if(o.element.value){var f=Array.from(o.element.files).map(function(m){return m._relativePath=m.webkitRelativePath,m});setTimeout(function(){a.onload(f),uh(o.element)},250)}},o.element.addEventListener("change",o.ref.handleChange)},"create"),hu=i(function(n){var o=n.root,a=n.action;o.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&kt(o.element,"accept",!!a.value,a.value?a.value.join(","):"")},"setAcceptedFileTypes"),Eu=i(function(n){var o=n.root,a=n.action;kt(o.element,"multiple",a.value)},"toggleAllowMultiple"),gu=i(function(n){var o=n.root,a=n.action;kt(o.element,"webkitdirectory",a.value)},"toggleDirectoryFilter"),sa=i(function(n){var o=n.root,a=o.query("GET_DISABLED"),u=o.query("GET_ALLOW_BROWSE"),f=a||!u;kt(o.element,"disabled",f)},"toggleDisabled"),vu=i(function(n){var o=n.root,a=n.action;a.value?o.query("GET_TOTAL_ITEMS")===0&&kt(o.element,"required",!0):kt(o.element,"required",!1)},"toggleRequired"),_u=i(function(n){var o=n.root,a=n.action;kt(o.element,"capture",!!a.value,a.value===!0?"":a.value)},"setCaptureMethod"),Tu=i(function(n){var o=n.root,a=o.element;if(o.query("GET_TOTAL_ITEMS")>0){kt(a,"required",!1),kt(a,"name",!1);for(var u=o.query("GET_ACTIVE_ITEMS"),f=!1,m=0;m<u.length;m++)u[m].status===he.LOAD_ERROR&&(f=!0);o.element.setCustomValidity(f?o.query("GET_LABEL_INVALID_FIELD"):"")}else{kt(a,"name",!0,o.query("GET_NAME"));var h=o.query("GET_CHECK_VALIDITY");h&&a.setCustomValidity(""),o.query("GET_REQUIRED")&&kt(a,"required",!0)}},"updateRequiredStatus"),fh=i(function(n){var o=n.root,a=o.query("GET_CHECK_VALIDITY");a&&o.element.setCustomValidity(o.query("GET_LABEL_INVALID_FIELD"))},"updateFieldValidityStatus"),dh=Ye({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:ch,destroy:i(function(n){var o=n.root;o.element.removeEventListener("change",o.ref.handleChange)},"destroy"),write:We({DID_LOAD_ITEM:Tu,DID_REMOVE_ITEM:Tu,DID_THROW_ITEM_INVALID:fh,DID_SET_DISABLED:sa,DID_SET_ALLOW_BROWSE:sa,DID_SET_ALLOW_DIRECTORIES_ONLY:gu,DID_SET_ALLOW_MULTIPLE:Eu,DID_SET_ACCEPTED_FILE_TYPES:hu,DID_SET_CAPTURE_METHOD:_u,DID_SET_REQUIRED:vu})}),Iu={ENTER:13,SPACE:32},ph=i(function(n){var o=n.root,a=n.props,u=Zt("label");d(u,"for","filepond--browser-"+a.id),d(u,"id","filepond--drop-label-"+a.id),o.ref.handleKeyDown=function(f){var m=f.keyCode===Iu.ENTER||f.keyCode===Iu.SPACE;m&&(f.preventDefault(),o.ref.label.click())},o.ref.handleClick=function(f){var m=f.target===u||u.contains(f.target);m||o.ref.label.click()},u.addEventListener("keydown",o.ref.handleKeyDown),o.element.addEventListener("click",o.ref.handleClick),yu(u,a.caption),o.appendChild(u),o.ref.label=u},"create"),yu=i(function(n,o){n.innerHTML=o;var a=n.querySelector(".filepond--label-action");return a&&d(a,"tabindex","0"),o},"updateLabelValue"),mh=Ye({name:"drop-label",ignoreRect:!0,create:ph,destroy:i(function(n){var o=n.root;o.ref.label.addEventListener("keydown",o.ref.handleKeyDown),o.element.removeEventListener("click",o.ref.handleClick)},"destroy"),write:We({DID_SET_LABEL_IDLE:i(function(n){var o=n.root,a=n.action;yu(o.ref.label,a.value)},"DID_SET_LABEL_IDLE")}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),hh=Ye({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Eh=i(function(n){var o=n.root,a=o.rect.element.width*.5,u=o.rect.element.height*.5;o.ref.blob=o.appendChildView(o.createChildView(hh,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:a,translateY:u}))},"addBlob"),gh=i(function(n){var o=n.root,a=n.action;if(!o.ref.blob){Eh({root:o});return}o.ref.blob.translateX=a.position.scopeLeft,o.ref.blob.translateY=a.position.scopeTop,o.ref.blob.scaleX=1,o.ref.blob.scaleY=1,o.ref.blob.opacity=1},"moveBlob"),vh=i(function(n){var o=n.root;o.ref.blob&&(o.ref.blob.opacity=0)},"hideBlob"),_h=i(function(n){var o=n.root;o.ref.blob&&(o.ref.blob.scaleX=2.5,o.ref.blob.scaleY=2.5,o.ref.blob.opacity=0)},"explodeBlob"),Th=i(function(n){var o=n.root,a=n.props,u=n.actions;Ih({root:o,props:a,actions:u});var f=o.ref.blob;u.length===0&&f&&f.opacity===0&&(o.removeChildView(f),o.ref.blob=null)},"write"),Ih=We({DID_DRAG:gh,DID_DROP:_h,DID_END_DRAG:vh}),yh=Ye({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Th}),bu=i(function(n,o){try{var a=new DataTransfer;o.forEach(function(u){u instanceof File?a.items.add(u):a.items.add(new File([u],u.name,{type:u.type}))}),n.files=a.files}catch{return!1}return!0},"setInputFiles"),bh=i(function(n){var o=n.root;o.ref.fields={};var a=document.createElement("legend");a.textContent="Files",o.element.appendChild(a)},"create"),Ji=i(function(n,o){return n.ref.fields[o]},"getField"),aa=i(function(n){n.query("GET_ACTIVE_ITEMS").forEach(function(o){n.ref.fields[o.id]&&n.element.appendChild(n.ref.fields[o.id])})},"syncFieldPositionsWithItems"),Au=i(function(n){var o=n.root;return aa(o)},"didReorderItems"),Ah=i(function(n){var o=n.root,a=n.action,u=o.query("GET_ITEM",a.id),f=u.origin===st.LOCAL,m=!f&&o.query("SHOULD_UPDATE_FILE_INPUT"),h=Zt("input");h.type=m?"file":"hidden",h.name=o.query("GET_NAME"),o.ref.fields[a.id]=h,aa(o)},"didAddItem"),Dh=i(function(n){var o=n.root,a=n.action,u=Ji(o,a.id);if(u&&(a.serverFileReference!==null&&(u.value=a.serverFileReference),!!o.query("SHOULD_UPDATE_FILE_INPUT"))){var f=o.query("GET_ITEM",a.id);bu(u,[f.file])}},"didLoadItem"),Oh=i(function(n){var o=n.root,a=n.action;o.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var u=Ji(o,a.id);u&&bu(u,[a.file])},0)},"didPrepareOutput"),Sh=i(function(n){var o=n.root;o.element.disabled=o.query("GET_DISABLED")},"didSetDisabled"),Rh=i(function(n){var o=n.root,a=n.action,u=Ji(o,a.id);u&&(u.parentNode&&u.parentNode.removeChild(u),delete o.ref.fields[a.id])},"didRemoveItem"),wh=i(function(n){var o=n.root,a=n.action,u=Ji(o,a.id);u&&(a.value===null?u.removeAttribute("value"):u.type!="file"&&(u.value=a.value),aa(o))},"didDefineValue"),Lh=We({DID_SET_DISABLED:Sh,DID_ADD_ITEM:Ah,DID_LOAD_ITEM:Dh,DID_REMOVE_ITEM:Rh,DID_DEFINE_VALUE:wh,DID_PREPARE_OUTPUT:Oh,DID_REORDER_ITEMS:Au,DID_SORT_ITEMS:Au}),Ch=Ye({tag:"fieldset",name:"data",create:bh,write:Lh,ignoreRect:!0}),Ph=i(function(n){return"getRootNode"in n?n.getRootNode():document},"getRootNode"),Nh=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Mh=["css","csv","html","txt"],xh={zip:"zip|compressed",epub:"application/epub+zip"},Du=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n=n.toLowerCase(),Nh.includes(n)?"image/"+(n==="jpg"?"jpeg":n==="svg"?"svg+xml":n):Mh.includes(n)?"text/"+n:xh[n]||""},"guesstimateMimeType"),la=i(function(n){return new Promise(function(o,a){var u=Yh(n);if(u.length&&!Fh(n))return o(u);Uh(n).then(o)})},"requestDataTransferItems"),Fh=i(function(n){return n.files?n.files.length>0:!1},"hasFiles"),Uh=i(function(n){return new Promise(function(o,a){var u=(n.items?Array.from(n.items):[]).filter(function(f){return Bh(f)}).map(function(f){return Vh(f)});if(!u.length){o(n.files?Array.from(n.files):[]);return}Promise.all(u).then(function(f){var m=[];f.forEach(function(h){m.push.apply(m,h)}),o(m.filter(function(h){return h}).map(function(h){return h._relativePath||(h._relativePath=h.webkitRelativePath),h}))}).catch(console.error)})},"getFiles"),Bh=i(function(n){if(Ou(n)){var o=ua(n);if(o)return o.isFile||o.isDirectory}return n.kind==="file"},"isFileSystemItem"),Vh=i(function(n){return new Promise(function(o,a){if(Hh(n)){Gh(ua(n)).then(o).catch(a);return}o([n.getAsFile()])})},"getFilesFromItem"),Gh=i(function(n){return new Promise(function(o,a){var u=[],f=0,m=0,h=i(function(){m===0&&f===0&&o(u)},"resolveIfDone"),E=i(function _(I){f++;var D=I.createReader(),O=i(function F(){D.readEntries(function(B){if(B.length===0){f--,h();return}B.forEach(function(V){V.isDirectory?_(V):(m++,V.file(function(N){var H=kh(N);V.fullPath&&(H._relativePath=V.fullPath),u.push(H),m--,h()}))}),F()},a)},"readBatch");O()},"readEntries");E(n)})},"getFilesInDirectory"),kh=i(function(n){if(n.type.length)return n;var o=n.lastModifiedDate,a=n.name,u=Du(Ki(n.name));return u.length&&(n=n.slice(0,n.size,u),n.name=a,n.lastModifiedDate=o),n},"correctMissingFileType"),Hh=i(function(n){return Ou(n)&&(ua(n)||{}).isDirectory},"isDirectoryEntry"),Ou=i(function(n){return"webkitGetAsEntry"in n},"isEntry"),ua=i(function(n){return n.webkitGetAsEntry()},"getAsEntry"),Yh=i(function(n){var o=[];try{if(o=qh(n),o.length)return o;o=jh(n)}catch{}return o},"getLinks"),jh=i(function(n){var o=n.getData("url");return typeof o=="string"&&o.length?[o]:[]},"getLinksFromTransferURLData"),qh=i(function(n){var o=n.getData("text/html");if(typeof o=="string"&&o.length){var a=o.match(/src\s*=\s*"(.+?)"/);if(a)return[a[1]]}return[]},"getLinksFromTransferMetaData"),Zi=[],Sn=i(function(n){return{pageLeft:n.pageX,pageTop:n.pageY,scopeLeft:n.offsetX||n.layerX,scopeTop:n.offsetY||n.layerY}},"eventPosition"),zh=i(function(n,o,a){var u=Wh(o),f={element:n,filterElement:a,state:null,ondrop:i(function(){},"ondrop"),onenter:i(function(){},"onenter"),ondrag:i(function(){},"ondrag"),onexit:i(function(){},"onexit"),onload:i(function(){},"onload"),allowdrop:i(function(){},"allowdrop")};return f.destroy=u.addListener(f),f},"createDragNDropClient"),Wh=i(function(n){var o=Zi.find(function(u){return u.element===n});if(o)return o;var a=Kh(n);return Zi.push(a),a},"getDragNDropObserver"),Kh=i(function(n){var o=[],a={dragenter:Xh,dragover:Qh,dragleave:Zh,drop:Jh},u={};l(a,function(m,h){u[m]=h(n,o),n.addEventListener(m,u[m],!1)});var f={element:n,addListener:i(function(h){return o.push(h),function(){o.splice(o.indexOf(h),1),o.length===0&&(Zi.splice(Zi.indexOf(f),1),l(a,function(E){n.removeEventListener(E,u[E],!1)}))}},"addListener")};return f},"createDragNDropObserver"),$h=i(function(n,o){return"elementFromPoint"in n||(n=document),n.elementFromPoint(o.x,o.y)},"elementFromPoint"),ca=i(function(n,o){var a=Ph(o),u=$h(a,{x:n.pageX-window.pageXOffset,y:n.pageY-window.pageYOffset});return u===o||o.contains(u)},"isEventTarget"),Su=null,eo=i(function(n,o){try{n.dropEffect=o}catch{}},"setDropEffect"),Xh=i(function(n,o){return function(a){a.preventDefault(),Su=a.target,o.forEach(function(u){var f=u.element,m=u.onenter;ca(a,f)&&(u.state="enter",m(Sn(a)))})}},"dragenter"),Qh=i(function(n,o){return function(a){a.preventDefault();var u=a.dataTransfer;la(u).then(function(f){var m=!1;o.some(function(h){var E=h.filterElement,_=h.element,I=h.onenter,D=h.onexit,O=h.ondrag,F=h.allowdrop;eo(u,"copy");var B=F(f);if(!B){eo(u,"none");return}if(ca(a,_)){if(m=!0,h.state===null){h.state="enter",I(Sn(a));return}if(h.state="over",E&&!B){eo(u,"none");return}O(Sn(a))}else E&&!m&&eo(u,"none"),h.state&&(h.state=null,D(Sn(a)))})})}},"dragover"),Jh=i(function(n,o){return function(a){a.preventDefault();var u=a.dataTransfer;la(u).then(function(f){o.forEach(function(m){var h=m.filterElement,E=m.element,_=m.ondrop,I=m.onexit,D=m.allowdrop;if(m.state=null,!(h&&!ca(a,E))){if(!D(f))return I(Sn(a));_(Sn(a),f)}})})}},"drop"),Zh=i(function(n,o){return function(a){Su===a.target&&o.forEach(function(u){var f=u.onexit;u.state=null,f(Sn(a))})}},"dragleave"),eE=i(function(n,o,a){n.classList.add("filepond--hopper");var u=a.catchesDropsOnPage,f=a.requiresDropOnElement,m=a.filterItems,h=m===void 0?function(O){return O}:m,E=zh(n,u?document.documentElement:n,f),_="",I="";E.allowdrop=function(O){return o(h(O))},E.ondrop=function(O,F){var B=h(F);if(!o(B)){D.ondragend(O);return}I="drag-drop",D.onload(B,O)},E.ondrag=function(O){D.ondrag(O)},E.onenter=function(O){I="drag-over",D.ondragstart(O)},E.onexit=function(O){I="drag-exit",D.ondragend(O)};var D={updateHopperState:i(function(){_!==I&&(n.dataset.hopperState=I,_=I)},"updateHopperState"),onload:i(function(){},"onload"),ondragstart:i(function(){},"ondragstart"),ondrag:i(function(){},"ondrag"),ondragend:i(function(){},"ondragend"),destroy:i(function(){E.destroy()},"destroy")};return D},"createHopper"),fa=!1,er=[],Ru=i(function(n){var o=document.activeElement,a=o&&(/textarea|input/i.test(o.nodeName)||o.getAttribute("contenteditable")==="true");if(a){for(var u=!1,f=o;f!==document.body;){if(f.classList.contains("filepond--root")){u=!0;break}f=f.parentNode}if(!u)return}la(n.clipboardData).then(function(m){m.length&&er.forEach(function(h){return h(m)})})},"handlePaste"),tE=i(function(n){er.includes(n)||(er.push(n),!fa&&(fa=!0,document.addEventListener("paste",Ru)))},"listen"),nE=i(function(n){js(er,er.indexOf(n)),er.length===0&&(document.removeEventListener("paste",Ru),fa=!1)},"unlisten"),rE=i(function(){var n=i(function(u){o.onload(u)},"cb"),o={destroy:i(function(){nE(n)},"destroy"),onload:i(function(){},"onload")};return tE(n),o},"createPaster"),iE=i(function(n){var o=n.root,a=n.props;o.element.id="filepond--assistant-"+a.id,d(o.element,"role","alert"),d(o.element,"aria-live","polite"),d(o.element,"aria-relevant","additions")},"create"),wu=null,Lu=null,da=[],to=i(function(n,o){n.element.textContent=o},"assist"),oE=i(function(n){n.element.textContent=""},"clear"),Cu=i(function(n,o,a){var u=n.query("GET_TOTAL_ITEMS");to(n,a+" "+o+", "+u+" "+(u===1?n.query("GET_LABEL_FILE_COUNT_SINGULAR"):n.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Lu),Lu=setTimeout(function(){oE(n)},1500)},"listModified"),Pu=i(function(n){return n.element.parentNode.contains(document.activeElement)},"isUsingFilePond"),sE=i(function(n){var o=n.root,a=n.action;if(Pu(o)){o.element.textContent="";var u=o.query("GET_ITEM",a.id);da.push(u.filename),clearTimeout(wu),wu=setTimeout(function(){Cu(o,da.join(", "),o.query("GET_LABEL_FILE_ADDED")),da.length=0},750)}},"itemAdded"),aE=i(function(n){var o=n.root,a=n.action;if(Pu(o)){var u=a.item;Cu(o,u.filename,o.query("GET_LABEL_FILE_REMOVED"))}},"itemRemoved"),lE=i(function(n){var o=n.root,a=n.action,u=o.query("GET_ITEM",a.id),f=u.filename,m=o.query("GET_LABEL_FILE_PROCESSING_COMPLETE");to(o,f+" "+m)},"itemProcessed"),Nu=i(function(n){var o=n.root,a=n.action,u=o.query("GET_ITEM",a.id),f=u.filename,m=o.query("GET_LABEL_FILE_PROCESSING_ABORTED");to(o,f+" "+m)},"itemProcessedUndo"),no=i(function(n){var o=n.root,a=n.action,u=o.query("GET_ITEM",a.id),f=u.filename;to(o,a.status.main+" "+f+" "+a.status.sub)},"itemError"),uE=Ye({create:iE,ignoreRect:!0,ignoreRectUpdate:!0,write:We({DID_LOAD_ITEM:sE,DID_REMOVE_ITEM:aE,DID_COMPLETE_ITEM_PROCESSING:lE,DID_ABORT_ITEM_PROCESSING:Nu,DID_REVERT_ITEM_PROCESSING:Nu,DID_THROW_ITEM_REMOVE_ERROR:no,DID_THROW_ITEM_LOAD_ERROR:no,DID_THROW_ITEM_INVALID:no,DID_THROW_ITEM_PROCESSING_ERROR:no}),tag:"span",name:"assistant"}),Mu=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return n.replace(new RegExp(o+".","g"),function(a){return a.charAt(1).toUpperCase()})},"toCamels"),xu=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Date.now(),f=null;return function(){for(var m=arguments.length,h=new Array(m),E=0;E<m;E++)h[E]=arguments[E];clearTimeout(f);var _=Date.now()-u,I=i(function(){u=Date.now(),n.apply(void 0,h)},"fn");_<o?a||(f=setTimeout(I,o-_)):I()}},"debounce"),cE=1e6,ro=i(function(n){return n.preventDefault()},"prevent"),fE=i(function(n){var o=n.root,a=n.props,u=o.query("GET_ID");u&&(o.element.id=u);var f=o.query("GET_CLASS_NAME");f&&f.split(" ").filter(function(D){return D.length}).forEach(function(D){o.element.classList.add(D)}),o.ref.label=o.appendChildView(o.createChildView(mh,Object.assign({},a,{translateY:null,caption:o.query("GET_LABEL_IDLE")}))),o.ref.list=o.appendChildView(o.createChildView(lh,{translateY:null})),o.ref.panel=o.appendChildView(o.createChildView(cu,{name:"panel-root"})),o.ref.assistant=o.appendChildView(o.createChildView(uE,Object.assign({},a))),o.ref.data=o.appendChildView(o.createChildView(Ch,Object.assign({},a))),o.ref.measure=Zt("div"),o.ref.measure.style.height="100%",o.element.appendChild(o.ref.measure),o.ref.bounds=null,o.query("GET_STYLES").filter(function(D){return!vt(D.value)}).map(function(D){var O=D.name,F=D.value;o.element.dataset[O]=F}),o.ref.widthPrevious=null,o.ref.widthUpdated=xu(function(){o.ref.updateHistory=[],o.dispatch("DID_RESIZE_ROOT")},250),o.ref.previousAspectRatio=null,o.ref.updateHistory=[];var m=window.matchMedia("(pointer: fine) and (hover: hover)").matches,h="PointerEvent"in window;o.query("GET_ALLOW_REORDER")&&h&&!m&&(o.element.addEventListener("touchmove",ro,{passive:!1}),o.element.addEventListener("gesturestart",ro));var E=o.query("GET_CREDITS"),_=E.length===2;if(_){var I=document.createElement("a");I.className="filepond--credits",I.href=E[0],I.tabIndex=-1,I.target="_blank",I.rel="noopener noreferrer nofollow",I.textContent=E[1],o.element.appendChild(I),o.ref.credits=I}},"create"),dE=i(function(n){var o=n.root,a=n.props,u=n.actions;if(gE({root:o,props:a,actions:u}),u.filter(function(Re){return/^DID_SET_STYLE_/.test(Re.type)}).filter(function(Re){return!vt(Re.data.value)}).map(function(Re){var je=Re.type,Xe=Re.data,tr=Mu(je.substring(8).toLowerCase(),"_");o.element.dataset[tr]=Xe.value,o.invalidateLayout()}),!o.rect.element.hidden){o.rect.element.width!==o.ref.widthPrevious&&(o.ref.widthPrevious=o.rect.element.width,o.ref.widthUpdated());var f=o.ref.bounds;f||(f=o.ref.bounds=hE(o),o.element.removeChild(o.ref.measure),o.ref.measure=null);var m=o.ref,h=m.hopper,E=m.label,_=m.list,I=m.panel;h&&h.updateHopperState();var D=o.query("GET_PANEL_ASPECT_RATIO"),O=o.query("GET_ALLOW_MULTIPLE"),F=o.query("GET_TOTAL_ITEMS"),B=O?o.query("GET_MAX_FILES")||cE:1,V=F===B,N=u.find(function(Re){return Re.type==="DID_ADD_ITEM"});if(V&&N){var H=N.data.interactionMethod;E.opacity=0,O?E.translateY=-40:H===T.API?E.translateX=40:H===T.BROWSE?E.translateY=40:E.translateY=30}else V||(E.opacity=1,E.translateX=0,E.translateY=0);var Q=pE(o),ee=mE(o),q=E.rect.element.height,ve=!O||V?0:q,z=V?_.rect.element.marginTop:0,Ne=F===0?0:_.rect.element.marginBottom,Me=ve+z+ee.visual+Ne,K=ve+z+ee.bounds+Ne;if(_.translateY=Math.max(0,ve-_.rect.element.marginTop)-Q.top,D){var te=o.rect.element.width,oe=te*D;D!==o.ref.previousAspectRatio&&(o.ref.previousAspectRatio=D,o.ref.updateHistory=[]);var W=o.ref.updateHistory;W.push(te);var J=2;if(W.length>J*2){for(var se=W.length,xe=se-10,Ce=0,ae=se;ae>=xe;ae--)if(W[ae]===W[ae-2]&&Ce++,Ce>=J)return}I.scalable=!1,I.height=oe;var G=oe-ve-(Ne-Q.bottom)-(V?z:0);ee.visual>G?_.overflow=G:_.overflow=null,o.height=oe}else if(f.fixedHeight){I.scalable=!1;var L=f.fixedHeight-ve-(Ne-Q.bottom)-(V?z:0);ee.visual>L?_.overflow=L:_.overflow=null}else if(f.cappedHeight){var Z=Me>=f.cappedHeight,Ee=Math.min(f.cappedHeight,Me);I.scalable=!0,I.height=Z?Ee:Ee-Q.top-Q.bottom;var Ie=Ee-ve-(Ne-Q.bottom)-(V?z:0);Me>f.cappedHeight&&ee.visual>Ie?_.overflow=Ie:_.overflow=null,o.height=Math.min(f.cappedHeight,K-Q.top-Q.bottom)}else{var Ae=F>0?Q.top+Q.bottom:0;I.scalable=!0,I.height=Math.max(q,Me-Ae),o.height=Math.max(q,K-Ae)}o.ref.credits&&I.heightCurrent&&(o.ref.credits.style.transform="translateY("+I.heightCurrent+"px)")}},"write"),pE=i(function(n){var o=n.ref.list.childViews[0].childViews[0];return o?{top:o.rect.element.marginTop,bottom:o.rect.element.marginBottom}:{top:0,bottom:0}},"calculateListItemMargin"),mE=i(function(n){var o=0,a=0,u=n.ref.list,f=u.childViews[0],m=f.childViews.filter(function(ee){return ee.rect.element.height}),h=n.query("GET_ACTIVE_ITEMS").map(function(ee){return m.find(function(q){return q.id===ee.id})}).filter(function(ee){return ee});if(h.length===0)return{visual:o,bounds:a};var E=f.rect.element.width,_=ia(f,h,u.dragCoordinates),I=h[0].rect.element,D=I.marginTop+I.marginBottom,O=I.marginLeft+I.marginRight,F=I.width+O,B=I.height+D,V=typeof _<"u"&&_>=0?1:0,N=h.find(function(ee){return ee.markedForRemoval&&ee.opacity<.45})?-1:0,H=h.length+V+N,Q=ra(E,F);return Q===1?h.forEach(function(ee){var q=ee.rect.element.height+D;a+=q,o+=q*ee.opacity}):(a=Math.ceil(H/Q)*B,o=a),{visual:o,bounds:a}},"calculateListHeight"),hE=i(function(n){var o=n.ref.measureHeight||null,a=parseInt(n.style.maxHeight,10)||null,u=o===0?null:o;return{cappedHeight:a,fixedHeight:u}},"calculateRootBoundingBoxHeight"),pa=i(function(n,o){var a=n.query("GET_ALLOW_REPLACE"),u=n.query("GET_ALLOW_MULTIPLE"),f=n.query("GET_TOTAL_ITEMS"),m=n.query("GET_MAX_FILES"),h=o.length;if(!u&&h>1)return n.dispatch("DID_THROW_MAX_FILES",{source:o,error:Je("warning",0,"Max files")}),!0;if(m=u?m:1,!u&&a)return!1;var E=Qt(m);return E&&f+h>m?(n.dispatch("DID_THROW_MAX_FILES",{source:o,error:Je("warning",0,"Max files")}),!0):!1},"exceedsMaxFiles"),EE=i(function(n,o,a){var u=n.childViews[0];return ia(u,o,{left:a.scopeLeft-u.rect.element.left,top:a.scopeTop-(n.rect.outer.top+n.rect.element.marginTop+n.rect.element.scrollTop)})},"getDragIndex"),Fu=i(function(n){var o=n.query("GET_ALLOW_DROP"),a=n.query("GET_DISABLED"),u=o&&!a;if(u&&!n.ref.hopper){var f=eE(n.element,function(m){var h=n.query("GET_BEFORE_DROP_FILE")||function(){return!0},E=n.query("GET_DROP_VALIDATION");return E?m.every(function(_){return yn("ALLOW_HOPPER_ITEM",_,{query:n.query}).every(function(I){return I===!0})&&h(_)}):!0},{filterItems:i(function(h){var E=n.query("GET_IGNORED_FILES");return h.filter(function(_){return On(_)?!E.includes(_.name.toLowerCase()):!0})},"filterItems"),catchesDropsOnPage:n.query("GET_DROP_ON_PAGE"),requiresDropOnElement:n.query("GET_DROP_ON_ELEMENT")});f.onload=function(m,h){var E=n.ref.list.childViews[0],_=E.childViews.filter(function(D){return D.rect.element.height}),I=n.query("GET_ACTIVE_ITEMS").map(function(D){return _.find(function(O){return O.id===D.id})}).filter(function(D){return D});Vt("ADD_ITEMS",m,{dispatch:n.dispatch}).then(function(D){if(pa(n,D))return!1;n.dispatch("ADD_ITEMS",{items:D,index:EE(n.ref.list,I,h),interactionMethod:T.DROP})}),n.dispatch("DID_DROP",{position:h}),n.dispatch("DID_END_DRAG",{position:h})},f.ondragstart=function(m){n.dispatch("DID_START_DRAG",{position:m})},f.ondrag=xu(function(m){n.dispatch("DID_DRAG",{position:m})}),f.ondragend=function(m){n.dispatch("DID_END_DRAG",{position:m})},n.ref.hopper=f,n.ref.drip=n.appendChildView(n.createChildView(yh))}else!u&&n.ref.hopper&&(n.ref.hopper.destroy(),n.ref.hopper=null,n.removeChildView(n.ref.drip))},"toggleDrop"),Uu=i(function(n,o){var a=n.query("GET_ALLOW_BROWSE"),u=n.query("GET_DISABLED"),f=a&&!u;f&&!n.ref.browser?n.ref.browser=n.appendChildView(n.createChildView(dh,Object.assign({},o,{onload:i(function(h){Vt("ADD_ITEMS",h,{dispatch:n.dispatch}).then(function(E){if(pa(n,E))return!1;n.dispatch("ADD_ITEMS",{items:E,index:-1,interactionMethod:T.BROWSE})})},"onload")})),0):!f&&n.ref.browser&&(n.removeChildView(n.ref.browser),n.ref.browser=null)},"toggleBrowse"),Bu=i(function(n){var o=n.query("GET_ALLOW_PASTE"),a=n.query("GET_DISABLED"),u=o&&!a;u&&!n.ref.paster?(n.ref.paster=rE(),n.ref.paster.onload=function(f){Vt("ADD_ITEMS",f,{dispatch:n.dispatch}).then(function(m){if(pa(n,m))return!1;n.dispatch("ADD_ITEMS",{items:m,index:-1,interactionMethod:T.PASTE})})}):!u&&n.ref.paster&&(n.ref.paster.destroy(),n.ref.paster=null)},"togglePaste"),gE=We({DID_SET_ALLOW_BROWSE:i(function(n){var o=n.root,a=n.props;Uu(o,a)},"DID_SET_ALLOW_BROWSE"),DID_SET_ALLOW_DROP:i(function(n){var o=n.root;Fu(o)},"DID_SET_ALLOW_DROP"),DID_SET_ALLOW_PASTE:i(function(n){var o=n.root;Bu(o)},"DID_SET_ALLOW_PASTE"),DID_SET_DISABLED:i(function(n){var o=n.root,a=n.props;Fu(o),Bu(o),Uu(o,a);var u=o.query("GET_DISABLED");u?o.element.dataset.disabled="disabled":o.element.removeAttribute("data-disabled")},"DID_SET_DISABLED")}),vE=Ye({name:"root",read:i(function(n){var o=n.root;o.ref.measure&&(o.ref.measureHeight=o.ref.measure.offsetHeight)},"read"),create:fE,write:dE,destroy:i(function(n){var o=n.root;o.ref.paster&&o.ref.paster.destroy(),o.ref.hopper&&o.ref.hopper.destroy(),o.element.removeEventListener("touchmove",ro),o.element.removeEventListener("gesturestart",ro)},"destroy"),mixins:{styles:["height"]}}),_E=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=null,a=zi(),u=e(Sr(a),[Bp,g(a)],[cm,Bs(a)]);u.dispatch("SET_OPTIONS",{options:n});var f=i(function(){document.hidden||u.dispatch("KICK")},"visibilityHandler");document.addEventListener("visibilitychange",f);var m=null,h=!1,E=!1,_=null,I=null,D=i(function(){h||(h=!0),clearTimeout(m),m=setTimeout(function(){h=!1,_=null,I=null,E&&(E=!1,u.dispatch("DID_STOP_RESIZE"))},500)},"resizeHandler");window.addEventListener("resize",D);var O=vE(u,{id:S()}),F=!1,B=!1,V={_read:i(function(){h&&(I=window.innerWidth,_||(_=I),!E&&I!==_&&(u.dispatch("DID_START_RESIZE"),E=!0)),B&&F&&(F=O.element.offsetParent===null),!F&&(O._read(),B=O.rect.element.hidden)},"_read"),_write:i(function(G){var L=u.processActionQueue().filter(function(Z){return!/^SET_/.test(Z.type)});F&&!L.length||(ee(L),F=O._write(G,L,E),Op(u.query("GET_ITEMS")),F&&u.processDispatchQueue())},"_write")},N=i(function(G){return function(L){var Z={type:G};if(!L)return Z;if(L.hasOwnProperty("error")&&(Z.error=L.error?Object.assign({},L.error):null),L.status&&(Z.status=Object.assign({},L.status)),L.file&&(Z.output=L.file),L.source)Z.file=L.source;else if(L.item||L.id){var Ee=L.item?L.item:u.query("GET_ITEM",L.id);Z.file=Ee?It(Ee):null}return L.items&&(Z.items=L.items.map(It)),/progress/.test(G)&&(Z.progress=L.progress),L.hasOwnProperty("origin")&&L.hasOwnProperty("target")&&(Z.origin=L.origin,Z.target=L.target),Z}},"createEvent"),H={DID_DESTROY:N("destroy"),DID_INIT:N("init"),DID_THROW_MAX_FILES:N("warning"),DID_INIT_ITEM:N("initfile"),DID_START_ITEM_LOAD:N("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:N("addfileprogress"),DID_LOAD_ITEM:N("addfile"),DID_THROW_ITEM_INVALID:[N("error"),N("addfile")],DID_THROW_ITEM_LOAD_ERROR:[N("error"),N("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[N("error"),N("removefile")],DID_PREPARE_OUTPUT:N("preparefile"),DID_START_ITEM_PROCESSING:N("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:N("processfileprogress"),DID_ABORT_ITEM_PROCESSING:N("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:N("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:N("processfiles"),DID_REVERT_ITEM_PROCESSING:N("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[N("error"),N("processfile")],DID_REMOVE_ITEM:N("removefile"),DID_UPDATE_ITEMS:N("updatefiles"),DID_ACTIVATE_ITEM:N("activatefile"),DID_REORDER_ITEMS:N("reorderfiles")},Q=i(function(G){var L=Object.assign({pond:Ce},G);delete L.type,O.element.dispatchEvent(new CustomEvent("FilePond:"+G.type,{detail:L,bubbles:!0,cancelable:!0,composed:!0}));var Z=[];G.hasOwnProperty("error")&&Z.push(G.error),G.hasOwnProperty("file")&&Z.push(G.file);var Ee=["type","error","file"];Object.keys(G).filter(function(Ae){return!Ee.includes(Ae)}).forEach(function(Ae){return Z.push(G[Ae])}),Ce.fire.apply(Ce,[G.type].concat(Z));var Ie=u.query("GET_ON"+G.type.toUpperCase());Ie&&Ie.apply(void 0,Z)},"exposeEvent"),ee=i(function(G){G.length&&G.filter(function(L){return H[L.type]}).forEach(function(L){var Z=H[L.type];(Array.isArray(Z)?Z:[Z]).forEach(function(Ee){L.type==="DID_INIT_ITEM"?Q(Ee(L.data)):setTimeout(function(){Q(Ee(L.data))},0)})})},"routeActionsToEvents"),q=i(function(G){return u.dispatch("SET_OPTIONS",{options:G})},"setOptions"),ve=i(function(G){return u.query("GET_ACTIVE_ITEM",G)},"getFile"),z=i(function(G){return new Promise(function(L,Z){u.dispatch("REQUEST_ITEM_PREPARE",{query:G,success:i(function(Ie){L(Ie)},"success"),failure:i(function(Ie){Z(Ie)},"failure")})})},"prepareFile"),Ne=i(function(G){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(Z,Ee){te([{source:G,options:L}],{index:L.index}).then(function(Ie){return Z(Ie&&Ie[0])}).catch(Ee)})},"addFile"),Me=i(function(G){return G.file&&G.id},"isFilePondFile"),K=i(function(G,L){return typeof G=="object"&&!Me(G)&&!L&&(L=G,G=void 0),u.dispatch("REMOVE_ITEM",Object.assign({},L,{query:G})),u.query("GET_ACTIVE_ITEM",G)===null},"removeFile"),te=i(function(){for(var G=arguments.length,L=new Array(G),Z=0;Z<G;Z++)L[Z]=arguments[Z];return new Promise(function(Ee,Ie){var Ae=[],Re={};if(Tn(L[0]))Ae.push.apply(Ae,L[0]),Object.assign(Re,L[1]||{});else{var je=L[L.length-1];typeof je=="object"&&!(je instanceof Blob)&&Object.assign(Re,L.pop()),Ae.push.apply(Ae,L)}u.dispatch("ADD_ITEMS",{items:Ae,index:Re.index,interactionMethod:T.API,success:Ee,failure:Ie})})},"addFiles"),oe=i(function(){return u.query("GET_ACTIVE_ITEMS")},"getFiles"),W=i(function(G){return new Promise(function(L,Z){u.dispatch("REQUEST_ITEM_PROCESSING",{query:G,success:i(function(Ie){L(Ie)},"success"),failure:i(function(Ie){Z(Ie)},"failure")})})},"processFile"),J=i(function(){for(var G=arguments.length,L=new Array(G),Z=0;Z<G;Z++)L[Z]=arguments[Z];var Ee=Array.isArray(L[0])?L[0]:L,Ie=Ee.length?Ee:oe();return Promise.all(Ie.map(z))},"prepareFiles"),se=i(function(){for(var G=arguments.length,L=new Array(G),Z=0;Z<G;Z++)L[Z]=arguments[Z];var Ee=Array.isArray(L[0])?L[0]:L;if(!Ee.length){var Ie=oe().filter(function(Ae){return!(Ae.status===he.IDLE&&Ae.origin===st.LOCAL)&&Ae.status!==he.PROCESSING&&Ae.status!==he.PROCESSING_COMPLETE&&Ae.status!==he.PROCESSING_REVERT_ERROR});return Promise.all(Ie.map(W))}return Promise.all(Ee.map(W))},"processFiles"),xe=i(function(){for(var G=arguments.length,L=new Array(G),Z=0;Z<G;Z++)L[Z]=arguments[Z];var Ee=Array.isArray(L[0])?L[0]:L,Ie;typeof Ee[Ee.length-1]=="object"?Ie=Ee.pop():Array.isArray(L[0])&&(Ie=L[1]);var Ae=oe();if(!Ee.length)return Promise.all(Ae.map(function(je){return K(je,Ie)}));var Re=Ee.map(function(je){return Le(je)?Ae[je]?Ae[je].id:null:je}).filter(function(je){return je});return Re.map(function(je){return K(je,Ie)})},"removeFiles"),Ce=Object.assign({},qi(),{},V,{},Us(u,a),{setOptions:q,addFile:Ne,addFiles:te,getFile:ve,processFile:W,prepareFile:z,removeFile:K,moveFile:i(function(G,L){return u.dispatch("MOVE_ITEM",{query:G,index:L})},"moveFile"),getFiles:oe,processFiles:se,removeFiles:xe,prepareFiles:J,sort:i(function(G){return u.dispatch("SORT",{compare:G})},"sort"),browse:i(function(){var G=O.element.querySelector("input[type=file]");G&&G.click()},"browse"),destroy:i(function(){Ce.fire("destroy",O.element),u.dispatch("ABORT_ALL"),O._destroy(),window.removeEventListener("resize",D),document.removeEventListener("visibilitychange",f),u.dispatch("DID_DESTROY")},"destroy"),insertBefore:i(function(G){return _n(O.element,G)},"insertBefore$1"),insertAfter:i(function(G){return Li(O.element,G)},"insertAfter$1"),appendTo:i(function(G){return G.appendChild(O.element)},"appendTo"),replaceElement:i(function(G){_n(O.element,G),G.parentNode.removeChild(G),o=G},"replaceElement"),restoreElement:i(function(){o&&(Li(o,O.element),O.element.parentNode.removeChild(O.element),o=null)},"restoreElement"),isAttachedTo:i(function(G){return O.element===G||o===G},"isAttachedTo"),element:{get:i(function(){return O.element},"get")},status:{get:i(function(){return u.query("GET_STATUS")},"get")}});return u.dispatch("DID_INIT"),p(Ce)},"createApp"),Vu=i(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={};l(zi(),function(u,f){o[u]=f[0]});var a=_E(Object.assign({},o,{},n));return a},"createAppObject"),TE=i(function(n){return n.charAt(0).toLowerCase()+n.slice(1)},"lowerCaseFirstLetter"),IE=i(function(n){return Mu(n.replace(/^data-/,""))},"attributeNameToPropertyName"),yE=i(function c(n,o){l(o,function(a,u){l(n,function(f,m){var h=new RegExp(a),E=h.test(f);if(E&&(delete n[f],u!==!1)){if(ft(u)){n[u]=m;return}var _=u.group;et(u)&&!n[_]&&(n[_]={}),n[_][TE(f.replace(h,""))]=m}}),u.mapping&&c(n[u.group],u.mapping)})},"mapObject"),bE=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[];l(n.attributes,function(f){a.push(n.attributes[f])});var u=a.filter(function(f){return f.name}).reduce(function(f,m){var h=d(n,m.name);return f[IE(m.name)]=h===m.name?!0:h,f},{});return yE(u,o),u},"getAttributesAsObject"),AE=i(function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};yn("SET_ATTRIBUTE_TO_OPTION_MAP",a);var u=Object.assign({},o),f=bE(n.nodeName==="FIELDSET"?n.querySelector("input[type=file]"):n,a);Object.keys(f).forEach(function(h){et(f[h])?(et(u[h])||(u[h]={}),Object.assign(u[h],f[h])):u[h]=f[h]}),u.files=(o.files||[]).concat(Array.from(n.querySelectorAll("input:not([type=file])")).map(function(h){return{source:h.value,options:{type:h.dataset.type}}}));var m=Vu(u);return n.files&&Array.from(n.files).forEach(function(h){m.addFile(h)}),m.replaceElement(n),m},"createAppAtElement"),DE=i(function(){return t(arguments.length<=0?void 0:arguments[0])?AE.apply(void 0,arguments):Vu.apply(void 0,arguments)},"createApp"),OE=["fire","_read","_write"],Gu=i(function(n){var o={};return Fl(n,o,OE),o},"createAppAPI"),SE=i(function(n,o){return n.replace(/(?:{([a-zA-Z]+)})/g,function(a,u){return o[u]})},"replaceInString"),RE=i(function(n){var o=new Blob(["(",n.toString(),")()"],{type:"application/javascript"}),a=URL.createObjectURL(o),u=new Worker(a);return{transfer:i(function(m,h){},"transfer"),post:i(function(m,h,E){var _=S();u.onmessage=function(I){I.data.id===_&&h(I.data.message)},u.postMessage({id:_,message:m},E)},"post"),terminate:i(function(){u.terminate(),URL.revokeObjectURL(a)},"terminate")}},"createWorker"),wE=i(function(n){return new Promise(function(o,a){var u=new Image;u.onload=function(){o(u)},u.onerror=function(f){a(f)},u.src=n})},"loadImage"),ku=i(function(n,o){var a=n.slice(0,n.size,n.type);return a.lastModifiedDate=n.lastModifiedDate,a.name=o,a},"renameFile"),LE=i(function(n){return ku(n,n.name)},"copyFile"),Hu=[],CE=i(function(n){if(!Hu.includes(n)){Hu.push(n);var o=n({addFilter:Rp,utils:{Type:U,forin:l,isString:ft,isFile:On,toNaturalFileSize:nu,replaceInString:SE,getExtensionFromFilename:Ki,getFilenameWithoutExtension:Kl,guesstimateMimeType:Du,getFileFromBlob:Jn,getFilenameFromURL:Cr,createRoute:We,createWorker:RE,createView:Ye,createItemAPI:It,loadImage:wE,copyFile:LE,renameFile:ku,createBlob:Yl,applyFilterChain:Vt,text:Ze,getNumericAspectRatioFromString:Vl},views:{fileActionButton:tu}});wp(o.options)}},"createAppPlugin"),PE=i(function(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},"isOperaMini"),NE=i(function(){return"Promise"in window},"hasPromises"),ME=i(function(){return"slice"in Blob.prototype},"hasBlobSlice"),xE=i(function(){return"URL"in window&&"createObjectURL"in window.URL},"hasCreateObjectURL"),FE=i(function(){return"visibilityState"in document},"hasVisibility"),UE=i(function(){return"performance"in window},"hasTiming"),BE=i(function(){return"supports"in(window.CSS||{})},"hasCSSSupports"),VE=i(function(){return/MSIE|Trident/.test(window.navigator.userAgent)},"isIE11"),ma=function(){var c=M()&&!PE()&&FE()&&NE()&&ME()&&xE()&&UE()&&(BE()||VE());return function(){return c}}(),ln={apps:[]},GE="filepond",Rn=i(function(){},"fn");if(r.Status={},r.FileStatus={},r.FileOrigin={},r.OptionTypes={},r.create=Rn,r.destroy=Rn,r.parse=Rn,r.find=Rn,r.registerPlugin=Rn,r.getOptions=Rn,r.setOptions=Rn,ma()){Hn(function(){ln.apps.forEach(function(c){return c._read()})},function(c){ln.apps.forEach(function(n){return n._write(c)})});var Yu=i(function c(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ma,create:r.create,destroy:r.destroy,parse:r.parse,find:r.find,registerPlugin:r.registerPlugin,setOptions:r.setOptions}})),document.removeEventListener("DOMContentLoaded",c)},"dispatch");document.readyState!=="loading"?setTimeout(function(){return Yu()},0):document.addEventListener("DOMContentLoaded",Yu);var ju=i(function(){return l(zi(),function(n,o){r.OptionTypes[n]=o[1]})},"updateOptionTypes");r.Status=Object.assign({},Qn),r.FileOrigin=Object.assign({},st),r.FileStatus=Object.assign({},he),r.OptionTypes={},ju(),r.create=i(function(){var n=DE.apply(void 0,arguments);return n.on("destroy",r.destroy),ln.apps.push(n),Gu(n)},"create"),r.destroy=i(function(n){var o=ln.apps.findIndex(function(u){return u.isAttachedTo(n)});if(o>=0){var a=ln.apps.splice(o,1)[0];return a.restoreElement(),!0}return!1},"destroy"),r.parse=i(function(n){var o=Array.from(n.querySelectorAll("."+GE)),a=o.filter(function(u){return!ln.apps.find(function(f){return f.isAttachedTo(u)})});return a.map(function(u){return r.create(u)})},"parse"),r.find=i(function(n){var o=ln.apps.find(function(a){return a.isAttachedTo(n)});return o?Gu(o):null},"find"),r.registerPlugin=i(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];o.forEach(CE),ju()},"registerPlugin"),r.getOptions=i(function(){var n={};return l(zi(),function(o,a){n[o]=a[0]}),n},"getOptions$1"),r.setOptions=i(function(n){return et(n)&&(ln.apps.forEach(function(o){o.setOptions(n)}),Lp(n)),r.getOptions()},"setOptions$1")}r.supported=ma,Object.defineProperty(r,"__esModule",{value:!0})})});var _d=Xu(($a,Xa)=>{(function(r,t){typeof $a=="object"&&typeof Xa<"u"?Xa.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self,r.weekSelect=t())})($a,function(){"use strict";function r(e){try{if(typeof e.composedPath=="function"){var s=e.composedPath();return s[0]}return e.target}catch{return e.target}}i(r,"getEventTarget");function t(){return function(e){function s(b){var y=r(b);if(y.classList.contains("flatpickr-day"))for(var A=e.days.childNodes,R=y.$i,x=R/7,X=A[7*Math.floor(x)].dateObj,C=A[7*Math.ceil(x+.01)-1].dateObj,M=A.length;M--;){var k=A[M],ie=k.dateObj;ie>C||ie<X?k.classList.remove("inRange"):k.classList.add("inRange")}}i(s,"onDayHover");function l(){var b=e.latestSelectedDateObj;b!==void 0&&b.getMonth()===e.currentMonth&&b.getFullYear()===e.currentYear&&(e.weekStartDay=e.days.childNodes[7*Math.floor(e.selectedDateElem.$i/7)].dateObj,e.weekEndDay=e.days.childNodes[7*Math.ceil(e.selectedDateElem.$i/7+.01)-1].dateObj);for(var y=e.days.childNodes,A=y.length;A--;){var R=y[A].dateObj;R>=e.weekStartDay&&R<=e.weekEndDay&&y[A].classList.add("week","selected")}}i(l,"highlightWeek");function p(){for(var b=e.days.childNodes,y=b.length;y--;)b[y].classList.remove("inRange")}i(p,"clearHover");function d(){e.daysContainer!==void 0&&e.daysContainer.addEventListener("mouseover",s)}i(d,"onReady");function v(){e.daysContainer!==void 0&&e.daysContainer.removeEventListener("mouseover",s)}return i(v,"onDestroy"),{onValueUpdate:l,onMonthChange:l,onYearChange:l,onOpen:l,onClose:p,onParseConfig:i(function(){e.config.mode="single",e.config.enableTime=!1,e.config.dateFormat=e.config.dateFormat?e.config.dateFormat:"\\W\\e\\e\\k #W, Y",e.config.altFormat=e.config.altFormat?e.config.altFormat:"\\W\\e\\e\\k #W, Y"},"onParseConfig"),onReady:[d,l,function(){e.loadedPlugins.push("weekSelect")}],onDestroy:v}}}return i(t,"weekSelectPlugin"),t})});var cn=Object.getPrototypeOf,Ur,ha,rr,Fr,Zu={isConnected:1},tg=1e3,oo,ng={},rg=cn(Zu),ec=cn(cn),Ln,tc=i((r,t,e,s)=>(r??(setTimeout(e,s),new Set)).add(t),"addAndScheduleOnFirst"),nc=i((r,t,e)=>{let s=rr;rr=t;try{return r(e)}catch(l){return console.error(l),e}finally{rr=s}},"runAndCaptureDeps"),so=i(r=>r.filter(t=>t._dom?.isConnected),"keepConnected"),rc=i(r=>oo=tc(oo,r,()=>{for(let t of oo)t._bindings=so(t._bindings),t._listeners=so(t._listeners);oo=Ln},tg),"addStatesToGc"),ao={get val(){return rr?._getters?.add(this),this.rawVal},get oldVal(){return rr?._getters?.add(this),this._oldVal},set val(r){rr?._setters?.add(this),r!==this.rawVal&&(this.rawVal=r,this._bindings.length+this._listeners.length?(ha?.add(this),Ur=tc(Ur,this,ig)):this._oldVal=r)}},ic=i(r=>({__proto__:ao,rawVal:r,_oldVal:r,_bindings:[],_listeners:[]}),"state"),Br=i((r,t)=>{let e={_getters:new Set,_setters:new Set},s={f:r},l=Fr;Fr=[];let p=nc(r,e,t);p=(p??document).nodeType?p:new Text(p);for(let d of e._getters)e._setters.has(d)||(rc(d),d._bindings.push(s));for(let d of Fr)d._dom=p;return Fr=l,s._dom=p},"bind"),Ea=i((r,t=ic(),e)=>{let s={_getters:new Set,_setters:new Set},l={f:r,s:t};l._dom=e??Fr?.push(l)??Zu,t.val=nc(r,s,t.rawVal);for(let p of s._getters)s._setters.has(p)||(rc(p),p._listeners.push(l));return t},"derive"),oc=i((r,...t)=>{for(let e of t.flat(1/0)){let s=cn(e??0),l=s===ao?Br(()=>e.val):s===ec?Br(e):e;l!=Ln&&r.append(l)}return r},"add"),sc=i((r,t,...e)=>{let[{is:s,...l},...p]=cn(e[0]??0)===rg?e:[{},...e],d=r?document.createElementNS(r,t,{is:s}):document.createElement(t,{is:s});for(let[v,b]of Object.entries(l)){let y=i(C=>C?Object.getOwnPropertyDescriptor(C,v)??y(cn(C)):Ln,"getPropDescriptor"),A=t+","+v,R=ng[A]??=y(cn(d))?.set??0,x=v.startsWith("on")?(C,M)=>{let k=v.slice(2);d.removeEventListener(k,M),d.addEventListener(k,C)}:R?R.bind(d):d.setAttribute.bind(d,v),X=cn(b??0);v.startsWith("on")||X===ec&&(b=Ea(b),X=ao),X===ao?Br(()=>(x(b.val,b._oldVal),d)):x(b)}return oc(d,p)},"tag"),Ju=i(r=>({get:i((t,e)=>sc.bind(Ln,r,e),"get")}),"handler"),ac=i((r,t)=>t?t!==r&&r.replaceWith(t):r.remove(),"update"),ig=i(()=>{let r=0,t=[...Ur].filter(s=>s.rawVal!==s._oldVal);do{ha=new Set;for(let s of new Set(t.flatMap(l=>l._listeners=so(l._listeners))))Ea(s.f,s.s,s._dom),s._dom=Ln}while(++r<100&&(t=[...ha]).length);let e=[...Ur].filter(s=>s.rawVal!==s._oldVal);Ur=Ln;for(let s of new Set(e.flatMap(l=>l._bindings=so(l._bindings))))ac(s._dom,Br(s.f,s._dom)),s._dom=Ln;for(let s of e)s._oldVal=s.rawVal},"updateDoms"),lc={tags:new Proxy(r=>new Proxy(sc,Ju(r)),Ju()),hydrate:i((r,t)=>ac(r,Br(t,r)),"hydrate"),add:oc,state:ic,derive:Ea};var uc,va;function ir(r,t,e){let s=[];if(e&&(s[0]=e),t||(t="span"),Array.isArray(r)){let l=r.length,p=l;for(;l;--l)s.push(r[p-l])}else s.push(r);return lc.tags[t].apply(null,s)}i(ir,"htm");async function og(r){let{paymentIntent:{status:t}}=await r.retrievePaymentIntent(va);return console.log(t),t}i(og,"refreshStatus");async function _a(r,t){let e=document.getElementById("payment-message");if(va&&(r.status=await og(t)),console.log(r.status),r.error)e.textContent=`Something is amiss: ${JSON.stringify(r.error)}!`;else if(r.status==="requires_action"){let{error:s,paymentIntent:{client_secret:l,status:p,id:d}}=await t.handleNextAction({clientSecret:r.client_secret});if(s)e.textContent=`Something is amiss: ${s.message}!`;else{if(va=l,p==="requires_action")return e.textContent="Payment cancelled prematurely!",_a(r,t);e.textContent="Payment successful!!",window.location.href=`/go/message?id=${d}`}}else r.status==="succeeded"&&(e.textContent="Payment successful!",window.location.href=`/go/message?id=${id}`)}i(_a,"handleServerResponse");function ga(r){return r.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}i(ga,"formatNumber");function sg(r){r||(r=.5);let t=2.9,e=.3,s=(r+e)/(1-t/100);return Math.round(s*100)/100}i(sg,"calculateGrossAmount");function Ta(r,t){if(r.value!==""){var e=r.value,s=parseFloat(e.substring(4)),l=sg(s);if(t==="blur")if(uc!==s)e="US$ "+l.toString(),uc=l;else return;var p=e.length,d=r.selectionStart;if(e.indexOf(".")>=0){var v=e.indexOf("."),b=e.substring(0,v),y=e.substring(v);b=ga(b),y=ga(y),t==="blur"&&(y+="00"),y=y.substring(0,2),e="US$ "+b+"."+y}else e=ga(e),e="US$ "+e,t==="blur"&&e.length===4?e+="0.50":t==="blur"&&(e+=".00");r.value=e;var A=e.length;d=A-p+d,r.setSelectionRange(d,d)}}i(Ta,"formatCurrency");function ag(r){if(window._hCaptchaOnLoadPromise)return window._hCaptchaOnLoadPromise;if(window.hcaptcha)return console.warn("[@hcaptcha/vanilla-hcaptcha]: hCaptcha JS API detected to be externally loaded. Unless you know what are you doing, this task should be delegated to this web component."),window._hCaptchaOnLoadPromise=Promise.resolve(),window._hCaptchaOnLoadPromise;{let t,e;window._hCaptchaOnLoadPromise=new Promise((p,d)=>{t=p,e=d,window._hCaptchaOnLoad=t});let s=function(p){let d=p.jsapi;return d=zt(d,"render","explicit"),d=zt(d,"onload","_hCaptchaOnLoad"),d=zt(d,"recaptchacompat",p.recaptchacompat==="false"?"off":void 0),d=zt(d,"host",p.host),d=zt(d,"hl",p.hl),d=zt(d,"sentry",p.sentry==="false"?"false":"true"),d=zt(d,"endpoint",p.endpoint),d=zt(d,"assethost",p.assethost),d=zt(d,"imghost",p.imghost),d=zt(d,"reportapi",p.reportapi),d}(r),l=document.createElement("script");return l.src=s,l.async=!0,l.defer=!0,l.onerror=p=>{let d=`Failed to load hCaptcha JS API: "${s}"`;console.error(d,p),e(d)},document.head.appendChild(l),window._hCaptchaOnLoadPromise}}i(ag,"t");function zt(r,t,e){if(e!=null){let s=r.includes("?")?"&":"?";return r+s+t+"="+encodeURIComponent(e)}return r}i(zt,"e");var Ia="[@hcaptcha/vanilla-hcaptcha]:",Wt=class r extends Error{static{i(this,"i")}constructor(t){super(`${Ia}: ${t}`),Object.setPrototypeOf(this,r.prototype)}},fn={notRendered:'hCaptcha was not yet rendered. Please call "render()" first.',apiNotLoaded:i(r=>`hCaptcha JS API was not loaded yet. Please wait for \`loaded\` event to safely call "${r}".`,"apiNotLoaded")},ya=class extends HTMLElement{static{i(this,"o")}constructor(){super(...arguments),this.hcaptchaId=void 0,this.loadJsApiTimeout=void 0,this.jsApiLoaded=!1}connectedCallback(){this.tryLoadingJsApi()}disconnectedCallback(){this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout)}static get observedAttributes(){return["jsapi","host","endpoint","reportapi","assethost","imghost","hl","sentry","recaptchacompat"]}attributeChangedCallback(){this.tryLoadingJsApi()}isJsApiConfigValid(t){let e=!["jsapi","host","endpoint","reportapi","assethost","imghost"].some(s=>{var l;return t[s]&&!(!((l=t[s])===null||l===void 0)&&l.match(/^\w/))});return t.hl&&!t.hl.match(/[\w-]+/)&&(e=!1),t.sentry&&["true","false"].indexOf(t.sentry)===-1&&(e=!1),t.recaptchacompat&&["true","false"].indexOf(t.recaptchacompat)===-1&&(e=!1),e}tryLoadingJsApi(){let t=this.getJsApiConfig();this.isJsApiConfigValid(t)&&(this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout),this.loadJsApiTimeout=setTimeout(()=>{this.jsApiLoaded&&console.error(`${Ia} JS API attributes cannot change once hCaptcha JS API is loaded.`),this.jsApiLoaded=!0,ag(t).then(this.onApiLoaded.bind(this)).catch(this.onError.bind(this))},1))}getAttr(t){return this.getAttribute(t)||void 0}getJsApiConfig(){return{host:this.getAttr("host"),hl:this.getAttr("hl"),sentry:this.getAttr("sentry"),recaptchacompat:this.getAttr("recaptchacompat"),jsapi:this.getAttr("jsapi")||"https://js.hcaptcha.com/1/api.js",endpoint:this.getAttr("endpoint"),reportapi:this.getAttr("reportapi"),assethost:this.getAttr("assethost"),imghost:this.getAttr("imghost")}}onApiLoaded(){if(this.$emit("loaded"),this.getAttr("auto-render")==="false")return;let t=this.getAttr("rqdata"),e=this.getAttr("tabindex"),s=this.getAttr("sitekey")||this.getAttr("site-key"),l=this.getAttr("challenge-container");if(!s)return;let p={sitekey:s,theme:this.getAttr("theme"),size:this.getAttr("size"),hl:this.getAttr("hl"),tplinks:this.getAttr("tplinks")==="off"?"off":"on",tabindex:e?parseInt(e):void 0,custom:this.getAttr("custom")==="true"};l&&(p["challenge-container"]=l),this.render(p),t&&this.setData(t)}onError(t){console.error(t),this.$emit("error",{error:t})}$emit(t,e){let s;typeof Event=="function"?s=new Event(t):(s=document.createEvent("Event"),s.initEvent(t,!1,!1)),e&&Object.assign(s,e),this.dispatchEvent(s)}render(t){if(!hcaptcha)throw new Wt(fn.apiNotLoaded("render"));this.hcaptchaId?console.warn(`${Ia} hCaptcha was already rendered. You may want to call 'reset()' first.`):this.hcaptchaId=hcaptcha.render(this,Object.assign(Object.assign({},t),{callback:i(()=>{let e=hcaptcha.getResponse(this.hcaptchaId),s=hcaptcha.getRespKey(this.hcaptchaId);this.$emit("verified",{token:e,eKey:s,key:e})},"callback"),"expired-callback":i(()=>{this.$emit("expired")},"expired-callback"),"chalexpired-callback":i(()=>{this.$emit("challenge-expired")},"chalexpired-callback"),"error-callback":this.onError.bind(this),"open-callback":i(()=>{this.$emit("opened")},"open-callback"),"close-callback":i(()=>{this.$emit("closed")},"close-callback")}))}setData(t){if(!this.hcaptchaId)throw new Wt(fn.notRendered);hcaptcha.setData(this.hcaptchaId,{rqdata:t})}execute(){if(!hcaptcha)throw new Wt(fn.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new Wt(fn.notRendered);hcaptcha.execute(this.hcaptchaId)}executeAsync(){if(!hcaptcha)throw new Wt(fn.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new Wt(fn.notRendered);return hcaptcha.execute(this.hcaptchaId,{async:!0})}reset(){if(!hcaptcha)throw new Wt(fn.apiNotLoaded("reset"));if(!this.hcaptchaId)throw new Wt(fn.notRendered);hcaptcha.reset(this.hcaptchaId)}};customElements.define("h-captcha",ya);var fc=null,dc=!1,cc={},or=i((r,t,e)=>{let s=null;return(...l)=>{s&&window.clearTimeout(s),s=window.setTimeout(()=>{r.apply(e,l)},t)}},"debounce"),me=i((r,t)=>{t.append(r)},"mountElement"),nn=i(r=>{r.parentNode?.removeChild(r)},"unmountElement"),Aa=i((r,t,e)=>{let s=t||new FormData,l;for(let p in r)Object.prototype.hasOwnProperty.call(r,p)&&(e?l=e+"["+p+"]":l=p,r[p]==null?s.append(l,""):typeof r[p]=="object"&&!(r[p]instanceof File)?Aa(r[p],s,p):s.append(l,r[p]));return s},"objectToFormData"),lg=i(r=>lo.includes(r),"isField"),ug=i(r=>uo.includes(r),"isGroup"),cg=i(r=>co.includes(r),"isButton"),pc=i(r=>lg(r)?ye.field:ug(r)?ye.group:cg(r)?ye.button:null,"getFormElementType");var mc=i((r,t,e)=>r+"["+t+"]"+e,"transformFieldName"),Cn=i((r,t)=>Tc+r+Ic+t,"generateFieldSaveKey"),fg=i(r=>r instanceof Date&&!isNaN(r),"isDateValid"),dg=i((r,t)=>{let e=new Date(r);return e.setDate(e.getDate()+t),e},"calculateDateAfterAddingDays"),pg=i(r=>r.match(/^([a-zA-Z]+)@(\d+)$/),"parseKey"),mg=i(r=>yc.includes(r),"isKeyInLicenseKeys"),hg=i(r=>dg(r,-Rc),"calculateMinPurchaseDate"),Eg=i((r,t)=>t<r?Nt.VALID:Nt.OUTDATED,"determineLicenseState"),hc=i(()=>{let r=fc;if(!r)return Nt.INVALID;if(mg(r))return Nt.VALID;let t=pg(r);if(t?.[1]?.length===10){let[,,e]=t,s=new Date(parseInt(e,10)*1e3),l=new Date(wc);if(fg(l)){let p=hg(l);return Eg(s,p)}}return Nt.INVALID},"processLicenseKey"),Da=i(r=>{fc=r},"setLicenseKey"),Ec=i(r=>r===Nt.VALID?bc:r===Nt.OUTDATED?Dc:Ac,"getLicenseText"),gc=i(r=>{r===Nt.INVALID?console.error(Oc):console.error(Sc)},"handleInvalidLicenseLog"),Oa=i(()=>dc,"usesLicensedFetures"),Vr=i(()=>{dc=!0},"useLicensedFetures"),Mt=i(r=>r.split(vc).filter(t=>t.includes(ba)).map(t=>{let[e,s]=t.split(ba);return{conditions:e.replace(/^\[|\]$/g,"").split("&&").map(p=>p.split("||").map(d=>{let v=d.match(/(.*?)(=|!=|>|<|>=|<=)(.*)/);if(!v)throw new Error(`Invalid condition format: ${d}`);let[,b,y,A]=v,R,x=A.trim().startsWith(_c);if(x)R=new Date(A.trim().substring(5));else try{R=JSON.parse(A.trim())}catch{R=A.trim()}return{left:b.trim(),operator:y,right:R,isDate:x}})),returnValue:s}}),"parseConditionString"),xt=i((r,t,e=null,s=null,l=!1)=>{for(let{conditions:p,returnValue:d}of r)if(p.every(b=>b.some(({left:y,operator:A,right:R})=>{let x={_value:e,_required:s,...t},X=gg(x,y);return vg(A,X,R)})))try{return JSON.parse(d)}catch{return d}return l},"evaluateParsedConditions"),gg=i((r,t)=>t.split(".").reduce((e,s)=>e&&e[s],r),"getNestedValue"),vg=i((r,t,e)=>{switch(r){case"=":return t===e;case"!=":return t!==e;case">":return t>e;case"<":return t<e;case">=":return t>=e;case"<=":return t<=e}},"compareValues"),sr=i(r=>{try{JSON.parse(r)}catch{return!1}return!0},"isJson");var Ft=i((r,t)=>Object.keys(cc).includes(r)?Object.assign({},t,cc[r]):t,"getOverwritenDefaults");var Lc="https://formsjs.io/documentation/v1/licensing",Cc="#",Pc="position: fixed !important; font-weight: bold; font-size: .8rem;  bottom: 1rem !important;  left: 1rem !important;  background: #fff;  border: 2px solid red;  padding: .5rem;  border-radius: 0.15rem;  z-index: 99999 !important;  display: inline-flex !important;  align-items: center;  color: red;  text-decoration: none;  transition: 0.2s linear;",vc=";",ba=":",_c="date!",Nc="formsjs-form",Mc="form-button-container",xc="form-group-container",Fc="form-group",Uc="form-group-label",Bc="btn form-button",qe="form-input",Vc="form-field-container",dn="form-field",Pn="form-field-label",Gc="form-field-validation",ar="form-error",Sa="field-disabled",Ra="field-required",kc="form-input-checkbox",Hc="is-toggle",Yc="toggle-slider",jc="form-input-color",qc="form-input-radio",zc="form-input-range",Wc="form-input-range-min",Kc="form-input-range-max",$c="form-input-range-value",Xc="form-input-select",Qc="form-input-static",Jc="password-container",wa="pass-shown",La="pass-hidden",Oe="This field is required",Zc="Not a valid email address",ef="Not a valid telephone number",tf="Not a valid url address",fo="The value should be bigger than ",po="The value should be less than ",at="div",Nn="span",lr="label",nf="form",rf="a",mo="button",tt="input",Mn="p",of="h3",sf="output",af="select",lf="option",uf="optgroup",cf="textarea",Kt="_container",rn="_label",ff="_validation",df="_group_container",Tc="__formsjs_",Ic="_field_",pf="_min",mf="_max",hf="_value",fe="id",Ef="action",gf="method",vf="submit",_f="reset",Ue="type",Tf="href",ho="click",If="input",ze="name",dt="placeholder",ur="for",cr="aria-invalid",fr="aria-describedby",xn="disabled";var Ut="checked",nt="change",Eo="multiple",yf="accept",go="min",vo="max",_o="step",Gr="value",To="label",Fn="selected",bf="rows",kr="group",Ca="button",Hr="checkbox",Yr="color",jr="date",qr="datetime",zr="email",Wr="file",Kr="hidden",$r="number",dr="password",Xr="radio",Qr="range",Jr="select",Zr="static",ei="tel",ti="textarea",Un="text",ni="time",ri="url",ii="week";var lo=[],uo=[],co=[];var ye={field:"field",group:"group",button:"button"},Pa={},yc=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],bc="forms.js license key is valid",Ac="forms.js license key is invalid",Dc="forms.js license key is outdated",Oc="forms.js license key is invalid, please use a valid license key.",Sc="forms.js license key is outdated, please update your license key.",Rc=372,Nt={VALID:1,OUTDATED:2,INVALID:3},wc="2024-05-08",Qe=i((r,t,e,s=!1)=>{switch(e){case ye.button:co.push(r);break;case ye.group:uo.push(r);break;case ye.field:lo.push(r);break}s&&Vr(),Pa[r]=t},"registerConstructor");var be=class{static{i(this,"Field")}options={id:"",type:Un,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),default:"",debounce:200,className:qe};inputElement=null;containerElement=null;labelElement=null;validationElement=null;hasScheme=!1;_id;_parent;_form;_isValid=null;_isDisabled=!1;_isRequired=!1;_isMounted=!1;_isVisible=!0;_saveKey;_vMessage=null;_value=null;_type;_parsedConditions=null;_parsedValidationConditions=null;_parsedRequiredConditions=null;_parsedDisabledConditions=null;_triggerEvents=!0;constructor(t,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=t,this._type=s.type,this._saveKey=Cn(this._form.getId(),this._id)}initializeOptions(t){this.options=Object.assign({},this.options,Ft(this.options.type,t))}async initialize(){this.parseStringConditions(),this.load(),this.update(),this.bindChange()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Mt(this.options.conditions)),typeof this.options.disabled=="string"&&(this._parsedDisabledConditions=Mt(this.options.disabled)),typeof this.options.required=="string"&&(this._parsedRequiredConditions=Mt(this.options.required)),typeof this.options.validation=="string"&&(this._parsedValidationConditions=Mt(this.options.validation))}setValue(t,e=!0){this._value=t,this.syncValue(),this._form.setData(this._id,t),e&&this.save()}syncValue(){this.inputElement&&(this.inputElement instanceof HTMLInputElement||this.inputElement instanceof HTMLTextAreaElement)&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getValidity(){return this._isValid}isDisabled(){return this._isDisabled}isRequired(){return this._isRequired}getValidationMessage(){return this._vMessage}getForm(){return this._form}createContainerElement(){this.containerElement=document.createElement("div"),this.containerElement.className=dn+" "+this._type,this.containerElement.setAttribute(fe,this._id+Kt)}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this._id),this.inputElement.setAttribute(ze,this.options.name||this._id),this.inputElement.setAttribute(Ue,this._type),this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder),this.inputElement.className=this.options.className}createLabelElement(){this.labelElement=document.createElement(lr);let t=document.createElement(Mn);this.options.label&&(typeof this.options.label=="string"?t.innerText=this.options.label:typeof this.options.label=="function"&&(t.innerHTML="",t.append(this.options.label()))),t.setAttribute(fe,this._id+rn),this.labelElement.setAttribute(ur,this._id),t.className=Pn,this.options.label&&me(t,this.labelElement)}createValidationElement(){this.validationElement=document.createElement(Mn),this.validationElement.setAttribute(fe,this._id+ff),this.validationElement.className=Gc,this.validationElement.style.display="none"}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement)}mount(){this.containerElement&&me(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&nn(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleValidatedField(){this._isValid?(this.validationElement&&(this.validationElement.style.display="none",this.validationElement.innerHTML=""),this.labelElement?.classList.remove(ar),this.inputElement?.removeAttribute(cr),this.inputElement?.removeAttribute(fr)):(this.labelElement?.classList.add(ar),this.validationElement&&this._vMessage&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(this._vMessage,this._form.getData()))):this.validationElement.innerText=this._vMessage,this.validationElement.style.display="block"),this.inputElement?.setAttribute(cr,"true"),this.inputElement?.setAttribute(fr,this.validationElement?.getAttribute("id")||"")),this._form.updateError(this._id,this._isValid)}handleVisibility(){this._isVisible&&!this._isMounted&&(this.mount(),this._form.setData(this._id,this._value)),!this._isVisible&&this._isMounted&&(this._form.removeData(this._id),this.unmount())}handleDisabled(){this._isDisabled?(this.containerElement?.classList.add(Sa),this.inputElement?.setAttribute(xn,"true")):(this.inputElement?.removeAttribute(xn),this.containerElement?.classList.remove(Sa))}handleRequired(){this._isRequired?this.containerElement?.classList.add(Ra):this.containerElement?.classList.remove(Ra)}bindChange(){this.inputElement&&this.inputElement.addEventListener(If,or(this.change,this.options.debounce,this))}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let t=localStorage.getItem(this._saveKey);if(t!==null){this.setValue(sr(t)?JSON.parse(t):t,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){this._triggerEvents=!1,localStorage.removeItem(this._saveKey),this.options.default!==void 0?this.setValue(this.options.default,!1):this.setValue(null,!1),this.update(),this._triggerEvents=!0,this.dispatchEvent("resetted")}async update(){this.updateVisibilityBasedOnConditions(),this.updateDisabledStatus(),this.updateRequiredStatus(),this.handleVisibility(),this.handleDisabled(),this.handleRequired()}updateVisibilityBasedOnConditions(){let t=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=xt(this._parsedConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._value,this._form.getData()))),t!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}updateDisabledStatus(){let t=this._isDisabled;this.options.disabled&&(typeof this.options.disabled=="string"&&this._parsedDisabledConditions?this._isDisabled=xt(this._parsedDisabledConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.disabled=="function"?this._isDisabled=this.options.disabled(this._value,this._form.getData()):typeof this.options.disabled=="boolean"&&(this._isDisabled=this.options.disabled)),t!==this._isDisabled&&this.dispatchEvent("disabledStateChanged",this._isDisabled)}updateRequiredStatus(){let t=this._isRequired;this.options.required&&(typeof this.options.required=="string"&&this._parsedRequiredConditions?this._isRequired=xt(this._parsedRequiredConditions,this._form.getData(),this._value):typeof this.options.required=="function"?this._isRequired=this.options.required(this._value,this._form.getData()):typeof this.options.required=="boolean"&&(this._isRequired=this.options.required)),t!==this._isRequired&&this.dispatchEvent("requiredStateChanged",this._isRequired)}validate(){if(!this._isVisible)return!0;if(this.options.validation){if(typeof this.options.validation=="string"&&this._parsedValidationConditions){let t=xt(this._parsedValidationConditions,this._form.getData(),this._value,this._isRequired,!0);this.setValidationValues(t)}else if(typeof this.options.validation=="function"){let t=this.options.validation(this._value,this._form.getData(),this._isRequired);this.setValidationValues(t)}else this._isValid=!0;this.handleValidatedField()}else this._isValid=!0;return this._isValid}setValidationValues(t){this._isValid=t===!0,this._vMessage=t===!0?"":t,this._isValid||this.dispatchEvent("validationFailed",this._vMessage)}change(t){this.setValue(t.target.value),this.validate(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",this._value)}triggerEvents(t){this._triggerEvents=t}dispatchEvent(t,e=null){if(!this._triggerEvents)return;let s=e!==null?new CustomEvent(t,{detail:e}):new CustomEvent(t);this.inputElement?.dispatchEvent(s)}on(t,e,s){this.inputElement?.addEventListener(t,e,s)}off(t,e,s){this.inputElement?.removeEventListener(t,e,s)}};var Io=class extends be{static{i(this,"RadioField")}options={id:"",type:Xr,schema:[],required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),default:null,className:qc};inputElements=[];labelElements=[];constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.handleVisibility()}syncValue(){this.inputElements.forEach(t=>{t.value!==this.getValue()&&t.hasAttribute(Ut)?t.removeAttribute(Ut):t.value===this.getValue()&&!t.hasAttribute(Ut)&&t.setAttribute(Ut,"")})}createRadioLabelElement(t,e,s,l){let p=document.createElement(lr);s&&p&&me(s,p);let d=document.createElement(Mn);t&&(typeof t=="string"?d.innerText=t:typeof t=="function"&&(d.innerHTML="",d.append(t()))),d.setAttribute(fe,e+rn),p.setAttribute(ur,e),d.className=Pn,p.append(d),this.labelElements.push(p),l&&p&&me(p,l)}createRadioInputElement(t,e){let s=document.createElement(tt);return s.setAttribute(fe,t),s.setAttribute(ze,this.getId()),s.setAttribute(Gr,e),this.options.default&&e===this.options.default&&s.setAttribute(Ut,"true"),s.setAttribute(Ue,this.getType()),s.className=this.options.className,this.inputElements.push(s),this.bindChange(),s}onGui(){this.createContainerElement();let t=document.createElement("p");this.options.label&&(typeof this.options.label=="string"?t.innerText=this.options.label:typeof this.options.label=="function"&&(t.innerHTML="",t.append(this.options.label()))),this.options.label&&this.containerElement&&me(t,this.containerElement),t.setAttribute(fe,this.getId()+rn),t.className=Pn;let e=document.createElement(at);e.className=Vc,this.options.schema.forEach(s=>{let l=this.createRadioInputElement(s.id,s.value);this.createRadioLabelElement(s.label,s.id,l,e)}),this.containerElement&&e&&me(e,this.containerElement),this.createValidationElement(),this.containerElement&&this.validationElement&&me(this.validationElement,this.containerElement)}handleValidatedField(){if(this.getValidity())this.validationElement&&(this.validationElement.style.display="none"),this.inputElements.forEach(e=>{e?.classList.remove(ar),e?.removeAttribute(cr),e?.removeAttribute(fr)});else{this.inputElements.forEach(s=>{s?.classList.add(ar),s?.setAttribute(cr,"true"),s?.setAttribute(fr,this.validationElement?.getAttribute("id")||"")});let e=this.getValidationMessage();this.validationElement&&e&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(e,this.getForm().getData()))):this.validationElement.innerText=e,this.validationElement.style.display="block")}this.getForm().updateError(this.getId(),this.getValidity())}bindChange(){this.inputElements[this.inputElements.length-1]&&this.inputElements[this.inputElements.length-1].addEventListener(nt,t=>{this.change(t)})}getValue(){return this._value}};var yo=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],pn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:i(function(r){return typeof console<"u"&&console.warn(r)},"errorHandler"),getWeek:i(function(r){var t=new Date(r.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},"getWeek"),hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var bo={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:i(function(r){var t=r%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},"ordinal"),rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ao=bo;var pt=i(function(r,t){return t===void 0&&(t=2),("000"+r).slice(t*-1)},"pad"),bt=i(function(r){return r===!0?1:0},"int");function Na(r,t){var e;return function(){var s=this,l=arguments;clearTimeout(e),e=setTimeout(function(){return r.apply(s,l)},t)}}i(Na,"debounce");var Do=i(function(r){return r instanceof Array?r:[r]},"arrayify");function mt(r,t,e){if(e===!0)return r.classList.add(t);r.classList.remove(t)}i(mt,"toggleClass");function we(r,t,e){var s=window.document.createElement(r);return t=t||"",e=e||"",s.className=t,e!==void 0&&(s.textContent=e),s}i(we,"createElement");function oi(r){for(;r.firstChild;)r.removeChild(r.firstChild)}i(oi,"clearNode");function Ma(r,t){if(t(r))return r;if(r.parentNode)return Ma(r.parentNode,t)}i(Ma,"findParent");function si(r,t){var e=we("div","numInputWrapper"),s=we("input","numInput "+r),l=we("span","arrowUp"),p=we("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),t!==void 0)for(var d in t)s.setAttribute(d,t[d]);return e.appendChild(s),e.appendChild(l),e.appendChild(p),e}i(si,"createNumberInput");function At(r){try{if(typeof r.composedPath=="function"){var t=r.composedPath();return t[0]}return r.target}catch{return r.target}}i(At,"getEventTarget");var xa=i(function(){},"doNothing"),ai=i(function(r,t,e){return e.months[t?"shorthand":"longhand"][r]},"monthToStr"),Af={D:xa,F:i(function(r,t,e){r.setMonth(e.months.longhand.indexOf(t))},"F"),G:i(function(r,t){r.setHours((r.getHours()>=12?12:0)+parseFloat(t))},"G"),H:i(function(r,t){r.setHours(parseFloat(t))},"H"),J:i(function(r,t){r.setDate(parseFloat(t))},"J"),K:i(function(r,t,e){r.setHours(r.getHours()%12+12*bt(new RegExp(e.amPM[1],"i").test(t)))},"K"),M:i(function(r,t,e){r.setMonth(e.months.shorthand.indexOf(t))},"M"),S:i(function(r,t){r.setSeconds(parseFloat(t))},"S"),U:i(function(r,t){return new Date(parseFloat(t)*1e3)},"U"),W:i(function(r,t,e){var s=parseInt(t),l=new Date(r.getFullYear(),0,2+(s-1)*7,0,0,0,0);return l.setDate(l.getDate()-l.getDay()+e.firstDayOfWeek),l},"W"),Y:i(function(r,t){r.setFullYear(parseFloat(t))},"Y"),Z:i(function(r,t){return new Date(t)},"Z"),d:i(function(r,t){r.setDate(parseFloat(t))},"d"),h:i(function(r,t){r.setHours((r.getHours()>=12?12:0)+parseFloat(t))},"h"),i:i(function(r,t){r.setMinutes(parseFloat(t))},"i"),j:i(function(r,t){r.setDate(parseFloat(t))},"j"),l:xa,m:i(function(r,t){r.setMonth(parseFloat(t)-1)},"m"),n:i(function(r,t){r.setMonth(parseFloat(t)-1)},"n"),s:i(function(r,t){r.setSeconds(parseFloat(t))},"s"),u:i(function(r,t){return new Date(parseFloat(t))},"u"),w:xa,y:i(function(r,t){r.setFullYear(2e3+parseFloat(t))},"y")},on={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},pr={Z:i(function(r){return r.toISOString()},"Z"),D:i(function(r,t,e){return t.weekdays.shorthand[pr.w(r,t,e)]},"D"),F:i(function(r,t,e){return ai(pr.n(r,t,e)-1,!1,t)},"F"),G:i(function(r,t,e){return pt(pr.h(r,t,e))},"G"),H:i(function(r){return pt(r.getHours())},"H"),J:i(function(r,t){return t.ordinal!==void 0?r.getDate()+t.ordinal(r.getDate()):r.getDate()},"J"),K:i(function(r,t){return t.amPM[bt(r.getHours()>11)]},"K"),M:i(function(r,t){return ai(r.getMonth(),!0,t)},"M"),S:i(function(r){return pt(r.getSeconds())},"S"),U:i(function(r){return r.getTime()/1e3},"U"),W:i(function(r,t,e){return e.getWeek(r)},"W"),Y:i(function(r){return pt(r.getFullYear(),4)},"Y"),d:i(function(r){return pt(r.getDate())},"d"),h:i(function(r){return r.getHours()%12?r.getHours()%12:12},"h"),i:i(function(r){return pt(r.getMinutes())},"i"),j:i(function(r){return r.getDate()},"j"),l:i(function(r,t){return t.weekdays.longhand[r.getDay()]},"l"),m:i(function(r){return pt(r.getMonth()+1)},"m"),n:i(function(r){return r.getMonth()+1},"n"),s:i(function(r){return r.getSeconds()},"s"),u:i(function(r){return r.getTime()},"u"),w:i(function(r){return r.getDay()},"w"),y:i(function(r){return String(r.getFullYear()).substring(2)},"y")};var Fa=i(function(r){var t=r.config,e=t===void 0?pn:t,s=r.l10n,l=s===void 0?bo:s,p=r.isMobile,d=p===void 0?!1:p;return function(v,b,y){var A=y||l;return e.formatDate!==void 0&&!d?e.formatDate(v,b,A):b.split("").map(function(R,x,X){return pr[R]&&X[x-1]!=="\\"?pr[R](v,A,e):R!=="\\"?R:""}).join("")}},"createDateFormatter"),Oo=i(function(r){var t=r.config,e=t===void 0?pn:t,s=r.l10n,l=s===void 0?bo:s;return function(p,d,v,b){if(!(p!==0&&!p)){var y=b||l,A,R=p;if(p instanceof Date)A=new Date(p.getTime());else if(typeof p!="string"&&p.toFixed!==void 0)A=new Date(p);else if(typeof p=="string"){var x=d||(e||pn).dateFormat,X=String(p).trim();if(X==="today")A=new Date,v=!0;else if(e&&e.parseDate)A=e.parseDate(p,x);else if(/Z$/.test(X)||/GMT$/.test(X))A=new Date(p);else{for(var C=void 0,M=[],k=0,ie=0,j="";k<x.length;k++){var le=x[k],Pe=le==="\\",Le=x[k-1]==="\\"||Pe;if(on[le]&&!Le){j+=on[le];var Be=new RegExp(j).exec(p);Be&&(C=!0)&&M[le!=="Y"?"push":"unshift"]({fn:Af[le],val:Be[++ie]})}else Pe||(j+=".")}A=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),M.forEach(function(ue){var _e=ue.fn,de=ue.val;return A=_e(A,de,y)||A}),A=C?A:void 0}}if(!(A instanceof Date&&!isNaN(A.getTime()))){e.errorHandler(new Error("Invalid date provided: "+R));return}return v===!0&&A.setHours(0,0,0,0),A}}},"createDateParser");function Dt(r,t,e){return e===void 0&&(e=!0),e!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):r.getTime()-t.getTime()}i(Dt,"compareDates");var Df=i(function(r,t,e){return r>Math.min(t,e)&&r<Math.max(t,e)},"isBetween"),So=i(function(r,t,e){return r*3600+t*60+e},"calculateSecondsSinceMidnight"),Of=i(function(r){var t=Math.floor(r/3600),e=(r-t*3600)/60;return[t,e,r-t*3600-e*60]},"parseSeconds"),Sf={DAY:864e5};function Ro(r){var t=r.defaultHour,e=r.defaultMinute,s=r.defaultSeconds;if(r.minDate!==void 0){var l=r.minDate.getHours(),p=r.minDate.getMinutes(),d=r.minDate.getSeconds();t<l&&(t=l),t===l&&e<p&&(e=p),t===l&&e===p&&s<d&&(s=r.minDate.getSeconds())}if(r.maxDate!==void 0){var v=r.maxDate.getHours(),b=r.maxDate.getMinutes();t=Math.min(t,v),t===v&&(e=Math.min(b,e)),t===v&&e===b&&(s=r.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:s}}i(Ro,"getDefaultHours");typeof Object.assign!="function"&&(Object.assign=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var s=i(function(v){v&&Object.keys(v).forEach(function(b){return r[b]=v[b]})},"_loop_1"),l=0,p=t;l<p.length;l++){var d=p[l];s(d)}return r});var ht=function(){return ht=Object.assign||function(r){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},ht.apply(this,arguments)},Rf=function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var s=Array(r),l=0,t=0;t<e;t++)for(var p=arguments[t],d=0,v=p.length;d<v;d++,l++)s[l]=p[d];return s},_g=300;function Tg(r,t){var e={config:ht(ht({},pn),rt.defaultConfig),l10n:Ao};e.parseDate=Oo({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=M,e._setHoursFromDate=x,e._positionCalendar=In,e.changeMonth=br,e.changeYear=Hn,e.clear=ws,e.close=Ls,e.onMouseOver=vt,e._createElement=we,e.createDay=Be,e.destroy=Cs,e.isEnabled=We,e.jumpToDate=j,e.updateValue=_t,e.open=Yn,e.redraw=Qt,e.set=Mi,e.setDate=Ns,e.toggle=xs;function s(){e.utils={getDaysInMonth:i(function(g,T){return g===void 0&&(g=e.currentMonth),T===void 0&&(T=e.currentYear),g===1&&(T%4===0&&T%100!==0||T%400===0)?29:e.l10n.daysInMonth[g]},"getDaysInMonth")}}i(s,"setupHelperFunctions");function l(){e.element=e.input=r,e.isOpen=!1,Pi(),ft(),et(),Ms(),s(),e.isMobile||Le(),ie(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&x(e.config.noCalendar?e.latestSelectedDateObj:void 0),_t(!1)),v();var g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&g&&In(),Ve("onReady")}i(l,"init");function p(){var g;return((g=e.calendarContainer)===null||g===void 0?void 0:g.getRootNode()).activeElement||document.activeElement}i(p,"getClosestActiveElement");function d(g){return g.bind(e)}i(d,"bindToInstance");function v(){var g=e.config;g.weekNumbers===!1&&g.showMonths===1||g.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var T=(e.days.offsetWidth+1)*g.showMonths;e.daysContainer.style.width=T+"px",e.calendarContainer.style.width=T+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}i(v,"setCalendarWidth");function b(g){if(e.selectedDates.length===0){var T=e.config.minDate===void 0||Dt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),S=Ro(e.config);T.setHours(S.hours,S.minutes,S.seconds,T.getMilliseconds()),e.selectedDates=[T],e.latestSelectedDateObj=T}g!==void 0&&g.type!=="blur"&&Bs(g);var P=e._input.value;R(),_t(),e._input.value!==P&&e._debouncedChange()}i(b,"updateTime");function y(g,T){return g%12+12*bt(T===e.l10n.amPM[1])}i(y,"ampm2military");function A(g){switch(g%24){case 0:case 12:return 12;default:return g%12}}i(A,"military2ampm");function R(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var g=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,T=(parseInt(e.minuteElement.value,10)||0)%60,S=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(g=y(g,e.amPM.textContent));var P=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Dt(e.latestSelectedDateObj,e.config.minDate,!0)===0,Y=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Dt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var $=So(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),Te=So(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),ne=So(g,T,S);if(ne>Te&&ne<$){var ge=Of($);g=ge[0],T=ge[1],S=ge[2]}}else{if(Y){var re=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;g=Math.min(g,re.getHours()),g===re.getHours()&&(T=Math.min(T,re.getMinutes())),T===re.getMinutes()&&(S=Math.min(S,re.getSeconds()))}if(P){var ce=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;g=Math.max(g,ce.getHours()),g===ce.getHours()&&T<ce.getMinutes()&&(T=ce.getMinutes()),T===ce.getMinutes()&&(S=Math.max(S,ce.getSeconds()))}}X(g,T,S)}}i(R,"setHoursFromInputs");function x(g){var T=g||e.latestSelectedDateObj;T&&T instanceof Date&&X(T.getHours(),T.getMinutes(),T.getSeconds())}i(x,"setHoursFromDate");function X(g,T,S){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(g%24,T,S||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=pt(e.config.time_24hr?g:(12+g)%12+12*bt(g%12===0)),e.minuteElement.value=pt(T),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[bt(g>=12)]),e.secondElement!==void 0&&(e.secondElement.value=pt(S)))}i(X,"setHours");function C(g){var T=At(g),S=parseInt(T.value)+(g.delta||0);(S/1e3>1||g.key==="Enter"&&!/[^\d]/.test(S.toString()))&&Hn(S)}i(C,"onYearInput");function M(g,T,S,P){if(T instanceof Array)return T.forEach(function(Y){return M(g,Y,S,P)});if(g instanceof Array)return g.forEach(function(Y){return M(Y,T,S,P)});g.addEventListener(T,S,P),e._handlers.push({remove:i(function(){return g.removeEventListener(T,S,P)},"remove")})}i(M,"bind");function k(){Ve("onChange")}i(k,"triggerChange");function ie(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(S){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+S+"]"),function(P){return M(P,"click",e[S])})}),e.isMobile){Dr();return}var g=Na(Ps,50);if(e._debouncedChange=Na(k,_g),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&M(e.daysContainer,"mouseover",function(S){e.config.mode==="range"&&vt(At(S))}),M(e._input,"keydown",Tn),e.calendarContainer!==void 0&&M(e.calendarContainer,"keydown",Tn),!e.config.inline&&!e.config.static&&M(window,"resize",g),window.ontouchstart!==void 0?M(window.document,"touchstart",Ye):M(window.document,"mousedown",Ye),M(window.document,"focus",Ye,{capture:!0}),e.config.clickOpens===!0&&(M(e._input,"focus",e.open),M(e._input,"click",e.open)),e.daysContainer!==void 0&&(M(e.monthNav,"click",Us),M(e.monthNav,["keyup","increment"],C),M(e.daysContainer,"click",qt)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var T=i(function(S){return At(S).select()},"selText");M(e.timeContainer,["increment"],b),M(e.timeContainer,"blur",b,{capture:!0}),M(e.timeContainer,"click",le),M([e.hourElement,e.minuteElement],["focus","click"],T),e.secondElement!==void 0&&M(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&M(e.amPM,"click",function(S){b(S)})}e.config.allowInput&&M(e._input,"blur",Li)}i(ie,"bindEvents");function j(g,T){var S=g!==void 0?e.parseDate(g):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),P=e.currentYear,Y=e.currentMonth;try{S!==void 0&&(e.currentYear=S.getFullYear(),e.currentMonth=S.getMonth())}catch($){$.message="Invalid date supplied: "+S,e.config.errorHandler($)}T&&e.currentYear!==P&&(Ve("onYearChange"),gt()),T&&(e.currentYear!==P||e.currentMonth!==Y)&&Ve("onMonthChange"),e.redraw()}i(j,"jumpToDate");function le(g){var T=At(g);~T.className.indexOf("arrow")&&Pe(g,T.classList.contains("arrowUp")?1:-1)}i(le,"timeIncrement");function Pe(g,T,S){var P=g&&At(g),Y=S||P&&P.parentNode&&P.parentNode.firstChild,$=Or("increment");$.delta=T,Y&&Y.dispatchEvent($)}i(Pe,"incrementNumInput");function Le(){var g=window.document.createDocumentFragment();if(e.calendarContainer=we("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(g.appendChild(Os()),e.innerContainer=we("div","flatpickr-innerContainer"),e.config.weekNumbers){var T=Rs(),S=T.weekWrapper,P=T.weekNumbers;e.innerContainer.appendChild(S),e.weekNumbers=P,e.weekWrapper=S}e.rContainer=we("div","flatpickr-rContainer"),e.rContainer.appendChild(wi()),e.daysContainer||(e.daysContainer=we("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Bt(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),g.appendChild(e.innerContainer)}e.config.enableTime&&g.appendChild(Ss()),mt(e.calendarContainer,"rangeMode",e.config.mode==="range"),mt(e.calendarContainer,"animate",e.config.animate===!0),mt(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(g);var Y=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!Y&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var $=we("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore($,e.element),$.appendChild(e.element),e.altInput&&$.appendChild(e.altInput),$.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}i(Le,"build");function Be(g,T,S,P){var Y=We(T,!0),$=we("span",g,T.getDate().toString());return $.dateObj=T,$.$i=P,$.setAttribute("aria-label",e.formatDate(T,e.config.ariaDateFormat)),g.indexOf("hidden")===-1&&Dt(T,e.now)===0&&(e.todayDateElem=$,$.classList.add("today"),$.setAttribute("aria-current","date")),Y?($.tabIndex=-1,Wn(T)&&($.classList.add("selected"),e.selectedDateElem=$,e.config.mode==="range"&&(mt($,"startRange",e.selectedDates[0]&&Dt(T,e.selectedDates[0],!0)===0),mt($,"endRange",e.selectedDates[1]&&Dt(T,e.selectedDates[1],!0)===0),g==="nextMonthDay"&&$.classList.add("inRange")))):$.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Fs(T)&&!Wn(T)&&$.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&g!=="prevMonthDay"&&P%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(T)+"</span>"),Ve("onDayCreate",$),$}i(Be,"createDay");function ue(g){g.focus(),e.config.mode==="range"&&vt(g)}i(ue,"focusOnDayElem");function _e(g){for(var T=g>0?0:e.config.showMonths-1,S=g>0?e.config.showMonths:-1,P=T;P!=S;P+=g)for(var Y=e.daysContainer.children[P],$=g>0?0:Y.children.length-1,Te=g>0?Y.children.length:-1,ne=$;ne!=Te;ne+=g){var ge=Y.children[ne];if(ge.className.indexOf("hidden")===-1&&We(ge.dateObj))return ge}}i(_e,"getFirstAvailableDay");function de(g,T){for(var S=g.className.indexOf("Month")===-1?g.dateObj.getMonth():e.currentMonth,P=T>0?e.config.showMonths:-1,Y=T>0?1:-1,$=S-e.currentMonth;$!=P;$+=Y)for(var Te=e.daysContainer.children[$],ne=S-e.currentMonth===$?g.$i+T:T<0?Te.children.length-1:0,ge=Te.children.length,re=ne;re>=0&&re<ge&&re!=(T>0?ge:-1);re+=Y){var ce=Te.children[re];if(ce.className.indexOf("hidden")===-1&&We(ce.dateObj)&&Math.abs(g.$i-re)>=Math.abs(T))return ue(ce)}e.changeMonth(Y),He(_e(Y),0)}i(de,"getNextAvailableDay");function He(g,T){var S=p(),P=_n(S||document.body),Y=g!==void 0?g:P?S:e.selectedDateElem!==void 0&&_n(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&_n(e.todayDateElem)?e.todayDateElem:_e(T>0?1:-1);Y===void 0?e._input.focus():P?de(Y,T):ue(Y)}i(He,"focusOnDay");function Se(g,T){for(var S=(new Date(g,T,1).getDay()-e.l10n.firstDayOfWeek+7)%7,P=e.utils.getDaysInMonth((T-1+12)%12,g),Y=e.utils.getDaysInMonth(T,g),$=window.document.createDocumentFragment(),Te=e.config.showMonths>1,ne=Te?"prevMonthDay hidden":"prevMonthDay",ge=Te?"nextMonthDay hidden":"nextMonthDay",re=P+1-S,ce=0;re<=P;re++,ce++)$.appendChild(Be("flatpickr-day "+ne,new Date(g,T-1,re),re,ce));for(re=1;re<=Y;re++,ce++)$.appendChild(Be("flatpickr-day",new Date(g,T,re),re,ce));for(var Fe=Y+1;Fe<=42-S&&(e.config.showMonths===1||ce%7!==0);Fe++,ce++)$.appendChild(Be("flatpickr-day "+ge,new Date(g,T+1,Fe%Y),Fe,ce));var St=we("div","dayContainer");return St.appendChild($),St}i(Se,"buildMonthDays");function Bt(){if(e.daysContainer!==void 0){oi(e.daysContainer),e.weekNumbers&&oi(e.weekNumbers);for(var g=document.createDocumentFragment(),T=0;T<e.config.showMonths;T++){var S=new Date(e.currentYear,e.currentMonth,1);S.setMonth(e.currentMonth+T),g.appendChild(Se(S.getFullYear(),S.getMonth()))}e.daysContainer.appendChild(g),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&vt()}}i(Bt,"buildDays");function gt(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var g=i(function(P){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&P<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&P>e.config.maxDate.getMonth())},"shouldBuildMonth");e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var T=0;T<12;T++)if(g(T)){var S=we("option","flatpickr-monthDropdown-month");S.value=new Date(e.currentYear,T).getMonth().toString(),S.textContent=ai(T,e.config.shorthandCurrentMonth,e.l10n),S.tabIndex=-1,e.currentMonth===T&&(S.selected=!0),e.monthsDropdownContainer.appendChild(S)}}}i(gt,"buildMonthSwitch");function yr(){var g=we("div","flatpickr-month"),T=window.document.createDocumentFragment(),S;e.config.showMonths>1||e.config.monthSelectorType==="static"?S=we("span","cur-month"):(e.monthsDropdownContainer=we("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),M(e.monthsDropdownContainer,"change",function(Te){var ne=At(Te),ge=parseInt(ne.value,10);e.changeMonth(ge-e.currentMonth),Ve("onMonthChange")}),gt(),S=e.monthsDropdownContainer);var P=si("cur-year",{tabindex:"-1"}),Y=P.getElementsByTagName("input")[0];Y.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&Y.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(Y.setAttribute("max",e.config.maxDate.getFullYear().toString()),Y.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var $=we("div","flatpickr-current-month");return $.appendChild(S),$.appendChild(P),T.appendChild($),g.appendChild(T),{container:g,yearElement:Y,monthElement:S}}i(yr,"buildMonth");function kn(){oi(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var g=e.config.showMonths;g--;){var T=yr();e.yearElements.push(T.yearElement),e.monthElements.push(T.monthElement),e.monthNav.appendChild(T.container)}e.monthNav.appendChild(e.nextMonthNav)}i(kn,"buildMonths");function Os(){return e.monthNav=we("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=we("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=we("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,kn(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:i(function(){return e.__hidePrevMonthArrow},"get"),set:i(function(g){e.__hidePrevMonthArrow!==g&&(mt(e.prevMonthNav,"flatpickr-disabled",g),e.__hidePrevMonthArrow=g)},"set")}),Object.defineProperty(e,"_hideNextMonthArrow",{get:i(function(){return e.__hideNextMonthArrow},"get"),set:i(function(g){e.__hideNextMonthArrow!==g&&(mt(e.nextMonthNav,"flatpickr-disabled",g),e.__hideNextMonthArrow=g)},"set")}),e.currentYearElement=e.yearElements[0],Kn(),e.monthNav}i(Os,"buildMonthNav");function Ss(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var g=Ro(e.config);e.timeContainer=we("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var T=we("span","flatpickr-time-separator",":"),S=si("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=S.getElementsByTagName("input")[0];var P=si("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=P.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=pt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?g.hours:A(g.hours)),e.minuteElement.value=pt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():g.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(S),e.timeContainer.appendChild(T),e.timeContainer.appendChild(P),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var Y=si("flatpickr-second");e.secondElement=Y.getElementsByTagName("input")[0],e.secondElement.value=pt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():g.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(we("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(Y)}return e.config.time_24hr||(e.amPM=we("span","flatpickr-am-pm",e.l10n.amPM[bt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}i(Ss,"buildTime");function wi(){e.weekdayContainer?oi(e.weekdayContainer):e.weekdayContainer=we("div","flatpickr-weekdays");for(var g=e.config.showMonths;g--;){var T=we("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(T)}return ct(),e.weekdayContainer}i(wi,"buildWeekdays");function ct(){if(e.weekdayContainer){var g=e.l10n.firstDayOfWeek,T=Rf(e.l10n.weekdays.shorthand);g>0&&g<T.length&&(T=Rf(T.splice(g,T.length),T.splice(0,g)));for(var S=e.config.showMonths;S--;)e.weekdayContainer.children[S].innerHTML=`
      <span class='flatpickr-weekday'>
        `+T.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}i(ct,"updateWeekdays");function Rs(){e.calendarContainer.classList.add("hasWeeks");var g=we("div","flatpickr-weekwrapper");g.appendChild(we("span","flatpickr-weekday",e.l10n.weekAbbreviation));var T=we("div","flatpickr-weeks");return g.appendChild(T),{weekWrapper:g,weekNumbers:T}}i(Rs,"buildWeeks");function br(g,T){T===void 0&&(T=!0);var S=T?g:g-e.currentMonth;S<0&&e._hidePrevMonthArrow===!0||S>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=S,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ve("onYearChange"),gt()),Bt(),Ve("onMonthChange"),Kn())}i(br,"changeMonth");function ws(g,T){if(g===void 0&&(g=!0),T===void 0&&(T=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,T===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var S=Ro(e.config),P=S.hours,Y=S.minutes,$=S.seconds;X(P,Y,$)}e.redraw(),g&&Ve("onChange")}i(ws,"clear");function Ls(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Ve("onClose")}i(Ls,"close");function Cs(){e.config!==void 0&&Ve("onDestroy");for(var g=e._handlers.length;g--;)e._handlers[g].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var T=e.calendarContainer.parentNode;if(T.lastChild&&T.removeChild(T.lastChild),T.parentNode){for(;T.firstChild;)T.parentNode.insertBefore(T.firstChild,T);T.parentNode.removeChild(T)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(S){try{delete e[S]}catch{}})}i(Cs,"destroy");function an(g){return e.calendarContainer.contains(g)}i(an,"isCalendarElem");function Ye(g){if(e.isOpen&&!e.config.inline){var T=At(g),S=an(T),P=T===e.input||T===e.altInput||e.element.contains(T)||g.path&&g.path.indexOf&&(~g.path.indexOf(e.input)||~g.path.indexOf(e.altInput)),Y=!P&&!S&&!an(g.relatedTarget),$=!e.config.ignoredFocusElements.some(function(Te){return Te.contains(T)});Y&&$&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&b(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}i(Ye,"documentClick");function Hn(g){if(!(!g||e.config.minDate&&g<e.config.minDate.getFullYear()||e.config.maxDate&&g>e.config.maxDate.getFullYear())){var T=g,S=e.currentYear!==T;e.currentYear=T||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),S&&(e.redraw(),Ve("onYearChange"),gt())}}i(Hn,"changeYear");function We(g,T){var S;T===void 0&&(T=!0);var P=e.parseDate(g,void 0,T);if(e.config.minDate&&P&&Dt(P,e.config.minDate,T!==void 0?T:!e.minDateHasTime)<0||e.config.maxDate&&P&&Dt(P,e.config.maxDate,T!==void 0?T:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(P===void 0)return!1;for(var Y=!!e.config.enable,$=(S=e.config.enable)!==null&&S!==void 0?S:e.config.disable,Te=0,ne=void 0;Te<$.length;Te++){if(ne=$[Te],typeof ne=="function"&&ne(P))return Y;if(ne instanceof Date&&P!==void 0&&ne.getTime()===P.getTime())return Y;if(typeof ne=="string"){var ge=e.parseDate(ne,void 0,!0);return ge&&ge.getTime()===P.getTime()?Y:!Y}else if(typeof ne=="object"&&P!==void 0&&ne.from&&ne.to&&P.getTime()>=ne.from.getTime()&&P.getTime()<=ne.to.getTime())return Y}return!Y}i(We,"isEnabled");function _n(g){return e.daysContainer!==void 0?g.className.indexOf("hidden")===-1&&g.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(g):!1}i(_n,"isInView");function Li(g){var T=g.target===e._input,S=e._input.value.trimEnd()!==Sr();T&&S&&!(g.relatedTarget&&an(g.relatedTarget))&&e.setDate(e._input.value,!0,g.target===e.altInput?e.config.altFormat:e.config.dateFormat)}i(Li,"onBlur");function Tn(g){var T=At(g),S=e.config.wrap?r.contains(T):T===e._input,P=e.config.allowInput,Y=e.isOpen&&(!P||!S),$=e.config.inline&&S&&!P;if(g.keyCode===13&&S){if(P)return e.setDate(e._input.value,!0,T===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),T.blur();e.open()}else if(an(T)||Y||$){var Te=!!e.timeContainer&&e.timeContainer.contains(T);switch(g.keyCode){case 13:Te?(g.preventDefault(),b(),qn()):qt(g);break;case 27:g.preventDefault(),qn();break;case 8:case 46:S&&!e.config.allowInput&&(g.preventDefault(),e.clear());break;case 37:case 39:if(!Te&&!S){g.preventDefault();var ne=p();if(e.daysContainer!==void 0&&(P===!1||ne&&_n(ne))){var ge=g.keyCode===39?1:-1;g.ctrlKey?(g.stopPropagation(),br(ge),He(_e(1),0)):He(void 0,ge)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:g.preventDefault();var re=g.keyCode===40?1:-1;e.daysContainer&&T.$i!==void 0||T===e.input||T===e.altInput?g.ctrlKey?(g.stopPropagation(),Hn(e.currentYear-re),He(_e(1),0)):Te||He(void 0,re*7):T===e.currentYearElement?Hn(e.currentYear-re):e.config.enableTime&&(!Te&&e.hourElement&&e.hourElement.focus(),b(g),e._debouncedChange());break;case 9:if(Te){var ce=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Tt){return Tt}),Fe=ce.indexOf(T);if(Fe!==-1){var St=ce[Fe+(g.shiftKey?-1:1)];g.preventDefault(),(St||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(T)&&g.shiftKey&&(g.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&T===e.amPM)switch(g.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],R(),_t();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],R(),_t();break}(S||an(T))&&Ve("onKeyDown",g)}i(Tn,"onKeyDown");function vt(g,T){if(T===void 0&&(T="flatpickr-day"),!(e.selectedDates.length!==1||g&&(!g.classList.contains(T)||g.classList.contains("flatpickr-disabled")))){for(var S=g?g.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),P=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),Y=Math.min(S,e.selectedDates[0].getTime()),$=Math.max(S,e.selectedDates[0].getTime()),Te=!1,ne=0,ge=0,re=Y;re<$;re+=Sf.DAY)We(new Date(re),!0)||(Te=Te||re>Y&&re<$,re<P&&(!ne||re>ne)?ne=re:re>P&&(!ge||re<ge)&&(ge=re));var ce=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+T));ce.forEach(function(Fe){var St=Fe.dateObj,Tt=St.getTime(),$n=ne>0&&Tt<ne||ge>0&&Tt>ge;if($n){Fe.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Jt){Fe.classList.remove(Jt)});return}else if(Te&&!$n)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Jt){Fe.classList.remove(Jt)}),g!==void 0&&(g.classList.add(S<=e.selectedDates[0].getTime()?"startRange":"endRange"),P<S&&Tt===P?Fe.classList.add("startRange"):P>S&&Tt===P&&Fe.classList.add("endRange"),Tt>=ne&&(ge===0||Tt<=ge)&&Df(Tt,P,S)&&Fe.classList.add("inRange"))})}}i(vt,"onMouseOver");function Ps(){e.isOpen&&!e.config.static&&!e.config.inline&&In()}i(Ps,"onResize");function Yn(g,T){if(T===void 0&&(T=e._positionElement),e.isMobile===!0){if(g){g.preventDefault();var S=At(g);S&&S.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Ve("onOpen");return}else if(e._input.disabled||e.config.inline)return;var P=e.isOpen;e.isOpen=!0,P||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ve("onOpen"),In(T)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(g===void 0||!e.timeContainer.contains(g.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}i(Yn,"open");function Ci(g){return function(T){var S=e.config["_"+g+"Date"]=e.parseDate(T,e.config.dateFormat),P=e.config["_"+(g==="min"?"max":"min")+"Date"];S!==void 0&&(e[g==="min"?"minDateHasTime":"maxDateHasTime"]=S.getHours()>0||S.getMinutes()>0||S.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(Y){return We(Y)}),!e.selectedDates.length&&g==="min"&&x(S),_t()),e.daysContainer&&(Qt(),S!==void 0?e.currentYearElement[g]=S.getFullYear().toString():e.currentYearElement.removeAttribute(g),e.currentYearElement.disabled=!!P&&S!==void 0&&P.getFullYear()===S.getFullYear())}}i(Ci,"minMaxDateSetter");function Pi(){var g=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],T=ht(ht({},JSON.parse(JSON.stringify(r.dataset||{}))),t),S={};e.config.parseDate=T.parseDate,e.config.formatDate=T.formatDate,Object.defineProperty(e.config,"enable",{get:i(function(){return e.config._enable},"get"),set:i(function(ce){e.config._enable=Fi(ce)},"set")}),Object.defineProperty(e.config,"disable",{get:i(function(){return e.config._disable},"get"),set:i(function(ce){e.config._disable=Fi(ce)},"set")});var P=T.mode==="time";if(!T.dateFormat&&(T.enableTime||P)){var Y=rt.defaultConfig.dateFormat||pn.dateFormat;S.dateFormat=T.noCalendar||P?"H:i"+(T.enableSeconds?":S":""):Y+" H:i"+(T.enableSeconds?":S":"")}if(T.altInput&&(T.enableTime||P)&&!T.altFormat){var $=rt.defaultConfig.altFormat||pn.altFormat;S.altFormat=T.noCalendar||P?"h:i"+(T.enableSeconds?":S K":" K"):$+(" h:i"+(T.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:i(function(){return e.config._minDate},"get"),set:Ci("min")}),Object.defineProperty(e.config,"maxDate",{get:i(function(){return e.config._maxDate},"get"),set:Ci("max")});var Te=i(function(ce){return function(Fe){e.config[ce==="min"?"_minTime":"_maxTime"]=e.parseDate(Fe,"H:i:S")}},"minMaxTimeSetter");Object.defineProperty(e.config,"minTime",{get:i(function(){return e.config._minTime},"get"),set:Te("min")}),Object.defineProperty(e.config,"maxTime",{get:i(function(){return e.config._maxTime},"get"),set:Te("max")}),T.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,S,T);for(var ne=0;ne<g.length;ne++)e.config[g[ne]]=e.config[g[ne]]===!0||e.config[g[ne]]==="true";yo.filter(function(ce){return e.config[ce]!==void 0}).forEach(function(ce){e.config[ce]=Do(e.config[ce]||[]).map(d)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ne=0;ne<e.config.plugins.length;ne++){var ge=e.config.plugins[ne](e)||{};for(var re in ge)yo.indexOf(re)>-1?e.config[re]=Do(ge[re]).map(d).concat(e.config[re]):typeof T[re]>"u"&&(e.config[re]=ge[re])}T.altInputClass||(e.config.altInputClass=Ar().className+" "+e.config.altInputClass),Ve("onParseConfig")}i(Pi,"parseConfig");function Ar(){return e.config.wrap?r.querySelector("[data-input]"):r}i(Ar,"getInputElem");function ft(){typeof e.config.locale!="object"&&typeof rt.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ht(ht({},rt.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?rt.l10ns[e.config.locale]:void 0),on.D="("+e.l10n.weekdays.shorthand.join("|")+")",on.l="("+e.l10n.weekdays.longhand.join("|")+")",on.M="("+e.l10n.months.shorthand.join("|")+")",on.F="("+e.l10n.months.longhand.join("|")+")",on.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var g=ht(ht({},t),JSON.parse(JSON.stringify(r.dataset||{})));g.time_24hr===void 0&&rt.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Fa(e),e.parseDate=Oo({config:e.config,l10n:e.l10n})}i(ft,"setupLocale");function In(g){if(typeof e.config.position=="function")return void e.config.position(e,g);if(e.calendarContainer!==void 0){Ve("onPreCalendarPosition");var T=g||e._positionElement,S=Array.prototype.reduce.call(e.calendarContainer.children,function(Vs,Rl){return Vs+Rl.offsetHeight},0),P=e.calendarContainer.offsetWidth,Y=e.config.position.split(" "),$=Y[0],Te=Y.length>1?Y[1]:null,ne=T.getBoundingClientRect(),ge=window.innerHeight-ne.bottom,re=$==="above"||$!=="below"&&ge<S&&ne.top>S,ce=window.pageYOffset+ne.top+(re?-S-2:T.offsetHeight+2);if(mt(e.calendarContainer,"arrowTop",!re),mt(e.calendarContainer,"arrowBottom",re),!e.config.inline){var Fe=window.pageXOffset+ne.left,St=!1,Tt=!1;Te==="center"?(Fe-=(P-ne.width)/2,St=!0):Te==="right"&&(Fe-=P-ne.width,Tt=!0),mt(e.calendarContainer,"arrowLeft",!St&&!Tt),mt(e.calendarContainer,"arrowCenter",St),mt(e.calendarContainer,"arrowRight",Tt);var $n=window.document.body.offsetWidth-(window.pageXOffset+ne.right),Jt=Fe+P>window.document.body.offsetWidth,Al=$n+P>window.document.body.offsetWidth;if(mt(e.calendarContainer,"rightMost",Jt),!e.config.static)if(e.calendarContainer.style.top=ce+"px",!Jt)e.calendarContainer.style.left=Fe+"px",e.calendarContainer.style.right="auto";else if(!Al)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=$n+"px";else{var Bi=jn();if(Bi===void 0)return;var Dl=window.document.body.offsetWidth,Rr=Math.max(0,Dl/2-P/2),Vi=".flatpickr-calendar.centerMost:before",Ol=".flatpickr-calendar.centerMost:after",Gi=Bi.cssRules.length,Sl="{left:"+ne.left+"px;right:auto;}";mt(e.calendarContainer,"rightMost",!1),mt(e.calendarContainer,"centerMost",!0),Bi.insertRule(Vi+","+Ol+Sl,Gi),e.calendarContainer.style.left=Rr+"px",e.calendarContainer.style.right="auto"}}}}i(In,"positionCalendar");function jn(){for(var g=null,T=0;T<document.styleSheets.length;T++){var S=document.styleSheets[T];if(S.cssRules){try{S.cssRules}catch{continue}g=S;break}}return g??Ni()}i(jn,"getDocumentStyleSheet");function Ni(){var g=document.createElement("style");return document.head.appendChild(g),g.sheet}i(Ni,"createStyleSheet");function Qt(){e.config.noCalendar||e.isMobile||(gt(),Kn(),Bt())}i(Qt,"redraw");function qn(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}i(qn,"focusAndClose");function qt(g){g.preventDefault(),g.stopPropagation();var T=i(function(ce){return ce.classList&&ce.classList.contains("flatpickr-day")&&!ce.classList.contains("flatpickr-disabled")&&!ce.classList.contains("notAllowed")},"isSelectable"),S=Ma(At(g),T);if(S!==void 0){var P=S,Y=e.latestSelectedDateObj=new Date(P.dateObj.getTime()),$=(Y.getMonth()<e.currentMonth||Y.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=P,e.config.mode==="single")e.selectedDates=[Y];else if(e.config.mode==="multiple"){var Te=Wn(Y);Te?e.selectedDates.splice(parseInt(Te),1):e.selectedDates.push(Y)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=Y,e.selectedDates.push(Y),Dt(Y,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(ce,Fe){return ce.getTime()-Fe.getTime()}));if(R(),$){var ne=e.currentYear!==Y.getFullYear();e.currentYear=Y.getFullYear(),e.currentMonth=Y.getMonth(),ne&&(Ve("onYearChange"),gt()),Ve("onMonthChange")}if(Kn(),Bt(),_t(),!$&&e.config.mode!=="range"&&e.config.showMonths===1?ue(P):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var ge=e.config.mode==="single"&&!e.config.enableTime,re=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(ge||re)&&qn()}k()}}i(qt,"selectDate");var zn={locale:[ft,ct],showMonths:[kn,v,wi],minDate:[j],maxDate:[j],positionElement:[Ui],clickOpens:[function(){e.config.clickOpens===!0?(M(e._input,"focus",e.open),M(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Mi(g,T){if(g!==null&&typeof g=="object"){Object.assign(e.config,g);for(var S in g)zn[S]!==void 0&&zn[S].forEach(function(P){return P()})}else e.config[g]=T,zn[g]!==void 0?zn[g].forEach(function(P){return P()}):yo.indexOf(g)>-1&&(e.config[g]=Do(T));e.redraw(),_t(!0)}i(Mi,"set");function xi(g,T){var S=[];if(g instanceof Array)S=g.map(function(P){return e.parseDate(P,T)});else if(g instanceof Date||typeof g=="number")S=[e.parseDate(g,T)];else if(typeof g=="string")switch(e.config.mode){case"single":case"time":S=[e.parseDate(g,T)];break;case"multiple":S=g.split(e.config.conjunction).map(function(P){return e.parseDate(P,T)});break;case"range":S=g.split(e.l10n.rangeSeparator).map(function(P){return e.parseDate(P,T)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(g)));e.selectedDates=e.config.allowInvalidPreload?S:S.filter(function(P){return P instanceof Date&&We(P,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(P,Y){return P.getTime()-Y.getTime()})}i(xi,"setSelectedDate");function Ns(g,T,S){if(T===void 0&&(T=!1),S===void 0&&(S=e.config.dateFormat),g!==0&&!g||g instanceof Array&&g.length===0)return e.clear(T);xi(g,S),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),j(void 0,T),x(),e.selectedDates.length===0&&e.clear(!1),_t(T),T&&Ve("onChange")}i(Ns,"setDate");function Fi(g){return g.slice().map(function(T){return typeof T=="string"||typeof T=="number"||T instanceof Date?e.parseDate(T,void 0,!0):T&&typeof T=="object"&&T.from&&T.to?{from:e.parseDate(T.from,void 0),to:e.parseDate(T.to,void 0)}:T}).filter(function(T){return T})}i(Fi,"parseDateRules");function Ms(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var g=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);g&&xi(g,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}i(Ms,"setupDates");function et(){if(e.input=Ar(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=we(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Ui()}i(et,"setupInputs");function Ui(){e._positionElement=e.config.positionElement||e._input}i(Ui,"updatePositionElement");function Dr(){var g=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=we("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=g,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=g==="datetime-local"?"Y-m-d\\TH:i:S":g==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}M(e.mobileInput,"change",function(T){e.setDate(At(T).value,!1,e.mobileFormatStr),Ve("onChange"),Ve("onClose")})}i(Dr,"setupMobile");function xs(g){if(e.isOpen===!0)return e.close();e.open(g)}i(xs,"toggle");function Ve(g,T){if(e.config!==void 0){var S=e.config[g];if(S!==void 0&&S.length>0)for(var P=0;S[P]&&P<S.length;P++)S[P](e.selectedDates,e.input.value,e,T);g==="onChange"&&(e.input.dispatchEvent(Or("change")),e.input.dispatchEvent(Or("input")))}}i(Ve,"triggerEvent");function Or(g){var T=document.createEvent("Event");return T.initEvent(g,!0,!0),T}i(Or,"createEvent");function Wn(g){for(var T=0;T<e.selectedDates.length;T++){var S=e.selectedDates[T];if(S instanceof Date&&Dt(S,g)===0)return""+T}return!1}i(Wn,"isDateSelected");function Fs(g){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Dt(g,e.selectedDates[0])>=0&&Dt(g,e.selectedDates[1])<=0}i(Fs,"isDateInRange");function Kn(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(g,T){var S=new Date(e.currentYear,e.currentMonth,1);S.setMonth(e.currentMonth+T),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[T].textContent=ai(S.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=S.getMonth().toString(),g.value=S.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}i(Kn,"updateNavigationCurrentMonth");function Sr(g){var T=g||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(S){return e.formatDate(S,T)}).filter(function(S,P,Y){return e.config.mode!=="range"||e.config.enableTime||Y.indexOf(S)===P}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}i(Sr,"getDateStr");function _t(g){g===void 0&&(g=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Sr(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Sr(e.config.altFormat)),g!==!1&&Ve("onValueUpdate")}i(_t,"updateValue");function Us(g){var T=At(g),S=e.prevMonthNav.contains(T),P=e.nextMonthNav.contains(T);S||P?br(S?-1:1):e.yearElements.indexOf(T)>=0?T.select():T.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):T.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}i(Us,"onMonthNavClick");function Bs(g){g.preventDefault();var T=g.type==="keydown",S=At(g),P=S;e.amPM!==void 0&&S===e.amPM&&(e.amPM.textContent=e.l10n.amPM[bt(e.amPM.textContent===e.l10n.amPM[0])]);var Y=parseFloat(P.getAttribute("min")),$=parseFloat(P.getAttribute("max")),Te=parseFloat(P.getAttribute("step")),ne=parseInt(P.value,10),ge=g.delta||(T?g.which===38?1:-1:0),re=ne+Te*ge;if(typeof P.value<"u"&&P.value.length===2){var ce=P===e.hourElement,Fe=P===e.minuteElement;re<Y?(re=$+re+bt(!ce)+(bt(ce)&&bt(!e.amPM)),Fe&&Pe(void 0,-1,e.hourElement)):re>$&&(re=P===e.hourElement?re-$-bt(!e.amPM):Y,Fe&&Pe(void 0,1,e.hourElement)),e.amPM&&ce&&(Te===1?re+ne===23:Math.abs(re-ne)>Te)&&(e.amPM.textContent=e.l10n.amPM[bt(e.amPM.textContent===e.l10n.amPM[0])]),P.value=pt(re)}}return i(Bs,"timeWrapper"),l(),e}i(Tg,"FlatpickrInstance");function mr(r,t){for(var e=Array.prototype.slice.call(r).filter(function(d){return d instanceof HTMLElement}),s=[],l=0;l<e.length;l++){var p=e[l];try{if(p.getAttribute("data-fp-omit")!==null)continue;p._flatpickr!==void 0&&(p._flatpickr.destroy(),p._flatpickr=void 0),p._flatpickr=Tg(p,t||{}),s.push(p._flatpickr)}catch(d){console.error(d)}}return s.length===1?s[0]:s}i(mr,"_flatpickr");typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return mr(this,r)},HTMLElement.prototype.flatpickr=function(r){return mr([this],r)});var rt=i(function(r,t){return typeof r=="string"?mr(window.document.querySelectorAll(r),t):r instanceof Node?mr([r],t):mr(r,t)},"flatpickr");rt.defaultConfig={};rt.l10ns={en:ht({},Ao),default:ht({},Ao)};rt.localize=function(r){rt.l10ns.default=ht(ht({},rt.l10ns.default),r)};rt.setDefaults=function(r){rt.defaultConfig=ht(ht({},rt.defaultConfig),r)};rt.parseDate=Oo({});rt.formatDate=Fa({});rt.compareDates=Dt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return mr(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=rt);var mn=rt;var Ig=mn,Lo=class extends be{static{i(this,"DatetimeField")}options={id:"",type:qr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),className:qe,enhance:!0,options:{altInput:!0,enableTime:!0}};_flatpickr=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=Ig(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.options.enhance?"text":"datetime-local"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder)}getValue(){return this._value}};var li=class{static{i(this,"Button")}options={id:"",type:"button",buttonType:"submit",className:Bc,template:"Submit"};containerElement=null;buttonElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(t,e,s){this.initializeOptions(s),this._parent=t,this._form=e,this._id=this.options.id,this._type=s.type,this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Ft(this.options.type,t))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Mt(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getType(){return this._type}getButtonType(){return this.options.buttonType}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(at),this.containerElement.className=Mc,this.containerElement.setAttribute(fe,this._id+Kt)}createButtonElement(){this.buttonElement=document.createElement(mo),this.buttonElement.className=this.options.className,this.buttonElement.setAttribute(fe,this._id),this.buttonElement.setAttribute(Ue,this.options.buttonType),typeof this.options.template=="string"?this.buttonElement.innerText=this.options.template:typeof this.options.template=="function"&&(this.buttonElement.innerHTML="",this.buttonElement.append(this.options.template())),this.buttonElement.addEventListener(ho,t=>this.onClick(t))}onGui(){this.createContainerElement(),this.createButtonElement(),this.containerElement&&this.buttonElement&&me(this.buttonElement,this.containerElement)}mount(){this.buttonElement&&me(this.buttonElement,this._parent),this._isMounted=!0}unmount(){this.buttonElement&&nn(this.buttonElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}onClick(t){this.options.click&&this.options.click(t,this._form.getData()),this.dispatchEvent("clicked")}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let t=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=xt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),t!==this._isVisible&&this.dispatchEvent("visibilityChanged")}dispatchEvent(t,e=null){function s(p){if(p!=null){if(typeof p=="boolean")return new CustomEvent(t,{detail:p});new CustomEvent(t,p)}return new CustomEvent(t)}i(s,"getDispathedEvent");let l=s(e);this.buttonElement?.dispatchEvent(l)}on(t,e,s){this.buttonElement?.addEventListener(t,e,s)}off(t,e,s){this.buttonElement?.removeEventListener(t,e,s)}};var Co=class extends be{static{i(this,"CheckboxField")}options={id:"",type:Hr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),default:null,className:kc,toggle:!1};sliderElement=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&(this.getValue()&&!this.inputElement.hasAttribute(Ut)?this.inputElement.setAttribute(Ut,String(this.getValue())):!this.getValue()&&this.inputElement.hasAttribute(Ut)&&this.inputElement.removeAttribute(Ut))}createContainerElement(){this.containerElement=document.createElement(at),this.containerElement.className=dn+" "+this.getType(),this.options.toggle&&(this.containerElement.className+=" "+Hc),this.containerElement.setAttribute(fe,this.getId()+Kt)}createLabelElement(){this.labelElement=document.createElement(lr),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.sliderElement&&this.labelElement&&me(this.sliderElement,this.labelElement);let t=document.createElement(Mn);this.options.label&&(typeof this.options.label=="string"?t.innerText=this.options.label:typeof this.options.label=="function"&&(t.innerHTML="",t.append(this.options.label()))),t.setAttribute(fe,this.getId()+rn),this.labelElement.setAttribute(ur,this.options.name||this.getId()),t.className=Pn,this.options.label&&me(t,this.labelElement)}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.getType()),this.options.default&&this.inputElement.setAttribute(Ut,String(this.options.default)),this.inputElement.className=this.options.className}createToggleSpan(){this.sliderElement=document.createElement(Nn),this.sliderElement.className=Yc}onGui(){this.createContainerElement(),this.options.toggle&&this.createToggleSpan(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement)}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t)})}change(t){this.setValue(t.target.checked),this.options.change&&this.options.change(this.getValue()),this.validate(),this.dispatchEvent("changed",this._value)}getValue(){return this._value}};var Po=class extends be{static{i(this,"ColorField")}options={id:"",type:Yr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),default:null,className:jc};constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t)})}getValue(){return this._value}};var yg=mn,No=class extends be{static{i(this,"DateField")}options={id:"",type:jr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),className:qe,enhance:!0,options:{altInput:!0}};_flatpickr=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=yg(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.options.enhance?"text":"date"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder)}getValue(){return this._value}};var Mo=class extends be{static{i(this,"EmailField")}options={id:"",type:zr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:t&&typeof t=="string"&&!t.match(this.mailFormat)?Zc:!0,"validation"),default:"",className:qe};mailFormat=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Cf=Qu(Lf(),1);var Fo=class extends be{static{i(this,"FileField")}options={id:"",type:Wr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),className:qe,enhance:!0,multiple:!1,debounce:50,options:{storeAsFile:!0,instantUpload:!1,allowProcess:!1}};_filepond=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFilepond(),this.bindChange()}initializeOptions(t){this.options=Object.assign({},{...this.options,options:{allowMultiple:t.multiple}},Ft(this.options.type,t))}syncValue(){}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.getType()),this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder),this.inputElement.className=this.options.className,this.options.multiple&&!this.options.enhance&&this.inputElement.setAttribute(Eo,"true"),this.options.accept&&this.inputElement.setAttribute(yf,this.options.accept)}getFilepond(){return this._filepond}initFilepond(){this.inputElement&&this.options.enhance&&(this._filepond=(0,Cf.create)(this.inputElement,this.options.options||{}))}bindChange(){if(this.options.enhance){if(!this._filepond)return;this._filepond.on("addfile",(t,e)=>{if(t)return;let s=this._filepond.getFiles();this.filePondChange(s)}),this._filepond.on("removefile",(t,e)=>{if(t)return;let s=this._filepond.getFiles();this.filePondChange(s)}),this._filepond.on("updatefiles",(t,e)=>{if(t)return;let s=this._filepond.getFiles();this.filePondChange(s)})}else this.inputElement?.addEventListener(nt,or(this.change,this.options.debounce,this))}filePondChange(t){this.changeValue(t)}change(t){t.target?.files&&this.changeValue(t.target.files)}changeValue(t){this.setValue(t),this.validate(),this.handleValidatedField(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",t)}getValue(){return this._value}};var Uo=class{static{i(this,"HiddenField")}options={id:"",type:Kr,default:null};inputElement=null;containerElement=null;labelElement=null;validationElement=null;_id;_parent;_form;_saveKey;_value=null;_type;constructor(t,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=t,this._type=s.type,this._saveKey=Cn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Ft(this.options.type,t))}async initialize(){this.load(),this.update()}setValue(t,e=!0){this._value=t,this.syncValue(),this._form.setData(this._id,t),e&&this.save()}getValue(){return this._value}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}mountToParent(){this.containerElement&&me(this.containerElement,this._parent)}createContainerElement(){this.containerElement=document.createElement(at),this.containerElement.className=dn+" "+this.getType(),this.containerElement.setAttribute(fe,this.getId()+Kt)}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.getType())}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getForm(){return this._form}onGui(){this.createContainerElement(),this.createInputElement(),this.containerElement&&this.inputElement&&me(this.inputElement,this.containerElement),this.mountToParent()}destroy(){this._parent&&this._parent.remove()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let t=localStorage.getItem(this._saveKey);if(t!==null){this.setValue(sr(t)?JSON.parse(t):t,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setValue(this.options.default??null,!1),this.update()}async update(){}};var Bo=class extends be{static{i(this,"NumberField")}options={id:"",type:$r,required:!1,validation:i((t,e,s)=>s&&!t&&t!==0?Oe:this.options.min&&this.options.min>t?fo+this.options.min:this.options.max&&this.options.max<t?po+this.options.max:!0,"validation"),default:null,className:qe};constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize(),this.bindMinMax()}async initialize(){this.load(),this.update(),this.bindMinMax(),this.bindChange()}bindMinMax(){this.inputElement&&(this.options.min&&this.inputElement.setAttribute(go,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(vo,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(_o,String(this.options.step)))}getValue(){return this._value}};var Vo=class extends be{static{i(this,"PasswordField")}options={id:"",type:dr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),default:"",className:qe,allowPeek:!1};constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize(),this.options.allowPeek&&this.addPeekButton()}addPeekButton(){let t=document.createElement(mo),e=this.inputElement,s=document.createElement(at);s.classList.add(Jc),e.insertAdjacentElement("afterend",s),s.append(e,t);let l=!0;p(),t.addEventListener(ho,v=>{v.preventDefault(),l?d():p()});function p(){t.classList.add(La),t.classList.remove(wa),t.ariaLabel="show password",e.type=dr,l=!0}i(p,"hide");function d(){t.classList.add(wa),t.classList.remove(La),t.ariaLabel="hide password",e.type=Un,l=!1}i(d,"show")}getValue(){return this._value}};var Go=class extends be{static{i(this,"RangeField")}options={id:"",type:Qr,required:!1,validation:i((t,e,s)=>s&&!t&&t!==0?Oe:this.options.min&&this.options.min>t?fo+this.options.min:this.options.max&&this.options.max<t?po+this.options.max:!0,"validation"),default:0,className:zc};minElement=null;maxElement=null;valueElement=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.getType()),this.options.min&&this.inputElement.setAttribute(go,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(vo,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(_o,String(this.options.step)),this.inputElement.className=this.options.className}createOtherElements(){this.minElement=document.createElement(Nn),this.minElement.setAttribute(fe,this.getId()+pf),this.minElement.className=Wc,this.maxElement=document.createElement(Nn),this.maxElement.setAttribute(fe,this.getId()+mf),this.maxElement.className=Kc,this.valueElement=document.createElement(sf),this.valueElement.setAttribute(fe,this.getId()+hf),this.valueElement.className=$c}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.createOtherElements(),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement),this.labelElement&&this.valueElement&&me(this.valueElement,this.labelElement),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement)}updateRangeValues(){this.minElement&&this.options.min!==void 0&&(this.minElement.innerText=String(this.options.min)),this.maxElement&&this.options.max!==void 0&&(this.maxElement.innerText=String(this.options.max)),this.valueElement&&(this.valueElement.innerText=this.getValue()?String(this.getValue()):""),setTimeout(this.updateInputPadding,10)}updateInputPadding(){this.inputElement&&this.valueElement&&(this.inputElement.style.paddingRight=this.valueElement.clientWidth+5+"px")}async initialize(){this.load(),this.update(),this.bindChange(),this.updateRangeValues()}async reset(){this.triggerEvents(!1),localStorage.removeItem(this.getSaveKey()),this.setValue(this.options.default??null,!1),this.updateRangeValues(),this.update(),this.triggerEvents(!0),this.dispatchEvent("resetted")}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t),this.updateRangeValues()})}getValue(){return this._value}};function Ua(r,t){r.split(/\s+/).forEach(e=>{t(e)})}i(Ua,"forEvents");var ui=class{static{i(this,"MicroEvent")}constructor(){this._events={}}on(t,e){Ua(t,s=>{let l=this._events[s]||[];l.push(e),this._events[s]=l})}off(t,e){var s=arguments.length;if(s===0){this._events={};return}Ua(t,l=>{if(s===1){delete this._events[l];return}let p=this._events[l];p!==void 0&&(p.splice(p.indexOf(e),1),this._events[l]=p)})}trigger(t,...e){var s=this;Ua(t,l=>{let p=s._events[l];p!==void 0&&p.forEach(d=>{d.apply(s,e)})})}};function Ba(r){return r.plugins={},class extends r{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){r.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,s;let l=this,p=[];if(Array.isArray(t))t.forEach(d=>{typeof d=="string"?p.push(d):(l.plugins.settings[d.name]=d.options,p.push(d.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(l.plugins.settings[e]=t[e],p.push(e));for(;s=p.shift();)l.require(s)}loadPlugin(t){var e=this,s=e.plugins,l=r.plugins[t];if(!r.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');s.requested[t]=!0,s.loaded[t]=l.fn.apply(e,[e.plugins.settings[t]||{}]),s.names.push(t)}require(t){var e=this,s=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(s.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return s.loaded[t]}}}i(Ba,"MicroPlugin");var ci=i(r=>(r=r.filter(Boolean),r.length<2?r[0]||"":Ag(r)==1?"["+r.join("")+"]":"(?:"+r.join("|")+")"),"arrayToPattern"),Va=i(r=>{if(!bg(r))return r.join("");let t="",e=0,s=i(()=>{e>1&&(t+="{"+e+"}")},"prev_pattern");return r.forEach((l,p)=>{if(l===r[p-1]){e++;return}s(),t+=l,e=1}),s(),t},"sequencePattern"),Ga=i(r=>{let t=Array.from(r);return ci(t)},"setToPattern"),bg=i(r=>new Set(r).size!==r.length,"hasDuplicates"),hn=i(r=>(r+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),"escape_regex"),Ag=i(r=>r.reduce((t,e)=>Math.max(t,Dg(e)),0),"maxValueLength"),Dg=i(r=>Array.from(r).length,"unicodeLength");var ka=i(r=>{if(r.length===1)return[[r]];let t=[],e=r.substring(1);return ka(e).forEach(function(l){let p=l.slice(0);p[0]=r.charAt(0)+p[0],t.push(p),p=l.slice(0),p.unshift(r.charAt(0)),t.push(p)}),t},"allSubstrings");var Og=[[0,65535]],Sg="[-]",ko,xf,Rg=3,Ha={},Pf={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let r in Pf){let t=Pf[r]||"";for(let e=0;e<t.length;e++){let s=t.substring(e,e+1);Ha[s]=r}}var wg=new RegExp(Object.keys(Ha).join("|")+"|"+Sg,"gu"),Lg=i(r=>{ko===void 0&&(ko=Mg(r||Og))},"initialize"),Nf=i((r,t="NFKD")=>r.normalize(t),"normalize"),fi=i(r=>Array.from(r).reduce((t,e)=>t+Cg(e),""),"asciifold"),Cg=i(r=>(r=Nf(r).toLowerCase().replace(wg,t=>Ha[t]||""),Nf(r,"NFC")),"_asciifold");function*Pg(r){for(let[t,e]of r)for(let s=t;s<=e;s++){let l=String.fromCharCode(s),p=fi(l);p!=l.toLowerCase()&&(p.length>Rg||p.length!=0&&(yield{folded:p,composed:l,code_point:s}))}}i(Pg,"generator");var Ng=i(r=>{let t={},e=i((s,l)=>{let p=t[s]||new Set,d=new RegExp("^"+Ga(p)+"$","iu");l.match(d)||(p.add(hn(l)),t[s]=p)},"addMatching");for(let s of Pg(r))e(s.folded,s.folded),e(s.folded,s.composed);return t},"generateSets"),Mg=i(r=>{let t=Ng(r),e={},s=[];for(let p in t){let d=t[p];d&&(e[p]=Ga(d)),p.length>1&&s.push(hn(p))}s.sort((p,d)=>d.length-p.length);let l=ci(s);return xf=new RegExp("^"+l,"u"),e},"generateMap"),xg=i((r,t=1)=>{let e=0;return r=r.map(s=>(ko[s]&&(e+=s.length),ko[s]||s)),e>=t?Va(r):""},"mapSequence"),Fg=i((r,t=1)=>(t=Math.max(t,r.length-1),ci(ka(r).map(e=>xg(e,t)))),"substringsToPattern"),Mf=i((r,t=!0)=>{let e=r.length>1?1:0;return ci(r.map(s=>{let l=[],p=t?s.length():s.length()-1;for(let d=0;d<p;d++)l.push(Fg(s.substrs[d]||"",e));return Va(l)}))},"sequencesToPattern"),Ug=i((r,t)=>{for(let e of t){if(e.start!=r.start||e.end!=r.end||e.substrs.join("")!==r.substrs.join(""))continue;let s=r.parts,l=i(d=>{for(let v of s){if(v.start===d.start&&v.substr===d.substr)return!1;if(!(d.length==1||v.length==1)&&(d.start<v.start&&d.end>v.start||v.start<d.start&&v.end>d.start))return!0}return!1},"filter");if(!(e.parts.filter(l).length>0))return!0}return!1},"inSequences"),Ho=class r{static{i(this,"Sequence")}parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let s=new r,l=JSON.parse(JSON.stringify(this.parts)),p=l.pop();for(let b of l)s.add(b);let d=e.substr.substring(0,t-p.start),v=d.length;return s.add({start:p.start,end:p.start+v,length:v,substr:d}),s}},Ff=i(r=>{Lg(),r=fi(r);let t="",e=[new Ho];for(let s=0;s<r.length;s++){let p=r.substring(s).match(xf),d=r.substring(s,s+1),v=p?p[0]:null,b=[],y=new Set;for(let A of e){let R=A.last();if(!R||R.length==1||R.end<=s)if(v){let x=v.length;A.add({start:s,end:s+x,length:x,substr:v}),y.add("1")}else A.add({start:s,end:s+1,length:1,substr:d}),y.add("2");else if(v){let x=A.clone(s,R),X=v.length;x.add({start:s,end:s+X,length:X,substr:v}),b.push(x)}else y.add("3")}if(b.length>0){b=b.sort((A,R)=>A.length()-R.length());for(let A of b)Ug(A,e)||e.push(A);continue}if(s>0&&y.size==1&&!y.has("3")){t+=Mf(e,!1);let A=new Ho,R=e[0];R&&A.add(R.last()),e=[A]}}return t+=Mf(e,!0),t},"getPattern");var Uf=i((r,t)=>{if(r)return r[t]},"getAttr"),Bf=i((r,t)=>{if(r){for(var e,s=t.split(".");(e=s.shift())&&(r=r[e]););return r}},"getAttrNesting"),Yo=i((r,t,e)=>{var s,l;return!r||(r=r+"",t.regex==null)||(l=r.search(t.regex),l===-1)?0:(s=t.string.length/r.length,l===0&&(s+=.5),s*e)},"scoreValue"),jo=i((r,t)=>{var e=r[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(r[t]=[e])},"propToArray"),di=i((r,t)=>{if(Array.isArray(r))r.forEach(t);else for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},"iterate"),Vf=i((r,t)=>typeof r=="number"&&typeof t=="number"?r>t?1:r<t?-1:0:(r=fi(r+"").toLowerCase(),t=fi(t+"").toLowerCase(),r>t?1:t>r?-1:0),"cmp");var qo=class{static{i(this,"Sifter")}items;settings;constructor(t,e){this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,s){if(!t||!t.length)return[];let l=[],p=t.split(/\s+/);var d;return s&&(d=new RegExp("^("+Object.keys(s).map(hn).join("|")+"):(.*)$")),p.forEach(v=>{let b,y=null,A=null;d&&(b=v.match(d))&&(y=b[1],v=b[2]),v.length>0&&(this.settings.diacritics?A=Ff(v)||null:A=hn(v),A&&e&&(A="\\b"+A)),l.push({string:v,regex:A?new RegExp(A,"iu"):null,field:y})}),l}getScoreFunction(t,e){var s=this.prepareSearch(t,e);return this._getScoreFunction(s)}_getScoreFunction(t){let e=t.tokens,s=e.length;if(!s)return function(){return 0};let l=t.options.fields,p=t.weights,d=l.length,v=t.getAttrFn;if(!d)return function(){return 1};let b=function(){return d===1?function(y,A){let R=l[0].field;return Yo(v(A,R),y,p[R]||1)}:function(y,A){var R=0;if(y.field){let x=v(A,y.field);!y.regex&&x?R+=1/d:R+=Yo(x,y,1)}else di(p,(x,X)=>{R+=Yo(v(A,X),y,x)});return R/d}}();return s===1?function(y){return b(e[0],y)}:t.options.conjunction==="and"?function(y){var A,R=0;for(let x of e){if(A=b(x,y),A<=0)return 0;R+=A}return R/s}:function(y){var A=0;return di(e,R=>{A+=b(R,y)}),A/s}}getSortFunction(t,e){var s=this.prepareSearch(t,e);return this._getSortFunction(s)}_getSortFunction(t){var e,s=[];let l=this,p=t.options,d=!t.query&&p.sort_empty?p.sort_empty:p.sort;if(typeof d=="function")return d.bind(this);let v=i(function(y,A){return y==="$score"?A.score:t.getAttrFn(l.items[A.id],y)},"get_field");if(d)for(let y of d)(t.query||y.field!=="$score")&&s.push(y);if(t.query){e=!0;for(let y of s)if(y.field==="$score"){e=!1;break}e&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(y=>y.field!=="$score");return s.length?function(y,A){var R,x;for(let X of s)if(x=X.field,R=(X.direction==="desc"?-1:1)*Vf(v(x,y),v(x,A)),R)return R;return 0}:null}prepareSearch(t,e){let s={};var l=Object.assign({},e);if(jo(l,"sort"),jo(l,"sort_empty"),l.fields){jo(l,"fields");let p=[];l.fields.forEach(d=>{typeof d=="string"&&(d={field:d,weight:1}),p.push(d),s[d.field]="weight"in d?d.weight:1}),l.fields=p}return{options:l,query:t.toLowerCase().trim(),tokens:this.tokenize(t,l.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:l.nesting?Bf:Uf}}search(t,e){var s=this,l,p;p=this.prepareSearch(t,e),e=p.options,t=p.query;let d=e.score||s._getScoreFunction(p);t.length?di(s.items,(b,y)=>{l=d(b),(e.filter===!1||l>0)&&p.items.push({score:l,id:y})}):di(s.items,(b,y)=>{p.items.push({score:1,id:y})});let v=s._getSortFunction(p);return v&&p.items.sort(v),p.total=p.items.length,typeof e.limit=="number"&&(p.items=p.items.slice(0,e.limit)),p}};var wt=i(r=>typeof r>"u"||r===null?null:pi(r),"hash_key"),pi=i(r=>typeof r=="boolean"?r?"1":"0":r+"","get_hash"),zo=i(r=>(r+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),Gf=i((r,t)=>t>0?window.setTimeout(r,t):(r.call(null),null),"timeout"),kf=i((r,t)=>{var e;return function(s,l){var p=this;e&&(p.loading=Math.max(p.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,p.loadedSearches[s]=!0,r.call(p,s,l)},t)}},"loadDebounce"),Ya=i((r,t,e)=>{var s,l=r.trigger,p={};r.trigger=function(){var d=arguments[0];if(t.indexOf(d)!==-1)p[d]=arguments;else return l.apply(r,arguments)},e.apply(r,[]),r.trigger=l;for(s of t)s in p&&l.apply(r,p[s])},"debounce_events"),Hf=i(r=>({start:r.selectionStart||0,length:(r.selectionEnd||0)-(r.selectionStart||0)}),"getSelection"),Ke=i((r,t=!1)=>{r&&(r.preventDefault(),t&&r.stopPropagation())},"preventDefault"),Et=i((r,t,e,s)=>{r.addEventListener(t,e,s)},"addEvent"),En=i((r,t)=>{if(!t||!t[r])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},"isKeyDown"),Wo=i((r,t)=>{let e=r.getAttribute("id");return e||(r.setAttribute("id",t),t)},"getId"),ja=i(r=>r.replace(/[\\"']/g,"\\$&"),"addSlashes"),gn=i((r,t)=>{t&&r.append(t)},"append"),it=i((r,t)=>{if(Array.isArray(r))r.forEach(t);else for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},"iterate");var Ht=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(qa(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),qa=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString"),Yf=i(r=>r.replace(/['"\\]/g,"\\$&"),"escapeQuery"),Ko=i((r,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),r.dispatchEvent(e)},"triggerEvent"),mi=i((r,t)=>{Object.assign(r.style,t)},"applyCSS"),Ot=i((r,...t)=>{var e=jf(t);r=qf(r),r.map(s=>{e.map(l=>{s.classList.add(l)})})},"addClasses"),sn=i((r,...t)=>{var e=jf(t);r=qf(r),r.map(s=>{e.map(l=>{s.classList.remove(l)})})},"removeClasses"),jf=i(r=>{var t=[];return it(r,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),qf=i(r=>(Array.isArray(r)||(r=[r]),r),"castAsArray"),$o=i((r,t,e)=>{if(!(e&&!e.contains(r)))for(;r&&r.matches;){if(r.matches(t))return r;r=r.parentNode}},"parentMatch"),za=i((r,t=0)=>t>0?r[r.length-1]:r[0],"getTail"),zf=i(r=>Object.keys(r).length===0,"isEmptyObject"),Wa=i((r,t)=>{if(!r)return-1;t=t||r.nodeName;for(var e=0;r=r.previousElementSibling;)r.matches(t)&&e++;return e},"nodeIndex"),ke=i((r,t)=>{it(t,(e,s)=>{e==null?r.removeAttribute(s):r.setAttribute(s,""+e)})},"setAttr"),hi=i((r,t)=>{r.parentNode&&r.parentNode.replaceChild(t,r)},"replaceNode");var Wf=i((r,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}let e=i(p=>{var d=p.data.match(t);if(d&&p.data.length>0){var v=document.createElement("span");v.className="highlight";var b=p.splitText(d.index);b.splitText(d[0].length);var y=b.cloneNode(!0);return v.appendChild(y),hi(b,v),1}return 0},"highlightText"),s=i(p=>{p.nodeType===1&&p.childNodes&&!/(script|style)/i.test(p.tagName)&&(p.className!=="highlight"||p.tagName!=="SPAN")&&Array.from(p.childNodes).forEach(d=>{l(d)})},"highlightChildren"),l=i(p=>p.nodeType===3?e(p):(s(p),0),"highlightRecursive");l(r)},"highlight"),Kf=i(r=>{var t=r.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var s=e.parentNode;s.replaceChild(e.firstChild,e),s.normalize()})},"removeHighlight");var Bg=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Ei=Bg?"metaKey":"ctrlKey";var Ka={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:i(function(r){return r.length>0},"shouldLoad"),render:{}};function Xo(r,t){var e=Object.assign({},Ka,t),s=e.dataAttr,l=e.labelField,p=e.valueField,d=e.disabledField,v=e.optgroupField,b=e.optgroupLabelField,y=e.optgroupValueField,A=r.tagName.toLowerCase(),R=r.getAttribute("placeholder")||r.getAttribute("data-placeholder");if(!R&&!e.allowEmptyOption){let M=r.querySelector('option[value=""]');M&&(R=M.textContent)}var x={placeholder:R,options:[],optgroups:[],items:[],maxItems:null},X=i(()=>{var M,k=x.options,ie={},j=1;let le=0;var Pe=i(ue=>{var _e=Object.assign({},ue.dataset),de=s&&_e[s];return typeof de=="string"&&de.length&&(_e=Object.assign(_e,JSON.parse(de))),_e},"readData"),Le=i((ue,_e)=>{var de=wt(ue.value);if(de!=null&&!(!de&&!e.allowEmptyOption)){if(ie.hasOwnProperty(de)){if(_e){var He=ie[de][v];He?Array.isArray(He)?He.push(_e):ie[de][v]=[He,_e]:ie[de][v]=_e}}else{var Se=Pe(ue);Se[l]=Se[l]||ue.textContent,Se[p]=Se[p]||de,Se[d]=Se[d]||ue.disabled,Se[v]=Se[v]||_e,Se.$option=ue,Se.$order=Se.$order||++le,ie[de]=Se,k.push(Se)}ue.selected&&x.items.push(de)}},"addOption"),Be=i(ue=>{var _e,de;de=Pe(ue),de[b]=de[b]||ue.getAttribute("label")||"",de[y]=de[y]||j++,de[d]=de[d]||ue.disabled,de.$order=de.$order||++le,x.optgroups.push(de),_e=de[y],it(ue.children,He=>{Le(He,_e)})},"addGroup");x.maxItems=r.hasAttribute("multiple")?null:1,it(r.children,ue=>{M=ue.tagName.toLowerCase(),M==="optgroup"?Be(ue):M==="option"&&Le(ue)})},"init_select"),C=i(()=>{let M=r.getAttribute(s);if(M)x.options=JSON.parse(M),it(x.options,ie=>{x.items.push(ie[p])});else{var k=r.value.trim()||"";if(!e.allowEmptyOption&&!k.length)return;let ie=k.split(e.delimiter);it(ie,j=>{let le={};le[l]=j,le[p]=j,x.options.push(le)}),x.items=ie}},"init_textbox");return A==="select"?X():C(),Object.assign({},Ka,x,t)}i(Xo,"getSettings");var Qf=0,lt=class extends Ba(ui){static{i(this,"TomSelect")}constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Qf++;var s,l=Ht(t);if(l.tomselect)throw new Error("Tom Select already initialized on this element");l.tomselect=this;var p=window.getComputedStyle&&window.getComputedStyle(l,null);s=p.getPropertyValue("direction");let d=Xo(l,e);this.settings=d,this.input=l,this.tabIndex=l.tabIndex||0,this.is_select_tag=l.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=Wo(l,"tomselect-"+Qf),this.isRequired=l.required,this.sifter=new qo(this.options,{diacritics:d.diacritics}),d.mode=d.mode||(d.maxItems===1?"single":"multi"),typeof d.hideSelected!="boolean"&&(d.hideSelected=d.mode==="multi"),typeof d.hidePlaceholder!="boolean"&&(d.hidePlaceholder=d.mode!=="multi");var v=d.createFilter;typeof v!="function"&&(typeof v=="string"&&(v=new RegExp(v)),v instanceof RegExp?d.createFilter=k=>v.test(k):d.createFilter=k=>this.settings.duplicates||!this.options[k]),this.initializePlugins(d.plugins),this.setupCallbacks(),this.setupTemplates();let b=Ht("<div>"),y=Ht("<div>"),A=this._render("dropdown"),R=Ht('<div role="listbox" tabindex="-1">'),x=this.input.getAttribute("class")||"",X=d.mode;var C;if(Ot(b,d.wrapperClass,x,X),Ot(y,d.controlClass),gn(b,y),Ot(A,d.dropdownClass,X),d.copyClassesToDropdown&&Ot(A,x),Ot(R,d.dropdownContentClass),gn(A,R),Ht(d.dropdownParent||b).appendChild(A),qa(d.controlInput)){C=Ht(d.controlInput);var M=["autocorrect","autocapitalize","autocomplete","spellcheck"];it(M,k=>{l.getAttribute(k)&&ke(C,{[k]:l.getAttribute(k)})}),C.tabIndex=-1,y.appendChild(C),this.focus_node=C}else d.controlInput?(C=Ht(d.controlInput),this.focus_node=C):(C=Ht("<input/>"),this.focus_node=y);this.wrapper=b,this.dropdown=A,this.dropdown_content=R,this.control=y,this.control_input=C,this.setup()}setup(){let t=this,e=t.settings,s=t.control_input,l=t.dropdown,p=t.dropdown_content,d=t.wrapper,v=t.control,b=t.input,y=t.focus_node,A={passive:!0},R=t.inputId+"-ts-dropdown";ke(p,{id:R}),ke(y,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":R});let x=Wo(y,t.inputId+"-ts-control"),X="label[for='"+Yf(t.inputId)+"']",C=document.querySelector(X),M=t.focus.bind(t);if(C){Et(C,"click",M),ke(C,{for:x});let j=Wo(C,t.inputId+"-ts-label");ke(y,{"aria-labelledby":j}),ke(p,{"aria-labelledby":j})}if(d.style.width=b.style.width,t.plugins.names.length){let j="plugin-"+t.plugins.names.join(" plugin-");Ot([d,l],j)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&ke(b,{multiple:"multiple"}),e.placeholder&&ke(s,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+hn(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=kf(e.load,e.loadThrottle)),Et(l,"mousemove",()=>{t.ignoreHover=!1}),Et(l,"mouseenter",j=>{var le=$o(j.target,"[data-selectable]",l);le&&t.onOptionHover(j,le)},{capture:!0}),Et(l,"click",j=>{let le=$o(j.target,"[data-selectable]");le&&(t.onOptionSelect(j,le),Ke(j,!0))}),Et(v,"click",j=>{var le=$o(j.target,"[data-ts-item]",v);if(le&&t.onItemSelect(j,le)){Ke(j,!0);return}s.value==""&&(t.onClick(),Ke(j,!0))}),Et(y,"keydown",j=>t.onKeyDown(j)),Et(s,"keypress",j=>t.onKeyPress(j)),Et(s,"input",j=>t.onInput(j)),Et(y,"blur",j=>t.onBlur(j)),Et(y,"focus",j=>t.onFocus(j)),Et(s,"paste",j=>t.onPaste(j));let k=i(j=>{let le=j.composedPath()[0];if(!d.contains(le)&&!l.contains(le)){t.isFocused&&t.blur(),t.inputState();return}le==s&&t.isOpen?j.stopPropagation():Ke(j,!0)},"doc_mousedown"),ie=i(()=>{t.isOpen&&t.positionDropdown()},"win_scroll");Et(document,"mousedown",k),Et(window,"scroll",ie,A),Et(window,"resize",ie,A),this._destroy=()=>{document.removeEventListener("mousedown",k),window.removeEventListener("scroll",ie),window.removeEventListener("resize",ie),C&&C.removeEventListener("click",M)},this.revertSettings={innerHTML:b.innerHTML,tabIndex:b.tabIndex},b.tabIndex=-1,b.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,Et(b,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,b.disabled?t.disable():b.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),Ot(b,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),it(e,s=>{this.registerOptionGroup(s)})}setupTemplates(){var t=this,e=t.settings.labelField,s=t.settings.optgroupLabelField,l={optgroup:i(p=>{let d=document.createElement("div");return d.className="optgroup",d.appendChild(p.options),d},"optgroup"),optgroup_header:i((p,d)=>'<div class="optgroup-header">'+d(p[s])+"</div>","optgroup_header"),option:i((p,d)=>"<div>"+d(p[e])+"</div>","option"),item:i((p,d)=>"<div>"+d(p[e])+"</div>","item"),option_create:i((p,d)=>'<div class="create">Add <strong>'+d(p.input)+"</strong>&hellip;</div>","option_create"),no_results:i(()=>'<div class="no-results">No results found</div>',"no_results"),loading:i(()=>'<div class="spinner"></div>',"loading"),not_loading:i(()=>{},"not_loading"),dropdown:i(()=>"<div></div>","dropdown")};t.settings.render=Object.assign({},l,t.settings.render)}setupCallbacks(){var t,e,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in s)e=this.settings[s[t]],e&&this.on(t,e)}sync(t=!0){let e=this,s=t?Xo(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(s.options,s.optgroups),e.setValue(s.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){Ko(this.input,"input"),Ko(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){Ke(t);return}e.settings.splitOn&&setTimeout(()=>{var s=e.inputValue();if(s.match(e.settings.splitOn)){var l=s.trim().split(e.settings.splitOn);it(l,p=>{wt(p)&&(this.options[p]?e.addItem(p):e.createItem(p))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){Ke(t);return}var s=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&s===e.settings.delimiter){e.createItem(),Ke(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==9&&Ke(t);return}switch(t.keyCode){case 65:if(En(Ei,t)&&e.control_input.value==""){Ke(t),e.selectAll();return}break;case 27:e.isOpen&&(Ke(t,!0),e.close()),e.clearActiveItems();return;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let s=e.getAdjacent(e.activeOption,1);s&&e.setActiveOption(s)}Ke(t);return;case 38:if(e.activeOption){let s=e.getAdjacent(e.activeOption,-1);s&&e.setActiveOption(s)}Ke(t);return;case 13:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),Ke(t)):e.settings.create&&e.createItem()?Ke(t):document.activeElement==e.control_input&&e.isOpen&&Ke(t);return;case 37:e.advanceSelection(-1,t);return;case 39:e.advanceSelection(1,t);return;case 9:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),Ke(t)),e.settings.create&&e.createItem()&&Ke(t));return;case 8:case 46:e.deleteSelection(t);return}e.isInputHidden&&!En(Ei,t)&&Ke(t)}onInput(t){if(this.isLocked)return;let e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Gf(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,s=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),Ke(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),s||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var s=i(()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")},"deactivate");e.settings.create&&e.settings.createOnBlur?e.createItem(null,s):s()}}}onOptionSelect(t,e){var s,l=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?l.createItem(null,()=>{l.settings.closeAfterSelect&&l.close()}):(s=e.dataset.value,typeof s<"u"&&(l.lastQuery=null,l.addItem(s),l.settings.closeAfterSelect&&l.close(),!l.settings.hideSelected&&t.type&&/click/.test(t.type)&&l.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(Ke(t),s.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){let e=this;if(!e.canLoad(t))return;Ot(e.wrapper,e.settings.loadingClass),e.loading++;let s=e.loadCallback.bind(e);e.settings.load.call(e,t,s)}loadCallback(t,e){let s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(t,e),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||sn(s.wrapper,s.settings.loadingClass),s.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,s=e.value!==t;s&&(e.value=t,Ko(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var s=e?[]:["change"];Ya(this,s,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var s=this,l,p,d,v,b,y;if(s.settings.mode!=="single"){if(!t){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(l=e&&e.type.toLowerCase(),l==="click"&&En("shiftKey",e)&&s.activeItems.length){for(y=s.getLastActive(),d=Array.prototype.indexOf.call(s.control.children,y),v=Array.prototype.indexOf.call(s.control.children,t),d>v&&(b=d,d=v,v=b),p=d;p<=v;p++)t=s.control.children[p],s.activeItems.indexOf(t)===-1&&s.setActiveItemClass(t);Ke(e)}else l==="click"&&En(Ei,e)||l==="keydown"&&En("shiftKey",e)?t.classList.contains("active")?s.removeActiveItem(t):s.setActiveItemClass(t):(s.clearActiveItems(),s.setActiveItemClass(t));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(t){let e=this,s=e.control.querySelector(".last-active");s&&sn(s,"last-active"),Ot(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),sn(t,"active")}clearActiveItems(){sn(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,ke(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),ke(t,{"aria-selected":"true"}),Ot(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;let s=this.dropdown_content,l=s.clientHeight,p=s.scrollTop||0,d=t.offsetHeight,v=t.getBoundingClientRect().top-s.getBoundingClientRect().top+p;v+d>l+p?this.scroll(v-l+d,e):v<p&&this.scroll(v,e)}scroll(t,e){let s=this.dropdown_content;e&&(s.style.scrollBehavior=e),s.scrollTop=t,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(sn(this.activeOption,"active"),ke(this.activeOption,{"aria-selected":null})),this.activeOption=null,ke(this.focus_node,{"aria-activedescendant":null})}selectAll(){let t=this;if(t.settings.mode==="single")return;let e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,it(e,s=>{t.setActiveItemClass(s)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(ke(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&ke(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,s,l=this,p=this.getSearchOptions();if(l.settings.score&&(s=l.settings.score.call(l,t),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==l.lastQuery?(l.lastQuery=t,e=l.sifter.search(t,Object.assign(p,{score:s})),l.currentResults=e):e=Object.assign({},l.currentResults),l.settings.hideSelected&&(e.items=e.items.filter(d=>{let v=wt(d.id);return!(v&&l.items.indexOf(v)!==-1)})),e}refreshOptions(t=!0){var e,s,l,p,d,v,b,y,A,R;let x={},X=[];var C=this,M=C.inputValue();let k=M===C.lastQuery||M==""&&C.lastQuery==null;var ie=C.search(M),j=null,le=C.settings.shouldOpen||!1,Pe=C.dropdown_content;k&&(j=C.activeOption,j&&(A=j.closest("[data-group]"))),p=ie.items.length,typeof C.settings.maxOptions=="number"&&(p=Math.min(p,C.settings.maxOptions)),p>0&&(le=!0);let Le=i((ue,_e)=>{let de=x[ue];if(de!==void 0){let Se=X[de];if(Se!==void 0)return[de,Se.fragment]}let He=document.createDocumentFragment();return de=X.length,X.push({fragment:He,order:_e,optgroup:ue}),[de,He]},"getGroupFragment");for(e=0;e<p;e++){let ue=ie.items[e];if(!ue)continue;let _e=ue.id,de=C.options[_e];if(de===void 0)continue;let He=pi(_e),Se=C.getOption(He,!0);for(C.settings.hideSelected||Se.classList.toggle("selected",C.items.includes(He)),d=de[C.settings.optgroupField]||"",v=Array.isArray(d)?d:[d],s=0,l=v&&v.length;s<l;s++){d=v[s];let Bt=de.$order,gt=C.optgroups[d];gt===void 0?d="":Bt=gt.$order;let[yr,kn]=Le(d,Bt);s>0&&(Se=Se.cloneNode(!0),ke(Se,{id:de.$id+"-clone-"+s,"aria-selected":null}),Se.classList.add("ts-cloned"),sn(Se,"active"),C.activeOption&&C.activeOption.dataset.value==_e&&A&&A.dataset.group===d.toString()&&(j=Se)),kn.appendChild(Se),d!=""&&(x[d]=yr)}}C.settings.lockOptgroupOrder&&X.sort((ue,_e)=>ue.order-_e.order),b=document.createDocumentFragment(),it(X,ue=>{let _e=ue.fragment,de=ue.optgroup;if(!_e||!_e.children.length)return;let He=C.optgroups[de];if(He!==void 0){let Se=document.createDocumentFragment(),Bt=C.render("optgroup_header",He);gn(Se,Bt),gn(Se,_e);let gt=C.render("optgroup",{group:He,options:Se});gn(b,gt)}else gn(b,_e)}),Pe.innerHTML="",gn(Pe,b),C.settings.highlight&&(Kf(Pe),ie.query.length&&ie.tokens.length&&it(ie.tokens,ue=>{Wf(Pe,ue.regex)}));var Be=i(ue=>{let _e=C.render(ue,{input:M});return _e&&(le=!0,Pe.insertBefore(_e,Pe.firstChild)),_e},"add_template");if(C.loading?Be("loading"):C.settings.shouldLoad.call(C,M)?ie.items.length===0&&Be("no_results"):Be("not_loading"),y=C.canCreate(M),y&&(R=Be("option_create")),C.hasOptions=ie.items.length>0||y,le){if(ie.items.length>0){if(!j&&C.settings.mode==="single"&&C.items[0]!=null&&(j=C.getOption(C.items[0])),!Pe.contains(j)){let ue=0;R&&!C.settings.addPrecedence&&(ue=1),j=C.selectable()[ue]}}else R&&(j=R);t&&!C.isOpen&&(C.open(),C.scrollToOption(j,"auto")),C.setActiveOption(j)}else C.clearActiveOption(),t&&C.isOpen&&C.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){let s=this;if(Array.isArray(t))return s.addOptions(t,e),!1;let l=wt(t[s.settings.valueField]);return l===null||s.options.hasOwnProperty(l)?!1:(t.$order=t.$order||++s.order,t.$id=s.inputId+"-opt-"+t.$order,s.options[l]=t,s.lastQuery=null,e&&(s.userOptions[l]=e,s.trigger("option_add",l,t)),l)}addOptions(t,e=!1){it(t,s=>{this.addOption(s,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=wt(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var s;e[this.settings.optgroupValueField]=t,(s=this.registerOptionGroup(e))&&this.trigger("optgroup_add",s,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){let s=this;var l,p;let d=wt(t),v=wt(e[s.settings.valueField]);if(d===null)return;let b=s.options[d];if(b==null)return;if(typeof v!="string")throw new Error("Value must be set in option data");let y=s.getOption(d),A=s.getItem(d);if(e.$order=e.$order||b.$order,delete s.options[d],s.uncacheValue(v),s.options[v]=e,y){if(s.dropdown_content.contains(y)){let R=s._render("option",e);hi(y,R),s.activeOption===y&&s.setActiveOption(R)}y.remove()}A&&(p=s.items.indexOf(d),p!==-1&&s.items.splice(p,1,v),l=s._render("item",e),A.classList.contains("active")&&Ot(l,"active"),hi(A,l)),s.lastQuery=null}removeOption(t,e){let s=this;t=pi(t),s.uncacheValue(t),delete s.userOptions[t],delete s.options[t],s.lastQuery=null,s.trigger("option_remove",t),s.removeItem(t,e)}clearOptions(t){let e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let s={};it(this.options,(l,p)=>{e(l,p)&&(s[p]=l)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){let s=wt(t);if(s===null)return null;let l=this.options[s];if(l!=null){if(l.$div)return l.$div;if(e)return this._render("option",l)}return null}getAdjacent(t,e,s="option"){var l=this,p;if(!t)return null;s=="item"?p=l.controlChildren():p=l.dropdown_content.querySelectorAll("[data-selectable]");for(let d=0;d<p.length;d++)if(p[d]==t)return e>0?p[d+1]:p[d-1];return null}getItem(t){if(typeof t=="object")return t;var e=wt(t);return e!==null?this.control.querySelector(`[data-value="${ja(e)}"]`):null}addItems(t,e){var s=this,l=Array.isArray(t)?t:[t];l=l.filter(d=>s.items.indexOf(d)===-1);let p=l[l.length-1];l.forEach(d=>{s.isPending=d!==p,s.addItem(d,e)})}addItem(t,e){var s=e?[]:["change","dropdown_close"];Ya(this,s,()=>{var l,p;let d=this,v=d.settings.mode,b=wt(t);if(!(b&&d.items.indexOf(b)!==-1&&(v==="single"&&d.close(),v==="single"||!d.settings.duplicates))&&!(b===null||!d.options.hasOwnProperty(b))&&(v==="single"&&d.clear(e),!(v==="multi"&&d.isFull()))){if(l=d._render("item",d.options[b]),d.control.contains(l)&&(l=l.cloneNode(!0)),p=d.isFull(),d.items.splice(d.caretPos,0,b),d.insertAtCaret(l),d.isSetup){if(!d.isPending&&d.settings.hideSelected){let y=d.getOption(b),A=d.getAdjacent(y,1);A&&d.setActiveOption(A)}!d.isPending&&!d.settings.closeAfterSelect&&d.refreshOptions(d.isFocused&&v!=="single"),d.settings.closeAfterSelect!=!1&&d.isFull()?d.close():d.isPending||d.positionDropdown(),d.trigger("item_add",b,l),d.isPending||d.updateOriginalInput({silent:e})}(!d.isPending||!p&&d.isFull())&&(d.inputState(),d.refreshState())}})}removeItem(t=null,e){let s=this;if(t=s.getItem(t),!t)return;var l,p;let d=t.dataset.value;l=Wa(t),t.remove(),t.classList.contains("active")&&(p=s.activeItems.indexOf(t),s.activeItems.splice(p,1),sn(t,"active")),s.items.splice(l,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(d)&&s.removeOption(d,e),l<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:e}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",d,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=i(()=>{},"callback"));var s=this,l=s.caretPos,p;if(t=t||s.inputValue(),!s.canCreate(t))return e(),!1;s.lock();var d=!1,v=i(b=>{if(s.unlock(),!b||typeof b!="object")return e();var y=wt(b[s.settings.valueField]);if(typeof y!="string")return e();s.setTextboxValue(),s.addOption(b,!0),s.setCaret(l),s.addItem(y),e(b),d=!0},"create");return typeof s.settings.create=="function"?p=s.settings.create.call(this,t,v):p={[s.settings.labelField]:t,[s.settings.valueField]:t},d||v(p),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){let t=this;t.refreshValidityState();let e=t.isFull(),s=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);let l=t.wrapper.classList;l.toggle("focus",t.isFocused),l.toggle("disabled",t.isDisabled),l.toggle("readonly",t.isReadOnly),l.toggle("required",t.isRequired),l.toggle("invalid",!t.isValid),l.toggle("locked",s),l.toggle("full",e),l.toggle("input-active",t.isFocused&&!t.isInputHidden),l.toggle("dropdown-active",t.isOpen),l.toggle("has-options",zf(t.options)),l.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){let e=this;var s,l;let p=e.input.querySelector('option[value=""]');if(e.is_select_tag){let b=function(y,A,R){return y||(y=Ht('<option value="'+zo(A)+'">'+zo(R)+"</option>")),y!=p&&e.input.append(y),d.push(y),(y!=p||v>0)&&(y.selected=!0),y};i(b,"AddSelected");let d=[],v=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(y=>{y.selected=!1}),e.items.length==0&&e.settings.mode=="single"?b(p,"",""):e.items.forEach(y=>{if(s=e.options[y],l=s[e.settings.labelField]||"",d.includes(s.$option)){let A=e.input.querySelector(`option[value="${ja(y)}"]:not(:checked)`);b(A,y,l)}else s.$option=b(s.$option,y,l)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,ke(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),mi(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),mi(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,s=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,ke(e.focus_node,{"aria-expanded":"false"}),mi(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),s&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),s=t.offsetHeight+e.top+window.scrollY,l=e.left+window.scrollX;mi(this.dropdown,{width:e.width+"px",top:s+"px",left:l+"px"})}}clear(t){var e=this;if(e.items.length){var s=e.controlChildren();it(s,l=>{e.removeItem(l,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){let e=this,s=e.caretPos,l=e.control;l.insertBefore(t,l.children[s]||null),e.setCaret(s+1)}deleteSelection(t){var e,s,l,p,d=this;e=t&&t.keyCode===8?-1:1,s=Hf(d.control_input);let v=[];if(d.activeItems.length)p=za(d.activeItems,e),l=Wa(p),e>0&&l++,it(d.activeItems,b=>v.push(b));else if((d.isFocused||d.settings.mode==="single")&&d.items.length){let b=d.controlChildren(),y;e<0&&s.start===0&&s.length===0?y=b[d.caretPos-1]:e>0&&s.start===d.inputValue().length&&(y=b[d.caretPos]),y!==void 0&&v.push(y)}if(!d.shouldDelete(v,t))return!1;for(Ke(t,!0),typeof l<"u"&&d.setCaret(l);v.length;)d.removeItem(v.pop());return d.inputState(),d.positionDropdown(),d.refreshOptions(!1),!0}shouldDelete(t,e){let s=t.map(l=>l.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,e)===!1)}advanceSelection(t,e){var s,l,p=this;p.rtl&&(t*=-1),!p.inputValue().length&&(En(Ei,e)||En("shiftKey",e)?(s=p.getLastActive(t),s?s.classList.contains("active")?l=p.getAdjacent(s,t,"item"):l=s:t>0?l=p.control_input.nextElementSibling:l=p.control_input.previousElementSibling,l&&(l.classList.contains("active")&&p.removeActiveItem(s),p.setActiveItemClass(l))):p.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var s=this.control.querySelectorAll(".active");if(s)return za(s,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,sn(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var s,l;let p=this;if(typeof this.settings.render[t]!="function"||(l=p.settings.render[t].call(this,e,zo),!l))return null;if(l=Ht(l),t==="option"||t==="option_create"?e[p.settings.disabledField]?ke(l,{"aria-disabled":"true"}):ke(l,{"data-selectable":""}):t==="optgroup"&&(s=e.group[p.settings.optgroupValueField],ke(l,{"data-group":s}),e.group[p.settings.disabledField]&&ke(l,{"data-disabled":""})),t==="option"||t==="item"){let d=pi(e[p.settings.valueField]);ke(l,{"data-value":d}),t==="item"?(Ot(l,p.settings.itemClass),ke(l,{"data-ts-item":""})):(Ot(l,p.settings.optionClass),ke(l,{role:"option",id:e.$id}),e.$div=l,p.options[d]=e)}return l}_render(t,e){let s=this.render(t,e);if(s==null)throw"HTMLElement expected";return s}clearCache(){it(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){let e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,s){var l=this,p=l[e];l[e]=function(){var d,v;return t==="after"&&(d=p.apply(l,arguments)),v=s.apply(l,arguments),t==="instead"?v:(t==="before"&&(d=p.apply(l,arguments)),d)}}};var Kg=i((r,t,e,s)=>{r.addEventListener(t,e,s)},"addEvent");function Jf(){Kg(this.input,"change",()=>{this.sync()})}i(Jf,"plugin");var $g=i(r=>typeof r>"u"||r===null?null:Xg(r),"hash_key"),Xg=i(r=>typeof r=="boolean"?r?"1":"0":r+"","get_hash"),Zf=i((r,t=!1)=>{r&&(r.preventDefault(),t&&r.stopPropagation())},"preventDefault"),Qg=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(Jg(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),Jg=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString");function ed(r){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;let s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},r);var l=i(function(v,b){b?(v.checked=!0,s.uncheckedClassNames&&v.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&v.classList.add(...s.checkedClassNames)):(v.checked=!1,s.checkedClassNames&&v.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&v.classList.add(...s.uncheckedClassNames))},"UpdateChecked"),p=i(function(v){setTimeout(()=>{var b=v.querySelector("input."+s.className);b instanceof HTMLInputElement&&l(b,v.classList.contains("selected"))},1)},"UpdateCheckbox");t.hook("after","setupTemplates",()=>{var d=t.settings.render.option;t.settings.render.option=(v,b)=>{var y=Qg(d.call(t,v,b)),A=document.createElement("input");s.className&&A.classList.add(s.className),A.addEventListener("click",function(x){Zf(x)}),A.type="checkbox";let R=$g(v[t.settings.valueField]);return l(A,!!(R&&t.items.indexOf(R)>-1)),y.prepend(A),y}}),t.on("item_remove",d=>{var v=t.getOption(d);v&&(v.classList.remove("selected"),p(v))}),t.on("item_add",d=>{var v=t.getOption(d);v&&p(v)}),t.hook("instead","onOptionSelect",(d,v)=>{if(v.classList.contains("selected")){v.classList.remove("selected"),t.removeItem(v.dataset.value),t.refreshOptions(),Zf(d,!0);return}e.call(t,d,v),p(v)})}i(ed,"plugin");var Zg=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(ev(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),ev=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString");function td(r){let t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i(s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`,"html")},r);t.on("initialize",()=>{var s=Zg(e.html(e));s.addEventListener("click",l=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),l.preventDefault(),l.stopPropagation())}),t.control.appendChild(s)})}i(td,"plugin");var tv=i((r,t=!1)=>{r&&(r.preventDefault(),t&&r.stopPropagation())},"preventDefault"),hr=i((r,t,e,s)=>{r.addEventListener(t,e,s)},"addEvent"),nv=i((r,t)=>{if(Array.isArray(r))r.forEach(t);else for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},"iterate"),rv=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(iv(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),iv=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString"),ov=i((r,t)=>{nv(t,(e,s)=>{e==null?r.removeAttribute(s):r.setAttribute(s,""+e)})},"setAttr"),sv=i((r,t)=>{var e;(e=r.parentNode)==null||e.insertBefore(t,r.nextSibling)},"insertAfter"),av=i((r,t)=>{var e;(e=r.parentNode)==null||e.insertBefore(t,r)},"insertBefore"),lv=i((r,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,r==t)return!0}while(t&&t.previousElementSibling);return!1},"isBefore");function nd(){var r=this;if(r.settings.mode!=="multi")return;var t=r.lock,e=r.unlock;let s=!0,l;r.hook("after","setupTemplates",()=>{var p=r.settings.render.item;r.settings.render.item=(d,v)=>{let b=rv(p.call(r,d,v));ov(b,{draggable:"true"});let y=i(M=>{s||tv(M),M.stopPropagation()},"mousedown"),A=i(M=>{l=b,setTimeout(()=>{b.classList.add("ts-dragging")},0)},"dragStart"),R=i(M=>{M.preventDefault(),b.classList.add("ts-drag-over"),X(b,l)},"dragOver"),x=i(()=>{b.classList.remove("ts-drag-over")},"dragLeave"),X=i((M,k)=>{k!==void 0&&(lv(k,b)?sv(M,k):av(M,k))},"moveitem"),C=i(()=>{var M;document.querySelectorAll(".ts-drag-over").forEach(ie=>ie.classList.remove("ts-drag-over")),(M=l)==null||M.classList.remove("ts-dragging"),l=void 0;var k=[];r.control.querySelectorAll("[data-value]").forEach(ie=>{if(ie.dataset.value){let j=ie.dataset.value;j&&k.push(j)}}),r.setValue(k)},"dragend");return hr(b,"mousedown",y),hr(b,"dragstart",A),hr(b,"dragenter",R),hr(b,"dragover",R),hr(b,"dragleave",x),hr(b,"dragend",C),b}}),r.hook("instead","lock",()=>(s=!1,t.call(r))),r.hook("instead","unlock",()=>(s=!0,e.call(r)))}i(nd,"plugin");var uv=i((r,t=!1)=>{r&&(r.preventDefault(),t&&r.stopPropagation())},"preventDefault"),cv=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(fv(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),fv=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString");function rd(r){let t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i(s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>',"html")},r);t.on("initialize",()=>{var s=cv(e.html(e)),l=s.querySelector("."+e.closeClass);l&&l.addEventListener("click",p=>{uv(p,!0),t.close()}),t.dropdown.insertBefore(s,t.dropdown.firstChild)})}i(rd,"plugin");var dv=i((r,t)=>{if(Array.isArray(r))r.forEach(t);else for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},"iterate"),pv=i((r,...t)=>{var e=mv(t);r=hv(r),r.map(s=>{e.map(l=>{s.classList.remove(l)})})},"removeClasses"),mv=i(r=>{var t=[];return dv(r,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),hv=i(r=>(Array.isArray(r)||(r=[r]),r),"castAsArray"),Ev=i((r,t)=>{if(!r)return-1;t=t||r.nodeName;for(var e=0;r=r.previousElementSibling;)r.matches(t)&&e++;return e},"nodeIndex");function od(){var r=this;r.hook("instead","setCaret",t=>{r.settings.mode==="single"||!r.control.contains(r.control_input)?t=r.items.length:(t=Math.max(0,Math.min(r.items.length,t)),t!=r.caretPos&&!r.isPending&&r.controlChildren().forEach((e,s)=>{s<t?r.control_input.insertAdjacentElement("beforebegin",e):r.control.appendChild(e)})),r.caretPos=t}),r.hook("instead","moveCaret",t=>{if(!r.isFocused)return;let e=r.getLastActive(t);if(e){let s=Ev(e);r.setCaret(t>0?s+1:s),r.setActiveItem(),pv(e,"last-active")}else r.setCaret(r.caretPos+t)})}i(od,"plugin");var gv=i((r,t=!1)=>{r&&(r.preventDefault(),t&&r.stopPropagation())},"preventDefault"),vv=i((r,t,e,s)=>{r.addEventListener(t,e,s)},"addEvent"),_v=i((r,t)=>{if(Array.isArray(r))r.forEach(t);else for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},"iterate"),sd=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(Tv(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),Tv=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString"),Iv=i((r,...t)=>{var e=yv(t);r=bv(r),r.map(s=>{e.map(l=>{s.classList.add(l)})})},"addClasses"),yv=i(r=>{var t=[];return _v(r,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),bv=i(r=>(Array.isArray(r)||(r=[r]),r),"castAsArray");function ad(){let r=this;r.settings.shouldOpen=!0,r.hook("before","setup",()=>{r.focus_node=r.control,Iv(r.control_input,"dropdown-input");let t=sd('<div class="dropdown-input-wrap">');t.append(r.control_input),r.dropdown.insertBefore(t,r.dropdown.firstChild);let e=sd('<input class="items-placeholder" tabindex="-1" />');e.placeholder=r.settings.placeholder||"",r.control.append(e)}),r.on("initialize",()=>{r.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case 27:r.isOpen&&(gv(e,!0),r.close()),r.clearActiveItems();return;case 9:r.focus_node.tabIndex=-1;break}return r.onKeyDown.call(r,e)}),r.on("blur",()=>{r.focus_node.tabIndex=r.isDisabled?-1:r.tabIndex}),r.on("dropdown_open",()=>{r.control_input.focus()});let t=r.onBlur;r.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==r.control_input))return t.call(r)}),vv(r.control_input,"blur",()=>r.onBlur()),r.hook("before","close",()=>{r.isOpen&&r.focus_node.focus({preventScroll:!0})})})}i(ad,"plugin");var Qo=i((r,t,e,s)=>{r.addEventListener(t,e,s)},"addEvent");function ld(){var r=this;r.on("initialize",()=>{var t=document.createElement("span"),e=r.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",r.wrapper.appendChild(t);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let p of s)t.style[p]=e.style[p];var l=i(()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"},"resize");l(),r.on("update item_add item_remove",l),Qo(e,"input",l),Qo(e,"keyup",l),Qo(e,"blur",l),Qo(e,"update",l)})}i(ld,"plugin");function ud(){var r=this,t=r.deleteSelection;this.hook("instead","deleteSelection",e=>r.activeItems.length?t.call(r,e):!1)}i(ud,"plugin");function cd(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}i(cd,"plugin");var Av=i((r,t,e)=>{for(;r&&r.matches;){if(r.matches(t))return r;r=r.parentNode}},"parentMatch"),Dv=i((r,t)=>{if(!r)return-1;t=t||r.nodeName;for(var e=0;r=r.previousElementSibling;)r.matches(t)&&e++;return e},"nodeIndex");function fd(){var r=this,t=r.onKeyDown;r.hook("instead","onKeyDown",e=>{var s,l,p,d;if(!r.isOpen||!(e.keyCode===37||e.keyCode===39))return t.call(r,e);r.ignoreHover=!0,d=Av(r.activeOption,"[data-group]"),s=Dv(r.activeOption,"[data-selectable]"),d&&(e.keyCode===37?d=d.previousSibling:d=d.nextSibling,d&&(p=d.querySelectorAll("[data-selectable]"),l=p[Math.min(p.length-1,s)],l&&r.setActiveOption(l)))})}i(fd,"plugin");var Ov=i(r=>(r+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),dd=i((r,t=!1)=>{r&&(r.preventDefault(),t&&r.stopPropagation())},"preventDefault"),pd=i((r,t,e,s)=>{r.addEventListener(t,e,s)},"addEvent"),md=i(r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(Sv(r)){var t=document.createElement("template");return t.innerHTML=r.trim(),t.content.firstChild}return document.querySelector(r)},"getDom"),Sv=i(r=>typeof r=="string"&&r.indexOf("<")>-1,"isHtmlString");function hd(r){let t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},r);var e=this;if(t.append){var s='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Ov(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var l=e.settings.render.item;e.settings.render.item=(p,d)=>{var v=md(l.call(e,p,d)),b=md(s);return v.appendChild(b),pd(b,"mousedown",y=>{dd(y,!0)}),pd(b,"click",y=>{e.isLocked||(dd(y,!0),!e.isLocked&&e.shouldDelete([v],y)&&(e.removeItem(v),e.refreshOptions(!1),e.inputState()))}),v}})}}i(hd,"plugin");function Ed(r){let t=this,e=Object.assign({text:i(s=>s[t.settings.labelField],"text")},r);t.on("item_remove",function(s){if(t.isFocused&&t.control_input.value.trim()===""){var l=t.options[s];l&&t.setTextboxValue(e.text.call(t,l))}})}i(Ed,"plugin");var Rv=i((r,t)=>{if(Array.isArray(r))r.forEach(t);else for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},"iterate"),wv=i((r,...t)=>{var e=Lv(t);r=Cv(r),r.map(s=>{e.map(l=>{s.classList.add(l)})})},"addClasses"),Lv=i(r=>{var t=[];return Rv(r,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),Cv=i(r=>(Array.isArray(r)||(r=[r]),r),"castAsArray");function gd(){let r=this,t=r.canLoad,e=r.clearActiveOption,s=r.loadCallback;var l={},p,d=!1,v,b=[];if(r.settings.shouldLoadMore||(r.settings.shouldLoadMore=()=>{if(p.clientHeight/(p.scrollHeight-p.scrollTop)>.9)return!0;if(r.activeOption){var x=r.selectable(),X=Array.from(x).indexOf(r.activeOption);if(X>=x.length-2)return!0}return!1}),!r.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";r.settings.sortField=[{field:"$order"},{field:"$score"}];let y=i(R=>typeof r.settings.maxOptions=="number"&&p.children.length>=r.settings.maxOptions?!1:!!(R in l&&l[R]),"canLoadMore"),A=i((R,x)=>r.items.indexOf(x)>=0||b.indexOf(x)>=0,"clearFilter");r.setNextUrl=(R,x)=>{l[R]=x},r.getUrl=R=>{if(R in l){let x=l[R];return l[R]=!1,x}return r.clearPagination(),r.settings.firstUrl.call(r,R)},r.clearPagination=()=>{l={}},r.hook("instead","clearActiveOption",()=>{if(!d)return e.call(r)}),r.hook("instead","canLoad",R=>R in l?y(R):t.call(r,R)),r.hook("instead","loadCallback",(R,x)=>{if(!d)r.clearOptions(A);else if(v){let X=R[0];X!==void 0&&(v.dataset.value=X[r.settings.valueField])}s.call(r,R,x),d=!1}),r.hook("after","refreshOptions",()=>{let R=r.lastValue;var x;y(R)?(x=r.render("loading_more",{query:R}),x&&(x.setAttribute("data-selectable",""),v=x)):R in l&&!p.querySelector(".no-results")&&(x=r.render("no_more_results",{query:R})),x&&(wv(x,r.settings.optionClass),p.append(x))}),r.on("initialize",()=>{b=Object.keys(r.options),p=r.dropdown_content,r.settings.render=Object.assign({},{loading_more:i(()=>'<div class="loading-more-results">Loading more results ... </div>',"loading_more"),no_more_results:i(()=>'<div class="no-more-results">No more results</div>',"no_more_results")},r.settings.render),p.addEventListener("scroll",()=>{r.settings.shouldLoadMore.call(r)&&y(r.lastValue)&&(d||(d=!0,r.load.call(r,r.lastValue)))})})}i(gd,"plugin");lt.define("change_listener",Jf);lt.define("checkbox_options",ed);lt.define("clear_button",td);lt.define("drag_drop",nd);lt.define("dropdown_header",rd);lt.define("caret_position",od);lt.define("dropdown_input",ad);lt.define("input_autogrow",ld);lt.define("no_backspace_delete",ud);lt.define("no_active_items",cd);lt.define("optgroup_columns",fd);lt.define("remove_button",hd);lt.define("restore_on_backspace",Ed);lt.define("virtual_scroll",gd);var vd=lt;var Nv=vd,Jo=class extends be{static{i(this,"SelectField")}options={id:"",type:Jr,required:!1,validation:i((t,e,s)=>s&&!t?Oe:s&&Array.isArray(t)&&t.length===0?Oe:!0,"validation"),enhance:!0,multiple:!1,optionsList:[],className:Xc,options:{valueField:"value",labelField:"label",searchField:["label"],optgroupField:"group",optgroupLabelField:"label",optgroupValueField:"id"}};_tomselect=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.ensureTomSelectDefaultOptions(),this.onGui(),this.initialize()}ensureTomSelectDefaultOptions(){this.options.options=Object.assign(this.options.options,{valueField:this.options.options?.valueField??Gr,labelField:this.options.options?.labelField??To,searchField:this.options.options?.searchField??[To],optgroupField:this.options.options?.optgroupField??"group",optgroupLabelField:this.options.options?.optgroupLabelField??To,optgroupValueField:this.options.options?.optgroupValueField??fe})}async initialize(){this.initTomselect(),typeof this.options.optionsList!="function"&&this.syncOptions(this.options.optionsList||[],typeof this.options.optionGroups!="function"?this.options.optionGroups||[]:[]),this.load(),this.update(),this.bindChange()}syncValue(){if(this.inputElement&&this.inputElement instanceof HTMLSelectElement&&this.options.enhance===!1){let t=this.getValue();for(let e of this.inputElement.options){let s=t&&Array.isArray(t)?t?.some(l=>l===e.value):t===e.value;s&&!e.hasAttribute(Fn)&&e.setAttribute(Fn,""),!s&&e.hasAttribute(Fn)&&e.removeAttribute(Fn)}}else if(this.options.enhance===!0&&this._tomselect){let t=this.getValue();t!==this._tomselect.getValue()&&(typeof t=="string"||Array.isArray(t))&&this._tomselect.setValue(t,!0)}}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,or(this.change,25,this))}getTomselect(){return this._tomselect}async pullOptions(t,e,s,l){if(typeof s=="function"){let p=await s(t),d=null;l&&(typeof l=="function"?d=await l(t):l.length>0&&(d=l)),e(p,d||void 0)}}initTomselect(){this.options.enhance&&(this.options.optionsList&&typeof this.options.optionsList=="function"&&(this.options.options=Object.assign(this.options.options,{load:i((t,e)=>{this.pullOptions(t,e,this.options.optionsList,this.options.optionGroups)},"load"),preload:this.options.options?.preload??!0})),this.inputElement&&(this._tomselect=new Nv(this.inputElement,this.options.options||{})))}handleDisabled(){this.isDisabled()?(this.inputElement?.setAttribute(xn,"true"),this._tomselect&&this._tomselect.disable()):(this.inputElement?.removeAttribute(xn),this._tomselect&&this._tomselect.enable())}createSelectElement(){this.inputElement=document.createElement(af),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.getType()),this.options.multiple&&this.inputElement.setAttribute(Eo,""),this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder),this.inputElement.className=this.options.className}syncOptions(t,e){if(this.options.enhance)this._tomselect?.clearOptions(),this._tomselect?.addOptions(t),e.length>0&&(this._tomselect?.clearOptionGroups(),e.forEach(s=>{this._tomselect?.addOptionGroup(s.id,s)})),this._tomselect?.sync();else{let s=this.inputElement;s.innerHTML="",e.length>0?e.forEach(l=>{let p=document.createElement(uf);p.label=l.label,t.filter(v=>v.group===l.id).forEach(v=>{this.inputElement&&this.createOption(v,p)}),this.inputElement?.append(p)}):t.forEach(l=>{this.inputElement&&this.createOption(l,this.inputElement)})}}createOption(t,e){let s=document.createElement(lf);s.setAttribute(Gr,t.value),typeof t.value=="string"&&this.options.default&&Array.isArray(this.options.default)&&this.options.default?.findIndex(l=>l===t.value)>=0?s.setAttribute(Fn,"true"):this.options.default&&this.options.default===t.value&&s.setAttribute(Fn,"true"),t.disabled&&s.setAttribute(xn,String(t.disabled)),s.innerText=t.label,e?.append(s)}onGui(){this.createContainerElement(),this.createSelectElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement)}change(t){if(this.options.enhance&&this._tomselect)this.setValue(this._tomselect.getValue());else if(this.inputElement&&this.inputElement instanceof HTMLSelectElement)if(this.options.multiple){let e=this.inputElement.options,s=[];for(let l=0;l<e.length;l++)e[l].selected&&s.push(e[l].value);this.setValue(s)}else this.setValue(t.target.value);this.validate(),this.options.change&&this.options.change(this.getValue()),this.dispatchEvent("changed",this.getValue())}getValue(){return this._value}};var Zo=class extends be{static{i(this,"TelField")}options={id:"",type:ei,required:!1,validation:i((t,e,s)=>s&&!t?Oe:t&&typeof t=="string"&&!t.match(this.telFormat)?ef:!0,"validation"),default:null,className:qe};telFormat=/^\+?\d{1,3}?[-.\s]?\(?\d{1,4}?\)?([-.\s]?\d{1,9})*$/;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var es=class extends be{static{i(this,"TextField")}constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var ts=class extends be{static{i(this,"TextareaField")}options={id:"",type:ti,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),className:qe,rows:5};inputElement=null;createInputElement(){this.inputElement=document.createElement(cf),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.options.rows&&this.inputElement.setAttribute(bf,String(this.options.rows)),this.inputElement.setAttribute(Ue,this.getType()),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder)}constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Mv=mn,ns=class extends be{static{i(this,"TimeField")}options={id:"",type:ni,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),className:qe,enhance:!0,options:{enableTime:!0,noCalendar:!0,altInput:!0}};_flatpickr=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=Mv(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.options.enhance?"text":"time"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder)}getValue(){return this._value}};var rs=class extends be{static{i(this,"UrlField")}options={id:"",type:ri,required:!1,validation:i((t,e,s)=>s&&!t?Oe:t&&typeof t=="string"&&!t.match(this.urlFormat)?tf:!0,"validation"),default:"",className:qe};urlFormat=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Td=Qu(_d(),1);var xv=mn,is=class extends be{static{i(this,"WeekField")}options={id:"",type:ii,required:!1,validation:i((t,e,s)=>s&&!t?Oe:!0,"validation"),className:qe,enhance:!0,options:{altInput:!0,dateFormat:"Y-W",altFormat:"W, Y",plugins:[(0,Td.default)()]}};_flatpickr=null;constructor(t,e,s){super(t,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=xv(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(nt,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(tt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(ze,this.options.name||this.getId()),this.inputElement.setAttribute(Ue,this.options.enhance?"text":"week"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(dt,this.options.placeholder)}getValue(){return this._value}};var os=class{static{i(this,"StaticField")}options={id:"",type:Zr,template:"",className:Qc};staticElement=null;containerElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_saveKey;_value=null;_type;_parsedConditions=null;constructor(t,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=t,this._type=s.type,this._saveKey=Cn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Ft(this.options.type,t))}async initialize(){this.parseStringConditions(),this.load(),this.update()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Mt(this.options.conditions))}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getForm(){return this._form}setTemplate(t,e=!0){this.staticElement&&(typeof t=="string"?(this._value=t,this.staticElement.innerText=t):typeof t=="function"&&(this._value=t(),this.staticElement.innerHTML="",this.staticElement.append(t())),e&&this.save())}createContainerElement(){this.containerElement=document.createElement(at),this.containerElement.className=dn+" "+this._type,this.containerElement.setAttribute(fe,this._id+Kt)}createStaticElement(){this.staticElement=document.createElement(at),this.staticElement.className=this.options.className,this.staticElement.setAttribute(fe,this._id)}onGui(){this.createContainerElement(),this.createStaticElement(),this.containerElement&&this.staticElement&&me(this.staticElement,this.containerElement)}mount(){this.containerElement&&me(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&nn(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let t=localStorage.getItem(this._saveKey);if(t!==null){this.setTemplate(sr(t)?JSON.parse(t):t,!1);return}}this.setTemplate(this.options.template,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setTemplate(this.options.template,!1),this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){this.options.conditions&&(this._parsedConditions?this._isVisible=xt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this.getValue(),this._form.getData())))}};var ss=class{static{i(this,"Group")}options={id:"",type:kr,className:Fc,prefixSchema:!1,schema:[]};containerElement=null;schemaContainerElement=null;labelElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(t,e,s){this.initializeOptions(s),this._parent=t,this._form=e,this._id=this.options.id,this._type=s.type,this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Ft(this.options.type,t))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Mt(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getSchemaContainer(){return this.schemaContainerElement}getType(){return this._type}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(at),this.containerElement.className=xc,this.containerElement.setAttribute(fe,this._id+df)}createSchemaContainerElement(){this.schemaContainerElement=document.createElement(at),this.schemaContainerElement.className=this.options.className,this.schemaContainerElement.setAttribute(fe,this._id)}createLabelElement(){this.labelElement=document.createElement(of),this.options.label&&(typeof this.options.label=="string"?this.labelElement.innerText=this.options.label:typeof this.options.label=="function"&&(this.labelElement.innerHTML="",this.labelElement.append(this.options.label()))),this.labelElement.setAttribute(fe,this._id+rn),this.labelElement.className=Uc}onGui(){this.createContainerElement(),this.createSchemaContainerElement(),this.createLabelElement(),this.containerElement&&this.labelElement&&this.options.label&&me(this.labelElement,this.containerElement),this.containerElement&&this.schemaContainerElement&&me(this.schemaContainerElement,this.containerElement)}mount(){this.containerElement&&me(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&nn(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let t=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=xt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),t!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}dispatchEvent(t,e=null){let s=e!==null?new CustomEvent(t,{detail:e}):new CustomEvent(t);this.containerElement?.dispatchEvent(s)}on(t,e,s){this.containerElement?.addEventListener(t,e,s)}off(t,e,s){this.containerElement?.removeEventListener(t,e,s)}};var gi=class{static{i(this,"Form")}options={id:"",saveProgress:!1,useFormData:!1,schema:[],action:null,method:null,className:Nc};_parent=null;_formElement=null;_id="";_isValid=null;_errors=[];_fields={};_groups={};_buttons={};_data={};_saveProgress=!1;_licenseState=Nt.INVALID;_schema=[];_dataPrefixMap={};_triggerEvents=!0;constructor(t,e){this.initializeOptions(e),this.setParentElement(t),this.processLicense(),this.onGui(),this.initForm()}setParentElement(t){let e;if(typeof t=="string"?e=document.getElementById(t):e=t,this._parent=e,!this._parent)throw new Error("Parent does not exist in the document")}initializeOptions(t){this.options=Object.assign({},this.options,t),this._id=t.id,this._schema=t.schema,this._saveProgress=t.saveProgress,this._saveProgress&&Vr()}initForm(){this._formElement&&this.buildSchema(this._schema,this._formElement),this._formElement&&this._parent&&me(this._formElement,this._parent)}processLicense(){Oa()&&(this.options.licenseKey&&Da(this.options.licenseKey),this._licenseState=hc(),this.hasValidLicense()||gc(this._licenseState))}buildSchema(t,e,s=null,l=null,p=null){t.forEach(d=>{this.buildElement(d,e,s,l,p)})}isValid(){return this._isValid}createWrapper(t){let e=document.createElement(at);return me(e,t),e}mapFieldToDataPrefix(t,e,s=null){let l=t.id;s&&(l=mc(e,s,t.id)),this._dataPrefixMap[l]={id:e,dataKey:t.id,key:s},s&&(t.id=l,t.name=l)}buildElement(t,e,s,l,p){let d={...t},v=Pa[t.type];if(!v)throw new Error(`Unknown type: ${t.type}`);let b=this.createWrapper(e),y=pc(t.type);l&&p&&y===ye.field&&this.mapFieldToDataPrefix(d,l,p),s&&y===ye.field&&this.mapFieldToDataPrefix(d,s,null);let A=new v(b,this,d);switch(y){case ye.button:l&&p?this.assignToListField(l,p,A,y,t.id):this._buttons[t.id]=A;break;case ye.group:if(l&&p?this.assignToListField(l,p,A,y,t.id):this._groups[t.id]=A,t.schema&&A.getSchemaContainer){let R=A.getSchemaContainer();R&&this.buildSchema(t.schema,R,t.prefixSchema?A.getId():s,l,p)}break;case ye.field:l&&p?this.assignToListField(l,p,A,y,t.id):this._fields[t.id]=A;break}}assignToListField(t,e,s,l,p){let d=this._fields[t];if(!(!d||!d.assignButton||!d.assignGroup||!d.assignField))switch(l){case ye.button:d.assignButton(p,e,s);break;case ye.group:d.assignGroup(p,e,s);break;case ye.field:d.assignField(p,e,s);break}}async update(){this._groups&&Object.keys(this._groups).forEach(t=>{this._groups[t].update()}),this._fields&&Object.keys(this._fields).forEach(t=>{this._fields[t].update()}),this._buttons&&Object.keys(this._buttons).forEach(t=>{this._buttons[t].update()})}getField(t){return this._fields[t]}getFormElement(){return this._formElement}dispatchEvent(t,e=null){if(!this._triggerEvents)return;let s=e!==null?new CustomEvent(t,{detail:e}):new CustomEvent(t);this._formElement?.dispatchEvent(s)}setData(t,e){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,t)?this.setDataFromMap(t,e):this.setSimpleData(t,e),this.update(),this.dispatchEvent("dataUpdated",this._data)}removeData(t){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,t)?this.removeMappedData(t):delete this._data[t],this.dispatchEvent("dataUpdated",this._data)}removeMappedData(t){let e=this._dataPrefixMap[t],{dataKey:s,key:l,id:p}=e;if(!(!s||!p))if(l){let d=this.getField(p);if(!d||!d.getKeyIndex)return;let v=d.getId(),b=d.getKeyIndex(l);delete this._data[v][b][s],typeof this._data[v][b]=="object"&&Object.keys(this._data[v][b]).length===0&&delete this._data[v][b]}else{let d=this.getGroup(p);if(!d)return;let v=d.getId();delete this._data[v][s],typeof this._data[v]=="object"&&Object.keys(this._data[v]).length===0&&delete this._data[v]}}setDataFromMap(t,e){let s=this._dataPrefixMap[t],{dataKey:l,key:p,id:d}=s;if(!(!l||!d))if(p){let v=this.getField(d);if(!v||!v.getKeyIndex)return;let b=v.getId(),y=v.getKeyIndex(p);this.ensureDataStructureExists(b,y),this._data[b][y][l]=e}else{let v=this.getGroup(d);if(!v)return;let b=v.getId();this.ensureDataStructureExists(b),this._data[b][l]=e}}setSimpleData(t,e){this._data[t]=e}ensureDataStructureExists(t,e=null){if(e===null&&!this._data[t]){this._data[t]={};return}else(e||e===0)&&(this._data[t]||(this._data[t]=[]),this._data[t][e]||(this._data[t][e]={}))}removeListData(t,e){this._data[t]&&this._data[t][e]&&this._data[t].splice(e,1)}getId(){return this._id}getData(){return this._data}getButtons(){return this._buttons}getButton(t){return this._buttons[t]}getGroups(){return this._groups}getGroup(t){return this._groups[t]}savesProgress(){return this._saveProgress}getErrors(){return this._errors}hasValidLicense(){return this._licenseState===Nt.VALID}updateError(t,e){this._errors.includes(t)&&e?this._errors=this._errors.filter(s=>s!==t):!this._errors.includes(t)&&!e&&this._errors.push(t),this._isValid=this._errors.length===0}reset(t){this._triggerEvents=!1,t&&t.preventDefault(),this._groups&&Object.keys(this._groups).forEach(e=>{let s=this._groups[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._fields&&Object.keys(this._fields).forEach(e=>{let s=this._fields[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._buttons&&Object.keys(this._buttons).forEach(e=>{let s=this._buttons[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._isValid=null,this._triggerEvents=!0,this.dispatchEvent("resetted")}validate(){this._fields&&Object.keys(this._fields).forEach(t=>{let e=this._fields[t];e.validate&&typeof e.validate=="function"&&e.validate()}),this._isValid=this._errors.length===0}save(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(t=>{let e=this._fields[t];e.save&&typeof e.save=="function"&&e.save()}),this._groups&&Object.keys(this._groups).forEach(t=>{let e=this._groups[t];e.save&&typeof e.save=="function"&&e.save()}))}load(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(t=>{let e=this._fields[t];e.load&&typeof e.load=="function"&&e.load()}),this._groups&&Object.keys(this._groups).forEach(t=>{let e=this._groups[t];e.load&&typeof e.load=="function"&&e.load()}))}onGui(){this._formElement=document.createElement(nf),this._formElement.setAttribute(fe,this._id),this._formElement.className=this.options.className,this.options.action&&this._formElement.setAttribute(Ef,this.options.action),this.options.method&&this._formElement.setAttribute(gf,this.options.method),this._formElement.addEventListener(vf,t=>this.submit(t)),this._formElement.addEventListener(_f,this.reset),Oa()&&!this.hasValidLicense()&&this.createInvalidElement()}createInvalidElement(){let t=document.createElement(rf);t.setAttribute(Tf,Lc),t.className=Cc,t.style.cssText=Pc;let e=document.createElement(Nn);e.innerText=Ec(this._licenseState),me(e,t),this._parent&&me(t,this._parent)}submit(t){if(!this.options.action&&t&&t.preventDefault(),this.validate(),!this.isValid()){this.dispatchEvent("validationFailedOnSubmit");return}let e=this.getData();this.options.useFormData&&(e=Aa(this.getData())),this.options.submit&&this.options.submit(e),this.dispatchEvent("submitted",e)}destroy(){this._parent&&this._parent.remove()}on(t,e,s){this._formElement?.addEventListener(t,e,s)}off(t,e,s){this._formElement?.removeEventListener(t,e,s)}};Qe(kr,ss,ye.group);Qe(Ca,li,ye.button);Qe(Hr,Co,ye.field);Qe(Yr,Po,ye.field);Qe(jr,No,ye.field);Qe(qr,Lo,ye.field);Qe(zr,Mo,ye.field);Qe(Wr,Fo,ye.field);Qe(Kr,Uo,ye.field);Qe($r,Bo,ye.field);Qe(dr,Vo,ye.field);Qe(Xr,Io,ye.field);Qe(Qr,Go,ye.field);Qe(Jr,Jo,ye.field);Qe(Zr,os,ye.field);Qe(ei,Zo,ye.field);Qe(ti,ts,ye.field);Qe(Un,es,ye.field);Qe(ni,ns,ye.field);Qe(ri,rs,ye.field);Qe(ii,is,ye.field);function vi(r,t){return i(function(){return r.apply(t,arguments)},"wrap")}i(vi,"bind");var{toString:Fv}=Object.prototype,{getPrototypeOf:Ja}=Object,ls=(r=>t=>{let e=Fv.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=i(r=>(r=r.toLowerCase(),t=>ls(t)===r),"kindOfTest"),us=i(r=>t=>typeof t===r,"typeOfTest"),{isArray:Er}=Array,_i=us("undefined");function Uv(r){return r!==null&&!_i(r)&&r.constructor!==null&&!_i(r.constructor)&&Lt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}i(Uv,"isBuffer");var yd=Yt("ArrayBuffer");function Bv(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&yd(r.buffer),t}i(Bv,"isArrayBufferView");var Vv=us("string"),Lt=us("function"),bd=us("number"),cs=i(r=>r!==null&&typeof r=="object","isObject"),Gv=i(r=>r===!0||r===!1,"isBoolean"),as=i(r=>{if(ls(r)!=="object")return!1;let t=Ja(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},"isPlainObject"),kv=Yt("Date"),Hv=Yt("File"),Yv=Yt("Blob"),jv=Yt("FileList"),qv=i(r=>cs(r)&&Lt(r.pipe),"isStream"),zv=i(r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||Lt(r.append)&&((t=ls(r))==="formdata"||t==="object"&&Lt(r.toString)&&r.toString()==="[object FormData]"))},"isFormData"),Wv=Yt("URLSearchParams"),[Kv,$v,Xv,Qv]=["ReadableStream","Request","Response","Headers"].map(Yt),Jv=i(r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim");function Ti(r,t,{allOwnKeys:e=!1}={}){if(r===null||typeof r>"u")return;let s,l;if(typeof r!="object"&&(r=[r]),Er(r))for(s=0,l=r.length;s<l;s++)t.call(null,r[s],s,r);else{let p=e?Object.getOwnPropertyNames(r):Object.keys(r),d=p.length,v;for(s=0;s<d;s++)v=p[s],t.call(null,r[v],v,r)}}i(Ti,"forEach");function Ad(r,t){t=t.toLowerCase();let e=Object.keys(r),s=e.length,l;for(;s-- >0;)if(l=e[s],t===l.toLowerCase())return l;return null}i(Ad,"findKey");var Bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dd=i(r=>!_i(r)&&r!==Bn,"isContextDefined");function Qa(){let{caseless:r}=Dd(this)&&this||{},t={},e=i((s,l)=>{let p=r&&Ad(t,l)||l;as(t[p])&&as(s)?t[p]=Qa(t[p],s):as(s)?t[p]=Qa({},s):Er(s)?t[p]=s.slice():t[p]=s},"assignValue");for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Ti(arguments[s],e);return t}i(Qa,"merge");var Zv=i((r,t,e,{allOwnKeys:s}={})=>(Ti(t,(l,p)=>{e&&Lt(l)?r[p]=vi(l,e):r[p]=l},{allOwnKeys:s}),r),"extend"),e_=i(r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),"stripBOM"),t_=i((r,t,e,s)=>{r.prototype=Object.create(t.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),e&&Object.assign(r.prototype,e)},"inherits"),n_=i((r,t,e,s)=>{let l,p,d,v={};if(t=t||{},r==null)return t;do{for(l=Object.getOwnPropertyNames(r),p=l.length;p-- >0;)d=l[p],(!s||s(d,r,t))&&!v[d]&&(t[d]=r[d],v[d]=!0);r=e!==!1&&Ja(r)}while(r&&(!e||e(r,t))&&r!==Object.prototype);return t},"toFlatObject"),r_=i((r,t,e)=>{r=String(r),(e===void 0||e>r.length)&&(e=r.length),e-=t.length;let s=r.indexOf(t,e);return s!==-1&&s===e},"endsWith"),i_=i(r=>{if(!r)return null;if(Er(r))return r;let t=r.length;if(!bd(t))return null;let e=new Array(t);for(;t-- >0;)e[t]=r[t];return e},"toArray"),o_=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&Ja(Uint8Array)),s_=i((r,t)=>{let s=(r&&r[Symbol.iterator]).call(r),l;for(;(l=s.next())&&!l.done;){let p=l.value;t.call(r,p[0],p[1])}},"forEachEntry"),a_=i((r,t)=>{let e,s=[];for(;(e=r.exec(t))!==null;)s.push(e);return s},"matchAll"),l_=Yt("HTMLFormElement"),u_=i(r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,i(function(e,s,l){return s.toUpperCase()+l},"replacer")),"toCamelCase"),Id=(({hasOwnProperty:r})=>(t,e)=>r.call(t,e))(Object.prototype),c_=Yt("RegExp"),Od=i((r,t)=>{let e=Object.getOwnPropertyDescriptors(r),s={};Ti(e,(l,p)=>{let d;(d=t(l,p,r))!==!1&&(s[p]=d||l)}),Object.defineProperties(r,s)},"reduceDescriptors"),f_=i(r=>{Od(r,(t,e)=>{if(Lt(r)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;let s=r[e];if(Lt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},"freezeMethods"),d_=i((r,t)=>{let e={},s=i(l=>{l.forEach(p=>{e[p]=!0})},"define");return Er(r)?s(r):s(String(r).split(t)),e},"toObjectSet"),p_=i(()=>{},"noop"),m_=i((r,t)=>r!=null&&Number.isFinite(r=+r)?r:t,"toFiniteNumber");function h_(r){return!!(r&&Lt(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}i(h_,"isSpecCompliantForm");var E_=i(r=>{let t=new Array(10),e=i((s,l)=>{if(cs(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[l]=s;let p=Er(s)?[]:{};return Ti(s,(d,v)=>{let b=e(d,l+1);!_i(b)&&(p[v]=b)}),t[l]=void 0,p}}return s},"visit");return e(r,0)},"toJSONObject"),g_=Yt("AsyncFunction"),v_=i(r=>r&&(cs(r)||Lt(r))&&Lt(r.then)&&Lt(r.catch),"isThenable"),Sd=((r,t)=>r?setImmediate:t?((e,s)=>(Bn.addEventListener("message",({source:l,data:p})=>{l===Bn&&p===e&&s.length&&s.shift()()},!1),l=>{s.push(l),Bn.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Lt(Bn.postMessage)),__=typeof queueMicrotask<"u"?queueMicrotask.bind(Bn):typeof process<"u"&&process.nextTick||Sd,w={isArray:Er,isArrayBuffer:yd,isBuffer:Uv,isFormData:zv,isArrayBufferView:Bv,isString:Vv,isNumber:bd,isBoolean:Gv,isObject:cs,isPlainObject:as,isReadableStream:Kv,isRequest:$v,isResponse:Xv,isHeaders:Qv,isUndefined:_i,isDate:kv,isFile:Hv,isBlob:Yv,isRegExp:c_,isFunction:Lt,isStream:qv,isURLSearchParams:Wv,isTypedArray:o_,isFileList:jv,forEach:Ti,merge:Qa,extend:Zv,trim:Jv,stripBOM:e_,inherits:t_,toFlatObject:n_,kindOf:ls,kindOfTest:Yt,endsWith:r_,toArray:i_,forEachEntry:s_,matchAll:a_,isHTMLForm:l_,hasOwnProperty:Id,hasOwnProp:Id,reduceDescriptors:Od,freezeMethods:f_,toObjectSet:d_,toCamelCase:u_,noop:p_,toFiniteNumber:m_,findKey:Ad,global:Bn,isContextDefined:Dd,isSpecCompliantForm:h_,toJSONObject:E_,isAsyncFn:g_,isThenable:v_,setImmediate:Sd,asap:__};function gr(r,t,e,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}i(gr,"AxiosError");w.inherits(gr,Error,{toJSON:i(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}},"toJSON")});var Rd=gr.prototype,wd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{wd[r]={value:r}});Object.defineProperties(gr,wd);Object.defineProperty(Rd,"isAxiosError",{value:!0});gr.from=(r,t,e,s,l,p)=>{let d=Object.create(Rd);return w.toFlatObject(r,d,i(function(b){return b!==Error.prototype},"filter"),v=>v!=="isAxiosError"),gr.call(d,r.message,t,e,s,l),d.cause=r,d.name=r.name,p&&Object.assign(d,p),d};var pe=gr;var fs=null;function Za(r){return w.isPlainObject(r)||w.isArray(r)}i(Za,"isVisitable");function Cd(r){return w.endsWith(r,"[]")?r.slice(0,-2):r}i(Cd,"removeBrackets");function Ld(r,t,e){return r?r.concat(t).map(i(function(l,p){return l=Cd(l),!e&&p?"["+l+"]":l},"each")).join(e?".":""):t}i(Ld,"renderKey");function T_(r){return w.isArray(r)&&!r.some(Za)}i(T_,"isFlatArray");var I_=w.toFlatObject(w,{},null,i(function(t){return/^is[A-Z]/.test(t)},"filter"));function y_(r,t,e){if(!w.isObject(r))throw new TypeError("target must be an object");t=t||new(fs||FormData),e=w.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,i(function(M,k){return!w.isUndefined(k[M])},"defined"));let s=e.metaTokens,l=e.visitor||A,p=e.dots,d=e.indexes,b=(e.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(t);if(!w.isFunction(l))throw new TypeError("visitor must be a function");function y(C){if(C===null)return"";if(w.isDate(C))return C.toISOString();if(!b&&w.isBlob(C))throw new pe("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(C)||w.isTypedArray(C)?b&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}i(y,"convertValue");function A(C,M,k){let ie=C;if(C&&!k&&typeof C=="object"){if(w.endsWith(M,"{}"))M=s?M:M.slice(0,-2),C=JSON.stringify(C);else if(w.isArray(C)&&T_(C)||(w.isFileList(C)||w.endsWith(M,"[]"))&&(ie=w.toArray(C)))return M=Cd(M),ie.forEach(i(function(le,Pe){!(w.isUndefined(le)||le===null)&&t.append(d===!0?Ld([M],Pe,p):d===null?M:M+"[]",y(le))},"each")),!1}return Za(C)?!0:(t.append(Ld(k,M,p),y(C)),!1)}i(A,"defaultVisitor");let R=[],x=Object.assign(I_,{defaultVisitor:A,convertValue:y,isVisitable:Za});function X(C,M){if(!w.isUndefined(C)){if(R.indexOf(C)!==-1)throw Error("Circular reference detected in "+M.join("."));R.push(C),w.forEach(C,i(function(ie,j){(!(w.isUndefined(ie)||ie===null)&&l.call(t,ie,w.isString(j)?j.trim():j,M,x))===!0&&X(ie,M?M.concat(j):[j])},"each")),R.pop()}}if(i(X,"build"),!w.isObject(r))throw new TypeError("data must be an object");return X(r),t}i(y_,"toFormData");var vn=y_;function Pd(r){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,i(function(s){return t[s]},"replacer"))}i(Pd,"encode");function Nd(r,t){this._pairs=[],r&&vn(r,this,t)}i(Nd,"AxiosURLSearchParams");var Md=Nd.prototype;Md.append=i(function(t,e){this._pairs.push([t,e])},"append");Md.toString=i(function(t){let e=t?function(s){return t.call(this,s,Pd)}:Pd;return this._pairs.map(i(function(l){return e(l[0])+"="+e(l[1])},"each"),"").join("&")},"toString");var ds=Nd;function b_(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}i(b_,"encode");function Ii(r,t,e){if(!t)return r;let s=e&&e.encode||b_;w.isFunction(e)&&(e={serialize:e});let l=e&&e.serialize,p;if(l?p=l(t,e):p=w.isURLSearchParams(t)?t.toString():new ds(t,e).toString(s),p){let d=r.indexOf("#");d!==-1&&(r=r.slice(0,d)),r+=(r.indexOf("?")===-1?"?":"&")+p}return r}i(Ii,"buildURL");var el=class{static{i(this,"InterceptorManager")}constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){w.forEach(this.handlers,i(function(s){s!==null&&t(s)},"forEachHandler"))}},tl=el;var ps={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var xd=typeof URLSearchParams<"u"?URLSearchParams:ds;var Fd=typeof FormData<"u"?FormData:null;var Ud=typeof Blob<"u"?Blob:null;var Bd={isBrowser:!0,classes:{URLSearchParams:xd,FormData:Fd,Blob:Ud},protocols:["http","https","file","blob","url","data"]};var il={};ZE(il,{hasBrowserEnv:()=>rl,hasStandardBrowserEnv:()=>A_,hasStandardBrowserWebWorkerEnv:()=>D_,navigator:()=>nl,origin:()=>O_});var rl=typeof window<"u"&&typeof document<"u",nl=typeof navigator=="object"&&navigator||void 0,A_=rl&&(!nl||["ReactNative","NativeScript","NS"].indexOf(nl.product)<0),D_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O_=rl&&window.location.href||"http://localhost";var $e={...il,...Bd};function ol(r,t){return vn(r,new $e.classes.URLSearchParams,Object.assign({visitor:i(function(e,s,l,p){return $e.isNode&&w.isBuffer(e)?(this.append(s,e.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)},"visitor")},t))}i(ol,"toURLEncodedForm");function S_(r){return w.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}i(S_,"parsePropPath");function R_(r){let t={},e=Object.keys(r),s,l=e.length,p;for(s=0;s<l;s++)p=e[s],t[p]=r[p];return t}i(R_,"arrayToObject");function w_(r){function t(e,s,l,p){let d=e[p++];if(d==="__proto__")return!0;let v=Number.isFinite(+d),b=p>=e.length;return d=!d&&w.isArray(l)?l.length:d,b?(w.hasOwnProp(l,d)?l[d]=[l[d],s]:l[d]=s,!v):((!l[d]||!w.isObject(l[d]))&&(l[d]=[]),t(e,s,l[d],p)&&w.isArray(l[d])&&(l[d]=R_(l[d])),!v)}if(i(t,"buildPath"),w.isFormData(r)&&w.isFunction(r.entries)){let e={};return w.forEachEntry(r,(s,l)=>{t(S_(s),l,e,0)}),e}return null}i(w_,"formDataToJSON");var ms=w_;function L_(r,t,e){if(w.isString(r))try{return(t||JSON.parse)(r),w.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(r)}i(L_,"stringifySafely");var sl={transitional:ps,adapter:["xhr","http","fetch"],transformRequest:[i(function(t,e){let s=e.getContentType()||"",l=s.indexOf("application/json")>-1,p=w.isObject(t);if(p&&w.isHTMLForm(t)&&(t=new FormData(t)),w.isFormData(t))return l?JSON.stringify(ms(t)):t;if(w.isArrayBuffer(t)||w.isBuffer(t)||w.isStream(t)||w.isFile(t)||w.isBlob(t)||w.isReadableStream(t))return t;if(w.isArrayBufferView(t))return t.buffer;if(w.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let v;if(p){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ol(t,this.formSerializer).toString();if((v=w.isFileList(t))||s.indexOf("multipart/form-data")>-1){let b=this.env&&this.env.FormData;return vn(v?{"files[]":t}:t,b&&new b,this.formSerializer)}}return p||l?(e.setContentType("application/json",!1),L_(t)):t},"transformRequest")],transformResponse:[i(function(t){let e=this.transitional||sl.transitional,s=e&&e.forcedJSONParsing,l=this.responseType==="json";if(w.isResponse(t)||w.isReadableStream(t))return t;if(t&&w.isString(t)&&(s&&!this.responseType||l)){let d=!(e&&e.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(v){if(d)throw v.name==="SyntaxError"?pe.from(v,pe.ERR_BAD_RESPONSE,this,null,this.response):v}}return t},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:i(function(t){return t>=200&&t<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],r=>{sl.headers[r]={}});var vr=sl;var C_=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vd=i(r=>{let t={},e,s,l;return r&&r.split(`
`).forEach(i(function(d){l=d.indexOf(":"),e=d.substring(0,l).trim().toLowerCase(),s=d.substring(l+1).trim(),!(!e||t[e]&&C_[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)},"parser")),t},"default");var Gd=Symbol("internals");function yi(r){return r&&String(r).trim().toLowerCase()}i(yi,"normalizeHeader");function hs(r){return r===!1||r==null?r:w.isArray(r)?r.map(hs):String(r)}i(hs,"normalizeValue");function P_(r){let t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,s;for(;s=e.exec(r);)t[s[1]]=s[2];return t}i(P_,"parseTokens");var N_=i(r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim()),"isValidHeaderName");function al(r,t,e,s,l){if(w.isFunction(s))return s.call(this,t,e);if(l&&(t=e),!!w.isString(t)){if(w.isString(s))return t.indexOf(s)!==-1;if(w.isRegExp(s))return s.test(t)}}i(al,"matchHeaderValue");function M_(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}i(M_,"formatHeader");function x_(r,t){let e=w.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+e,{value:i(function(l,p,d){return this[s].call(this,t,l,p,d)},"value"),configurable:!0})})}i(x_,"buildAccessors");var _r=class{static{i(this,"AxiosHeaders")}constructor(t){t&&this.set(t)}set(t,e,s){let l=this;function p(v,b,y){let A=yi(b);if(!A)throw new Error("header name must be a non-empty string");let R=w.findKey(l,A);(!R||l[R]===void 0||y===!0||y===void 0&&l[R]!==!1)&&(l[R||b]=hs(v))}i(p,"setHeader");let d=i((v,b)=>w.forEach(v,(y,A)=>p(y,A,b)),"setHeaders");if(w.isPlainObject(t)||t instanceof this.constructor)d(t,e);else if(w.isString(t)&&(t=t.trim())&&!N_(t))d(Vd(t),e);else if(w.isHeaders(t))for(let[v,b]of t.entries())p(b,v,s);else t!=null&&p(e,t,s);return this}get(t,e){if(t=yi(t),t){let s=w.findKey(this,t);if(s){let l=this[s];if(!e)return l;if(e===!0)return P_(l);if(w.isFunction(e))return e.call(this,l,s);if(w.isRegExp(e))return e.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=yi(t),t){let s=w.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||al(this,this[s],s,e)))}return!1}delete(t,e){let s=this,l=!1;function p(d){if(d=yi(d),d){let v=w.findKey(s,d);v&&(!e||al(s,s[v],v,e))&&(delete s[v],l=!0)}}return i(p,"deleteHeader"),w.isArray(t)?t.forEach(p):p(t),l}clear(t){let e=Object.keys(this),s=e.length,l=!1;for(;s--;){let p=e[s];(!t||al(this,this[p],p,t,!0))&&(delete this[p],l=!0)}return l}normalize(t){let e=this,s={};return w.forEach(this,(l,p)=>{let d=w.findKey(s,p);if(d){e[d]=hs(l),delete e[p];return}let v=t?M_(p):String(p).trim();v!==p&&delete e[p],e[v]=hs(l),s[v]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let e=Object.create(null);return w.forEach(this,(s,l)=>{s!=null&&s!==!1&&(e[l]=t&&w.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){let s=new this(t);return e.forEach(l=>s.set(l)),s}static accessor(t){let s=(this[Gd]=this[Gd]={accessors:{}}).accessors,l=this.prototype;function p(d){let v=yi(d);s[v]||(x_(l,d),s[v]=!0)}return i(p,"defineAccessor"),w.isArray(t)?t.forEach(p):p(t),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(_r.prototype,({value:r},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:i(()=>r,"get"),set(s){this[e]=s}}});w.freezeMethods(_r);var ut=_r;function bi(r,t){let e=this||vr,s=t||e,l=ut.from(s.headers),p=s.data;return w.forEach(r,i(function(v){p=v.call(e,p,l.normalize(),t?t.status:void 0)},"transform")),l.normalize(),p}i(bi,"transformData");function Ai(r){return!!(r&&r.__CANCEL__)}i(Ai,"isCancel");function kd(r,t,e){pe.call(this,r??"canceled",pe.ERR_CANCELED,t,e),this.name="CanceledError"}i(kd,"CanceledError");w.inherits(kd,pe,{__CANCEL__:!0});var $t=kd;function Di(r,t,e){let s=e.config.validateStatus;!e.status||!s||s(e.status)?r(e):t(new pe("Request failed with status code "+e.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}i(Di,"settle");function ll(r){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}i(ll,"parseProtocol");function F_(r,t){r=r||10;let e=new Array(r),s=new Array(r),l=0,p=0,d;return t=t!==void 0?t:1e3,i(function(b){let y=Date.now(),A=s[p];d||(d=y),e[l]=b,s[l]=y;let R=p,x=0;for(;R!==l;)x+=e[R++],R=R%r;if(l=(l+1)%r,l===p&&(p=(p+1)%r),y-d<t)return;let X=A&&y-A;return X?Math.round(x*1e3/X):void 0},"push")}i(F_,"speedometer");var Hd=F_;function U_(r,t){let e=0,s=1e3/t,l,p,d=i((y,A=Date.now())=>{e=A,l=null,p&&(clearTimeout(p),p=null),r.apply(null,y)},"invoke");return[i((...y)=>{let A=Date.now(),R=A-e;R>=s?d(y,A):(l=y,p||(p=setTimeout(()=>{p=null,d(l)},s-R)))},"throttled"),i(()=>l&&d(l),"flush")]}i(U_,"throttle");var Yd=U_;var Tr=i((r,t,e=3)=>{let s=0,l=Hd(50,250);return Yd(p=>{let d=p.loaded,v=p.lengthComputable?p.total:void 0,b=d-s,y=l(b),A=d<=v;s=d;let R={loaded:d,total:v,progress:v?d/v:void 0,bytes:b,rate:y||void 0,estimated:y&&v&&A?(v-d)/y:void 0,event:p,lengthComputable:v!=null,[t?"download":"upload"]:!0};r(R)},e)},"progressEventReducer"),ul=i((r,t)=>{let e=r!=null;return[s=>t[0]({lengthComputable:e,total:r,loaded:s}),t[1]]},"progressEventDecorator"),cl=i(r=>(...t)=>w.asap(()=>r(...t)),"asyncDecorator");var jd=$e.hasStandardBrowserEnv?((r,t)=>e=>(e=new URL(e,$e.origin),r.protocol===e.protocol&&r.host===e.host&&(t||r.port===e.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0;var qd=$e.hasStandardBrowserEnv?{write(r,t,e,s,l,p){let d=[r+"="+encodeURIComponent(t)];w.isNumber(e)&&d.push("expires="+new Date(e).toGMTString()),w.isString(s)&&d.push("path="+s),w.isString(l)&&d.push("domain="+l),p===!0&&d.push("secure"),document.cookie=d.join("; ")},read(r){let t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fl(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}i(fl,"isAbsoluteURL");function dl(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}i(dl,"combineURLs");function Oi(r,t,e){let s=!fl(t);return r&&(s||e==!1)?dl(r,t):t}i(Oi,"buildFullPath");var zd=i(r=>r instanceof ut?{...r}:r,"headersToObject");function jt(r,t){t=t||{};let e={};function s(y,A,R,x){return w.isPlainObject(y)&&w.isPlainObject(A)?w.merge.call({caseless:x},y,A):w.isPlainObject(A)?w.merge({},A):w.isArray(A)?A.slice():A}i(s,"getMergedValue");function l(y,A,R,x){if(w.isUndefined(A)){if(!w.isUndefined(y))return s(void 0,y,R,x)}else return s(y,A,R,x)}i(l,"mergeDeepProperties");function p(y,A){if(!w.isUndefined(A))return s(void 0,A)}i(p,"valueFromConfig2");function d(y,A){if(w.isUndefined(A)){if(!w.isUndefined(y))return s(void 0,y)}else return s(void 0,A)}i(d,"defaultToConfig2");function v(y,A,R){if(R in t)return s(y,A);if(R in r)return s(void 0,y)}i(v,"mergeDirectKeys");let b={url:p,method:p,data:p,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:v,headers:i((y,A,R)=>l(zd(y),zd(A),R,!0),"headers")};return w.forEach(Object.keys(Object.assign({},r,t)),i(function(A){let R=b[A]||l,x=R(r[A],t[A],A);w.isUndefined(x)&&R!==v||(e[A]=x)},"computeConfigValue")),e}i(jt,"mergeConfig");var Es=i(r=>{let t=jt({},r),{data:e,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:p,headers:d,auth:v}=t;t.headers=d=ut.from(d),t.url=Ii(Oi(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),v&&d.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let b;if(w.isFormData(e)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((b=d.getContentType())!==!1){let[y,...A]=b?b.split(";").map(R=>R.trim()).filter(Boolean):[];d.setContentType([y||"multipart/form-data",...A].join("; "))}}if($e.hasStandardBrowserEnv&&(s&&w.isFunction(s)&&(s=s(t)),s||s!==!1&&jd(t.url))){let y=l&&p&&qd.read(p);y&&d.set(l,y)}return t},"default");var B_=typeof XMLHttpRequest<"u",Wd=B_&&function(r){return new Promise(i(function(e,s){let l=Es(r),p=l.data,d=ut.from(l.headers).normalize(),{responseType:v,onUploadProgress:b,onDownloadProgress:y}=l,A,R,x,X,C;function M(){X&&X(),C&&C(),l.cancelToken&&l.cancelToken.unsubscribe(A),l.signal&&l.signal.removeEventListener("abort",A)}i(M,"done");let k=new XMLHttpRequest;k.open(l.method.toUpperCase(),l.url,!0),k.timeout=l.timeout;function ie(){if(!k)return;let le=ut.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),Le={data:!v||v==="text"||v==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:le,config:r,request:k};Di(i(function(ue){e(ue),M()},"_resolve"),i(function(ue){s(ue),M()},"_reject"),Le),k=null}i(ie,"onloadend"),"onloadend"in k?k.onloadend=ie:k.onreadystatechange=i(function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(ie)},"handleLoad"),k.onabort=i(function(){k&&(s(new pe("Request aborted",pe.ECONNABORTED,r,k)),k=null)},"handleAbort"),k.onerror=i(function(){s(new pe("Network Error",pe.ERR_NETWORK,r,k)),k=null},"handleError"),k.ontimeout=i(function(){let Pe=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",Le=l.transitional||ps;l.timeoutErrorMessage&&(Pe=l.timeoutErrorMessage),s(new pe(Pe,Le.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,r,k)),k=null},"handleTimeout"),p===void 0&&d.setContentType(null),"setRequestHeader"in k&&w.forEach(d.toJSON(),i(function(Pe,Le){k.setRequestHeader(Le,Pe)},"setRequestHeader")),w.isUndefined(l.withCredentials)||(k.withCredentials=!!l.withCredentials),v&&v!=="json"&&(k.responseType=l.responseType),y&&([x,C]=Tr(y,!0),k.addEventListener("progress",x)),b&&k.upload&&([R,X]=Tr(b),k.upload.addEventListener("progress",R),k.upload.addEventListener("loadend",X)),(l.cancelToken||l.signal)&&(A=i(le=>{k&&(s(!le||le.type?new $t(null,r,k):le),k.abort(),k=null)},"onCanceled"),l.cancelToken&&l.cancelToken.subscribe(A),l.signal&&(l.signal.aborted?A():l.signal.addEventListener("abort",A)));let j=ll(l.url);if(j&&$e.protocols.indexOf(j)===-1){s(new pe("Unsupported protocol "+j+":",pe.ERR_BAD_REQUEST,r));return}k.send(p||null)},"dispatchXhrRequest"))};var V_=i((r,t)=>{let{length:e}=r=r?r.filter(Boolean):[];if(t||e){let s=new AbortController,l,p=i(function(y){if(!l){l=!0,v();let A=y instanceof Error?y:this.reason;s.abort(A instanceof pe?A:new $t(A instanceof Error?A.message:A))}},"onabort"),d=t&&setTimeout(()=>{d=null,p(new pe(`timeout ${t} of ms exceeded`,pe.ETIMEDOUT))},t),v=i(()=>{r&&(d&&clearTimeout(d),d=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(p):y.removeEventListener("abort",p)}),r=null)},"unsubscribe");r.forEach(y=>y.addEventListener("abort",p));let{signal:b}=s;return b.unsubscribe=()=>w.asap(v),b}},"composeSignals"),Kd=V_;var G_=i(function*(r,t){let e=r.byteLength;if(!t||e<t){yield r;return}let s=0,l;for(;s<e;)l=s+t,yield r.slice(s,l),s=l},"streamChunk"),k_=i(async function*(r,t){for await(let e of H_(r))yield*G_(e,t)},"readBytes"),H_=i(async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}let t=r.getReader();try{for(;;){let{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},"readStream"),pl=i((r,t,e,s)=>{let l=k_(r,t),p=0,d,v=i(b=>{d||(d=!0,s&&s(b))},"_onFinish");return new ReadableStream({async pull(b){try{let{done:y,value:A}=await l.next();if(y){v(),b.close();return}let R=A.byteLength;if(e){let x=p+=R;e(x)}b.enqueue(new Uint8Array(A))}catch(y){throw v(y),y}},cancel(b){return v(b),l.return()}},{highWaterMark:2})},"trackStream");var vs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xd=vs&&typeof ReadableStream=="function",Y_=vs&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Qd=i((r,...t)=>{try{return!!r(...t)}catch{return!1}},"test"),j_=Xd&&Qd(()=>{let r=!1,t=new Request($e.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),$d=64*1024,ml=Xd&&Qd(()=>w.isReadableStream(new Response("").body)),gs={stream:ml&&(r=>r.body)};vs&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!gs[t]&&(gs[t]=w.isFunction(r[t])?e=>e[t]():(e,s)=>{throw new pe(`Response type '${t}' is not supported`,pe.ERR_NOT_SUPPORT,s)})})})(new Response);var q_=i(async r=>{if(r==null)return 0;if(w.isBlob(r))return r.size;if(w.isSpecCompliantForm(r))return(await new Request($e.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(w.isArrayBufferView(r)||w.isArrayBuffer(r))return r.byteLength;if(w.isURLSearchParams(r)&&(r=r+""),w.isString(r))return(await Y_(r)).byteLength},"getBodyLength"),z_=i(async(r,t)=>{let e=w.toFiniteNumber(r.getContentLength());return e??q_(t)},"resolveBodyLength"),Jd=vs&&(async r=>{let{url:t,method:e,data:s,signal:l,cancelToken:p,timeout:d,onDownloadProgress:v,onUploadProgress:b,responseType:y,headers:A,withCredentials:R="same-origin",fetchOptions:x}=Es(r);y=y?(y+"").toLowerCase():"text";let X=Kd([l,p&&p.toAbortSignal()],d),C,M=X&&X.unsubscribe&&(()=>{X.unsubscribe()}),k;try{if(b&&j_&&e!=="get"&&e!=="head"&&(k=await z_(A,s))!==0){let Le=new Request(t,{method:"POST",body:s,duplex:"half"}),Be;if(w.isFormData(s)&&(Be=Le.headers.get("content-type"))&&A.setContentType(Be),Le.body){let[ue,_e]=ul(k,Tr(cl(b)));s=pl(Le.body,$d,ue,_e)}}w.isString(R)||(R=R?"include":"omit");let ie="credentials"in Request.prototype;C=new Request(t,{...x,signal:X,method:e.toUpperCase(),headers:A.normalize().toJSON(),body:s,duplex:"half",credentials:ie?R:void 0});let j=await fetch(C),le=ml&&(y==="stream"||y==="response");if(ml&&(v||le&&M)){let Le={};["status","statusText","headers"].forEach(de=>{Le[de]=j[de]});let Be=w.toFiniteNumber(j.headers.get("content-length")),[ue,_e]=v&&ul(Be,Tr(cl(v),!0))||[];j=new Response(pl(j.body,$d,ue,()=>{_e&&_e(),M&&M()}),Le)}y=y||"text";let Pe=await gs[w.findKey(gs,y)||"text"](j,r);return!le&&M&&M(),await new Promise((Le,Be)=>{Di(Le,Be,{data:Pe,headers:ut.from(j.headers),status:j.status,statusText:j.statusText,config:r,request:C})})}catch(ie){throw M&&M(),ie&&ie.name==="TypeError"&&/fetch/i.test(ie.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,r,C),{cause:ie.cause||ie}):pe.from(ie,ie&&ie.code,r,C)}});var hl={http:fs,xhr:Wd,fetch:Jd};w.forEach(hl,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});var Zd=i(r=>`- ${r}`,"renderReason"),W_=i(r=>w.isFunction(r)||r===null||r===!1,"isResolvedHandle"),_s={getAdapter:i(r=>{r=w.isArray(r)?r:[r];let{length:t}=r,e,s,l={};for(let p=0;p<t;p++){e=r[p];let d;if(s=e,!W_(e)&&(s=hl[(d=String(e)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${d}'`);if(s)break;l[d||"#"+p]=s}if(!s){let p=Object.entries(l).map(([v,b])=>`adapter ${v} `+(b===!1?"is not supported by the environment":"is not available in the build")),d=t?p.length>1?`since :
`+p.map(Zd).join(`
`):" "+Zd(p[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s},"getAdapter"),adapters:hl};function El(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new $t(null,r)}i(El,"throwIfCancellationRequested");function Ts(r){return El(r),r.headers=ut.from(r.headers),r.data=bi.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),_s.getAdapter(r.adapter||vr.adapter)(r).then(i(function(s){return El(r),s.data=bi.call(r,r.transformResponse,s),s.headers=ut.from(s.headers),s},"onAdapterResolution"),i(function(s){return Ai(s)||(El(r),s&&s.response&&(s.response.data=bi.call(r,r.transformResponse,s.response),s.response.headers=ut.from(s.response.headers))),Promise.reject(s)},"onAdapterRejection"))}i(Ts,"dispatchRequest");var Is="1.8.4";var ys={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{ys[r]=i(function(s){return typeof s===r||"a"+(t<1?"n ":" ")+r},"validator")});var ep={};ys.transitional=i(function(t,e,s){function l(p,d){return"[Axios v"+Is+"] Transitional option '"+p+"'"+d+(s?". "+s:"")}return i(l,"formatMessage"),(p,d,v)=>{if(t===!1)throw new pe(l(d," has been removed"+(e?" in "+e:"")),pe.ERR_DEPRECATED);return e&&!ep[d]&&(ep[d]=!0,console.warn(l(d," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(p,d,v):!0}},"transitional");ys.spelling=i(function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)},"spelling");function K_(r,t,e){if(typeof r!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);let s=Object.keys(r),l=s.length;for(;l-- >0;){let p=s[l],d=t[p];if(d){let v=r[p],b=v===void 0||d(v,p,r);if(b!==!0)throw new pe("option "+p+" must be "+b,pe.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new pe("Unknown option "+p,pe.ERR_BAD_OPTION)}}i(K_,"assertOptions");var Si={assertOptions:K_,validators:ys};var Xt=Si.validators,Ir=class{static{i(this,"Axios")}constructor(t){this.defaults=t,this.interceptors={request:new tl,response:new tl}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;let p=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?p&&!String(s.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+p):s.stack=p}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=jt(this.defaults,e);let{transitional:s,paramsSerializer:l,headers:p}=e;s!==void 0&&Si.assertOptions(s,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),l!=null&&(w.isFunction(l)?e.paramsSerializer={serialize:l}:Si.assertOptions(l,{encode:Xt.function,serialize:Xt.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Si.assertOptions(e,{baseUrl:Xt.spelling("baseURL"),withXsrfToken:Xt.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let d=p&&w.merge(p.common,p[e.method]);p&&w.forEach(["delete","get","head","post","put","patch","common"],C=>{delete p[C]}),e.headers=ut.concat(d,p);let v=[],b=!0;this.interceptors.request.forEach(i(function(M){typeof M.runWhen=="function"&&M.runWhen(e)===!1||(b=b&&M.synchronous,v.unshift(M.fulfilled,M.rejected))},"unshiftRequestInterceptors"));let y=[];this.interceptors.response.forEach(i(function(M){y.push(M.fulfilled,M.rejected)},"pushResponseInterceptors"));let A,R=0,x;if(!b){let C=[Ts.bind(this),void 0];for(C.unshift.apply(C,v),C.push.apply(C,y),x=C.length,A=Promise.resolve(e);R<x;)A=A.then(C[R++],C[R++]);return A}x=v.length;let X=e;for(R=0;R<x;){let C=v[R++],M=v[R++];try{X=C(X)}catch(k){M.call(this,k);break}}try{A=Ts.call(this,X)}catch(C){return Promise.reject(C)}for(R=0,x=y.length;R<x;)A=A.then(y[R++],y[R++]);return A}getUri(t){t=jt(this.defaults,t);let e=Oi(t.baseURL,t.url,t.allowAbsoluteUrls);return Ii(e,t.params,t.paramsSerializer)}};w.forEach(["delete","get","head","options"],i(function(t){Ir.prototype[t]=function(e,s){return this.request(jt(s||{},{method:t,url:e,data:(s||{}).data}))}},"forEachMethodNoData"));w.forEach(["post","put","patch"],i(function(t){function e(s){return i(function(p,d,v){return this.request(jt(v||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:p,data:d}))},"httpMethod")}i(e,"generateHTTPMethod"),Ir.prototype[t]=e(),Ir.prototype[t+"Form"]=e(!0)},"forEachMethodWithData"));var Ri=Ir;var gl=class r{static{i(this,"CancelToken")}constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(i(function(p){e=p},"promiseExecutor"));let s=this;this.promise.then(l=>{if(!s._listeners)return;let p=s._listeners.length;for(;p-- >0;)s._listeners[p](l);s._listeners=null}),this.promise.then=l=>{let p,d=new Promise(v=>{s.subscribe(v),p=v}).then(l);return d.cancel=i(function(){s.unsubscribe(p)},"reject"),d},t(i(function(p,d,v){s.reason||(s.reason=new $t(p,d,v),e(s.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){let t=new AbortController,e=i(s=>{t.abort(s)},"abort");return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new r(i(function(l){t=l},"executor")),cancel:t}}},tp=gl;function vl(r){return i(function(e){return r.apply(null,e)},"wrap")}i(vl,"spread");function _l(r){return w.isObject(r)&&r.isAxiosError===!0}i(_l,"isAxiosError");var Tl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tl).forEach(([r,t])=>{Tl[t]=r});var np=Tl;function rp(r){let t=new Ri(r),e=vi(Ri.prototype.request,t);return w.extend(e,Ri.prototype,t,{allOwnKeys:!0}),w.extend(e,t,null,{allOwnKeys:!0}),e.create=i(function(l){return rp(jt(r,l))},"create"),e}i(rp,"createInstance");var ot=rp(vr);ot.Axios=Ri;ot.CanceledError=$t;ot.CancelToken=tp;ot.isCancel=Ai;ot.VERSION=Is;ot.toFormData=vn;ot.AxiosError=pe;ot.Cancel=ot.CanceledError;ot.all=i(function(t){return Promise.all(t)},"all");ot.spread=vl;ot.isAxiosError=_l;ot.mergeConfig=jt;ot.AxiosHeaders=ut;ot.formToJSON=r=>ms(w.isHTMLForm(r)?new FormData(r):r);ot.getAdapter=_s.getAdapter;ot.HttpStatusCode=np;ot.default=ot;var bs=ot;var{Axios:nw,AxiosError:rw,CanceledError:iw,isCancel:ow,CancelToken:sw,VERSION:aw,all:lw,Cancel:uw,isAxiosError:cw,spread:fw,toFormData:dw,AxiosHeaders:pw,HttpStatusCode:mw,formToJSON:hw,getAdapter:Ew,mergeConfig:gw}=bs;var Vn=256,Ds=[],As;for(;Vn--;)Ds[Vn]=(Vn+256).toString(16).substring(1);function Gn(){var r=0,t,e="";if(!As||Vn+16>256){for(As=Array(r=256);r--;)As[r]=256*Math.random()|0;r=Vn=0}for(;r<16;r++)t=As[Vn+r],r==6?e+=Ds[t&15|64]:r==8?e+=Ds[t&63|128]:e+=Ds[t],r&1&&r>1&&r<11&&(e+="-");return Vn++,e}i(Gn,"v4");var Il=Stripe("pk_live_51PVFAM07xQtIlHl5nneheqyHshNmnrBOzRIgxXQs6GYp7cmtOWsgQnRlQYwUFez0teYb8OYUlIKi91XLMvEm4gts00iISFGmfg"),$_,ap="",yl,ip=Gn(),op=Gn(),sp=Gn();window.location.port.length>1&&(ap=`:${window.location.port}`);yl=`${window.location.protocol}//${window.location.hostname}${ap}`;var bl=Il.elements({mode:"payment",locale:"en",currency:"usd",amount:50,externalPaymentMethodTypes:[],captureMethod:"automatic_async",loader:"always",appearance:{theme:"flat",labels:"above",disableAnimations:!0}}),X_=bl.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{name:"",email:"",phone:"",address:{line1:"",city:"",state:"TX",country:"US",postal_code:""}}},business:{name:"DJ EV"}});function Rw(){window.rqid=!1;let r=ir(void 0,"h-captcha",{"auto-render":"true",id:"captcha","site-key":"e2480948-c1cc-4f46-ac56-81ea236a50c8",size:"compact",tabindex:"0"}),t=ir(void 0,"div");return r.addEventListener("verified",function(e){window.rqid=e.token,document.getElementById("payment-submit").disabled=!1}),r.addEventListener("error",function(e){window.rqid=!1,console.log(e.error)}),$_=new gi(t,{id:"payment-form",schema:[{id:"stripe-amount",type:"text",name:"amount",label:"Amount",placeholder:"Ex: US$ 1,000,000.00...",required:!0},{id:"token",name:"token",type:"hidden"},{id:"payment-submit",type:"button",buttonType:"submit",template:"Pay",className:"pure-button-primary pure-button"}]}),window.addEventListener("load",function(){document.getElementById("payment-submit").disabled=!0,document.getElementById("payment-form").classList.add("pure-form","pure-form-stacked");let e=document.getElementById("payment-form"),s=ir(void 0,"div",{id:"payment-element"}),l=document.getElementById("stripe-amount");l.setAttribute("autofocus",""),l.addEventListener("keyup",function(){Ta(this)}),l.addEventListener("blur",function(){Ta(this,"blur")}),van.add(e.childNodes[e.childNodes.length-3],ir(void 0,"br")),van.add(e.childNodes[e.childNodes.length-3],s),van.add(e.childNodes[e.childNodes.length-2],r),van.add(e.childNodes[e.childNodes.length-2],ir(void 0,"div",{id:"payment-message"})),X_.mount(s),document.getElementById("payment-form").addEventListener("submit",async p=>{p.preventDefault();let d=document.getElementById("stripe-amount").value,v=document.getElementById("payment-submit"),b=document.getElementById("payment-message"),y=d.indexOf("US$ ");y||++y;let A=d.substring(y*4).split(",").join(""),R=Math.round(parseFloat(A)*100);if(!d){b.textContent="Did not specify amount!";return}let{selectedPaymentMethod:x,error:X}=await bl.submit();if(X){b.textContent=X.message,v.disabled=!1;return}b.textContent="Processing payment...",v.disabled=!0;let{confirmationToken:{id:C},error:M}=await Il.createConfirmationToken({elements:bl,params:{return_url:`${yl}/go/message`}},{idempotencyKey:ip});if(M){b.textContent=M;return}let k={amount:R,confirmation_token:C,payment_method:x,idempotencyKey:op,idempotencyKey1:sp},{data:ie,data:j}=await bs.post(`${yl}/go/create-intent`,k,{headers:{"Content-Type":"application/json"}});j!=="succeeded"&&(ip=Gn(),op=Gn(),sp=Gn()),_a(ie,Il)})}),t}i(Rw,"Payment");})();
