(()=>{var Nh=Object.create;var va=Object.defineProperty;var Fh=Object.getOwnPropertyDescriptor;var xh=Object.getOwnPropertyNames;var Uh=Object.getPrototypeOf,Bh=Object.prototype.hasOwnProperty;var i=(o,n)=>va(o,"name",{value:n,configurable:!0});var bl=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports);var Gh=(o,n,e,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of xh(n))!Bh.call(o,f)&&f!==e&&va(o,f,{get:()=>n[f],enumerable:!(s=Fh(n,f))||s.enumerable});return o};var Al=(o,n,e)=>(e=o!=null?Nh(Uh(o)):{},Gh(n||!o||!o.__esModule?va(e,"default",{value:o,enumerable:!0}):e,o));var nc=bl((to,tc)=>{(function(o,n){typeof to=="object"&&typeof tc<"u"?n(to):typeof define=="function"&&define.amd?define(["exports"],n):(o=o||self,n(o.FilePond={}))})(to,function(o){"use strict";var n=i(function(t){return t instanceof HTMLElement},"isNode"),e=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=Object.assign({},t),c=[],d=[],p=i(function(){return Object.assign({},l)},"getState"),g=i(function(){var L=[].concat(c);return c.length=0,L},"processActionQueue"),v=i(function(){var L=[].concat(d);d.length=0,L.forEach(function(U){var W=U.type,X=U.data;T(W,X)})},"processDispatchQueue"),T=i(function(L,U,W){if(W&&!document.hidden){d.push({type:L,data:U});return}N[L]&&N[L](U),c.push({type:L,data:U})},"dispatch"),y=i(function(L){for(var U,W=arguments.length,X=new Array(W>1?W-1:0),V=1;V<W;V++)X[V-1]=arguments[V];return w[L]?(U=w)[L].apply(U,X):null},"query"),D={getState:p,processActionQueue:g,processDispatchQueue:v,dispatch:T,query:y},w={};r.forEach(function(F){w=Object.assign({},F(l),{},w)});var N={};return a.forEach(function(F){N=Object.assign({},F(T,y,l),{},N)}),D},"createStore"),s=i(function(t,r,a){if(typeof a=="function"){t[r]=a;return}Object.defineProperty(t,r,Object.assign({},a))},"defineProperty"),f=i(function(t,r){for(var a in t)t.hasOwnProperty(a)&&r(a,t[a])},"forin"),m=i(function(t){var r={};return f(t,function(a){s(r,a,t[a])}),r},"createObject"),h=i(function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(a===null)return t.getAttribute(r)||t.hasAttribute(r);t.setAttribute(r,a)},"attr"),I="http://www.w3.org/2000/svg",A=["svg","path"],S=i(function(t){return A.includes(t)},"isSVGElement"),C=i(function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof r=="object"&&(a=r,r=null);var l=S(t)?document.createElementNS(I,t):document.createElement(t);return r&&(S(t)?h(l,"class",r):l.className=r),f(a,function(c,d){h(l,c,d)}),l},"createElement"),P=i(function(t){return function(r,a){typeof a<"u"&&t.children[a]?t.insertBefore(r,t.children[a]):t.appendChild(r)}},"appendChild"),G=i(function(t,r){return function(a,l){return typeof l<"u"?r.splice(l,0,a):r.push(a),a}},"appendChildView"),ae=i(function(t,r){return function(a){return r.splice(r.indexOf(a),1),a.element.parentNode&&t.removeChild(a.element),a}},"removeChildView"),k=function(){return typeof window<"u"&&typeof window.document<"u"}(),j=i(function(){return k},"isBrowser"),he=j()?C("svg"):{},ve="children"in he?function(u){return u.children.length}:function(u){return u.childNodes.length},Q=i(function(t,r,a,l){var c=a[0]||t.left,d=a[1]||t.top,p=c+t.width,g=d+t.height*(l[1]||1),v={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:c,top:d,right:p,bottom:g}};return r.filter(function(T){return!T.isRectIgnored()}).map(function(T){return T.rect}).forEach(function(T){be(v.inner,Object.assign({},T.inner)),be(v.outer,Object.assign({},T.outer))}),Ke(v.inner),v.outer.bottom+=v.element.marginBottom,v.outer.right+=v.element.marginRight,Ke(v.outer),v},"getViewRect"),be=i(function(t,r){r.top+=t.top,r.right+=t.left,r.bottom+=t.top,r.left+=t.left,r.bottom>t.bottom&&(t.bottom=r.bottom),r.right>t.right&&(t.right=r.right)},"expandRect"),Ke=i(function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},"calculateRectSize"),ot=i(function(t){return typeof t=="number"},"isNumber"),at=i(function(t,r,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.001;return Math.abs(t-r)<l&&Math.abs(a)<l},"thereYet"),ce=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiffness,a=r===void 0?.5:r,l=t.damping,c=l===void 0?.75:l,d=t.mass,p=d===void 0?10:d,g=null,v=null,T=0,y=!1,D=i(function(L,U){if(!y){if(!(ot(g)&&ot(v))){y=!0,T=0;return}var W=-(v-g)*a;T+=W/p,v+=T,T*=c,at(v,g,T)||U?(v=g,T=0,y=!0,N.onupdate(v),N.oncomplete(v)):N.onupdate(v)}},"interpolate"),w=i(function(L){if(ot(L)&&!ot(v)&&(v=L),g===null&&(g=L,v=L),g=L,v===g||typeof g>"u"){y=!0,T=0,N.onupdate(v),N.oncomplete(v);return}y=!1},"setTarget"),N=m({interpolate:D,target:{set:w,get:i(function(){return g},"get")},resting:{get:i(function(){return y},"get")},onupdate:i(function(L){},"onupdate"),oncomplete:i(function(L){},"oncomplete")});return N},"spring"),_e=i(function(t){return t},"easeLinear"),fe=i(function(t){return t<.5?2*t*t:-1+(4-2*t)*t},"easeInOutQuad"),Ue=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.duration,a=r===void 0?500:r,l=t.easing,c=l===void 0?fe:l,d=t.delay,p=d===void 0?0:d,g=null,v,T,y=!0,D=!1,w=null,N=i(function(U,W){y||w===null||(g===null&&(g=U),!(U-g<p)&&(v=U-g-p,v>=a||W?(v=1,T=D?0:1,F.onupdate(T*w),F.oncomplete(T*w),y=!0):(T=v/a,F.onupdate((v>=0?c(D?1-T:T):0)*w))))},"interpolate"),F=m({interpolate:N,target:{get:i(function(){return D?0:w},"get"),set:i(function(U){if(w===null){w=U,F.onupdate(U),F.oncomplete(U);return}U<w?(w=1,D=!0):(D=!1,w=U),y=!1,g=null},"set")},resting:{get:i(function(){return y},"get")},onupdate:i(function(U){},"onupdate"),oncomplete:i(function(U){},"oncomplete")});return F},"tween"),Ae={spring:ce,tween:Ue},Pt=i(function(t,r,a){var l=t[r]&&typeof t[r][a]=="object"?t[r][a]:t[r]||t,c=typeof l=="string"?l:l.type,d=typeof l=="object"?Object.assign({},l):{};return Ae[c]?Ae[c](d):null},"createAnimator"),dt=i(function(t,r,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;r=Array.isArray(r)?r:[r],r.forEach(function(c){t.forEach(function(d){var p=d,g=i(function(){return a[d]},"getter"),v=i(function(y){return a[d]=y},"setter");typeof d=="object"&&(p=d.key,g=d.getter||g,v=d.setter||v),!(c[p]&&!l)&&(c[p]={get:g,set:v})})})},"addGetSet"),tr=i(function(t){var r=t.mixinConfig,a=t.viewProps,l=t.viewInternalAPI,c=t.viewExternalAPI,d=Object.assign({},a),p=[];return f(r,function(g,v){var T=Pt(v);if(T){T.onupdate=function(D){a[g]=D},T.target=d[g];var y={key:g,setter:i(function(w){T.target!==w&&(T.target=w)},"setter"),getter:i(function(){return a[g]},"getter")};dt([y],[l,c],a,!0),p.push(T)}}),{write:i(function(v){var T=document.hidden,y=!0;return p.forEach(function(D){D.resting||(y=!1),D.interpolate(v,T)}),y},"write"),destroy:i(function(){},"destroy")}},"animations"),Sn=i(function(t){return function(r,a){t.addEventListener(r,a)}},"addEvent"),Lo=i(function(t){return function(r,a){t.removeEventListener(r,a)}},"removeEvent"),Co=i(function(t){var r=t.mixinConfig,a=t.viewProps,l=t.viewInternalAPI,c=t.viewExternalAPI,d=t.viewState,p=t.view,g=[],v=Sn(p.element),T=Lo(p.element);return c.on=function(y,D){g.push({type:y,fn:D}),v(y,D)},c.off=function(y,D){g.splice(g.findIndex(function(w){return w.type===y&&w.fn===D}),1),T(y,D)},{write:i(function(){return!0},"write"),destroy:i(function(){g.forEach(function(D){T(D.type,D.fn)})},"destroy")}},"listeners"),Qr=i(function(t){var r=t.mixinConfig,a=t.viewProps,l=t.viewExternalAPI;dt(r,l,a)},"apis"),rt=i(function(t){return t!=null},"isDefined"),wo={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},nr=i(function(t){var r=t.mixinConfig,a=t.viewProps,l=t.viewInternalAPI,c=t.viewExternalAPI,d=t.view,p=Object.assign({},a),g={};dt(r,[l,c],a);var v=i(function(){return[a.translateX||0,a.translateY||0]},"getOffset"),T=i(function(){return[a.scaleX||0,a.scaleY||0]},"getScale"),y=i(function(){return d.rect?Q(d.rect,d.childViews,v(),T()):null},"getRect");return l.rect={get:y},c.rect={get:y},r.forEach(function(D){a[D]=typeof p[D]>"u"?wo[D]:p[D]}),{write:i(function(){if(Po(g,a))return Mo(d.element,a),Object.assign(g,Object.assign({},a)),!0},"write"),destroy:i(function(){},"destroy")}},"styles"),Po=i(function(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!0;for(var a in r)if(r[a]!==t[a])return!0;return!1},"propsHaveChanged"),Mo=i(function(t,r){var a=r.opacity,l=r.perspective,c=r.translateX,d=r.translateY,p=r.scaleX,g=r.scaleY,v=r.rotateX,T=r.rotateY,y=r.rotateZ,D=r.originX,w=r.originY,N=r.width,F=r.height,L="",U="";(rt(D)||rt(w))&&(U+="transform-origin: "+(D||0)+"px "+(w||0)+"px;"),rt(l)&&(L+="perspective("+l+"px) "),(rt(c)||rt(d))&&(L+="translate3d("+(c||0)+"px, "+(d||0)+"px, 0) "),(rt(p)||rt(g))&&(L+="scale3d("+(rt(p)?p:1)+", "+(rt(g)?g:1)+", 1) "),rt(y)&&(L+="rotateZ("+y+"rad) "),rt(v)&&(L+="rotateX("+v+"rad) "),rt(T)&&(L+="rotateY("+T+"rad) "),L.length&&(U+="transform:"+L+";"),rt(a)&&(U+="opacity:"+a+";",a===0&&(U+="visibility:hidden;"),a<1&&(U+="pointer-events:none;")),rt(F)&&(U+="height:"+F+"px;"),rt(N)&&(U+="width:"+N+"px;");var W=t.elementCurrentStyle||"";(U.length!==W.length||U!==W)&&(t.style.cssText=U,t.elementCurrentStyle=U)},"applyStyles"),No={styles:nr,listeners:Co,animations:tr,apis:Qr},Xt=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.layoutCalculated||(t.paddingTop=parseInt(a.paddingTop,10)||0,t.marginTop=parseInt(a.marginTop,10)||0,t.marginRight=parseInt(a.marginRight,10)||0,t.marginBottom=parseInt(a.marginBottom,10)||0,t.marginLeft=parseInt(a.marginLeft,10)||0,r.layoutCalculated=!0),t.left=r.offsetLeft||0,t.top=r.offsetTop||0,t.width=r.offsetWidth||0,t.height=r.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=r.scrollTop,t.hidden=r.offsetParent===null,t},"updateRect"),Be=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.tag,a=r===void 0?"div":r,l=t.name,c=l===void 0?null:l,d=t.attributes,p=d===void 0?{}:d,g=t.read,v=g===void 0?function(){}:g,T=t.write,y=T===void 0?function(){}:T,D=t.create,w=D===void 0?function(){}:D,N=t.destroy,F=N===void 0?function(){}:N,L=t.filterFrameActionsForChild,U=L===void 0?function(H,K){return K}:L,W=t.didCreateView,X=W===void 0?function(){}:W,V=t.didWriteView,pe=V===void 0?function(){}:V,Y=t.ignoreRect,Le=Y===void 0?!1:Y,Ce=t.ignoreRectUpdate,q=Ce===void 0?!1:Ce,J=t.mixins,te=J===void 0?[]:J;return function(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=C(a,"filepond--"+c,p),we=window.getComputedStyle(ne,null),Re=Xt(),re=null,x=!1,O=[],$=[],ue={},ge={},Ie=[y],Oe=[v],Ge=[F],qe=i(function(){return ne},"getElement"),kn=i(function(){return O.concat()},"getChildViews"),_l=i(function(){return ue},"getReference"),Sh=i(function(ye){return function(qt,jt){return qt(ye,jt)}},"createChildView"),Tl=i(function(){return re||(re=Q(Re,O,[0,0],[1,1]),re)},"getRect"),Rh=i(function(){return we},"getStyle"),Lh=i(function(){re=null,O.forEach(function(jt){return jt._read()});var ye=!(q&&Re.width&&Re.height);ye&&Xt(Re,ne,we);var qt={root:Jt,props:K,rect:Re};Oe.forEach(function(jt){return jt(qt)})},"_read"),Ch=i(function(ye,qt,jt){var Yn=qt.length===0;return Ie.forEach(function(Et){var vn=Et({props:K,root:Jt,actions:qt,timestamp:ye,shouldOptimize:jt});vn===!1&&(Yn=!1)}),$.forEach(function(Et){var vn=Et.write(ye);vn===!1&&(Yn=!1)}),O.filter(function(Et){return!!Et.element.parentNode}).forEach(function(Et){var vn=Et._write(ye,U(Et,qt),jt);vn||(Yn=!1)}),O.forEach(function(Et,vn){Et.element.parentNode||(Jt.appendChild(Et.element,vn),Et._read(),Et._write(ye,U(Et,qt),jt),Yn=!1)}),x=Yn,pe({props:K,root:Jt,actions:qt,timestamp:ye}),Yn},"_write"),wh=i(function(){$.forEach(function(ye){return ye.destroy()}),Ge.forEach(function(ye){ye({root:Jt,props:K})}),O.forEach(function(ye){return ye._destroy()})},"_destroy"),Il={element:{get:qe},style:{get:Rh},childViews:{get:kn}},yl=Object.assign({},Il,{rect:{get:Tl},ref:{get:_l},is:i(function(ye){return c===ye},"is"),appendChild:P(ne),createChildView:Sh(H),linkView:i(function(ye){return O.push(ye),ye},"linkView"),unlinkView:i(function(ye){O.splice(O.indexOf(ye),1)},"unlinkView"),appendChildView:G(ne,O),removeChildView:ae(ne,O),registerWriter:i(function(ye){return Ie.push(ye)},"registerWriter"),registerReader:i(function(ye){return Oe.push(ye)},"registerReader"),registerDestroyer:i(function(ye){return Ge.push(ye)},"registerDestroyer"),invalidateLayout:i(function(){return ne.layoutCalculated=!1},"invalidateLayout"),dispatch:H.dispatch,query:H.query}),Dl={element:{get:qe},childViews:{get:kn},rect:{get:Tl},resting:{get:i(function(){return x},"get")},isRectIgnored:i(function(){return Le},"isRectIgnored"),_read:Lh,_write:Ch,_destroy:wh},Ph=Object.assign({},Il,{rect:{get:i(function(){return Re},"get")}});Object.keys(te).sort(function(Fe,ye){return Fe==="styles"?1:ye==="styles"?-1:0}).forEach(function(Fe){var ye=No[Fe]({mixinConfig:te[Fe],viewProps:K,viewState:ge,viewInternalAPI:yl,viewExternalAPI:Dl,view:m(Ph)});ye&&$.push(ye)});var Jt=m(yl);w({root:Jt,props:K});var Mh=ve(ne);return O.forEach(function(Fe,ye){Jt.appendChild(Fe.element,Mh+ye)}),X(Jt),m(Dl)}},"createView"),Rn=i(function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:60,l="__framePainter";if(window[l]){window[l].readers.push(t),window[l].writers.push(r);return}window[l]={readers:[t],writers:[r]};var c=window[l],d=1e3/a,p=null,g=null,v=null,T=null,y=i(function(){document.hidden?(v=i(function(){return window.setTimeout(function(){return D(performance.now())},d)},"requestTick"),T=i(function(){return window.clearTimeout(g)},"cancelTick")):(v=i(function(){return window.requestAnimationFrame(D)},"requestTick"),T=i(function(){return window.cancelAnimationFrame(g)},"cancelTick"))},"setTimerType");document.addEventListener("visibilitychange",function(){T&&T(),y(),D(performance.now())});var D=i(function w(N){g=v(w),p||(p=N);var F=N-p;F<=d||(p=N-F%d,c.readers.forEach(function(L){return L()}),c.writers.forEach(function(L){return L(N)}))},"tick");return y(),D(performance.now()),{pause:i(function(){T(g)},"pause")}},"createPainter"),Ye=i(function(t,r){return function(a){var l=a.root,c=a.props,d=a.actions,p=d===void 0?[]:d,g=a.timestamp,v=a.shouldOptimize;p.filter(function(T){return t[T.type]}).forEach(function(T){return t[T.type]({root:l,props:c,action:T.data,timestamp:g,shouldOptimize:v})}),r&&r({root:l,props:c,actions:p,timestamp:g,shouldOptimize:v})}},"createRoute"),ln=i(function(t,r){return r.parentNode.insertBefore(t,r)},"insertBefore"),Jr=i(function(t,r){return r.parentNode.insertBefore(t,r.nextSibling)},"insertAfter"),un=i(function(t){return Array.isArray(t)},"isArray"),pt=i(function(t){return t==null},"isEmpty"),Fo=i(function(t){return t.trim()},"trim"),Ln=i(function(t){return""+t},"toString"),Zr=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return pt(t)?[]:un(t)?t:Ln(t).split(r).map(Fo).filter(function(a){return a.length})},"toArray"),ei=i(function(t){return typeof t=="boolean"},"isBoolean"),rr=i(function(t){return ei(t)?t:t==="true"},"toBoolean"),it=i(function(t){return typeof t=="string"},"isString"),cn=i(function(t){return ot(t)?t:it(t)?Ln(t).replace(/[a-z]+/gi,""):0},"toNumber"),Cn=i(function(t){return parseInt(cn(t),10)},"toInt"),ti=i(function(t){return parseFloat(cn(t))},"toFloat"),kt=i(function(t){return ot(t)&&isFinite(t)&&Math.floor(t)===t},"isInt"),wn=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(kt(t))return t;var a=Ln(t).trim();return/MB$/i.test(a)?(a=a.replace(/MB$i/,"").trim(),Cn(a)*r*r):/KB/i.test(a)?(a=a.replace(/KB$i/,"").trim(),Cn(a)*r):Cn(a)},"toBytes"),Ut=i(function(t){return typeof t=="function"},"isFunction"),Pn=i(function(t){for(var r=self,a=t.split("."),l=null;l=a.shift();)if(r=r[l],!r)return null;return r},"toFunctionReference"),ni={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},ri=i(function(t){var r={};return r.url=it(t)?t:t.url||"",r.timeout=t.timeout?parseInt(t.timeout,10):0,r.headers=t.headers?t.headers:{},f(ni,function(a){r[a]=xo(a,t[a],ni[a],r.timeout,r.headers)}),r.process=t.process||it(t)||t.url?r.process:null,r.remove=t.remove||null,delete r.headers,r},"createServerAPI"),xo=i(function(t,r,a,l,c){if(r===null)return null;if(typeof r=="function")return r;var d={url:a==="GET"||a==="PATCH"?"?"+t+"=":"",method:a,headers:c,withCredentials:!1,timeout:l,onload:null,ondata:null,onerror:null};if(it(r))return d.url=r,d;if(Object.assign(d,r),it(d.headers)){var p=d.headers.split(/:(.+)/);d.headers={header:p[0],value:p[1]}}return d.withCredentials=rr(d.withCredentials),d},"createAction"),ii=i(function(t){return ri(t)},"toServerAPI"),Uo=i(function(t){return t===null},"isNull"),$e=i(function(t){return typeof t=="object"&&t!==null},"isObject"),oi=i(function(t){return $e(t)&&it(t.url)&&$e(t.process)&&$e(t.revert)&&$e(t.restore)&&$e(t.fetch)},"isAPI"),ir=i(function(t){return un(t)?"array":Uo(t)?"null":kt(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":oi(t)?"api":typeof t},"getType"),Bo=i(function(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},"replaceSingleQuotes"),Ne={array:Zr,boolean:rr,int:i(function(t){return ir(t)==="bytes"?wn(t):Cn(t)},"int"),number:ti,float:ti,bytes:wn,string:i(function(t){return Ut(t)?t:Ln(t)},"string"),function:i(function(t){return Pn(t)},"_function"),serverapi:ii,object:i(function(t){try{return JSON.parse(Bo(t))}catch{return null}},"object")},or=i(function(t,r){return Ne[r](t)},"convertTo"),Mn=i(function(t,r,a){if(t===r)return t;var l=ir(t);if(l!==a){var c=or(t,a);if(l=ir(c),c===null)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+a+'"';t=c}return t},"getValueByType"),Go=i(function(t,r){var a=t;return{enumerable:!0,get:i(function(){return a},"get"),set:i(function(c){a=Mn(c,t,r)},"set")}},"createOption"),Nn=i(function(t){var r={};return f(t,function(a){var l=t[a];r[a]=Go(l[0],l[1])}),m(r)},"createOptions"),ar=i(function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Nn(t)}},"createInitialState"),ht=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(a){return a.toLowerCase()}).join(r)},"fromCamels"),Vo=i(function(t,r){var a={};return f(r,function(l){a[l]={get:i(function(){return t.getState().options[l]},"get"),set:i(function(d){t.dispatch("SET_"+ht(l,"_").toUpperCase(),{value:d})},"set")}}),a},"createOptionAPI"),ko=i(function(t){return function(r,a,l){var c={};return f(t,function(d){var p=ht(d,"_").toUpperCase();c["SET_"+p]=function(g){try{l.options[d]=g.value}catch{}r("DID_SET_"+p,{value:l.options[d]})}}),c}},"createOptionActions"),E=i(function(t){return function(r){var a={};return f(t,function(l){a["GET_"+ht(l,"_").toUpperCase()]=function(c){return r.options[l]}}),a}},"createOptionQueries"),_={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},b=i(function(){return Math.random().toString(36).substring(2,11)},"getUniqueId");function R(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=i(function(t){return typeof t},"_typeof"):R=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),R(u)}i(R,"_typeof");var B;function z(u,t,r,a){B||(B=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var l=u&&u.defaultProps,c=arguments.length-3;if(!t&&c!==0&&(t={children:void 0}),t&&l)for(var d in l)t[d]===void 0&&(t[d]=l[d]);else t||(t=l||{});if(c===1)t.children=a;else if(c>1){for(var p=new Array(c),g=0;g<c;g++)p[g]=arguments[g+3];t.children=p}return{$$typeof:B,type:u,key:r===void 0?null:""+r,ref:null,props:t,_owner:null}}i(z,"_jsx");function me(u){var t;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(t=u[Symbol.asyncIterator],t!=null)||Symbol.iterator&&(t=u[Symbol.iterator],t!=null)))return t.call(u);throw new TypeError("Object is not async iterable")}i(me,"_asyncIterator");function Z(u){this.wrapped=u}i(Z,"_AwaitValue");function de(u){var t,r;function a(d,p){return new Promise(function(g,v){var T={key:d,arg:p,resolve:g,reject:v,next:null};r?r=r.next=T:(t=r=T,l(d,p))})}i(a,"send");function l(d,p){try{var g=u[d](p),v=g.value,T=v instanceof Z;Promise.resolve(T?v.wrapped:v).then(function(y){if(T){l("next",y);return}c(g.done?"return":"normal",y)},function(y){l("throw",y)})}catch(y){c("throw",y)}}i(l,"resume");function c(d,p){switch(d){case"return":t.resolve({value:p,done:!0});break;case"throw":t.reject(p);break;default:t.resolve({value:p,done:!1});break}t=t.next,t?l(t.key,t.arg):r=null}i(c,"settle"),this._invoke=a,typeof u.return!="function"&&(this.return=void 0)}i(de,"_AsyncGenerator"),typeof Symbol=="function"&&Symbol.asyncIterator&&(de.prototype[Symbol.asyncIterator]=function(){return this}),de.prototype.next=function(u){return this._invoke("next",u)},de.prototype.throw=function(u){return this._invoke("throw",u)},de.prototype.return=function(u){return this._invoke("return",u)};function ee(u){return function(){return new de(u.apply(this,arguments))}}i(ee,"_wrapAsyncGenerator");function ie(u){return new Z(u)}i(ie,"_awaitAsyncGenerator");function Pe(u,t){var r={},a=!1;function l(c,d){return a=!0,d=new Promise(function(p){p(u[c](d))}),{done:!1,value:t(d)}}return i(l,"pump"),typeof Symbol=="function"&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(c){return a?(a=!1,c):l("next",c)},typeof u.throw=="function"&&(r.throw=function(c){if(a)throw a=!1,c;return l("throw",c)}),typeof u.return=="function"&&(r.return=function(c){return l("return",c)}),r}i(Pe,"_asyncGeneratorDelegate");function yt(u,t,r,a,l,c,d){try{var p=u[c](d),g=p.value}catch(v){r(v);return}p.done?t(g):Promise.resolve(g).then(a,l)}i(yt,"asyncGeneratorStep");function mt(u){return function(){var t=this,r=arguments;return new Promise(function(a,l){var c=u.apply(t,r);function d(g){yt(c,a,l,d,p,"next",g)}i(d,"_next");function p(g){yt(c,a,l,d,p,"throw",g)}i(p,"_throw"),d(void 0)})}}i(mt,"_asyncToGenerator");function Fn(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}i(Fn,"_classCallCheck");function Yt(u,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}i(Yt,"_defineProperties");function Ja(u,t,r){return t&&Yt(u.prototype,t),r&&Yt(u,r),u}i(Ja,"_createClass");function ai(u,t){for(var r in t){var a=t[r];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,r,a)}if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(t),c=0;c<l.length;c++){var d=l[c],a=t[d];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,d,a)}return u}i(ai,"_defineEnumerableProperties");function Za(u,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var l=r[a],c=Object.getOwnPropertyDescriptor(t,l);c&&c.configurable&&u[l]===void 0&&Object.defineProperty(u,l,c)}return u}i(Za,"_defaults");function sr(u,t,r){return t in u?Object.defineProperty(u,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[t]=r,u}i(sr,"_defineProperty");function si(){return si=Object.assign||function(u){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(u[a]=r[a])}return u},si.apply(this,arguments)}i(si,"_extends");function es(u){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),a.forEach(function(l){sr(u,l,r[l])})}return u}i(es,"_objectSpread");function li(u,t){var r=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(u,l).enumerable})),r.push.apply(r,a)}return r}i(li,"ownKeys");function ts(u){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?li(r,!0).forEach(function(a){sr(u,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(r)):li(r).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(r,a))})}return u}i(ts,"_objectSpread2");function Yo(u,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),t&&lr(u,t)}i(Yo,"_inherits");function ns(u,t){u.prototype=Object.create(t.prototype),u.prototype.constructor=u,u.__proto__=t}i(ns,"_inheritsLoose");function ui(u){return ui=Object.setPrototypeOf?Object.getPrototypeOf:i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ui(u)}i(ui,"_getPrototypeOf");function lr(u,t){return lr=Object.setPrototypeOf||i(function(a,l){return a.__proto__=l,a},"_setPrototypeOf"),lr(u,t)}i(lr,"_setPrototypeOf");function zc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}i(zc,"isNativeReflectConstruct");function ci(u,t,r){return zc()?ci=Reflect.construct:ci=i(function(l,c,d){var p=[null];p.push.apply(p,c);var g=Function.bind.apply(l,p),v=new g;return d&&lr(v,d.prototype),v},"_construct"),ci.apply(null,arguments)}i(ci,"_construct");function Wc(u){return Function.toString.call(u).indexOf("[native code]")!==-1}i(Wc,"_isNativeFunction");function Ho(u){var t=typeof Map=="function"?new Map:void 0;return Ho=i(function(a){if(a===null||!Wc(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(a))return t.get(a);t.set(a,l)}function l(){return ci(a,arguments,ui(this).constructor)}return i(l,"Wrapper"),l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),lr(l,a)},"_wrapNativeSuper"),Ho(u)}i(Ho,"_wrapNativeSuper");function _g(u,t){return t!=null&&typeof Symbol<"u"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](u):u instanceof t}i(_g,"_instanceof");function Tg(u){return u&&u.__esModule?u:{default:u}}i(Tg,"_interopRequireDefault");function Ig(u){if(u&&u.__esModule)return u;var t={};if(u!=null){for(var r in u)if(Object.prototype.hasOwnProperty.call(u,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(u,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=u[r]}}return t.default=u,t}i(Ig,"_interopRequireWildcard");function yg(u,t){if(u!==t)throw new TypeError("Cannot instantiate an arrow function")}i(yg,"_newArrowCheck");function Dg(u){if(u==null)throw new TypeError("Cannot destructure undefined")}i(Dg,"_objectDestructuringEmpty");function Kc(u,t){if(u==null)return{};var r={},a=Object.keys(u),l,c;for(c=0;c<a.length;c++)l=a[c],!(t.indexOf(l)>=0)&&(r[l]=u[l]);return r}i(Kc,"_objectWithoutPropertiesLoose");function $c(u,t){if(u==null)return{};var r=Kc(u,t),a,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);for(l=0;l<c.length;l++)a=c[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(u,a)&&(r[a]=u[a])}return r}i($c,"_objectWithoutProperties");function Xc(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}i(Xc,"_assertThisInitialized");function bg(u,t){return t&&(typeof t=="object"||typeof t=="function")?t:Xc(u)}i(bg,"_possibleConstructorReturn");function rs(u,t){for(;!Object.prototype.hasOwnProperty.call(u,t)&&(u=ui(u),u!==null););return u}i(rs,"_superPropBase");function qo(u,t,r){return typeof Reflect<"u"&&Reflect.get?qo=Reflect.get:qo=i(function(l,c,d){var p=rs(l,c);if(p){var g=Object.getOwnPropertyDescriptor(p,c);return g.get?g.get.call(d):g.value}},"_get"),qo(u,t,r||u)}i(qo,"_get");function fi(u,t,r,a){return typeof Reflect<"u"&&Reflect.set?fi=Reflect.set:fi=i(function(c,d,p,g){var v=rs(c,d),T;if(v){if(T=Object.getOwnPropertyDescriptor(v,d),T.set)return T.set.call(g,p),!0;if(!T.writable)return!1}if(T=Object.getOwnPropertyDescriptor(g,d),T){if(!T.writable)return!1;T.value=p,Object.defineProperty(g,d,T)}else sr(g,d,p);return!0},"set"),fi(u,t,r,a)}i(fi,"set");function Ag(u,t,r,a,l){var c=fi(u,t,r,a||u);if(!c&&l)throw new Error("failed to set property");return r}i(Ag,"_set");function Og(u,t){return t||(t=u.slice(0)),Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(t)}}))}i(Og,"_taggedTemplateLiteral");function Sg(u,t){return t||(t=u.slice(0)),u.raw=t,u}i(Sg,"_taggedTemplateLiteralLoose");function Rg(u,t){if(u===Qc)throw new ReferenceError(t+" is not defined - temporal dead zone");return u}i(Rg,"_temporalRef");function Lg(u){throw new Error('"'+u+'" is read-only')}i(Lg,"_readOnlyError");function Cg(u){throw new Error('Class "'+u+'" cannot be referenced in computed property keys.')}i(Cg,"_classNameTDZError");var Qc={};function wg(u,t){return jo(u)||ef(u,t)||zo()}i(wg,"_slicedToArray");function Pg(u,t){return jo(u)||tf(u,t)||zo()}i(Pg,"_slicedToArrayLoose");function Jc(u){return jo(u)||is(u)||zo()}i(Jc,"_toArray");function di(u){return Zc(u)||is(u)||nf()}i(di,"_toConsumableArray");function Zc(u){if(Array.isArray(u)){for(var t=0,r=new Array(u.length);t<u.length;t++)r[t]=u[t];return r}}i(Zc,"_arrayWithoutHoles");function jo(u){if(Array.isArray(u))return u}i(jo,"_arrayWithHoles");function is(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}i(is,"_iterableToArray");function ef(u,t){var r=[],a=!0,l=!1,c=void 0;try{for(var d=u[Symbol.iterator](),p;!(a=(p=d.next()).done)&&(r.push(p.value),!(t&&r.length===t));a=!0);}catch(g){l=!0,c=g}finally{try{!a&&d.return!=null&&d.return()}finally{if(l)throw c}}return r}i(ef,"_iterableToArrayLimit");function tf(u,t){for(var r=[],a=u[Symbol.iterator](),l;!(l=a.next()).done&&(r.push(l.value),!(t&&r.length===t)););return r}i(tf,"_iterableToArrayLimitLoose");function nf(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i(nf,"_nonIterableSpread");function zo(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i(zo,"_nonIterableRest");function Mg(u){return function(){var t=u.apply(this,arguments);return t.next(),t}}i(Mg,"_skipFirstGeneratorNext");function rf(u,t){if(typeof u!="object"||u===null)return u;var r=u[Symbol.toPrimitive];if(r!==void 0){var a=r.call(u,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(u)}i(rf,"_toPrimitive");function os(u){var t=rf(u,"string");return typeof t=="symbol"?t:String(t)}i(os,"_toPropertyKey");function Ng(u,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}i(Ng,"_initializerWarningHelper");function Fg(u,t,r,a){r&&Object.defineProperty(u,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}i(Fg,"_initializerDefineProperty");function xg(u,t,r,a,l){var c={};return Object.keys(a).forEach(function(d){c[d]=a[d]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=r.slice().reverse().reduce(function(d,p){return p(u,t,d)||d},c),l&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(u,t,c),c=null),c}i(xg,"_applyDecoratedDescriptor");var of=0;function Ug(u){return"__private_"+of+++"_"+u}i(Ug,"_classPrivateFieldLooseKey");function Bg(u,t){if(!Object.prototype.hasOwnProperty.call(u,t))throw new TypeError("attempted to use private field on non-instance");return u}i(Bg,"_classPrivateFieldLooseBase");function Gg(u,t){var r=t.get(u);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(u):r.value}i(Gg,"_classPrivateFieldGet");function Vg(u,t,r){var a=t.get(u);if(!a)throw new TypeError("attempted to set private field on non-instance");if(a.set)a.set.call(u,r);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=r}return r}i(Vg,"_classPrivateFieldSet");function kg(u,t){if(!t.has(u))throw new TypeError("attempted to set private field on non-instance");var r=t.get(u);if(r.set)return"__destrObj"in r||(r.__destrObj={set value(a){r.set.call(u,a)}}),r.__destrObj;if(!r.writable)throw new TypeError("attempted to set read only private field");return r}i(kg,"_classPrivateFieldDestructureSet");function Yg(u,t,r){if(u!==t)throw new TypeError("Private static access of wrong provenance");return r.value}i(Yg,"_classStaticPrivateFieldSpecGet");function Hg(u,t,r,a){if(u!==t)throw new TypeError("Private static access of wrong provenance");if(!r.writable)throw new TypeError("attempted to set read only private field");return r.value=a,a}i(Hg,"_classStaticPrivateFieldSpecSet");function qg(u,t,r){if(u!==t)throw new TypeError("Private static access of wrong provenance");return r}i(qg,"_classStaticPrivateMethodGet");function jg(){throw new TypeError("attempted to set read only static private field")}i(jg,"_classStaticPrivateMethodSet");function zg(u,t,r,a){var l=as();if(a)for(var c=0;c<a.length;c++)l=a[c](l);var d=t(i(function(v){l.initializeInstanceElements(v,p.elements)},"initialize"),r),p=l.decorateClass(lf(d.d.map(af)),u);return l.initializeClassElements(d.F,p.elements),l.runClassFinishers(d.F,p.finishers)}i(zg,"_decorate");function as(){as=i(function(){return u},"_getDecoratorsApi");var u={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:i(function(t,r){["method","field"].forEach(function(a){r.forEach(function(l){l.kind===a&&l.placement==="own"&&this.defineClassElement(t,l)},this)},this)},"initializeInstanceElements"),initializeClassElements:i(function(t,r){var a=t.prototype;["method","field"].forEach(function(l){r.forEach(function(c){var d=c.placement;if(c.kind===l&&(d==="static"||d==="prototype")){var p=d==="static"?t:a;this.defineClassElement(p,c)}},this)},this)},"initializeClassElements"),defineClassElement:i(function(t,r){var a=r.descriptor;if(r.kind==="field"){var l=r.initializer;a={enumerable:a.enumerable,writable:a.writable,configurable:a.configurable,value:l===void 0?void 0:l.call(t)}}Object.defineProperty(t,r.key,a)},"defineClassElement"),decorateClass:i(function(t,r){var a=[],l=[],c={static:[],prototype:[],own:[]};if(t.forEach(function(p){this.addElementPlacement(p,c)},this),t.forEach(function(p){if(!ur(p))return a.push(p);var g=this.decorateElement(p,c);a.push(g.element),a.push.apply(a,g.extras),l.push.apply(l,g.finishers)},this),!r)return{elements:a,finishers:l};var d=this.decorateConstructor(a,r);return l.push.apply(l,d.finishers),d.finishers=l,d},"decorateClass"),addElementPlacement:i(function(t,r,a){var l=r[t.placement];if(!a&&l.indexOf(t.key)!==-1)throw new TypeError("Duplicated element ("+t.key+")");l.push(t.key)},"addElementPlacement"),decorateElement:i(function(t,r){for(var a=[],l=[],c=t.decorators,d=c.length-1;d>=0;d--){var p=r[t.placement];p.splice(p.indexOf(t.key),1);var g=this.fromElementDescriptor(t),v=this.toElementFinisherExtras((0,c[d])(g)||g);t=v.element,this.addElementPlacement(t,r),v.finisher&&l.push(v.finisher);var T=v.extras;if(T){for(var y=0;y<T.length;y++)this.addElementPlacement(T[y],r);a.push.apply(a,T)}}return{element:t,finishers:l,extras:a}},"decorateElement"),decorateConstructor:i(function(t,r){for(var a=[],l=r.length-1;l>=0;l--){var c=this.fromClassDescriptor(t),d=this.toClassDescriptor((0,r[l])(c)||c);if(d.finisher!==void 0&&a.push(d.finisher),d.elements!==void 0){t=d.elements;for(var p=0;p<t.length-1;p++)for(var g=p+1;g<t.length;g++)if(t[p].key===t[g].key&&t[p].placement===t[g].placement)throw new TypeError("Duplicated element ("+t[p].key+")")}}return{elements:t,finishers:a}},"decorateConstructor"),fromElementDescriptor:i(function(t){var r={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor},a={value:"Descriptor",configurable:!0};return Object.defineProperty(r,Symbol.toStringTag,a),t.kind==="field"&&(r.initializer=t.initializer),r},"fromElementDescriptor"),toElementDescriptors:i(function(t){if(t!==void 0)return Jc(t).map(function(r){var a=this.toElementDescriptor(r);return this.disallowProperty(r,"finisher","An element descriptor"),this.disallowProperty(r,"extras","An element descriptor"),a},this)},"toElementDescriptors"),toElementDescriptor:i(function(t){var r=String(t.kind);if(r!=="method"&&r!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+r+'"');var a=os(t.key),l=String(t.placement);if(l!=="static"&&l!=="prototype"&&l!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+l+'"');var c=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var d={kind:r,key:a,placement:l,descriptor:Object.assign({},c)};return r!=="field"?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(c,"get","The property descriptor of a field descriptor"),this.disallowProperty(c,"set","The property descriptor of a field descriptor"),this.disallowProperty(c,"value","The property descriptor of a field descriptor"),d.initializer=t.initializer),d},"toElementDescriptor"),toElementFinisherExtras:i(function(t){var r=this.toElementDescriptor(t),a=ls(t,"finisher"),l=this.toElementDescriptors(t.extras);return{element:r,finisher:a,extras:l}},"toElementFinisherExtras"),fromClassDescriptor:i(function(t){var r={kind:"class",elements:t.map(this.fromElementDescriptor,this)},a={value:"Descriptor",configurable:!0};return Object.defineProperty(r,Symbol.toStringTag,a),r},"fromClassDescriptor"),toClassDescriptor:i(function(t){var r=String(t.kind);if(r!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+r+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var a=ls(t,"finisher"),l=this.toElementDescriptors(t.elements);return{elements:l,finisher:a}},"toClassDescriptor"),runClassFinishers:i(function(t,r){for(var a=0;a<r.length;a++){var l=(0,r[a])(t);if(l!==void 0){if(typeof l!="function")throw new TypeError("Finishers must return a constructor.");t=l}}return t},"runClassFinishers"),disallowProperty:i(function(t,r,a){if(t[r]!==void 0)throw new TypeError(a+" can't have a ."+r+" property.")},"disallowProperty")};return u}i(as,"_getDecoratorsApi");function af(u){var t=os(u.key),r;u.kind==="method"?r={value:u.value,writable:!0,configurable:!0,enumerable:!1}:u.kind==="get"?r={get:u.value,configurable:!0,enumerable:!1}:u.kind==="set"?r={set:u.value,configurable:!0,enumerable:!1}:u.kind==="field"&&(r={configurable:!0,writable:!0,enumerable:!0});var a={kind:u.kind==="field"?"field":"method",key:t,placement:u.static?"static":u.kind==="field"?"own":"prototype",descriptor:r};return u.decorators&&(a.decorators=u.decorators),u.kind==="field"&&(a.initializer=u.value),a}i(af,"_createElementDescriptor");function sf(u,t){u.descriptor.get!==void 0?t.descriptor.get=u.descriptor.get:t.descriptor.set=u.descriptor.set}i(sf,"_coalesceGetterSetter");function lf(u){for(var t=[],r=i(function(d){return d.kind==="method"&&d.key===l.key&&d.placement===l.placement},"isSameElement"),a=0;a<u.length;a++){var l=u[a],c;if(l.kind==="method"&&(c=t.find(r)))if(ss(l.descriptor)||ss(c.descriptor)){if(ur(l)||ur(c))throw new ReferenceError("Duplicated methods ("+l.key+") can't be decorated.");c.descriptor=l.descriptor}else{if(ur(l)){if(ur(c))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+l.key+").");c.decorators=l.decorators}sf(l,c)}else t.push(l)}return t}i(lf,"_coalesceClassElements");function ur(u){return u.decorators&&u.decorators.length}i(ur,"_hasDecorators");function ss(u){return u!==void 0&&!(u.value===void 0&&u.writable===void 0)}i(ss,"_isDataDescriptor");function ls(u,t){var r=u[t];if(r!==void 0&&typeof r!="function")throw new TypeError("Expected '"+t+"' to be a function");return r}i(ls,"_optionalCallableProperty");function Wg(u,t,r){if(!t.has(u))throw new TypeError("attempted to get private field on non-instance");return r}i(Wg,"_classPrivateMethodGet");function Kg(){throw new TypeError("attempted to reassign private method")}i(Kg,"_classPrivateMethodSet");function us(u,t){us=i(function(p,g){return new c(p,g)},"_wrapRegExp");var r=Ho(RegExp),a=RegExp.prototype,l=new WeakMap;function c(p,g){var v=r.call(this,p);return l.set(v,g),v}i(c,"BabelRegExp"),Yo(c,r),c.prototype.exec=function(p){var g=a.exec.call(this,p);return g&&(g.groups=d(g,this)),g},c.prototype[Symbol.replace]=function(p,g){if(typeof g=="string"){var v=l.get(this);return a[Symbol.replace].call(this,p,g.replace(/\$<([^>]+)>/g,function(y,D){return"$"+v[D]}))}else if(typeof g=="function"){var T=this;return a[Symbol.replace].call(this,p,function(){var y=[];return y.push.apply(y,arguments),typeof y[y.length-1]!="object"&&y.push(d(y,T)),g.apply(this,y)})}else return a[Symbol.replace].call(this,p,g)};function d(p,g){var v=l.get(g);return Object.keys(v).reduce(function(T,y){return T[y]=p[v[y]],T},Object.create(null))}return i(d,"buildGroups"),us.apply(this,arguments)}i(us,"_wrapRegExp");var Wo=i(function(t,r){return t.splice(r,1)},"arrayRemove"),uf=i(function(t,r){r?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},"run"),pi=i(function(){var t=[],r=i(function(c,d){Wo(t,t.findIndex(function(p){return p.event===c&&(p.cb===d||!d)}))},"off"),a=i(function(c,d,p){t.filter(function(g){return g.event===c}).map(function(g){return g.cb}).forEach(function(g){return uf(function(){return g.apply(void 0,di(d))},p)})},"fire");return{fireSync:i(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];a(c,p,!0)},"fireSync"),fire:i(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];a(c,p,!1)},"fire"),on:i(function(c,d){t.push({event:c,cb:d})},"on"),onOnce:i(function(c,d){t.push({event:c,cb:i(function(){r(c,d),d.apply(void 0,arguments)},"cb")})},"onOnce"),off:r}},"on"),cs=i(function(t,r,a){Object.getOwnPropertyNames(t).filter(function(l){return!a.includes(l)}).forEach(function(l){return Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(t,l))})},"copyObjectPropertiesToObject"),cf=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],gt=i(function(t){var r={};return cs(t,r,cf),r},"createItemAPI"),ff=i(function(t){t.forEach(function(r,a){r.released&&Wo(t,a)})},"removeReleasedItems"),le={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},et={INPUT:1,LIMBO:2,LOCAL:3},fs=i(function(t){return/[^0-9]+/.exec(t)},"getNonNumeric"),ds=i(function(){return fs(1.1.toLocaleString())[0]},"getDecimalSeparator"),df=i(function(){var t=ds(),r=1e3.toLocaleString(),a="1000";return r!==a?fs(r)[0]:t==="."?",":"."},"getThousandsSeparator"),M={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Ko=[],Mt=i(function(t,r,a){return new Promise(function(l,c){var d=Ko.filter(function(g){return g.key===t}).map(function(g){return g.cb});if(d.length===0){l(r);return}var p=d.shift();d.reduce(function(g,v){return g.then(function(T){return v(T,a)})},p(r,a)).then(function(g){return l(g)}).catch(function(g){return c(g)})})},"applyFilterChain"),fn=i(function(t,r,a){return Ko.filter(function(l){return l.key===t}).map(function(l){return l.cb(r,a)})},"applyFilters"),pf=i(function(t,r){return Ko.push({key:t,cb:r})},"addFilter"),hf=i(function(t){return Object.assign(xn,t)},"extendDefaultOptions"),hi=i(function(){return Object.assign({},xn)},"getOptions"),mf=i(function(t){f(t,function(r,a){xn[r]&&(xn[r][0]=Mn(a,xn[r][0],xn[r][1]))})},"setOptions"),xn={id:[null,M.STRING],name:["filepond",M.STRING],disabled:[!1,M.BOOLEAN],className:[null,M.STRING],required:[!1,M.BOOLEAN],captureMethod:[null,M.STRING],allowSyncAcceptAttribute:[!0,M.BOOLEAN],allowDrop:[!0,M.BOOLEAN],allowBrowse:[!0,M.BOOLEAN],allowPaste:[!0,M.BOOLEAN],allowMultiple:[!1,M.BOOLEAN],allowReplace:[!0,M.BOOLEAN],allowRevert:[!0,M.BOOLEAN],allowRemove:[!0,M.BOOLEAN],allowProcess:[!0,M.BOOLEAN],allowReorder:[!1,M.BOOLEAN],allowDirectoriesOnly:[!1,M.BOOLEAN],storeAsFile:[!1,M.BOOLEAN],forceRevert:[!1,M.BOOLEAN],maxFiles:[null,M.INT],checkValidity:[!1,M.BOOLEAN],itemInsertLocationFreedom:[!0,M.BOOLEAN],itemInsertLocation:["before",M.STRING],itemInsertInterval:[75,M.INT],dropOnPage:[!1,M.BOOLEAN],dropOnElement:[!0,M.BOOLEAN],dropValidation:[!1,M.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],M.ARRAY],instantUpload:[!0,M.BOOLEAN],maxParallelUploads:[2,M.INT],allowMinimumUploadDuration:[!0,M.BOOLEAN],chunkUploads:[!1,M.BOOLEAN],chunkForce:[!1,M.BOOLEAN],chunkSize:[5e6,M.INT],chunkRetryDelays:[[500,1e3,3e3],M.ARRAY],server:[null,M.SERVER_API],fileSizeBase:[1e3,M.INT],labelFileSizeBytes:["bytes",M.STRING],labelFileSizeKilobytes:["KB",M.STRING],labelFileSizeMegabytes:["MB",M.STRING],labelFileSizeGigabytes:["GB",M.STRING],labelDecimalSeparator:[ds(),M.STRING],labelThousandsSeparator:[df(),M.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',M.STRING],labelInvalidField:["Field contains invalid files",M.STRING],labelFileWaitingForSize:["Waiting for size",M.STRING],labelFileSizeNotAvailable:["Size not available",M.STRING],labelFileCountSingular:["file in list",M.STRING],labelFileCountPlural:["files in list",M.STRING],labelFileLoading:["Loading",M.STRING],labelFileAdded:["Added",M.STRING],labelFileLoadError:["Error during load",M.STRING],labelFileRemoved:["Removed",M.STRING],labelFileRemoveError:["Error during remove",M.STRING],labelFileProcessing:["Uploading",M.STRING],labelFileProcessingComplete:["Upload complete",M.STRING],labelFileProcessingAborted:["Upload cancelled",M.STRING],labelFileProcessingError:["Error during upload",M.STRING],labelFileProcessingRevertError:["Error during revert",M.STRING],labelTapToCancel:["tap to cancel",M.STRING],labelTapToRetry:["tap to retry",M.STRING],labelTapToUndo:["tap to undo",M.STRING],labelButtonRemoveItem:["Remove",M.STRING],labelButtonAbortItemLoad:["Abort",M.STRING],labelButtonRetryItemLoad:["Retry",M.STRING],labelButtonAbortItemProcessing:["Cancel",M.STRING],labelButtonUndoItemProcessing:["Undo",M.STRING],labelButtonRetryItemProcessing:["Retry",M.STRING],labelButtonProcessItem:["Upload",M.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',M.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',M.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',M.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',M.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',M.STRING],oninit:[null,M.FUNCTION],onwarning:[null,M.FUNCTION],onerror:[null,M.FUNCTION],onactivatefile:[null,M.FUNCTION],oninitfile:[null,M.FUNCTION],onaddfilestart:[null,M.FUNCTION],onaddfileprogress:[null,M.FUNCTION],onaddfile:[null,M.FUNCTION],onprocessfilestart:[null,M.FUNCTION],onprocessfileprogress:[null,M.FUNCTION],onprocessfileabort:[null,M.FUNCTION],onprocessfilerevert:[null,M.FUNCTION],onprocessfile:[null,M.FUNCTION],onprocessfiles:[null,M.FUNCTION],onremovefile:[null,M.FUNCTION],onpreparefile:[null,M.FUNCTION],onupdatefiles:[null,M.FUNCTION],onreorderfiles:[null,M.FUNCTION],beforeDropFile:[null,M.FUNCTION],beforeAddFile:[null,M.FUNCTION],beforeRemoveFile:[null,M.FUNCTION],beforePrepareFile:[null,M.FUNCTION],stylePanelLayout:[null,M.STRING],stylePanelAspectRatio:[null,M.STRING],styleItemPanelAspectRatio:[null,M.STRING],styleButtonRemoveItemPosition:["left",M.STRING],styleButtonProcessItemPosition:["right",M.STRING],styleLoadIndicatorPosition:["right",M.STRING],styleProgressIndicatorPosition:["right",M.STRING],styleButtonRemoveItemAlign:[!1,M.BOOLEAN],files:[[],M.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],M.ARRAY]},dn=i(function(t,r){return pt(r)?t[0]||null:kt(r)?t[r]||null:(typeof r=="object"&&(r=r.id),t.find(function(a){return a.id===r})||null)},"getItemByQuery"),ps=i(function(t){if(pt(t))return t;if(/:/.test(t)){var r=t.split(":");return r[1]/r[0]}return parseFloat(t)},"getNumericAspectRatioFromString"),Nt=i(function(t){return t.filter(function(r){return!r.archived})},"getActiveItems"),Un={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},mi=null,gf=i(function(){if(mi===null)try{var t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));var r=document.createElement("input");r.setAttribute("type","file"),r.files=t.files,mi=r.files.length===1}catch{mi=!1}return mi},"canUpdateFileInput"),Ef=[le.LOAD_ERROR,le.PROCESSING_ERROR,le.PROCESSING_REVERT_ERROR],vf=[le.LOADING,le.PROCESSING,le.PROCESSING_QUEUED,le.INIT],_f=[le.PROCESSING_COMPLETE],Tf=i(function(t){return Ef.includes(t.status)},"isItemInErrorState"),If=i(function(t){return vf.includes(t.status)},"isItemInBusyState"),yf=i(function(t){return _f.includes(t.status)},"isItemInReadyState"),hs=i(function(t){return $e(t.options.server)&&($e(t.options.server.process)||Ut(t.options.server.process))},"isAsync"),Df=i(function(t){return{GET_STATUS:i(function(){var a=Nt(t.items),l=Un.EMPTY,c=Un.ERROR,d=Un.BUSY,p=Un.IDLE,g=Un.READY;return a.length===0?l:a.some(Tf)?c:a.some(If)?d:a.some(yf)?g:p},"GET_STATUS"),GET_ITEM:i(function(a){return dn(t.items,a)},"GET_ITEM"),GET_ACTIVE_ITEM:i(function(a){return dn(Nt(t.items),a)},"GET_ACTIVE_ITEM"),GET_ACTIVE_ITEMS:i(function(){return Nt(t.items)},"GET_ACTIVE_ITEMS"),GET_ITEMS:i(function(){return t.items},"GET_ITEMS"),GET_ITEM_NAME:i(function(a){var l=dn(t.items,a);return l?l.filename:null},"GET_ITEM_NAME"),GET_ITEM_SIZE:i(function(a){var l=dn(t.items,a);return l?l.fileSize:null},"GET_ITEM_SIZE"),GET_STYLES:i(function(){return Object.keys(t.options).filter(function(a){return/^style/.test(a)}).map(function(a){return{name:a,value:t.options[a]}})},"GET_STYLES"),GET_PANEL_ASPECT_RATIO:i(function(){var a=/circle/.test(t.options.stylePanelLayout),l=a?1:ps(t.options.stylePanelAspectRatio);return l},"GET_PANEL_ASPECT_RATIO"),GET_ITEM_PANEL_ASPECT_RATIO:i(function(){return t.options.styleItemPanelAspectRatio},"GET_ITEM_PANEL_ASPECT_RATIO"),GET_ITEMS_BY_STATUS:i(function(a){return Nt(t.items).filter(function(l){return l.status===a})},"GET_ITEMS_BY_STATUS"),GET_TOTAL_ITEMS:i(function(){return Nt(t.items).length},"GET_TOTAL_ITEMS"),SHOULD_UPDATE_FILE_INPUT:i(function(){return t.options.storeAsFile&&gf()&&!hs(t)},"SHOULD_UPDATE_FILE_INPUT"),IS_ASYNC:i(function(){return hs(t)},"IS_ASYNC"),GET_FILE_SIZE_LABELS:i(function(a){return{labelBytes:a("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:a("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:a("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:a("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}},"GET_FILE_SIZE_LABELS")}},"queries"),bf=i(function(t){var r=Nt(t.items).length;if(!t.options.allowMultiple)return r===0;var a=t.options.maxFiles;return a===null||r<a},"hasRoomForItem"),ms=i(function(t,r,a){return Math.max(Math.min(a,t),r)},"limit"),Af=i(function(t,r,a){return t.splice(r,0,a)},"arrayInsert"),Of=i(function(t,r,a){return pt(r)?null:typeof a>"u"?(t.push(r),r):(a=ms(a,0,t.length),Af(t,a,r),r)},"insertItem"),$o=i(function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},"isBase64DataURI"),cr=i(function(t){return(""+t).split("/").pop().split("?").shift()},"getFilenameFromURL"),gi=i(function(t){return t.split(".").pop()},"getExtensionFromFilename"),Sf=i(function(t){if(typeof t!="string")return"";var r=t.split("/").pop();return/svg/.test(r)?"svg":/zip|compressed/.test(r)?"zip":/plain/.test(r)?"txt":/msword/.test(r)?"doc":/[a-z]+/.test(r)?r==="jpeg"?"jpg":r:""},"guesstimateExtension"),fr=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(r+t).slice(-r.length)},"leftPad"),gs=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return t.getFullYear()+"-"+fr(t.getMonth()+1,"00")+"-"+fr(t.getDate(),"00")+"_"+fr(t.getHours(),"00")+"-"+fr(t.getMinutes(),"00")+"-"+fr(t.getSeconds(),"00")},"getDateString"),Bn=i(function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,c=typeof a=="string"?t.slice(0,t.size,a):t.slice(0,t.size,t.type);return c.lastModifiedDate=new Date,t._relativePath&&(c._relativePath=t._relativePath),it(r)||(r=gs()),r&&l===null&&gi(r)?c.name=r:(l=l||Sf(c.type),c.name=r+(l?"."+l:"")),c},"getFileFromBlob"),Rf=i(function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},"getBlobBuilder"),Es=i(function(t,r){var a=Rf();if(a){var l=new a;return l.append(t),l.getBlob(r)}return new Blob([t],{type:r})},"createBlob"),Lf=i(function(t,r){for(var a=new ArrayBuffer(t.length),l=new Uint8Array(a),c=0;c<t.length;c++)l[c]=t.charCodeAt(c);return Es(a,r)},"getBlobFromByteStringWithMimeType"),vs=i(function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},"getMimeTypeFromBase64DataURI"),Cf=i(function(t){var r=t.split(",")[1];return r.replace(/\s/g,"")},"getBase64DataFromBase64DataURI"),wf=i(function(t){return atob(Cf(t))},"getByteStringFromBase64DataURI"),Pf=i(function(t){var r=vs(t),a=wf(t);return Lf(a,r)},"getBlobFromBase64DataURI"),Mf=i(function(t,r,a){return Bn(Pf(t),r,null,a)},"getFileFromBase64DataURI"),Nf=i(function(t){if(!/^content-disposition:/i.test(t))return null;var r=t.split(/filename=|filename\*=.+''/).splice(1).map(function(a){return a.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(a){return a.length});return r.length?decodeURI(r[r.length-1]):null},"getFileNameFromHeader"),Ff=i(function(t){if(/content-length:/i.test(t)){var r=t.match(/[0-9]+/)[0];return r?parseInt(r,10):null}return null},"getFileSizeFromHeader"),xf=i(function(t){if(/x-content-transfer-id:/i.test(t)){var r=(t.split(":")[1]||"").trim();return r||null}return null},"getTranfserIdFromHeader"),Xo=i(function(t){var r={source:null,name:null,size:null},a=t.split(`
`),l=!0,c=!1,d=void 0;try{for(var p=a[Symbol.iterator](),g;!(l=(g=p.next()).done);l=!0){var v=g.value,T=Nf(v);if(T){r.name=T;continue}var y=Ff(v);if(y){r.size=y;continue}var D=xf(v);if(D){r.source=D;continue}}}catch(w){c=!0,d=w}finally{try{!l&&p.return!=null&&p.return()}finally{if(c)throw d}}return r},"getFileInfoFromHeaders"),Uf=i(function(t){var r={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},a=i(function(){return r.progress},"getProgress"),l=i(function(){r.request&&r.request.abort&&r.request.abort()},"abort"),c=i(function(){var v=r.source;p.fire("init",v),v instanceof File?p.fire("load",v):v instanceof Blob?p.fire("load",Bn(v,v.name)):$o(v)?p.fire("load",Mf(v)):d(v)},"load"),d=i(function(v){if(!t){p.fire("error",{type:"error",body:"Can't load URL",code:400});return}r.timestamp=Date.now(),r.request=t(v,function(T){r.duration=Date.now()-r.timestamp,r.complete=!0,T instanceof Blob&&(T=Bn(T,T.name||cr(v))),p.fire("load",T instanceof Blob?T:T?T.body:null)},function(T){p.fire("error",typeof T=="string"?{type:"error",code:0,body:T}:T)},function(T,y,D){if(D&&(r.size=D),r.duration=Date.now()-r.timestamp,!T){r.progress=null;return}r.progress=y/D,p.fire("progress",r.progress)},function(){p.fire("abort")},function(T){var y=Xo(typeof T=="string"?T:T.headers);p.fire("meta",{size:r.size||y.size,filename:y.name,source:y.source})})},"loadURL"),p=Object.assign({},pi(),{setSource:i(function(v){return r.source=v},"setSource"),getProgress:a,abort:l,load:c});return p},"createFileLoader"),_s=i(function(t){return/GET|HEAD/.test(t)},"isGet"),pn=i(function(t,r,a){var l={onheaders:i(function(){},"onheaders"),onprogress:i(function(){},"onprogress"),onload:i(function(){},"onload"),ontimeout:i(function(){},"ontimeout"),onerror:i(function(){},"onerror"),onabort:i(function(){},"onabort"),abort:i(function(){c=!0,p.abort()},"abort")},c=!1,d=!1;a=Object.assign({method:"POST",headers:{},withCredentials:!1},a),r=encodeURI(r),_s(a.method)&&t&&(r=""+r+encodeURIComponent(typeof t=="string"?t:JSON.stringify(t)));var p=new XMLHttpRequest,g=_s(a.method)?p:p.upload;return g.onprogress=function(v){c||l.onprogress(v.lengthComputable,v.loaded,v.total)},p.onreadystatechange=function(){p.readyState<2||p.readyState===4&&p.status===0||d||(d=!0,l.onheaders(p))},p.onload=function(){p.status>=200&&p.status<300?l.onload(p):l.onerror(p)},p.onerror=function(){return l.onerror(p)},p.onabort=function(){c=!0,l.onabort()},p.ontimeout=function(){return l.ontimeout(p)},p.open(a.method,r,!0),kt(a.timeout)&&(p.timeout=a.timeout),Object.keys(a.headers).forEach(function(v){var T=unescape(encodeURIComponent(a.headers[v]));p.setRequestHeader(v,T)}),a.responseType&&(p.responseType=a.responseType),a.withCredentials&&(p.withCredentials=!0),p.send(t),l},"sendRequest"),ze=i(function(t,r,a,l){return{type:t,code:r,body:a,headers:l}},"createResponse"),hn=i(function(t){return function(r){t(ze("error",0,"Timeout",r.getAllResponseHeaders()))}},"createTimeoutResponse"),Ts=i(function(t){return/\?/.test(t)},"hasQS"),dr=i(function(){for(var t="",r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return a.forEach(function(c){t+=Ts(t)&&Ts(c)?c.replace(/\?/,"&"):c}),t},"buildURL"),Qo=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;if(typeof r=="function")return r;if(!r||!it(r.url))return null;var a=r.onload||function(c){return c},l=r.onerror||function(c){return null};return function(c,d,p,g,v,T){var y=pn(c,dr(t,r.url),Object.assign({},r,{responseType:"blob"}));return y.onload=function(D){var w=D.getAllResponseHeaders(),N=Xo(w).name||cr(c);d(ze("load",D.status,r.method==="HEAD"?null:Bn(a(D.response),N),w))},y.onerror=function(D){p(ze("error",D.status,l(D.response)||D.statusText,D.getAllResponseHeaders()))},y.onheaders=function(D){T(ze("headers",D.status,null,D.getAllResponseHeaders()))},y.ontimeout=hn(p),y.onprogress=g,y.onabort=v,y}},"createFetchFunction"),At={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Bf=i(function(t,r,a,l,c,d,p,g,v,T,y){for(var D=[],w=y.chunkTransferId,N=y.chunkServer,F=y.chunkSize,L=y.chunkRetryDelays,U={serverId:w,aborted:!1},W=r.ondata||function(x){return x},X=r.onload||function(x,O){return O==="HEAD"?x.getResponseHeader("Upload-Offset"):x.response},V=r.onerror||function(x){return null},pe=i(function(O){var $=new FormData;$e(c)&&$.append(a,JSON.stringify(c));var ue=typeof r.headers=="function"?r.headers(l,c):Object.assign({},r.headers,{"Upload-Length":l.size}),ge=Object.assign({},r,{headers:ue}),Ie=pn(W($),dr(t,r.url),ge);Ie.onload=function(Oe){return O(X(Oe,ge.method))},Ie.onerror=function(Oe){return p(ze("error",Oe.status,V(Oe.response)||Oe.statusText,Oe.getAllResponseHeaders()))},Ie.ontimeout=hn(p)},"requestTransferId"),Y=i(function(O){var $=dr(t,N.url,U.serverId),ue=typeof r.headers=="function"?r.headers(U.serverId):Object.assign({},r.headers),ge={headers:ue,method:"HEAD"},Ie=pn(null,$,ge);Ie.onload=function(Oe){return O(X(Oe,ge.method))},Ie.onerror=function(Oe){return p(ze("error",Oe.status,V(Oe.response)||Oe.statusText,Oe.getAllResponseHeaders()))},Ie.ontimeout=hn(p)},"requestTransferOffset"),Le=Math.floor(l.size/F),Ce=0;Ce<=Le;Ce++){var q=Ce*F,J=l.slice(q,q+F,"application/offset+octet-stream");D[Ce]={index:Ce,size:J.size,offset:q,data:J,file:l,progress:0,retries:di(L),status:At.QUEUED,error:null,request:null,timeout:null}}var te=i(function(){return d(U.serverId)},"completeProcessingChunks"),H=i(function(O){return O.status===At.QUEUED||O.status===At.ERROR},"canProcessChunk"),K=i(function(O){if(!U.aborted){if(O=O||D.find(H),!O){D.every(function(qe){return qe.status===At.COMPLETE})&&te();return}O.status=At.PROCESSING,O.progress=null;var $=N.ondata||function(qe){return qe},ue=N.onerror||function(qe){return null},ge=N.onload||function(){},Ie=dr(t,N.url,U.serverId),Oe=typeof N.headers=="function"?N.headers(O):Object.assign({},N.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":O.offset,"Upload-Length":l.size,"Upload-Name":l.name}),Ge=O.request=pn($(O.data),Ie,Object.assign({},N,{headers:Oe}));Ge.onload=function(qe){ge(qe,O.index,D.length),O.status=At.COMPLETE,O.request=null,Re()},Ge.onprogress=function(qe,kn,_l){O.progress=qe?kn:null,we()},Ge.onerror=function(qe){O.status=At.ERROR,O.request=null,O.error=ue(qe.response)||qe.statusText,ne(O)||p(ze("error",qe.status,ue(qe.response)||qe.statusText,qe.getAllResponseHeaders()))},Ge.ontimeout=function(qe){O.status=At.ERROR,O.request=null,ne(O)||hn(p)(qe)},Ge.onabort=function(){O.status=At.QUEUED,O.request=null,v()}}},"processChunk"),ne=i(function(O){return O.retries.length===0?!1:(O.status=At.WAITING,clearTimeout(O.timeout),O.timeout=setTimeout(function(){K(O)},O.retries.shift()),!0)},"retryProcessChunk"),we=i(function(){var O=D.reduce(function(ue,ge){return ue===null||ge.progress===null?null:ue+ge.progress},0);if(O===null)return g(!1,0,0);var $=D.reduce(function(ue,ge){return ue+ge.size},0);g(!0,O,$)},"updateTotalProgress"),Re=i(function(){var O=D.filter(function($){return $.status===At.PROCESSING}).length;O>=1||K()},"processChunks"),re=i(function(){D.forEach(function(O){clearTimeout(O.timeout),O.request&&O.request.abort()})},"abortChunks");return U.serverId?Y(function(x){U.aborted||(D.filter(function(O){return O.offset<x}).forEach(function(O){O.status=At.COMPLETE,O.progress=O.size}),Re())}):pe(function(x){U.aborted||(T(x),U.serverId=x,Re())}),{abort:i(function(){U.aborted=!0,re()},"abort")}},"processFileChunked"),Gf=i(function(t,r,a,l){return function(c,d,p,g,v,T,y){if(c){var D=l.chunkUploads,w=D&&c.size>l.chunkSize,N=D&&(w||l.chunkForce);if(c instanceof Blob&&N)return Bf(t,r,a,c,d,p,g,v,T,y,l);var F=r.ondata||function(Y){return Y},L=r.onload||function(Y){return Y},U=r.onerror||function(Y){return null},W=typeof r.headers=="function"?r.headers(c,d)||{}:Object.assign({},r.headers),X=Object.assign({},r,{headers:W}),V=new FormData;$e(d)&&V.append(a,JSON.stringify(d)),(c instanceof Blob?[{name:null,file:c}]:c).forEach(function(Y){V.append(a,Y.file,Y.name===null?Y.file.name:""+Y.name+Y.file.name)});var pe=pn(F(V),dr(t,r.url),X);return pe.onload=function(Y){p(ze("load",Y.status,L(Y.response),Y.getAllResponseHeaders()))},pe.onerror=function(Y){g(ze("error",Y.status,U(Y.response)||Y.statusText,Y.getAllResponseHeaders()))},pe.ontimeout=hn(g),pe.onprogress=v,pe.onabort=T,pe}}},"createFileProcessorFunction"),Vf=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;return typeof r=="function"?function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return r.apply(void 0,[a].concat(d,[l]))}:!r||!it(r.url)?null:Gf(t,r,a,l)},"createProcessorFunction"),pr=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;if(typeof r=="function")return r;if(!r||!it(r.url))return function(c,d){return d()};var a=r.onload||function(c){return c},l=r.onerror||function(c){return null};return function(c,d,p){var g=pn(c,t+r.url,r);return g.onload=function(v){d(ze("load",v.status,a(v.response),v.getAllResponseHeaders()))},g.onerror=function(v){p(ze("error",v.status,l(v.response)||v.statusText,v.getAllResponseHeaders()))},g.ontimeout=hn(p),g}},"createRevertFunction"),Is=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t+Math.random()*(r-t)},"getRandomNumber"),kf=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:25,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,d=null,p=Date.now(),g=i(function v(){var T=Date.now()-p,y=Is(l,c);T+y>r&&(y=T+y-r);var D=T/r;if(D>=1||document.hidden){t(1);return}t(D),d=setTimeout(v,y)},"tick");return r>0&&g(),{clear:i(function(){clearTimeout(d)},"clear")}},"createPerceivedPerformanceUpdater"),Yf=i(function(t,r){var a={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},l=r.allowMinimumUploadDuration,c=i(function(D,w){var N=i(function(){a.duration===0||a.progress===null||T.fire("progress",T.getProgress())},"progressFn"),F=i(function(){a.complete=!0,T.fire("load-perceived",a.response.body)},"completeFn");T.fire("start"),a.timestamp=Date.now(),a.perceivedPerformanceUpdater=kf(function(L){a.perceivedProgress=L,a.perceivedDuration=Date.now()-a.timestamp,N(),a.response&&a.perceivedProgress===1&&!a.complete&&F()},l?Is(750,1500):0),a.request=t(D,w,function(L){a.response=$e(L)?L:{type:"load",code:200,body:""+L,headers:{}},a.duration=Date.now()-a.timestamp,a.progress=1,T.fire("load",a.response.body),(!l||l&&a.perceivedProgress===1)&&F()},function(L){a.perceivedPerformanceUpdater.clear(),T.fire("error",$e(L)?L:{type:"error",code:0,body:""+L})},function(L,U,W){a.duration=Date.now()-a.timestamp,a.progress=L?U/W:null,N()},function(){a.perceivedPerformanceUpdater.clear(),T.fire("abort",a.response?a.response.body:null)},function(L){T.fire("transfer",L)})},"process"),d=i(function(){a.request&&(a.perceivedPerformanceUpdater.clear(),a.request.abort&&a.request.abort(),a.complete=!0)},"abort"),p=i(function(){d(),a.complete=!1,a.perceivedProgress=0,a.progress=0,a.timestamp=null,a.perceivedDuration=0,a.duration=0,a.request=null,a.response=null},"reset"),g=l?function(){return a.progress?Math.min(a.progress,a.perceivedProgress):null}:function(){return a.progress||null},v=l?function(){return Math.min(a.duration,a.perceivedDuration)}:function(){return a.duration},T=Object.assign({},pi(),{process:c,abort:d,getProgress:g,getDuration:v,reset:p});return T},"createFileProcessor"),ys=i(function(t){return t.substring(0,t.lastIndexOf("."))||t},"getFilenameWithoutExtension"),Hf=i(function(t){var r=[t.name,t.size,t.type];return t instanceof Blob||$o(t)?r[0]=t.name||gs():$o(t)?(r[1]=t.length,r[2]=vs(t)):it(t)&&(r[0]=cr(t),r[1]=0,r[2]="application/octet-stream"),{name:r[0],size:r[1],type:r[2]}},"createFileStub"),mn=i(function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},"isFile"),qf=i(function u(t){if(!$e(t))return t;var r=un(t)?[]:{};for(var a in t)if(t.hasOwnProperty(a)){var l=t[a];r[a]=l&&$e(l)?u(l):l}return r},"deepCloneObject"),jf=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=b(),c={archived:!1,frozen:!1,released:!1,source:null,file:a,serverFileReference:r,transferId:null,processingAborted:!1,status:r?le.PROCESSING_COMPLETE:le.INIT,activeLoader:null,activeProcessor:null},d=null,p={},g=i(function(J){return c.status=J},"setStatus"),v=i(function(J){if(!(c.released||c.frozen)){for(var te=arguments.length,H=new Array(te>1?te-1:0),K=1;K<te;K++)H[K-1]=arguments[K];Le.fire.apply(Le,[J].concat(H))}},"fire"),T=i(function(){return gi(c.file.name)},"getFileExtension"),y=i(function(){return c.file.type},"getFileType"),D=i(function(){return c.file.size},"getFileSize"),w=i(function(){return c.file},"getFile"),N=i(function(J,te,H){if(c.source=J,Le.fireSync("init"),c.file){Le.fireSync("load-skip");return}c.file=Hf(J),te.on("init",function(){v("load-init")}),te.on("meta",function(K){c.file.size=K.size,c.file.filename=K.filename,K.source&&(t=et.LIMBO,c.serverFileReference=K.source,c.status=le.PROCESSING_COMPLETE),v("load-meta")}),te.on("progress",function(K){g(le.LOADING),v("load-progress",K)}),te.on("error",function(K){g(le.LOAD_ERROR),v("load-request-error",K)}),te.on("abort",function(){g(le.INIT),v("load-abort")}),te.on("load",function(K){c.activeLoader=null;var ne=i(function(re){c.file=mn(re)?re:c.file,t===et.LIMBO&&c.serverFileReference?g(le.PROCESSING_COMPLETE):g(le.IDLE),v("load")},"success"),we=i(function(re){c.file=K,v("load-meta"),g(le.LOAD_ERROR),v("load-file-error",re)},"error");if(c.serverFileReference){ne(K);return}H(K,ne,we)}),te.setSource(J),c.activeLoader=te,te.load()},"load"),F=i(function(){c.activeLoader&&c.activeLoader.load()},"retryLoad"),L=i(function(){if(c.activeLoader){c.activeLoader.abort();return}g(le.INIT),v("load-abort")},"abortLoad"),U=i(function q(J,te){if(c.processingAborted){c.processingAborted=!1;return}if(g(le.PROCESSING),d=null,!(c.file instanceof Blob)){Le.on("load",function(){q(J,te)});return}J.on("load",function(ne){c.transferId=null,c.serverFileReference=ne}),J.on("transfer",function(ne){c.transferId=ne}),J.on("load-perceived",function(ne){c.activeProcessor=null,c.transferId=null,c.serverFileReference=ne,g(le.PROCESSING_COMPLETE),v("process-complete",ne)}),J.on("start",function(){v("process-start")}),J.on("error",function(ne){c.activeProcessor=null,g(le.PROCESSING_ERROR),v("process-error",ne)}),J.on("abort",function(ne){c.activeProcessor=null,c.serverFileReference=ne,g(le.IDLE),v("process-abort"),d&&d()}),J.on("progress",function(ne){v("process-progress",ne)});var H=i(function(we){c.archived||J.process(we,Object.assign({},p))},"success"),K=console.error;te(c.file,H,K),c.activeProcessor=J},"process"),W=i(function(){c.processingAborted=!1,g(le.PROCESSING_QUEUED)},"requestProcessing"),X=i(function(){return new Promise(function(J){if(!c.activeProcessor){c.processingAborted=!0,g(le.IDLE),v("process-abort"),J();return}d=i(function(){J()},"abortProcessingRequestComplete"),c.activeProcessor.abort()})},"abortProcessing"),V=i(function(J,te){return new Promise(function(H,K){var ne=c.serverFileReference!==null?c.serverFileReference:c.transferId;if(ne===null){H();return}J(ne,function(){c.serverFileReference=null,c.transferId=null,H()},function(we){if(!te){H();return}g(le.PROCESSING_REVERT_ERROR),v("process-revert-error"),K(we)}),g(le.IDLE),v("process-revert")})},"revert"),pe=i(function(J,te,H){var K=J.split("."),ne=K[0],we=K.pop(),Re=p;K.forEach(function(re){return Re=Re[re]}),JSON.stringify(Re[we])!==JSON.stringify(te)&&(Re[we]=te,v("metadata-update",{key:ne,value:p[ne],silent:H}))},"setMetadata"),Y=i(function(J){return qf(J?p[J]:p)},"getMetadata"),Le=Object.assign({id:{get:i(function(){return l},"get")},origin:{get:i(function(){return t},"get"),set:i(function(J){return t=J},"set")},serverId:{get:i(function(){return c.serverFileReference},"get")},transferId:{get:i(function(){return c.transferId},"get")},status:{get:i(function(){return c.status},"get")},filename:{get:i(function(){return c.file.name},"get")},filenameWithoutExtension:{get:i(function(){return ys(c.file.name)},"get")},fileExtension:{get:T},fileType:{get:y},fileSize:{get:D},file:{get:w},relativePath:{get:i(function(){return c.file._relativePath},"get")},source:{get:i(function(){return c.source},"get")},getMetadata:Y,setMetadata:i(function(J,te,H){if($e(J)){var K=J;return Object.keys(K).forEach(function(ne){pe(ne,K[ne],te)}),J}return pe(J,te,H),te},"setMetadata"),extend:i(function(J,te){return Ce[J]=te},"extend"),abortLoad:L,retryLoad:F,requestProcessing:W,abortProcessing:X,load:N,process:U,revert:V},pi(),{freeze:i(function(){return c.frozen=!0},"freeze"),release:i(function(){return c.released=!0},"release"),released:{get:i(function(){return c.released},"get")},archive:i(function(){return c.archived=!0},"archive"),archived:{get:i(function(){return c.archived},"get")},setFile:i(function(J){return c.file=J},"setFile")}),Ce=m(Le);return Ce},"createItem"),zf=i(function(t,r){return pt(r)?0:it(r)?t.findIndex(function(a){return a.id===r}):-1},"getItemIndexByQuery"),Ds=i(function(t,r){var a=zf(t,r);if(!(a<0))return t[a]||null},"getItemById"),bs=i(function(t,r,a,l,c,d){var p=pn(null,t,{method:"GET",responseType:"blob"});return p.onload=function(g){var v=g.getAllResponseHeaders(),T=Xo(v).name||cr(t);r(ze("load",g.status,Bn(g.response,T),v))},p.onerror=function(g){a(ze("error",g.status,g.statusText,g.getAllResponseHeaders()))},p.onheaders=function(g){d(ze("headers",g.status,null,g.getAllResponseHeaders()))},p.ontimeout=hn(a),p.onprogress=l,p.onabort=c,p},"fetchBlob"),As=i(function(t){return t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},"getDomainFromURL"),Wf=i(function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&As(location.href)!==As(t)},"isExternalURL"),Ei=i(function(t){return function(){return Ut(t)?t.apply(void 0,arguments):t}},"dynamicLabel"),Kf=i(function(t){return!mn(t.file)},"isMockItem"),Jo=i(function(t,r){clearTimeout(r.listUpdateTimeout),r.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:Nt(r.items)})},0)},"listUpdated"),Os=i(function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return new Promise(function(c){if(!t)return c(!0);var d=t.apply(void 0,a);if(d==null)return c(!0);if(typeof d=="boolean")return c(d);typeof d.then=="function"&&d.then(c)})},"optionalPromise"),Zo=i(function(t,r){t.items.sort(function(a,l){return r(gt(a),gt(l))})},"sortItems"),Ot=i(function(t,r){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=a.query,c=a.success,d=c===void 0?function(){}:c,p=a.failure,g=p===void 0?function(){}:p,v=$c(a,["query","success","failure"]),T=dn(t.items,l);if(!T){g({error:ze("error",0,"Item not found"),file:null});return}r(T,d,g,v||{})}},"getItemByQueryFromState"),$f=i(function(t,r,a){return{ABORT_ALL:i(function(){Nt(a.items).forEach(function(c){c.freeze(),c.abortLoad(),c.abortProcessing()})},"ABORT_ALL"),DID_SET_FILES:i(function(c){var d=c.value,p=d===void 0?[]:d,g=p.map(function(T){return{source:T.source?T.source:T,options:T.options}}),v=Nt(a.items);v.forEach(function(T){g.find(function(y){return y.source===T.source||y.source===T.file})||t("REMOVE_ITEM",{query:T,remove:!1})}),v=Nt(a.items),g.forEach(function(T,y){v.find(function(D){return D.source===T.source||D.file===T.source})||t("ADD_ITEM",Object.assign({},T,{interactionMethod:_.NONE,index:y}))})},"DID_SET_FILES"),DID_UPDATE_ITEM_METADATA:i(function(c){var d=c.id,p=c.action,g=c.change;g.silent||(clearTimeout(a.itemUpdateTimeout),a.itemUpdateTimeout=setTimeout(function(){var v=Ds(a.items,d);if(!r("IS_ASYNC")){Mt("SHOULD_PREPARE_OUTPUT",!1,{item:v,query:r,action:p,change:g}).then(function(w){var N=r("GET_BEFORE_PREPARE_FILE");N&&(w=N(v,w)),w&&t("REQUEST_PREPARE_OUTPUT",{query:d,item:v,success:i(function(L){t("DID_PREPARE_OUTPUT",{id:d,file:L})},"success")},!0)});return}v.origin===et.LOCAL&&t("DID_LOAD_ITEM",{id:v.id,error:null,serverFileReference:v.source});var T=i(function(){setTimeout(function(){t("REQUEST_ITEM_PROCESSING",{query:d})},32)},"upload"),y=i(function(N){v.revert(pr(a.options.server.url,a.options.server.revert),r("GET_FORCE_REVERT")).then(N?T:function(){}).catch(function(){})},"revert"),D=i(function(N){v.abortProcessing().then(N?T:function(){})},"abort");if(v.status===le.PROCESSING_COMPLETE)return y(a.options.instantUpload);if(v.status===le.PROCESSING)return D(a.options.instantUpload);a.options.instantUpload&&T()},0))},"DID_UPDATE_ITEM_METADATA"),MOVE_ITEM:i(function(c){var d=c.query,p=c.index,g=dn(a.items,d);if(g){var v=a.items.indexOf(g);p=ms(p,0,a.items.length-1),v!==p&&a.items.splice(p,0,a.items.splice(v,1)[0])}},"MOVE_ITEM"),SORT:i(function(c){var d=c.compare;Zo(a,d),t("DID_SORT_ITEMS",{items:r("GET_ACTIVE_ITEMS")})},"SORT"),ADD_ITEMS:i(function(c){var d=c.items,p=c.index,g=c.interactionMethod,v=c.success,T=v===void 0?function(){}:v,y=c.failure,D=y===void 0?function(){}:y,w=p;if(p===-1||typeof p>"u"){var N=r("GET_ITEM_INSERT_LOCATION"),F=r("GET_TOTAL_ITEMS");w=N==="before"?0:F}var L=r("GET_IGNORED_FILES"),U=i(function(pe){return mn(pe)?!L.includes(pe.name.toLowerCase()):!pt(pe)},"isValidFile"),W=d.filter(U),X=W.map(function(V){return new Promise(function(pe,Y){t("ADD_ITEM",{interactionMethod:g,source:V.source||V,success:pe,failure:Y,index:w++,options:V.options||{}})})});Promise.all(X).then(T).catch(D)},"ADD_ITEMS"),ADD_ITEM:i(function(c){var d=c.source,p=c.index,g=p===void 0?-1:p,v=c.interactionMethod,T=c.success,y=T===void 0?function(){}:T,D=c.failure,w=D===void 0?function(){}:D,N=c.options,F=N===void 0?{}:N;if(pt(d)){w({error:ze("error",0,"No source"),file:null});return}if(!(mn(d)&&a.options.ignoredFiles.includes(d.name.toLowerCase()))){if(!bf(a)){if(a.options.allowMultiple||!a.options.allowMultiple&&!a.options.allowReplace){var L=ze("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:d,error:L}),w({error:L,file:null});return}var U=Nt(a.items)[0];if(U.status===le.PROCESSING_COMPLETE||U.status===le.PROCESSING_REVERT_ERROR){var W=r("GET_FORCE_REVERT");if(U.revert(pr(a.options.server.url,a.options.server.revert),W).then(function(){W&&t("ADD_ITEM",{source:d,index:g,interactionMethod:v,success:y,failure:w,options:F})}).catch(function(){}),W)return}t("REMOVE_ITEM",{query:U.id})}var X=F.type==="local"?et.LOCAL:F.type==="limbo"?et.LIMBO:et.INPUT,V=jf(X,X===et.INPUT?null:d,F.file);Object.keys(F.metadata||{}).forEach(function(H){V.setMetadata(H,F.metadata[H])}),fn("DID_CREATE_ITEM",V,{query:r,dispatch:t});var pe=r("GET_ITEM_INSERT_LOCATION");a.options.itemInsertLocationFreedom||(g=pe==="before"?-1:a.items.length),Of(a.items,V,g),Ut(pe)&&d&&Zo(a,pe);var Y=V.id;V.on("init",function(){t("DID_INIT_ITEM",{id:Y})}),V.on("load-init",function(){t("DID_START_ITEM_LOAD",{id:Y})}),V.on("load-meta",function(){t("DID_UPDATE_ITEM_META",{id:Y})}),V.on("load-progress",function(H){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:Y,progress:H})}),V.on("load-request-error",function(H){var K=Ei(a.options.labelFileLoadError)(H);if(H.code>=400&&H.code<500){t("DID_THROW_ITEM_INVALID",{id:Y,error:H,status:{main:K,sub:H.code+" ("+H.body+")"}}),w({error:H,file:gt(V)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:Y,error:H,status:{main:K,sub:a.options.labelTapToRetry}})}),V.on("load-file-error",function(H){t("DID_THROW_ITEM_INVALID",{id:Y,error:H.status,status:H.status}),w({error:H.status,file:gt(V)})}),V.on("load-abort",function(){t("REMOVE_ITEM",{query:Y})}),V.on("load-skip",function(){V.on("metadata-update",function(H){mn(V.file)&&t("DID_UPDATE_ITEM_METADATA",{id:Y,change:H})}),t("COMPLETE_LOAD_ITEM",{query:Y,item:V,data:{source:d,success:y}})}),V.on("load",function(){var H=i(function(ne){if(!ne){t("REMOVE_ITEM",{query:Y});return}V.on("metadata-update",function(we){t("DID_UPDATE_ITEM_METADATA",{id:Y,change:we})}),Mt("SHOULD_PREPARE_OUTPUT",!1,{item:V,query:r}).then(function(we){var Re=r("GET_BEFORE_PREPARE_FILE");Re&&(we=Re(V,we));var re=i(function(){t("COMPLETE_LOAD_ITEM",{query:Y,item:V,data:{source:d,success:y}}),Jo(t,a)},"loadComplete");if(we){t("REQUEST_PREPARE_OUTPUT",{query:Y,item:V,success:i(function(O){t("DID_PREPARE_OUTPUT",{id:Y,file:O}),re()},"success")},!0);return}re()})},"handleAdd");Mt("DID_LOAD_ITEM",V,{query:r,dispatch:t}).then(function(){Os(r("GET_BEFORE_ADD_FILE"),gt(V)).then(H)}).catch(function(K){if(!K||!K.error||!K.status)return H(!1);t("DID_THROW_ITEM_INVALID",{id:Y,error:K.error,status:K.status})})}),V.on("process-start",function(){t("DID_START_ITEM_PROCESSING",{id:Y})}),V.on("process-progress",function(H){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:Y,progress:H})}),V.on("process-error",function(H){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:Y,error:H,status:{main:Ei(a.options.labelFileProcessingError)(H),sub:a.options.labelTapToRetry}})}),V.on("process-revert-error",function(H){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:Y,error:H,status:{main:Ei(a.options.labelFileProcessingRevertError)(H),sub:a.options.labelTapToRetry}})}),V.on("process-complete",function(H){t("DID_COMPLETE_ITEM_PROCESSING",{id:Y,error:null,serverFileReference:H}),t("DID_DEFINE_VALUE",{id:Y,value:H})}),V.on("process-abort",function(){t("DID_ABORT_ITEM_PROCESSING",{id:Y})}),V.on("process-revert",function(){t("DID_REVERT_ITEM_PROCESSING",{id:Y}),t("DID_DEFINE_VALUE",{id:Y,value:null})}),t("DID_ADD_ITEM",{id:Y,index:g,interactionMethod:v}),Jo(t,a);var Le=a.options.server||{},Ce=Le.url,q=Le.load,J=Le.restore,te=Le.fetch;V.load(d,Uf(X===et.INPUT?it(d)&&Wf(d)&&te?Qo(Ce,te):bs:X===et.LIMBO?Qo(Ce,J):Qo(Ce,q)),function(H,K,ne){Mt("LOAD_FILE",H,{query:r}).then(K).catch(ne)})}},"ADD_ITEM"),REQUEST_PREPARE_OUTPUT:i(function(c){var d=c.item,p=c.success,g=c.failure,v=g===void 0?function(){}:g,T={error:ze("error",0,"Item not found"),file:null};if(d.archived)return v(T);Mt("PREPARE_OUTPUT",d.file,{query:r,item:d}).then(function(y){Mt("COMPLETE_PREPARE_OUTPUT",y,{query:r,item:d}).then(function(D){if(d.archived)return v(T);p(D)})})},"REQUEST_PREPARE_OUTPUT"),COMPLETE_LOAD_ITEM:i(function(c){var d=c.item,p=c.data,g=p.success,v=p.source,T=r("GET_ITEM_INSERT_LOCATION");if(Ut(T)&&v&&Zo(a,T),t("DID_LOAD_ITEM",{id:d.id,error:null,serverFileReference:d.origin===et.INPUT?null:v}),g(gt(d)),d.origin===et.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:d.id});return}if(d.origin===et.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:d.id,error:null,serverFileReference:v}),t("DID_DEFINE_VALUE",{id:d.id,value:d.serverId||v});return}r("IS_ASYNC")&&a.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:d.id})},"COMPLETE_LOAD_ITEM"),RETRY_ITEM_LOAD:Ot(a,function(l){l.retryLoad()}),REQUEST_ITEM_PREPARE:Ot(a,function(l,c,d){t("REQUEST_PREPARE_OUTPUT",{query:l.id,item:l,success:i(function(g){t("DID_PREPARE_OUTPUT",{id:l.id,file:g}),c({file:l,output:g})},"success"),failure:d},!0)}),REQUEST_ITEM_PROCESSING:Ot(a,function(l,c,d){var p=l.status===le.IDLE||l.status===le.PROCESSING_ERROR;if(!p){var g=i(function(){return t("REQUEST_ITEM_PROCESSING",{query:l,success:c,failure:d})},"processNow"),v=i(function(){return document.hidden?g():setTimeout(g,32)},"process");l.status===le.PROCESSING_COMPLETE||l.status===le.PROCESSING_REVERT_ERROR?l.revert(pr(a.options.server.url,a.options.server.revert),r("GET_FORCE_REVERT")).then(v).catch(function(){}):l.status===le.PROCESSING&&l.abortProcessing().then(v);return}l.status!==le.PROCESSING_QUEUED&&(l.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:l.id}),t("PROCESS_ITEM",{query:l,success:c,failure:d},!0))}),PROCESS_ITEM:Ot(a,function(l,c,d){var p=r("GET_MAX_PARALLEL_UPLOADS"),g=r("GET_ITEMS_BY_STATUS",le.PROCESSING).length;if(g===p){a.processingQueue.push({id:l.id,success:c,failure:d});return}if(l.status!==le.PROCESSING){var v=i(function y(){var D=a.processingQueue.shift();if(D){var w=D.id,N=D.success,F=D.failure,L=dn(a.items,w);if(!L||L.archived){y();return}t("PROCESS_ITEM",{query:w,success:N,failure:F},!0)}},"processNext");l.onOnce("process-complete",function(){c(gt(l)),v();var y=a.options.server,D=a.options.instantUpload;if(D&&l.origin===et.LOCAL&&Ut(y.remove)){var w=i(function(){},"noop");l.origin=et.LIMBO,a.options.server.remove(l.source,w,w)}var N=r("GET_ITEMS_BY_STATUS",le.PROCESSING_COMPLETE).length===a.items.length;N&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),l.onOnce("process-error",function(y){d({error:y,file:gt(l)}),v()});var T=a.options;l.process(Yf(Vf(T.server.url,T.server.process,T.name,{chunkTransferId:l.transferId,chunkServer:T.server.patch,chunkUploads:T.chunkUploads,chunkForce:T.chunkForce,chunkSize:T.chunkSize,chunkRetryDelays:T.chunkRetryDelays}),{allowMinimumUploadDuration:r("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(y,D,w){Mt("PREPARE_OUTPUT",y,{query:r,item:l}).then(function(N){t("DID_PREPARE_OUTPUT",{id:l.id,file:N}),D(N)}).catch(w)})}}),RETRY_ITEM_PROCESSING:Ot(a,function(l){t("REQUEST_ITEM_PROCESSING",{query:l})}),REQUEST_REMOVE_ITEM:Ot(a,function(l){Os(r("GET_BEFORE_REMOVE_FILE"),gt(l)).then(function(c){c&&t("REMOVE_ITEM",{query:l})})}),RELEASE_ITEM:Ot(a,function(l){l.release()}),REMOVE_ITEM:Ot(a,function(l,c,d,p){var g=i(function(){var y=l.id;Ds(a.items,y).archive(),t("DID_REMOVE_ITEM",{error:null,id:y,item:l}),Jo(t,a),c(gt(l))},"removeFromView"),v=a.options.server;l.origin===et.LOCAL&&v&&Ut(v.remove)&&p.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:l.id}),v.remove(l.source,function(){return g()},function(T){t("DID_THROW_ITEM_REMOVE_ERROR",{id:l.id,error:ze("error",0,T,null),status:{main:Ei(a.options.labelFileRemoveError)(T),sub:a.options.labelTapToRetry}})})):((p.revert&&l.origin!==et.LOCAL&&l.serverId!==null||a.options.chunkUploads&&l.file.size>a.options.chunkSize||a.options.chunkUploads&&a.options.chunkForce)&&l.revert(pr(a.options.server.url,a.options.server.revert),r("GET_FORCE_REVERT")),g())}),ABORT_ITEM_LOAD:Ot(a,function(l){l.abortLoad()}),ABORT_ITEM_PROCESSING:Ot(a,function(l){if(l.serverId){t("REVERT_ITEM_PROCESSING",{id:l.id});return}l.abortProcessing().then(function(){var c=a.options.instantUpload;c&&t("REMOVE_ITEM",{query:l.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ot(a,function(l){if(!a.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:l});return}var c=i(function(v){v&&t("REVERT_ITEM_PROCESSING",{query:l})},"handleRevert"),d=r("GET_BEFORE_REMOVE_FILE");if(!d)return c(!0);var p=d(gt(l));if(p==null)return c(!0);if(typeof p=="boolean")return c(p);typeof p.then=="function"&&p.then(c)}),REVERT_ITEM_PROCESSING:Ot(a,function(l){l.revert(pr(a.options.server.url,a.options.server.revert),r("GET_FORCE_REVERT")).then(function(){var c=a.options.instantUpload||Kf(l);c&&t("REMOVE_ITEM",{query:l.id})}).catch(function(){})}),SET_OPTIONS:i(function(c){var d=c.options,p=Object.keys(d),g=Xf.filter(function(T){return p.includes(T)}),v=[].concat(di(g),di(Object.keys(d).filter(function(T){return!g.includes(T)})));v.forEach(function(T){t("SET_"+ht(T,"_").toUpperCase(),{value:d[T]})})},"SET_OPTIONS")}},"actions"),Xf=["server"],ea=i(function(t){return t},"formatFilename"),Ht=i(function(t){return document.createElement(t)},"createElement"),We=i(function(t,r){var a=t.childNodes[0];a?r!==a.nodeValue&&(a.nodeValue=r):(a=document.createTextNode(r),t.appendChild(a))},"text"),Ss=i(function(t,r,a,l){var c=(l%360-90)*Math.PI/180;return{x:t+a*Math.cos(c),y:r+a*Math.sin(c)}},"polarToCartesian"),Qf=i(function(t,r,a,l,c,d){var p=Ss(t,r,a,c),g=Ss(t,r,a,l);return["M",p.x,p.y,"A",a,a,0,d,0,g.x,g.y].join(" ")},"describeArc"),Jf=i(function(t,r,a,l,c){var d=1;return c>l&&c-l<=.5&&(d=0),l>c&&l-c>=.5&&(d=0),Qf(t,r,a,Math.min(.9999,l)*360,Math.min(.9999,c)*360,d)},"percentageArc"),Zf=i(function(t){var r=t.root,a=t.props;a.spin=!1,a.progress=0,a.opacity=0;var l=C("svg");r.ref.path=C("path",{"stroke-width":2,"stroke-linecap":"round"}),l.appendChild(r.ref.path),r.ref.svg=l,r.appendChild(l)},"create"),ed=i(function(t){var r=t.root,a=t.props;if(a.opacity!==0){a.align&&(r.element.dataset.align=a.align);var l=parseInt(h(r.ref.path,"stroke-width"),10),c=r.rect.element.width*.5,d=0,p=0;a.spin?(d=0,p=.5):(d=0,p=a.progress);var g=Jf(c,c,c-l,d,p);h(r.ref.path,"d",g),h(r.ref.path,"stroke-opacity",a.spin||a.progress>0?1:0)}},"write"),Rs=Be({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Zf,write:ed,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),td=i(function(t){var r=t.root,a=t.props;r.element.innerHTML=(a.icon||"")+("<span>"+a.label+"</span>"),a.isDisabled=!1},"create"),nd=i(function(t){var r=t.root,a=t.props,l=a.isDisabled,c=r.query("GET_DISABLED")||a.opacity===0;c&&!l?(a.isDisabled=!0,h(r.element,"disabled","disabled")):!c&&l&&(a.isDisabled=!1,r.element.removeAttribute("disabled"))},"write"),Ls=Be({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:td,write:nd}),Cs=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=l.labelBytes,d=c===void 0?"bytes":c,p=l.labelKilobytes,g=p===void 0?"KB":p,v=l.labelMegabytes,T=v===void 0?"MB":v,y=l.labelGigabytes,D=y===void 0?"GB":y;t=Math.round(Math.abs(t));var w=a,N=a*a,F=a*a*a;return t<w?t+" "+d:t<N?Math.floor(t/w)+" "+g:t<F?ws(t/N,1,r)+" "+T:ws(t/F,2,r)+" "+D},"toNaturalFileSize"),ws=i(function(t,r,a){return t.toFixed(r).split(".").filter(function(l){return l!=="0"}).join(a)},"removeDecimalsWhenZero"),rd=i(function(t){var r=t.root,a=t.props,l=Ht("span");l.className="filepond--file-info-main",h(l,"aria-hidden","true"),r.appendChild(l),r.ref.fileName=l;var c=Ht("span");c.className="filepond--file-info-sub",r.appendChild(c),r.ref.fileSize=c,We(c,r.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),We(l,ea(r.query("GET_ITEM_NAME",a.id)))},"create"),ta=i(function(t){var r=t.root,a=t.props;We(r.ref.fileSize,Cs(r.query("GET_ITEM_SIZE",a.id),".",r.query("GET_FILE_SIZE_BASE"),r.query("GET_FILE_SIZE_LABELS",r.query))),We(r.ref.fileName,ea(r.query("GET_ITEM_NAME",a.id)))},"updateFile"),Ps=i(function(t){var r=t.root,a=t.props;if(kt(r.query("GET_ITEM_SIZE",a.id))){ta({root:r,props:a});return}We(r.ref.fileSize,r.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},"updateFileSizeOnError"),od=Be({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ye({DID_LOAD_ITEM:ta,DID_UPDATE_ITEM_META:ta,DID_THROW_ITEM_LOAD_ERROR:Ps,DID_THROW_ITEM_INVALID:Ps}),didCreateView:i(function(t){fn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),create:rd,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Ms=i(function(t){return Math.round(t*100)},"toPercentage"),ad=i(function(t){var r=t.root,a=Ht("span");a.className="filepond--file-status-main",r.appendChild(a),r.ref.main=a;var l=Ht("span");l.className="filepond--file-status-sub",r.appendChild(l),r.ref.sub=l,Ns({root:r,action:{progress:null}})},"create"),Ns=i(function(t){var r=t.root,a=t.action,l=a.progress===null?r.query("GET_LABEL_FILE_LOADING"):r.query("GET_LABEL_FILE_LOADING")+" "+Ms(a.progress)+"%";We(r.ref.main,l),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemLoadProgress"),sd=i(function(t){var r=t.root,a=t.action,l=a.progress===null?r.query("GET_LABEL_FILE_PROCESSING"):r.query("GET_LABEL_FILE_PROCESSING")+" "+Ms(a.progress)+"%";We(r.ref.main,l),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemProcessProgress"),ld=i(function(t){var r=t.root;We(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING")),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},"didRequestItemProcessing"),ud=i(function(t){var r=t.root;We(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_ABORTED")),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_RETRY"))},"didAbortItemProcessing"),cd=i(function(t){var r=t.root;We(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_UNDO"))},"didCompleteItemProcessing"),Fs=i(function(t){var r=t.root;We(r.ref.main,""),We(r.ref.sub,"")},"clear"),hr=i(function(t){var r=t.root,a=t.action;We(r.ref.main,a.status.main),We(r.ref.sub,a.status.sub)},"error"),fd=Be({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ye({DID_LOAD_ITEM:Fs,DID_REVERT_ITEM_PROCESSING:Fs,DID_REQUEST_ITEM_PROCESSING:ld,DID_ABORT_ITEM_PROCESSING:ud,DID_COMPLETE_ITEM_PROCESSING:cd,DID_UPDATE_ITEM_PROCESS_PROGRESS:sd,DID_UPDATE_ITEM_LOAD_PROGRESS:Ns,DID_THROW_ITEM_LOAD_ERROR:hr,DID_THROW_ITEM_INVALID:hr,DID_THROW_ITEM_PROCESSING_ERROR:hr,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:hr,DID_THROW_ITEM_REMOVE_ERROR:hr}),didCreateView:i(function(t){fn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),create:ad,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),na={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ra=[];f(na,function(u){ra.push(u)});var Dt=i(function(t){if(ia(t)==="right")return 0;var r=t.ref.buttonRemoveItem.rect.element;return r.hidden?null:r.width+r.left},"calculateFileInfoOffset"),dd=i(function(t){var r=t.ref.buttonAbortItemLoad.rect.element;return r.width},"calculateButtonWidth"),vi=i(function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},"calculateFileVerticalCenterOffset"),pd=i(function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},"calculateFileHorizontalCenterOffset"),hd=i(function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")},"getLoadIndicatorAlignment"),md=i(function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},"getProcessIndicatorAlignment"),ia=i(function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},"getRemoveIndicatorAligment"),gd={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:hd},processProgressIndicator:{opacity:0,align:md},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},xs={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Dt},status:{translateX:Dt}},oa={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Gn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{translateX:Dt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ia},info:{translateX:Dt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ia},buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{opacity:1,translateX:Dt}},DID_LOAD_ITEM:xs,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{translateX:Dt}},DID_START_ITEM_PROCESSING:oa,DID_REQUEST_ITEM_PROCESSING:oa,DID_UPDATE_ITEM_PROCESS_PROGRESS:oa,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Dt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Dt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:xs},Ed=Be({create:i(function(t){var r=t.root;r.element.innerHTML=r.query("GET_ICON_DONE")},"create"),name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),vd=i(function(t){var r=t.root,a=t.props,l=Object.keys(na).reduce(function(W,X){return W[X]=Object.assign({},na[X]),W},{}),c=a.id,d=r.query("GET_ALLOW_REVERT"),p=r.query("GET_ALLOW_REMOVE"),g=r.query("GET_ALLOW_PROCESS"),v=r.query("GET_INSTANT_UPLOAD"),T=r.query("IS_ASYNC"),y=r.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),D;T?g&&!d?D=i(function(X){return!/RevertItemProcessing/.test(X)},"buttonFilter"):!g&&d?D=i(function(X){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(X)},"buttonFilter"):!g&&!d&&(D=i(function(X){return!/Process/.test(X)},"buttonFilter")):D=i(function(X){return!/Process/.test(X)},"buttonFilter");var w=D?ra.filter(D):ra.concat();if(v&&d&&(l.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",l.RevertItemProcessing.icon="GET_ICON_REMOVE"),T&&!d){var N=Gn.DID_COMPLETE_ITEM_PROCESSING;N.info.translateX=pd,N.info.translateY=vi,N.status.translateY=vi,N.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(T&&!g&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(W){Gn[W].status.translateY=vi}),Gn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=dd),y&&d){l.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var F=Gn.DID_COMPLETE_ITEM_PROCESSING;F.info.translateX=Dt,F.status.translateY=vi,F.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}p||(l.RemoveItem.disabled=!0),f(l,function(W,X){var V=r.createChildView(Ls,{label:r.query(X.label),icon:r.query(X.icon),opacity:0});w.includes(W)&&r.appendChildView(V),X.disabled&&(V.element.setAttribute("disabled","disabled"),V.element.setAttribute("hidden","hidden")),V.element.dataset.align=r.query("GET_STYLE_"+X.align),V.element.classList.add(X.className),V.on("click",function(pe){pe.stopPropagation(),!X.disabled&&r.dispatch(X.action,{query:c})}),r.ref["button"+W]=V}),r.ref.processingCompleteIndicator=r.appendChildView(r.createChildView(Ed)),r.ref.processingCompleteIndicator.element.dataset.align=r.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),r.ref.info=r.appendChildView(r.createChildView(od,{id:c})),r.ref.status=r.appendChildView(r.createChildView(fd,{id:c}));var L=r.appendChildView(r.createChildView(Rs,{opacity:0,align:r.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));L.element.classList.add("filepond--load-indicator"),r.ref.loadProgressIndicator=L;var U=r.appendChildView(r.createChildView(Rs,{opacity:0,align:r.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));U.element.classList.add("filepond--process-indicator"),r.ref.processProgressIndicator=U,r.ref.activeStyles=[]},"create"),_d=i(function(t){var r=t.root,a=t.actions,l=t.props;Td({root:r,actions:a,props:l});var c=a.concat().filter(function(p){return/^DID_/.test(p.type)}).reverse().find(function(p){return Gn[p.type]});if(c){r.ref.activeStyles=[];var d=Gn[c.type];f(gd,function(p,g){var v=r.ref[p];f(g,function(T,y){var D=d[p]&&typeof d[p][T]<"u"?d[p][T]:y;r.ref.activeStyles.push({control:v,key:T,value:D})})})}r.ref.activeStyles.forEach(function(p){var g=p.control,v=p.key,T=p.value;g[v]=typeof T=="function"?T(r):T})},"write"),Td=Ye({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:i(function(t){var r=t.root,a=t.action;r.ref.buttonAbortItemProcessing.label=a.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING"),DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:i(function(t){var r=t.root,a=t.action;r.ref.buttonAbortItemLoad.label=a.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD"),DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:i(function(t){var r=t.root,a=t.action;r.ref.buttonAbortItemRemoval.label=a.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL"),DID_REQUEST_ITEM_PROCESSING:i(function(t){var r=t.root;r.ref.processProgressIndicator.spin=!0,r.ref.processProgressIndicator.progress=0},"DID_REQUEST_ITEM_PROCESSING"),DID_START_ITEM_LOAD:i(function(t){var r=t.root;r.ref.loadProgressIndicator.spin=!0,r.ref.loadProgressIndicator.progress=0},"DID_START_ITEM_LOAD"),DID_START_ITEM_REMOVE:i(function(t){var r=t.root;r.ref.processProgressIndicator.spin=!0,r.ref.processProgressIndicator.progress=0},"DID_START_ITEM_REMOVE"),DID_UPDATE_ITEM_LOAD_PROGRESS:i(function(t){var r=t.root,a=t.action;r.ref.loadProgressIndicator.spin=!1,r.ref.loadProgressIndicator.progress=a.progress},"DID_UPDATE_ITEM_LOAD_PROGRESS"),DID_UPDATE_ITEM_PROCESS_PROGRESS:i(function(t){var r=t.root,a=t.action;r.ref.processProgressIndicator.spin=!1,r.ref.processProgressIndicator.progress=a.progress},"DID_UPDATE_ITEM_PROCESS_PROGRESS")}),Id=Be({create:vd,write:_d,didCreateView:i(function(t){fn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),name:"file"}),yd=i(function(t){var r=t.root,a=t.props;r.ref.fileName=Ht("legend"),r.appendChild(r.ref.fileName),r.ref.file=r.appendChildView(r.createChildView(Id,{id:a.id})),r.ref.data=!1},"create"),Dd=i(function(t){var r=t.root,a=t.props;We(r.ref.fileName,ea(r.query("GET_ITEM_NAME",a.id)))},"didLoadItem"),bd=Be({create:yd,ignoreRect:!0,write:Ye({DID_LOAD_ITEM:Dd}),didCreateView:i(function(t){fn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),tag:"fieldset",name:"file-wrapper"}),Us={type:"spring",damping:.6,mass:7},Ad=i(function(t){var r=t.root,a=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Us},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Us},styles:["translateY"]}}].forEach(function(l){Od(r,l,a.name)}),r.element.classList.add("filepond--"+a.name),r.ref.scalable=null},"create"),Od=i(function(t,r,a){var l=Be({name:"panel-"+r.name+" filepond--"+a,mixins:r.mixins,ignoreRectUpdate:!0}),c=t.createChildView(l,r.props);t.ref[r.name]=t.appendChildView(c)},"createSection"),Sd=i(function(t){var r=t.root,a=t.props;if((r.ref.scalable===null||a.scalable!==r.ref.scalable)&&(r.ref.scalable=ei(a.scalable)?a.scalable:!0,r.element.dataset.scalable=r.ref.scalable),!!a.height){var l=r.ref.top.rect.element,c=r.ref.bottom.rect.element,d=Math.max(l.height+c.height,a.height);r.ref.center.translateY=l.height,r.ref.center.scaleY=(d-l.height-c.height)/100,r.ref.bottom.translateY=d-c.height}},"write"),Bs=Be({name:"panel",read:i(function(t){var r=t.root,a=t.props;return a.heightCurrent=r.ref.bottom.translateY},"read"),write:Sd,create:Ad,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Rd=i(function(t){var r=t.map(function(l){return l.id}),a=void 0;return{setIndex:i(function(c){a=c},"setIndex"),getIndex:i(function(){return a},"getIndex"),getItemIndex:i(function(c){return r.indexOf(c.id)},"getItemIndex")}},"createDragHelper"),Gs={type:"spring",stiffness:.75,damping:.45,mass:10},Vs="spring",ks={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ld=i(function(t){var r=t.root,a=t.props;if(r.ref.handleClick=function(c){return r.dispatch("DID_ACTIVATE_ITEM",{id:a.id})},r.element.id="filepond--item-"+a.id,r.element.addEventListener("click",r.ref.handleClick),r.ref.container=r.appendChildView(r.createChildView(bd,{id:a.id})),r.ref.panel=r.appendChildView(r.createChildView(Bs,{name:"item-panel"})),r.ref.panel.height=null,a.markedForRemoval=!1,!!r.query("GET_ALLOW_REORDER")){r.element.dataset.dragState="idle";var l=i(function(d){if(d.isPrimary){var p=!1,g={x:d.pageX,y:d.pageY};a.dragOrigin={x:r.translateX,y:r.translateY},a.dragCenter={x:d.offsetX,y:d.offsetY};var v=Rd(r.query("GET_ACTIVE_ITEMS"));r.dispatch("DID_GRAB_ITEM",{id:a.id,dragState:v});var T=i(function(F){if(F.isPrimary){F.stopPropagation(),F.preventDefault(),a.dragOffset={x:F.pageX-g.x,y:F.pageY-g.y};var L=a.dragOffset.x*a.dragOffset.x+a.dragOffset.y*a.dragOffset.y;L>16&&!p&&(p=!0,r.element.removeEventListener("click",r.ref.handleClick)),r.dispatch("DID_DRAG_ITEM",{id:a.id,dragState:v})}},"drag"),y=i(function(F){F.isPrimary&&(a.dragOffset={x:F.pageX-g.x,y:F.pageY-g.y},w())},"drop"),D=i(function(){w()},"cancel"),w=i(function(){document.removeEventListener("pointercancel",D),document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",y),r.dispatch("DID_DROP_ITEM",{id:a.id,dragState:v}),p&&setTimeout(function(){return r.element.addEventListener("click",r.ref.handleClick)},0)},"reset");document.addEventListener("pointercancel",D),document.addEventListener("pointermove",T),document.addEventListener("pointerup",y)}},"grab");r.element.addEventListener("pointerdown",l)}},"create"),Cd=Ye({DID_UPDATE_PANEL_HEIGHT:i(function(t){var r=t.root,a=t.action;r.height=a.height},"DID_UPDATE_PANEL_HEIGHT")}),wd=Ye({DID_GRAB_ITEM:i(function(t){var r=t.root,a=t.props;a.dragOrigin={x:r.translateX,y:r.translateY}},"DID_GRAB_ITEM"),DID_DRAG_ITEM:i(function(t){var r=t.root;r.element.dataset.dragState="drag"},"DID_DRAG_ITEM"),DID_DROP_ITEM:i(function(t){var r=t.root,a=t.props;a.dragOffset=null,a.dragOrigin=null,r.element.dataset.dragState="drop"},"DID_DROP_ITEM")},function(u){var t=u.root,r=u.actions,a=u.props,l=u.shouldOptimize;t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var c=r.concat().filter(function(p){return/^DID_/.test(p.type)}).reverse().find(function(p){return ks[p.type]});c&&c.type!==a.currentState&&(a.currentState=c.type,t.element.dataset.filepondItemState=ks[a.currentState]||"");var d=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");d?l||(t.height=t.rect.element.width*d):(Cd({root:t,actions:r,props:a}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),l&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),Pd=Be({create:Ld,write:wd,destroy:i(function(t){var r=t.root,a=t.props;r.element.removeEventListener("click",r.ref.handleClick),r.dispatch("RELEASE_ITEM",{query:a.id})},"destroy"),tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Vs,scaleY:Vs,translateX:Gs,translateY:Gs,opacity:{type:"tween",duration:150}}}}),aa=i(function(u,t){return Math.max(1,Math.floor((u+1)/t))},"getItemsPerRow"),sa=i(function(t,r,a){if(a){var l=t.rect.element.width,c=r.length,d=null;if(c===0||a.top<r[0].rect.element.top)return-1;var p=r[0],g=p.rect.element,v=g.marginLeft+g.marginRight,T=g.width+v,y=aa(l,T);if(y===1){for(var D=0;D<c;D++){var w=r[D],N=w.rect.outer.top+w.rect.element.height*.5;if(a.top<N)return D}return c}for(var F=g.marginTop+g.marginBottom,L=g.height+F,U=0;U<c;U++){var W=U%y,X=Math.floor(U/y),V=W*T,pe=X*L,Y=pe-g.marginTop,Le=V+T,Ce=pe+L+g.marginBottom;if(a.top<Ce&&a.top>Y){if(a.left<Le)return U;U!==c-1?d=U:d=null}}return d!==null?d:c}},"getItemIndexByPosition"),_i={height:0,width:0,get getHeight(){return this.height},set setHeight(u){(this.height===0||u===0)&&(this.height=u)},get getWidth(){return this.width},set setWidth(u){(this.width===0||u===0)&&(this.width=u)},setDimensions:i(function(t,r){(this.height===0||t===0)&&(this.height=t),(this.width===0||r===0)&&(this.width=r)},"setDimensions")},Md=i(function(t){var r=t.root;h(r.element,"role","list"),r.ref.lastItemSpanwDate=Date.now()},"create"),Nd=i(function(t){var r=t.root,a=t.action,l=a.id,c=a.index,d=a.interactionMethod;r.ref.addIndex=c;var p=Date.now(),g=p,v=1;if(d!==_.NONE){v=0;var T=r.query("GET_ITEM_INSERT_INTERVAL"),y=p-r.ref.lastItemSpanwDate;g=y<T?p+(T-y):p}r.ref.lastItemSpanwDate=g,r.appendChildView(r.createChildView(Pd,{spawnDate:g,id:l,opacity:v,interactionMethod:d}),c)},"addItemView"),Ys=i(function(t,r,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=r,t.translateY=a,Date.now()>t.spawnDate&&(t.opacity===0&&Fd(t,r,a,l,c),t.scaleX=1,t.scaleY=1,t.opacity=1))},"moveItem"),Fd=i(function(t,r,a,l,c){t.interactionMethod===_.NONE?(t.translateX=null,t.translateX=r,t.translateY=null,t.translateY=a):t.interactionMethod===_.DROP?(t.translateX=null,t.translateX=r-l*20,t.translateY=null,t.translateY=a-c*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===_.BROWSE?(t.translateY=null,t.translateY=a-30):t.interactionMethod===_.API&&(t.translateX=null,t.translateX=r-30,t.translateY=null)},"introItemView"),xd=i(function(t){var r=t.root,a=t.action,l=a.id,c=r.childViews.find(function(d){return d.id===l});c&&(c.scaleX=.9,c.scaleY=.9,c.opacity=0,c.markedForRemoval=!0)},"removeItemView"),la=i(function(t){return t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5},"getItemHeight"),Ud=i(function(t){return t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5},"getItemWidth"),Bd=i(function(t){var r=t.root,a=t.action,l=a.id,c=a.dragState,d=r.query("GET_ITEM",{id:l}),p=r.childViews.find(function(W){return W.id===l}),g=r.childViews.length,v=c.getItemIndex(d);if(p){var T={x:p.dragOrigin.x+p.dragOffset.x+p.dragCenter.x,y:p.dragOrigin.y+p.dragOffset.y+p.dragCenter.y},y=la(p),D=Ud(p),w=Math.floor(r.rect.outer.width/D);w>g&&(w=g);var N=Math.floor(g/w+1);_i.setHeight=y*N,_i.setWidth=D*w;var F={y:Math.floor(T.y/y),x:Math.floor(T.x/D),getGridIndex:i(function(){return T.y>_i.getHeight||T.y<0||T.x>_i.getWidth||T.x<0?v:this.y*w+this.x},"getGridIndex"),getColIndex:i(function(){for(var X=r.query("GET_ACTIVE_ITEMS"),V=r.childViews.filter(function(ne){return ne.rect.element.height}),pe=X.map(function(ne){return V.find(function(we){return we.id===ne.id})}),Y=pe.findIndex(function(ne){return ne===p}),Le=la(p),Ce=pe.length,q=Ce,J=0,te=0,H=0,K=0;K<Ce;K++)if(J=la(pe[K]),H=te,te=H+J,T.y<te){if(Y>K){if(T.y<H+Le){q=K;break}continue}q=K;break}return q},"getColIndex")},L=w>1?F.getGridIndex():F.getColIndex();r.dispatch("MOVE_ITEM",{query:p,index:L});var U=c.getIndex();if(U===void 0||U!==L){if(c.setIndex(L),U===void 0)return;r.dispatch("DID_REORDER_ITEMS",{items:r.query("GET_ACTIVE_ITEMS"),origin:v,target:L})}}},"dragItem"),Gd=Ye({DID_ADD_ITEM:Nd,DID_REMOVE_ITEM:xd,DID_DRAG_ITEM:Bd}),Vd=i(function(t){var r=t.root,a=t.props,l=t.actions,c=t.shouldOptimize;Gd({root:r,props:a,actions:l});var d=a.dragCoordinates,p=r.rect.element.width,g=r.childViews.filter(function(q){return q.rect.element.height}),v=r.query("GET_ACTIVE_ITEMS").map(function(q){return g.find(function(J){return J.id===q.id})}).filter(function(q){return q}),T=d?sa(r,v,d):null,y=r.ref.addIndex||null;r.ref.addIndex=null;var D=0,w=0,N=0;if(v.length!==0){var F=v[0].rect.element,L=F.marginTop+F.marginBottom,U=F.marginLeft+F.marginRight,W=F.width+U,X=F.height+L,V=aa(p,W);if(V===1){var pe=0,Y=0;v.forEach(function(q,J){if(T){var te=J-T;te===-2?Y=-L*.25:te===-1?Y=-L*.75:te===0?Y=L*.75:te===1?Y=L*.25:Y=0}c&&(q.translateX=null,q.translateY=null),q.markedForRemoval||Ys(q,0,pe+Y);var H=q.rect.element.height+L,K=H*(q.markedForRemoval?q.opacity:1);pe+=K})}else{var Le=0,Ce=0;v.forEach(function(q,J){J===T&&(D=1),J===y&&(N+=1),q.markedForRemoval&&q.opacity<.5&&(w-=1);var te=J+N+D+w,H=te%V,K=Math.floor(te/V),ne=H*W,we=K*X,Re=Math.sign(ne-Le),re=Math.sign(we-Ce);Le=ne,Ce=we,!q.markedForRemoval&&(c&&(q.translateX=null,q.translateY=null),Ys(q,ne,we,Re,re))})}}},"write"),kd=i(function(t,r){return r.filter(function(a){return a.data&&a.data.id?t.id===a.data.id:!0})},"filterSetItemActions"),Yd=Be({create:Md,write:Vd,tag:"ul",name:"list",didWriteView:i(function(t){var r=t.root;r.childViews.filter(function(a){return a.markedForRemoval&&a.opacity===0&&a.resting}).forEach(function(a){a._destroy(),r.removeChildView(a)})},"didWriteView"),filterFrameActionsForChild:kd,mixins:{apis:["dragCoordinates"]}}),Hd=i(function(t){var r=t.root,a=t.props;r.ref.list=r.appendChildView(r.createChildView(Yd)),a.dragCoordinates=null,a.overflowing=!1},"create"),qd=i(function(t){var r=t.root,a=t.props,l=t.action;r.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(a.dragCoordinates={left:l.position.scopeLeft-r.ref.list.rect.element.left,top:l.position.scopeTop-(r.rect.outer.top+r.rect.element.marginTop+r.rect.element.scrollTop)})},"storeDragCoordinates"),jd=i(function(t){var r=t.props;r.dragCoordinates=null},"clearDragCoordinates"),zd=Ye({DID_DRAG:qd,DID_END_DRAG:jd}),Wd=i(function(t){var r=t.root,a=t.props,l=t.actions;if(zd({root:r,props:a,actions:l}),r.ref.list.dragCoordinates=a.dragCoordinates,a.overflowing&&!a.overflow&&(a.overflowing=!1,r.element.dataset.state="",r.height=null),a.overflow){var c=Math.round(a.overflow);c!==r.height&&(a.overflowing=!0,r.element.dataset.state="overflow",r.height=c)}},"write"),Kd=Be({create:Hd,write:Wd,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Ft=i(function(t,r,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";a?h(t,r,l):t.removeAttribute(r)},"attrToggle"),$d=i(function(t){if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){var r=Ht("form"),a=t.parentNode,l=t.nextSibling;r.appendChild(t),r.reset(),l?a.insertBefore(t,l):a.appendChild(t)}}},"resetFileInput"),Xd=i(function(t){var r=t.root,a=t.props;r.element.id="filepond--browser-"+a.id,h(r.element,"name",r.query("GET_NAME")),h(r.element,"aria-controls","filepond--assistant-"+a.id),h(r.element,"aria-labelledby","filepond--drop-label-"+a.id),Hs({root:r,action:{value:r.query("GET_ACCEPTED_FILE_TYPES")}}),qs({root:r,action:{value:r.query("GET_ALLOW_MULTIPLE")}}),js({root:r,action:{value:r.query("GET_ALLOW_DIRECTORIES_ONLY")}}),ua({root:r}),zs({root:r,action:{value:r.query("GET_REQUIRED")}}),Ws({root:r,action:{value:r.query("GET_CAPTURE_METHOD")}}),r.ref.handleChange=function(l){if(r.element.value){var c=Array.from(r.element.files).map(function(d){return d._relativePath=d.webkitRelativePath,d});setTimeout(function(){a.onload(c),$d(r.element)},250)}},r.element.addEventListener("change",r.ref.handleChange)},"create"),Hs=i(function(t){var r=t.root,a=t.action;r.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Ft(r.element,"accept",!!a.value,a.value?a.value.join(","):"")},"setAcceptedFileTypes"),qs=i(function(t){var r=t.root,a=t.action;Ft(r.element,"multiple",a.value)},"toggleAllowMultiple"),js=i(function(t){var r=t.root,a=t.action;Ft(r.element,"webkitdirectory",a.value)},"toggleDirectoryFilter"),ua=i(function(t){var r=t.root,a=r.query("GET_DISABLED"),l=r.query("GET_ALLOW_BROWSE"),c=a||!l;Ft(r.element,"disabled",c)},"toggleDisabled"),zs=i(function(t){var r=t.root,a=t.action;a.value?r.query("GET_TOTAL_ITEMS")===0&&Ft(r.element,"required",!0):Ft(r.element,"required",!1)},"toggleRequired"),Ws=i(function(t){var r=t.root,a=t.action;Ft(r.element,"capture",!!a.value,a.value===!0?"":a.value)},"setCaptureMethod"),Ks=i(function(t){var r=t.root,a=r.element;if(r.query("GET_TOTAL_ITEMS")>0){Ft(a,"required",!1),Ft(a,"name",!1);for(var l=r.query("GET_ACTIVE_ITEMS"),c=!1,d=0;d<l.length;d++)l[d].status===le.LOAD_ERROR&&(c=!0);r.element.setCustomValidity(c?r.query("GET_LABEL_INVALID_FIELD"):"")}else{Ft(a,"name",!0,r.query("GET_NAME"));var p=r.query("GET_CHECK_VALIDITY");p&&a.setCustomValidity(""),r.query("GET_REQUIRED")&&Ft(a,"required",!0)}},"updateRequiredStatus"),Qd=i(function(t){var r=t.root,a=r.query("GET_CHECK_VALIDITY");a&&r.element.setCustomValidity(r.query("GET_LABEL_INVALID_FIELD"))},"updateFieldValidityStatus"),Jd=Be({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Xd,destroy:i(function(t){var r=t.root;r.element.removeEventListener("change",r.ref.handleChange)},"destroy"),write:Ye({DID_LOAD_ITEM:Ks,DID_REMOVE_ITEM:Ks,DID_THROW_ITEM_INVALID:Qd,DID_SET_DISABLED:ua,DID_SET_ALLOW_BROWSE:ua,DID_SET_ALLOW_DIRECTORIES_ONLY:js,DID_SET_ALLOW_MULTIPLE:qs,DID_SET_ACCEPTED_FILE_TYPES:Hs,DID_SET_CAPTURE_METHOD:Ws,DID_SET_REQUIRED:zs})}),$s={ENTER:13,SPACE:32},Zd=i(function(t){var r=t.root,a=t.props,l=Ht("label");h(l,"for","filepond--browser-"+a.id),h(l,"id","filepond--drop-label-"+a.id),r.ref.handleKeyDown=function(c){var d=c.keyCode===$s.ENTER||c.keyCode===$s.SPACE;d&&(c.preventDefault(),r.ref.label.click())},r.ref.handleClick=function(c){var d=c.target===l||l.contains(c.target);d||r.ref.label.click()},l.addEventListener("keydown",r.ref.handleKeyDown),r.element.addEventListener("click",r.ref.handleClick),Xs(l,a.caption),r.appendChild(l),r.ref.label=l},"create"),Xs=i(function(t,r){t.innerHTML=r;var a=t.querySelector(".filepond--label-action");return a&&h(a,"tabindex","0"),r},"updateLabelValue"),ep=Be({name:"drop-label",ignoreRect:!0,create:Zd,destroy:i(function(t){var r=t.root;r.ref.label.addEventListener("keydown",r.ref.handleKeyDown),r.element.removeEventListener("click",r.ref.handleClick)},"destroy"),write:Ye({DID_SET_LABEL_IDLE:i(function(t){var r=t.root,a=t.action;Xs(r.ref.label,a.value)},"DID_SET_LABEL_IDLE")}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),tp=Be({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),np=i(function(t){var r=t.root,a=r.rect.element.width*.5,l=r.rect.element.height*.5;r.ref.blob=r.appendChildView(r.createChildView(tp,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:a,translateY:l}))},"addBlob"),rp=i(function(t){var r=t.root,a=t.action;if(!r.ref.blob){np({root:r});return}r.ref.blob.translateX=a.position.scopeLeft,r.ref.blob.translateY=a.position.scopeTop,r.ref.blob.scaleX=1,r.ref.blob.scaleY=1,r.ref.blob.opacity=1},"moveBlob"),ip=i(function(t){var r=t.root;r.ref.blob&&(r.ref.blob.opacity=0)},"hideBlob"),op=i(function(t){var r=t.root;r.ref.blob&&(r.ref.blob.scaleX=2.5,r.ref.blob.scaleY=2.5,r.ref.blob.opacity=0)},"explodeBlob"),ap=i(function(t){var r=t.root,a=t.props,l=t.actions;sp({root:r,props:a,actions:l});var c=r.ref.blob;l.length===0&&c&&c.opacity===0&&(r.removeChildView(c),r.ref.blob=null)},"write"),sp=Ye({DID_DRAG:rp,DID_DROP:op,DID_END_DRAG:ip}),lp=Be({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:ap}),Qs=i(function(t,r){try{var a=new DataTransfer;r.forEach(function(l){l instanceof File?a.items.add(l):a.items.add(new File([l],l.name,{type:l.type}))}),t.files=a.files}catch{return!1}return!0},"setInputFiles"),up=i(function(t){var r=t.root;r.ref.fields={};var a=document.createElement("legend");a.textContent="Files",r.element.appendChild(a)},"create"),Ti=i(function(t,r){return t.ref.fields[r]},"getField"),ca=i(function(t){t.query("GET_ACTIVE_ITEMS").forEach(function(r){t.ref.fields[r.id]&&t.element.appendChild(t.ref.fields[r.id])})},"syncFieldPositionsWithItems"),Js=i(function(t){var r=t.root;return ca(r)},"didReorderItems"),cp=i(function(t){var r=t.root,a=t.action,l=r.query("GET_ITEM",a.id),c=l.origin===et.LOCAL,d=!c&&r.query("SHOULD_UPDATE_FILE_INPUT"),p=Ht("input");p.type=d?"file":"hidden",p.name=r.query("GET_NAME"),r.ref.fields[a.id]=p,ca(r)},"didAddItem"),fp=i(function(t){var r=t.root,a=t.action,l=Ti(r,a.id);if(l&&(a.serverFileReference!==null&&(l.value=a.serverFileReference),!!r.query("SHOULD_UPDATE_FILE_INPUT"))){var c=r.query("GET_ITEM",a.id);Qs(l,[c.file])}},"didLoadItem"),dp=i(function(t){var r=t.root,a=t.action;r.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var l=Ti(r,a.id);l&&Qs(l,[a.file])},0)},"didPrepareOutput"),pp=i(function(t){var r=t.root;r.element.disabled=r.query("GET_DISABLED")},"didSetDisabled"),hp=i(function(t){var r=t.root,a=t.action,l=Ti(r,a.id);l&&(l.parentNode&&l.parentNode.removeChild(l),delete r.ref.fields[a.id])},"didRemoveItem"),mp=i(function(t){var r=t.root,a=t.action,l=Ti(r,a.id);l&&(a.value===null?l.removeAttribute("value"):l.type!="file"&&(l.value=a.value),ca(r))},"didDefineValue"),gp=Ye({DID_SET_DISABLED:pp,DID_ADD_ITEM:cp,DID_LOAD_ITEM:fp,DID_REMOVE_ITEM:hp,DID_DEFINE_VALUE:mp,DID_PREPARE_OUTPUT:dp,DID_REORDER_ITEMS:Js,DID_SORT_ITEMS:Js}),Ep=Be({tag:"fieldset",name:"data",create:up,write:gp,ignoreRect:!0}),vp=i(function(t){return"getRootNode"in t?t.getRootNode():document},"getRootNode"),_p=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Tp=["css","csv","html","txt"],Ip={zip:"zip|compressed",epub:"application/epub+zip"},Zs=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t=t.toLowerCase(),_p.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):Tp.includes(t)?"text/"+t:Ip[t]||""},"guesstimateMimeType"),fa=i(function(t){return new Promise(function(r,a){var l=Lp(t);if(l.length&&!yp(t))return r(l);Dp(t).then(r)})},"requestDataTransferItems"),yp=i(function(t){return t.files?t.files.length>0:!1},"hasFiles"),Dp=i(function(t){return new Promise(function(r,a){var l=(t.items?Array.from(t.items):[]).filter(function(c){return bp(c)}).map(function(c){return Ap(c)});if(!l.length){r(t.files?Array.from(t.files):[]);return}Promise.all(l).then(function(c){var d=[];c.forEach(function(p){d.push.apply(d,p)}),r(d.filter(function(p){return p}).map(function(p){return p._relativePath||(p._relativePath=p.webkitRelativePath),p}))}).catch(console.error)})},"getFiles"),bp=i(function(t){if(el(t)){var r=da(t);if(r)return r.isFile||r.isDirectory}return t.kind==="file"},"isFileSystemItem"),Ap=i(function(t){return new Promise(function(r,a){if(Rp(t)){Op(da(t)).then(r).catch(a);return}r([t.getAsFile()])})},"getFilesFromItem"),Op=i(function(t){return new Promise(function(r,a){var l=[],c=0,d=0,p=i(function(){d===0&&c===0&&r(l)},"resolveIfDone"),g=i(function v(T){c++;var y=T.createReader(),D=i(function w(){y.readEntries(function(N){if(N.length===0){c--,p();return}N.forEach(function(F){F.isDirectory?v(F):(d++,F.file(function(L){var U=Sp(L);F.fullPath&&(U._relativePath=F.fullPath),l.push(U),d--,p()}))}),w()},a)},"readBatch");D()},"readEntries");g(t)})},"getFilesInDirectory"),Sp=i(function(t){if(t.type.length)return t;var r=t.lastModifiedDate,a=t.name,l=Zs(gi(t.name));return l.length&&(t=t.slice(0,t.size,l),t.name=a,t.lastModifiedDate=r),t},"correctMissingFileType"),Rp=i(function(t){return el(t)&&(da(t)||{}).isDirectory},"isDirectoryEntry"),el=i(function(t){return"webkitGetAsEntry"in t},"isEntry"),da=i(function(t){return t.webkitGetAsEntry()},"getAsEntry"),Lp=i(function(t){var r=[];try{if(r=wp(t),r.length)return r;r=Cp(t)}catch{}return r},"getLinks"),Cp=i(function(t){var r=t.getData("url");return typeof r=="string"&&r.length?[r]:[]},"getLinksFromTransferURLData"),wp=i(function(t){var r=t.getData("text/html");if(typeof r=="string"&&r.length){var a=r.match(/src\s*=\s*"(.+?)"/);if(a)return[a[1]]}return[]},"getLinksFromTransferMetaData"),Ii=[],gn=i(function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},"eventPosition"),Pp=i(function(t,r,a){var l=Mp(r),c={element:t,filterElement:a,state:null,ondrop:i(function(){},"ondrop"),onenter:i(function(){},"onenter"),ondrag:i(function(){},"ondrag"),onexit:i(function(){},"onexit"),onload:i(function(){},"onload"),allowdrop:i(function(){},"allowdrop")};return c.destroy=l.addListener(c),c},"createDragNDropClient"),Mp=i(function(t){var r=Ii.find(function(l){return l.element===t});if(r)return r;var a=Np(t);return Ii.push(a),a},"getDragNDropObserver"),Np=i(function(t){var r=[],a={dragenter:xp,dragover:Up,dragleave:Gp,drop:Bp},l={};f(a,function(d,p){l[d]=p(t,r),t.addEventListener(d,l[d],!1)});var c={element:t,addListener:i(function(p){return r.push(p),function(){r.splice(r.indexOf(p),1),r.length===0&&(Ii.splice(Ii.indexOf(c),1),f(a,function(g){t.removeEventListener(g,l[g],!1)}))}},"addListener")};return c},"createDragNDropObserver"),Fp=i(function(t,r){return"elementFromPoint"in t||(t=document),t.elementFromPoint(r.x,r.y)},"elementFromPoint"),pa=i(function(t,r){var a=vp(r),l=Fp(a,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return l===r||r.contains(l)},"isEventTarget"),tl=null,yi=i(function(t,r){try{t.dropEffect=r}catch{}},"setDropEffect"),xp=i(function(t,r){return function(a){a.preventDefault(),tl=a.target,r.forEach(function(l){var c=l.element,d=l.onenter;pa(a,c)&&(l.state="enter",d(gn(a)))})}},"dragenter"),Up=i(function(t,r){return function(a){a.preventDefault();var l=a.dataTransfer;fa(l).then(function(c){var d=!1;r.some(function(p){var g=p.filterElement,v=p.element,T=p.onenter,y=p.onexit,D=p.ondrag,w=p.allowdrop;yi(l,"copy");var N=w(c);if(!N){yi(l,"none");return}if(pa(a,v)){if(d=!0,p.state===null){p.state="enter",T(gn(a));return}if(p.state="over",g&&!N){yi(l,"none");return}D(gn(a))}else g&&!d&&yi(l,"none"),p.state&&(p.state=null,y(gn(a)))})})}},"dragover"),Bp=i(function(t,r){return function(a){a.preventDefault();var l=a.dataTransfer;fa(l).then(function(c){r.forEach(function(d){var p=d.filterElement,g=d.element,v=d.ondrop,T=d.onexit,y=d.allowdrop;if(d.state=null,!(p&&!pa(a,g))){if(!y(c))return T(gn(a));v(gn(a),c)}})})}},"drop"),Gp=i(function(t,r){return function(a){tl===a.target&&r.forEach(function(l){var c=l.onexit;l.state=null,c(gn(a))})}},"dragleave"),Vp=i(function(t,r,a){t.classList.add("filepond--hopper");var l=a.catchesDropsOnPage,c=a.requiresDropOnElement,d=a.filterItems,p=d===void 0?function(D){return D}:d,g=Pp(t,l?document.documentElement:t,c),v="",T="";g.allowdrop=function(D){return r(p(D))},g.ondrop=function(D,w){var N=p(w);if(!r(N)){y.ondragend(D);return}T="drag-drop",y.onload(N,D)},g.ondrag=function(D){y.ondrag(D)},g.onenter=function(D){T="drag-over",y.ondragstart(D)},g.onexit=function(D){T="drag-exit",y.ondragend(D)};var y={updateHopperState:i(function(){v!==T&&(t.dataset.hopperState=T,v=T)},"updateHopperState"),onload:i(function(){},"onload"),ondragstart:i(function(){},"ondragstart"),ondrag:i(function(){},"ondrag"),ondragend:i(function(){},"ondragend"),destroy:i(function(){g.destroy()},"destroy")};return y},"createHopper"),ha=!1,Vn=[],nl=i(function(t){var r=document.activeElement,a=r&&(/textarea|input/i.test(r.nodeName)||r.getAttribute("contenteditable")==="true");if(a){for(var l=!1,c=r;c!==document.body;){if(c.classList.contains("filepond--root")){l=!0;break}c=c.parentNode}if(!l)return}fa(t.clipboardData).then(function(d){d.length&&Vn.forEach(function(p){return p(d)})})},"handlePaste"),kp=i(function(t){Vn.includes(t)||(Vn.push(t),!ha&&(ha=!0,document.addEventListener("paste",nl)))},"listen"),Yp=i(function(t){Wo(Vn,Vn.indexOf(t)),Vn.length===0&&(document.removeEventListener("paste",nl),ha=!1)},"unlisten"),Hp=i(function(){var t=i(function(l){r.onload(l)},"cb"),r={destroy:i(function(){Yp(t)},"destroy"),onload:i(function(){},"onload")};return kp(t),r},"createPaster"),qp=i(function(t){var r=t.root,a=t.props;r.element.id="filepond--assistant-"+a.id,h(r.element,"role","alert"),h(r.element,"aria-live","polite"),h(r.element,"aria-relevant","additions")},"create"),rl=null,il=null,ma=[],Di=i(function(t,r){t.element.textContent=r},"assist"),jp=i(function(t){t.element.textContent=""},"clear"),ol=i(function(t,r,a){var l=t.query("GET_TOTAL_ITEMS");Di(t,a+" "+r+", "+l+" "+(l===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(il),il=setTimeout(function(){jp(t)},1500)},"listModified"),al=i(function(t){return t.element.parentNode.contains(document.activeElement)},"isUsingFilePond"),zp=i(function(t){var r=t.root,a=t.action;if(al(r)){r.element.textContent="";var l=r.query("GET_ITEM",a.id);ma.push(l.filename),clearTimeout(rl),rl=setTimeout(function(){ol(r,ma.join(", "),r.query("GET_LABEL_FILE_ADDED")),ma.length=0},750)}},"itemAdded"),Wp=i(function(t){var r=t.root,a=t.action;if(al(r)){var l=a.item;ol(r,l.filename,r.query("GET_LABEL_FILE_REMOVED"))}},"itemRemoved"),Kp=i(function(t){var r=t.root,a=t.action,l=r.query("GET_ITEM",a.id),c=l.filename,d=r.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Di(r,c+" "+d)},"itemProcessed"),sl=i(function(t){var r=t.root,a=t.action,l=r.query("GET_ITEM",a.id),c=l.filename,d=r.query("GET_LABEL_FILE_PROCESSING_ABORTED");Di(r,c+" "+d)},"itemProcessedUndo"),bi=i(function(t){var r=t.root,a=t.action,l=r.query("GET_ITEM",a.id),c=l.filename;Di(r,a.status.main+" "+c+" "+a.status.sub)},"itemError"),$p=Be({create:qp,ignoreRect:!0,ignoreRectUpdate:!0,write:Ye({DID_LOAD_ITEM:zp,DID_REMOVE_ITEM:Wp,DID_COMPLETE_ITEM_PROCESSING:Kp,DID_ABORT_ITEM_PROCESSING:sl,DID_REVERT_ITEM_PROCESSING:sl,DID_THROW_ITEM_REMOVE_ERROR:bi,DID_THROW_ITEM_LOAD_ERROR:bi,DID_THROW_ITEM_INVALID:bi,DID_THROW_ITEM_PROCESSING_ERROR:bi}),tag:"span",name:"assistant"}),ll=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return t.replace(new RegExp(r+".","g"),function(a){return a.charAt(1).toUpperCase()})},"toCamels"),ul=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Date.now(),c=null;return function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];clearTimeout(c);var v=Date.now()-l,T=i(function(){l=Date.now(),t.apply(void 0,p)},"fn");v<r?a||(c=setTimeout(T,r-v)):T()}},"debounce"),Xp=1e6,Ai=i(function(t){return t.preventDefault()},"prevent"),Qp=i(function(t){var r=t.root,a=t.props,l=r.query("GET_ID");l&&(r.element.id=l);var c=r.query("GET_CLASS_NAME");c&&c.split(" ").filter(function(y){return y.length}).forEach(function(y){r.element.classList.add(y)}),r.ref.label=r.appendChildView(r.createChildView(ep,Object.assign({},a,{translateY:null,caption:r.query("GET_LABEL_IDLE")}))),r.ref.list=r.appendChildView(r.createChildView(Kd,{translateY:null})),r.ref.panel=r.appendChildView(r.createChildView(Bs,{name:"panel-root"})),r.ref.assistant=r.appendChildView(r.createChildView($p,Object.assign({},a))),r.ref.data=r.appendChildView(r.createChildView(Ep,Object.assign({},a))),r.ref.measure=Ht("div"),r.ref.measure.style.height="100%",r.element.appendChild(r.ref.measure),r.ref.bounds=null,r.query("GET_STYLES").filter(function(y){return!pt(y.value)}).map(function(y){var D=y.name,w=y.value;r.element.dataset[D]=w}),r.ref.widthPrevious=null,r.ref.widthUpdated=ul(function(){r.ref.updateHistory=[],r.dispatch("DID_RESIZE_ROOT")},250),r.ref.previousAspectRatio=null,r.ref.updateHistory=[];var d=window.matchMedia("(pointer: fine) and (hover: hover)").matches,p="PointerEvent"in window;r.query("GET_ALLOW_REORDER")&&p&&!d&&(r.element.addEventListener("touchmove",Ai,{passive:!1}),r.element.addEventListener("gesturestart",Ai));var g=r.query("GET_CREDITS"),v=g.length===2;if(v){var T=document.createElement("a");T.className="filepond--credits",T.href=g[0],T.tabIndex=-1,T.target="_blank",T.rel="noopener noreferrer nofollow",T.textContent=g[1],r.element.appendChild(T),r.ref.credits=T}},"create"),Jp=i(function(t){var r=t.root,a=t.props,l=t.actions;if(rh({root:r,props:a,actions:l}),l.filter(function(Oe){return/^DID_SET_STYLE_/.test(Oe.type)}).filter(function(Oe){return!pt(Oe.data.value)}).map(function(Oe){var Ge=Oe.type,qe=Oe.data,kn=ll(Ge.substring(8).toLowerCase(),"_");r.element.dataset[kn]=qe.value,r.invalidateLayout()}),!r.rect.element.hidden){r.rect.element.width!==r.ref.widthPrevious&&(r.ref.widthPrevious=r.rect.element.width,r.ref.widthUpdated());var c=r.ref.bounds;c||(c=r.ref.bounds=th(r),r.element.removeChild(r.ref.measure),r.ref.measure=null);var d=r.ref,p=d.hopper,g=d.label,v=d.list,T=d.panel;p&&p.updateHopperState();var y=r.query("GET_PANEL_ASPECT_RATIO"),D=r.query("GET_ALLOW_MULTIPLE"),w=r.query("GET_TOTAL_ITEMS"),N=D?r.query("GET_MAX_FILES")||Xp:1,F=w===N,L=l.find(function(Oe){return Oe.type==="DID_ADD_ITEM"});if(F&&L){var U=L.data.interactionMethod;g.opacity=0,D?g.translateY=-40:U===_.API?g.translateX=40:U===_.BROWSE?g.translateY=40:g.translateY=30}else F||(g.opacity=1,g.translateX=0,g.translateY=0);var W=Zp(r),X=eh(r),V=g.rect.element.height,pe=!D||F?0:V,Y=F?v.rect.element.marginTop:0,Le=w===0?0:v.rect.element.marginBottom,Ce=pe+Y+X.visual+Le,q=pe+Y+X.bounds+Le;if(v.translateY=Math.max(0,pe-v.rect.element.marginTop)-W.top,y){var J=r.rect.element.width,te=J*y;y!==r.ref.previousAspectRatio&&(r.ref.previousAspectRatio=y,r.ref.updateHistory=[]);var H=r.ref.updateHistory;H.push(J);var K=2;if(H.length>K*2){for(var ne=H.length,we=ne-10,Re=0,re=ne;re>=we;re--)if(H[re]===H[re-2]&&Re++,Re>=K)return}T.scalable=!1,T.height=te;var x=te-pe-(Le-W.bottom)-(F?Y:0);X.visual>x?v.overflow=x:v.overflow=null,r.height=te}else if(c.fixedHeight){T.scalable=!1;var O=c.fixedHeight-pe-(Le-W.bottom)-(F?Y:0);X.visual>O?v.overflow=O:v.overflow=null}else if(c.cappedHeight){var $=Ce>=c.cappedHeight,ue=Math.min(c.cappedHeight,Ce);T.scalable=!0,T.height=$?ue:ue-W.top-W.bottom;var ge=ue-pe-(Le-W.bottom)-(F?Y:0);Ce>c.cappedHeight&&X.visual>ge?v.overflow=ge:v.overflow=null,r.height=Math.min(c.cappedHeight,q-W.top-W.bottom)}else{var Ie=w>0?W.top+W.bottom:0;T.scalable=!0,T.height=Math.max(V,Ce-Ie),r.height=Math.max(V,q-Ie)}r.ref.credits&&T.heightCurrent&&(r.ref.credits.style.transform="translateY("+T.heightCurrent+"px)")}},"write"),Zp=i(function(t){var r=t.ref.list.childViews[0].childViews[0];return r?{top:r.rect.element.marginTop,bottom:r.rect.element.marginBottom}:{top:0,bottom:0}},"calculateListItemMargin"),eh=i(function(t){var r=0,a=0,l=t.ref.list,c=l.childViews[0],d=c.childViews.filter(function(X){return X.rect.element.height}),p=t.query("GET_ACTIVE_ITEMS").map(function(X){return d.find(function(V){return V.id===X.id})}).filter(function(X){return X});if(p.length===0)return{visual:r,bounds:a};var g=c.rect.element.width,v=sa(c,p,l.dragCoordinates),T=p[0].rect.element,y=T.marginTop+T.marginBottom,D=T.marginLeft+T.marginRight,w=T.width+D,N=T.height+y,F=typeof v<"u"&&v>=0?1:0,L=p.find(function(X){return X.markedForRemoval&&X.opacity<.45})?-1:0,U=p.length+F+L,W=aa(g,w);return W===1?p.forEach(function(X){var V=X.rect.element.height+y;a+=V,r+=V*X.opacity}):(a=Math.ceil(U/W)*N,r=a),{visual:r,bounds:a}},"calculateListHeight"),th=i(function(t){var r=t.ref.measureHeight||null,a=parseInt(t.style.maxHeight,10)||null,l=r===0?null:r;return{cappedHeight:a,fixedHeight:l}},"calculateRootBoundingBoxHeight"),ga=i(function(t,r){var a=t.query("GET_ALLOW_REPLACE"),l=t.query("GET_ALLOW_MULTIPLE"),c=t.query("GET_TOTAL_ITEMS"),d=t.query("GET_MAX_FILES"),p=r.length;if(!l&&p>1)return t.dispatch("DID_THROW_MAX_FILES",{source:r,error:ze("warning",0,"Max files")}),!0;if(d=l?d:1,!l&&a)return!1;var g=kt(d);return g&&c+p>d?(t.dispatch("DID_THROW_MAX_FILES",{source:r,error:ze("warning",0,"Max files")}),!0):!1},"exceedsMaxFiles"),nh=i(function(t,r,a){var l=t.childViews[0];return sa(l,r,{left:a.scopeLeft-l.rect.element.left,top:a.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},"getDragIndex"),cl=i(function(t){var r=t.query("GET_ALLOW_DROP"),a=t.query("GET_DISABLED"),l=r&&!a;if(l&&!t.ref.hopper){var c=Vp(t.element,function(d){var p=t.query("GET_BEFORE_DROP_FILE")||function(){return!0},g=t.query("GET_DROP_VALIDATION");return g?d.every(function(v){return fn("ALLOW_HOPPER_ITEM",v,{query:t.query}).every(function(T){return T===!0})&&p(v)}):!0},{filterItems:i(function(p){var g=t.query("GET_IGNORED_FILES");return p.filter(function(v){return mn(v)?!g.includes(v.name.toLowerCase()):!0})},"filterItems"),catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});c.onload=function(d,p){var g=t.ref.list.childViews[0],v=g.childViews.filter(function(y){return y.rect.element.height}),T=t.query("GET_ACTIVE_ITEMS").map(function(y){return v.find(function(D){return D.id===y.id})}).filter(function(y){return y});Mt("ADD_ITEMS",d,{dispatch:t.dispatch}).then(function(y){if(ga(t,y))return!1;t.dispatch("ADD_ITEMS",{items:y,index:nh(t.ref.list,T,p),interactionMethod:_.DROP})}),t.dispatch("DID_DROP",{position:p}),t.dispatch("DID_END_DRAG",{position:p})},c.ondragstart=function(d){t.dispatch("DID_START_DRAG",{position:d})},c.ondrag=ul(function(d){t.dispatch("DID_DRAG",{position:d})}),c.ondragend=function(d){t.dispatch("DID_END_DRAG",{position:d})},t.ref.hopper=c,t.ref.drip=t.appendChildView(t.createChildView(lp))}else!l&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},"toggleDrop"),fl=i(function(t,r){var a=t.query("GET_ALLOW_BROWSE"),l=t.query("GET_DISABLED"),c=a&&!l;c&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Jd,Object.assign({},r,{onload:i(function(p){Mt("ADD_ITEMS",p,{dispatch:t.dispatch}).then(function(g){if(ga(t,g))return!1;t.dispatch("ADD_ITEMS",{items:g,index:-1,interactionMethod:_.BROWSE})})},"onload")})),0):!c&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},"toggleBrowse"),dl=i(function(t){var r=t.query("GET_ALLOW_PASTE"),a=t.query("GET_DISABLED"),l=r&&!a;l&&!t.ref.paster?(t.ref.paster=Hp(),t.ref.paster.onload=function(c){Mt("ADD_ITEMS",c,{dispatch:t.dispatch}).then(function(d){if(ga(t,d))return!1;t.dispatch("ADD_ITEMS",{items:d,index:-1,interactionMethod:_.PASTE})})}):!l&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},"togglePaste"),rh=Ye({DID_SET_ALLOW_BROWSE:i(function(t){var r=t.root,a=t.props;fl(r,a)},"DID_SET_ALLOW_BROWSE"),DID_SET_ALLOW_DROP:i(function(t){var r=t.root;cl(r)},"DID_SET_ALLOW_DROP"),DID_SET_ALLOW_PASTE:i(function(t){var r=t.root;dl(r)},"DID_SET_ALLOW_PASTE"),DID_SET_DISABLED:i(function(t){var r=t.root,a=t.props;cl(r),dl(r),fl(r,a);var l=r.query("GET_DISABLED");l?r.element.dataset.disabled="disabled":r.element.removeAttribute("data-disabled")},"DID_SET_DISABLED")}),ih=Be({name:"root",read:i(function(t){var r=t.root;r.ref.measure&&(r.ref.measureHeight=r.ref.measure.offsetHeight)},"read"),create:Qp,write:Jp,destroy:i(function(t){var r=t.root;r.ref.paster&&r.ref.paster.destroy(),r.ref.hopper&&r.ref.hopper.destroy(),r.element.removeEventListener("touchmove",Ai),r.element.removeEventListener("gesturestart",Ai)},"destroy"),mixins:{styles:["height"]}}),oh=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=null,a=hi(),l=e(ar(a),[Df,E(a)],[$f,ko(a)]);l.dispatch("SET_OPTIONS",{options:t});var c=i(function(){document.hidden||l.dispatch("KICK")},"visibilityHandler");document.addEventListener("visibilitychange",c);var d=null,p=!1,g=!1,v=null,T=null,y=i(function(){p||(p=!0),clearTimeout(d),d=setTimeout(function(){p=!1,v=null,T=null,g&&(g=!1,l.dispatch("DID_STOP_RESIZE"))},500)},"resizeHandler");window.addEventListener("resize",y);var D=ih(l,{id:b()}),w=!1,N=!1,F={_read:i(function(){p&&(T=window.innerWidth,v||(v=T),!g&&T!==v&&(l.dispatch("DID_START_RESIZE"),g=!0)),N&&w&&(w=D.element.offsetParent===null),!w&&(D._read(),N=D.rect.element.hidden)},"_read"),_write:i(function(x){var O=l.processActionQueue().filter(function($){return!/^SET_/.test($.type)});w&&!O.length||(X(O),w=D._write(x,O,g),ff(l.query("GET_ITEMS")),w&&l.processDispatchQueue())},"_write")},L=i(function(x){return function(O){var $={type:x};if(!O)return $;if(O.hasOwnProperty("error")&&($.error=O.error?Object.assign({},O.error):null),O.status&&($.status=Object.assign({},O.status)),O.file&&($.output=O.file),O.source)$.file=O.source;else if(O.item||O.id){var ue=O.item?O.item:l.query("GET_ITEM",O.id);$.file=ue?gt(ue):null}return O.items&&($.items=O.items.map(gt)),/progress/.test(x)&&($.progress=O.progress),O.hasOwnProperty("origin")&&O.hasOwnProperty("target")&&($.origin=O.origin,$.target=O.target),$}},"createEvent"),U={DID_DESTROY:L("destroy"),DID_INIT:L("init"),DID_THROW_MAX_FILES:L("warning"),DID_INIT_ITEM:L("initfile"),DID_START_ITEM_LOAD:L("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:L("addfileprogress"),DID_LOAD_ITEM:L("addfile"),DID_THROW_ITEM_INVALID:[L("error"),L("addfile")],DID_THROW_ITEM_LOAD_ERROR:[L("error"),L("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[L("error"),L("removefile")],DID_PREPARE_OUTPUT:L("preparefile"),DID_START_ITEM_PROCESSING:L("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:L("processfileprogress"),DID_ABORT_ITEM_PROCESSING:L("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:L("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:L("processfiles"),DID_REVERT_ITEM_PROCESSING:L("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[L("error"),L("processfile")],DID_REMOVE_ITEM:L("removefile"),DID_UPDATE_ITEMS:L("updatefiles"),DID_ACTIVATE_ITEM:L("activatefile"),DID_REORDER_ITEMS:L("reorderfiles")},W=i(function(x){var O=Object.assign({pond:Re},x);delete O.type,D.element.dispatchEvent(new CustomEvent("FilePond:"+x.type,{detail:O,bubbles:!0,cancelable:!0,composed:!0}));var $=[];x.hasOwnProperty("error")&&$.push(x.error),x.hasOwnProperty("file")&&$.push(x.file);var ue=["type","error","file"];Object.keys(x).filter(function(Ie){return!ue.includes(Ie)}).forEach(function(Ie){return $.push(x[Ie])}),Re.fire.apply(Re,[x.type].concat($));var ge=l.query("GET_ON"+x.type.toUpperCase());ge&&ge.apply(void 0,$)},"exposeEvent"),X=i(function(x){x.length&&x.filter(function(O){return U[O.type]}).forEach(function(O){var $=U[O.type];(Array.isArray($)?$:[$]).forEach(function(ue){O.type==="DID_INIT_ITEM"?W(ue(O.data)):setTimeout(function(){W(ue(O.data))},0)})})},"routeActionsToEvents"),V=i(function(x){return l.dispatch("SET_OPTIONS",{options:x})},"setOptions"),pe=i(function(x){return l.query("GET_ACTIVE_ITEM",x)},"getFile"),Y=i(function(x){return new Promise(function(O,$){l.dispatch("REQUEST_ITEM_PREPARE",{query:x,success:i(function(ge){O(ge)},"success"),failure:i(function(ge){$(ge)},"failure")})})},"prepareFile"),Le=i(function(x){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function($,ue){J([{source:x,options:O}],{index:O.index}).then(function(ge){return $(ge&&ge[0])}).catch(ue)})},"addFile"),Ce=i(function(x){return x.file&&x.id},"isFilePondFile"),q=i(function(x,O){return typeof x=="object"&&!Ce(x)&&!O&&(O=x,x=void 0),l.dispatch("REMOVE_ITEM",Object.assign({},O,{query:x})),l.query("GET_ACTIVE_ITEM",x)===null},"removeFile"),J=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];return new Promise(function(ue,ge){var Ie=[],Oe={};if(un(O[0]))Ie.push.apply(Ie,O[0]),Object.assign(Oe,O[1]||{});else{var Ge=O[O.length-1];typeof Ge=="object"&&!(Ge instanceof Blob)&&Object.assign(Oe,O.pop()),Ie.push.apply(Ie,O)}l.dispatch("ADD_ITEMS",{items:Ie,index:Oe.index,interactionMethod:_.API,success:ue,failure:ge})})},"addFiles"),te=i(function(){return l.query("GET_ACTIVE_ITEMS")},"getFiles"),H=i(function(x){return new Promise(function(O,$){l.dispatch("REQUEST_ITEM_PROCESSING",{query:x,success:i(function(ge){O(ge)},"success"),failure:i(function(ge){$(ge)},"failure")})})},"processFile"),K=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];var ue=Array.isArray(O[0])?O[0]:O,ge=ue.length?ue:te();return Promise.all(ge.map(Y))},"prepareFiles"),ne=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];var ue=Array.isArray(O[0])?O[0]:O;if(!ue.length){var ge=te().filter(function(Ie){return!(Ie.status===le.IDLE&&Ie.origin===et.LOCAL)&&Ie.status!==le.PROCESSING&&Ie.status!==le.PROCESSING_COMPLETE&&Ie.status!==le.PROCESSING_REVERT_ERROR});return Promise.all(ge.map(H))}return Promise.all(ue.map(H))},"processFiles"),we=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];var ue=Array.isArray(O[0])?O[0]:O,ge;typeof ue[ue.length-1]=="object"?ge=ue.pop():Array.isArray(O[0])&&(ge=O[1]);var Ie=te();if(!ue.length)return Promise.all(Ie.map(function(Ge){return q(Ge,ge)}));var Oe=ue.map(function(Ge){return ot(Ge)?Ie[Ge]?Ie[Ge].id:null:Ge}).filter(function(Ge){return Ge});return Oe.map(function(Ge){return q(Ge,ge)})},"removeFiles"),Re=Object.assign({},pi(),{},F,{},Vo(l,a),{setOptions:V,addFile:Le,addFiles:J,getFile:pe,processFile:H,prepareFile:Y,removeFile:q,moveFile:i(function(x,O){return l.dispatch("MOVE_ITEM",{query:x,index:O})},"moveFile"),getFiles:te,processFiles:ne,removeFiles:we,prepareFiles:K,sort:i(function(x){return l.dispatch("SORT",{compare:x})},"sort"),browse:i(function(){var x=D.element.querySelector("input[type=file]");x&&x.click()},"browse"),destroy:i(function(){Re.fire("destroy",D.element),l.dispatch("ABORT_ALL"),D._destroy(),window.removeEventListener("resize",y),document.removeEventListener("visibilitychange",c),l.dispatch("DID_DESTROY")},"destroy"),insertBefore:i(function(x){return ln(D.element,x)},"insertBefore$1"),insertAfter:i(function(x){return Jr(D.element,x)},"insertAfter$1"),appendTo:i(function(x){return x.appendChild(D.element)},"appendTo"),replaceElement:i(function(x){ln(D.element,x),x.parentNode.removeChild(x),r=x},"replaceElement"),restoreElement:i(function(){r&&(Jr(r,D.element),D.element.parentNode.removeChild(D.element),r=null)},"restoreElement"),isAttachedTo:i(function(x){return D.element===x||r===x},"isAttachedTo"),element:{get:i(function(){return D.element},"get")},status:{get:i(function(){return l.query("GET_STATUS")},"get")}});return l.dispatch("DID_INIT"),m(Re)},"createApp"),pl=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r={};f(hi(),function(l,c){r[l]=c[0]});var a=oh(Object.assign({},r,{},t));return a},"createAppObject"),ah=i(function(t){return t.charAt(0).toLowerCase()+t.slice(1)},"lowerCaseFirstLetter"),sh=i(function(t){return ll(t.replace(/^data-/,""))},"attributeNameToPropertyName"),lh=i(function u(t,r){f(r,function(a,l){f(t,function(c,d){var p=new RegExp(a),g=p.test(c);if(g&&(delete t[c],l!==!1)){if(it(l)){t[l]=d;return}var v=l.group;$e(l)&&!t[v]&&(t[v]={}),t[v][ah(c.replace(p,""))]=d}}),l.mapping&&u(t[l.group],l.mapping)})},"mapObject"),uh=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[];f(t.attributes,function(c){a.push(t.attributes[c])});var l=a.filter(function(c){return c.name}).reduce(function(c,d){var p=h(t,d.name);return c[sh(d.name)]=p===d.name?!0:p,c},{});return lh(l,r),l},"getAttributesAsObject"),ch=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};fn("SET_ATTRIBUTE_TO_OPTION_MAP",a);var l=Object.assign({},r),c=uh(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,a);Object.keys(c).forEach(function(p){$e(c[p])?($e(l[p])||(l[p]={}),Object.assign(l[p],c[p])):l[p]=c[p]}),l.files=(r.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(p){return{source:p.value,options:{type:p.dataset.type}}}));var d=pl(l);return t.files&&Array.from(t.files).forEach(function(p){d.addFile(p)}),d.replaceElement(t),d},"createAppAtElement"),fh=i(function(){return n(arguments.length<=0?void 0:arguments[0])?ch.apply(void 0,arguments):pl.apply(void 0,arguments)},"createApp"),dh=["fire","_read","_write"],hl=i(function(t){var r={};return cs(t,r,dh),r},"createAppAPI"),ph=i(function(t,r){return t.replace(/(?:{([a-zA-Z]+)})/g,function(a,l){return r[l]})},"replaceInString"),hh=i(function(t){var r=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),a=URL.createObjectURL(r),l=new Worker(a);return{transfer:i(function(d,p){},"transfer"),post:i(function(d,p,g){var v=b();l.onmessage=function(T){T.data.id===v&&p(T.data.message)},l.postMessage({id:v,message:d},g)},"post"),terminate:i(function(){l.terminate(),URL.revokeObjectURL(a)},"terminate")}},"createWorker"),mh=i(function(t){return new Promise(function(r,a){var l=new Image;l.onload=function(){r(l)},l.onerror=function(c){a(c)},l.src=t})},"loadImage"),ml=i(function(t,r){var a=t.slice(0,t.size,t.type);return a.lastModifiedDate=t.lastModifiedDate,a.name=r,a},"renameFile"),gh=i(function(t){return ml(t,t.name)},"copyFile"),gl=[],Eh=i(function(t){if(!gl.includes(t)){gl.push(t);var r=t({addFilter:pf,utils:{Type:M,forin:f,isString:it,isFile:mn,toNaturalFileSize:Cs,replaceInString:ph,getExtensionFromFilename:gi,getFilenameWithoutExtension:ys,guesstimateMimeType:Zs,getFileFromBlob:Bn,getFilenameFromURL:cr,createRoute:Ye,createWorker:hh,createView:Be,createItemAPI:gt,loadImage:mh,copyFile:gh,renameFile:ml,createBlob:Es,applyFilterChain:Mt,text:We,getNumericAspectRatioFromString:ps},views:{fileActionButton:Ls}});hf(r.options)}},"createAppPlugin"),vh=i(function(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},"isOperaMini"),_h=i(function(){return"Promise"in window},"hasPromises"),Th=i(function(){return"slice"in Blob.prototype},"hasBlobSlice"),Ih=i(function(){return"URL"in window&&"createObjectURL"in window.URL},"hasCreateObjectURL"),yh=i(function(){return"visibilityState"in document},"hasVisibility"),Dh=i(function(){return"performance"in window},"hasTiming"),bh=i(function(){return"supports"in(window.CSS||{})},"hasCSSSupports"),Ah=i(function(){return/MSIE|Trident/.test(window.navigator.userAgent)},"isIE11"),Ea=function(){var u=j()&&!vh()&&yh()&&_h()&&Th()&&Ih()&&Dh()&&(bh()||Ah());return function(){return u}}(),Qt={apps:[]},Oh="filepond",En=i(function(){},"fn");if(o.Status={},o.FileStatus={},o.FileOrigin={},o.OptionTypes={},o.create=En,o.destroy=En,o.parse=En,o.find=En,o.registerPlugin=En,o.getOptions=En,o.setOptions=En,Ea()){Rn(function(){Qt.apps.forEach(function(u){return u._read()})},function(u){Qt.apps.forEach(function(t){return t._write(u)})});var El=i(function u(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ea,create:o.create,destroy:o.destroy,parse:o.parse,find:o.find,registerPlugin:o.registerPlugin,setOptions:o.setOptions}})),document.removeEventListener("DOMContentLoaded",u)},"dispatch");document.readyState!=="loading"?setTimeout(function(){return El()},0):document.addEventListener("DOMContentLoaded",El);var vl=i(function(){return f(hi(),function(t,r){o.OptionTypes[t]=r[1]})},"updateOptionTypes");o.Status=Object.assign({},Un),o.FileOrigin=Object.assign({},et),o.FileStatus=Object.assign({},le),o.OptionTypes={},vl(),o.create=i(function(){var t=fh.apply(void 0,arguments);return t.on("destroy",o.destroy),Qt.apps.push(t),hl(t)},"create"),o.destroy=i(function(t){var r=Qt.apps.findIndex(function(l){return l.isAttachedTo(t)});if(r>=0){var a=Qt.apps.splice(r,1)[0];return a.restoreElement(),!0}return!1},"destroy"),o.parse=i(function(t){var r=Array.from(t.querySelectorAll("."+Oh)),a=r.filter(function(l){return!Qt.apps.find(function(c){return c.isAttachedTo(l)})});return a.map(function(l){return o.create(l)})},"parse"),o.find=i(function(t){var r=Qt.apps.find(function(a){return a.isAttachedTo(t)});return r?hl(r):null},"find"),o.registerPlugin=i(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];r.forEach(Eh),vl()},"registerPlugin"),o.getOptions=i(function(){var t={};return f(hi(),function(r,a){t[r]=a[0]}),t},"getOptions$1"),o.setOptions=i(function(t){return $e(t)&&(Qt.apps.forEach(function(r){r.setOptions(t)}),mf(t)),o.getOptions()},"setOptions$1")}o.supported=Ea,Object.defineProperty(o,"__esModule",{value:!0})})});var qc=bl((Xa,Qa)=>{(function(o,n){typeof Xa=="object"&&typeof Qa<"u"?Qa.exports=n():typeof define=="function"&&define.amd?define(n):(o=typeof globalThis<"u"?globalThis:o||self,o.weekSelect=n())})(Xa,function(){"use strict";function o(e){try{if(typeof e.composedPath=="function"){var s=e.composedPath();return s[0]}return e.target}catch{return e.target}}i(o,"getEventTarget");function n(){return function(e){function s(A){var S=o(A);if(S.classList.contains("flatpickr-day"))for(var C=e.days.childNodes,P=S.$i,G=P/7,ae=C[7*Math.floor(G)].dateObj,k=C[7*Math.ceil(G+.01)-1].dateObj,j=C.length;j--;){var he=C[j],ve=he.dateObj;ve>k||ve<ae?he.classList.remove("inRange"):he.classList.add("inRange")}}i(s,"onDayHover");function f(){var A=e.latestSelectedDateObj;A!==void 0&&A.getMonth()===e.currentMonth&&A.getFullYear()===e.currentYear&&(e.weekStartDay=e.days.childNodes[7*Math.floor(e.selectedDateElem.$i/7)].dateObj,e.weekEndDay=e.days.childNodes[7*Math.ceil(e.selectedDateElem.$i/7+.01)-1].dateObj);for(var S=e.days.childNodes,C=S.length;C--;){var P=S[C].dateObj;P>=e.weekStartDay&&P<=e.weekEndDay&&S[C].classList.add("week","selected")}}i(f,"highlightWeek");function m(){for(var A=e.days.childNodes,S=A.length;S--;)A[S].classList.remove("inRange")}i(m,"clearHover");function h(){e.daysContainer!==void 0&&e.daysContainer.addEventListener("mouseover",s)}i(h,"onReady");function I(){e.daysContainer!==void 0&&e.daysContainer.removeEventListener("mouseover",s)}return i(I,"onDestroy"),{onValueUpdate:f,onMonthChange:f,onYearChange:f,onOpen:f,onClose:m,onParseConfig:i(function(){e.config.mode="single",e.config.enableTime=!1,e.config.dateFormat=e.config.dateFormat?e.config.dateFormat:"\\W\\e\\e\\k #W, Y",e.config.altFormat=e.config.altFormat?e.config.altFormat:"\\W\\e\\e\\k #W, Y"},"onParseConfig"),onReady:[h,f,function(){e.loadedPlugins.push("weekSelect")}],onDestroy:I}}}return i(n,"weekSelectPlugin"),n})});var Zt=Object.getPrototypeOf,gr,_a,Hn,mr,Sl={isConnected:1},Vh=1e3,Oi,kh={},Yh=Zt(Sl),Rl=Zt(Zt),_n,Ll=i((o,n,e,s)=>(o??(setTimeout(e,s),new Set)).add(n),"addAndScheduleOnFirst"),Cl=i((o,n,e)=>{let s=Hn;Hn=n;try{return o(e)}catch(f){return console.error(f),e}finally{Hn=s}},"runAndCaptureDeps"),Si=i(o=>o.filter(n=>n._dom?.isConnected),"keepConnected"),wl=i(o=>Oi=Ll(Oi,o,()=>{for(let n of Oi)n._bindings=Si(n._bindings),n._listeners=Si(n._listeners);Oi=_n},Vh),"addStatesToGc"),Ri={get val(){return Hn?._getters?.add(this),this.rawVal},get oldVal(){return Hn?._getters?.add(this),this._oldVal},set val(o){Hn?._setters?.add(this),o!==this.rawVal&&(this.rawVal=o,this._bindings.length+this._listeners.length?(_a?.add(this),gr=Ll(gr,this,Hh)):this._oldVal=o)}},Pl=i(o=>({__proto__:Ri,rawVal:o,_oldVal:o,_bindings:[],_listeners:[]}),"state"),Er=i((o,n)=>{let e={_getters:new Set,_setters:new Set},s={f:o},f=mr;mr=[];let m=Cl(o,e,n);m=(m??document).nodeType?m:new Text(m);for(let h of e._getters)e._setters.has(h)||(wl(h),h._bindings.push(s));for(let h of mr)h._dom=m;return mr=f,s._dom=m},"bind"),Ta=i((o,n=Pl(),e)=>{let s={_getters:new Set,_setters:new Set},f={f:o,s:n};f._dom=e??mr?.push(f)??Sl,n.val=Cl(o,s,n.rawVal);for(let m of s._getters)s._setters.has(m)||(wl(m),m._listeners.push(f));return n},"derive"),Ml=i((o,...n)=>{for(let e of n.flat(1/0)){let s=Zt(e??0),f=s===Ri?Er(()=>e.val):s===Rl?Er(e):e;f!=_n&&o.append(f)}return o},"add"),Nl=i((o,n,...e)=>{let[{is:s,...f},...m]=Zt(e[0]??0)===Yh?e:[{},...e],h=o?document.createElementNS(o,n,{is:s}):document.createElement(n,{is:s});for(let[I,A]of Object.entries(f)){let S=i(k=>k?Object.getOwnPropertyDescriptor(k,I)??S(Zt(k)):_n,"getPropDescriptor"),C=n+","+I,P=kh[C]??=S(Zt(h))?.set??0,G=I.startsWith("on")?(k,j)=>{let he=I.slice(2);h.removeEventListener(he,j),h.addEventListener(he,k)}:P?P.bind(h):h.setAttribute.bind(h,I),ae=Zt(A??0);I.startsWith("on")||ae===Rl&&(A=Ta(A),ae=Ri),ae===Ri?Er(()=>(G(A.val,A._oldVal),h)):G(A)}return Ml(h,m)},"tag"),Ol=i(o=>({get:i((n,e)=>Nl.bind(_n,o,e),"get")}),"handler"),Fl=i((o,n)=>n?n!==o&&o.replaceWith(n):o.remove(),"update"),Hh=i(()=>{let o=0,n=[...gr].filter(s=>s.rawVal!==s._oldVal);do{_a=new Set;for(let s of new Set(n.flatMap(f=>f._listeners=Si(f._listeners))))Ta(s.f,s.s,s._dom),s._dom=_n}while(++o<100&&(n=[..._a]).length);let e=[...gr].filter(s=>s.rawVal!==s._oldVal);gr=_n;for(let s of new Set(e.flatMap(f=>f._bindings=Si(f._bindings))))Fl(s._dom,Er(s.f,s._dom)),s._dom=_n;for(let s of e)s._oldVal=s.rawVal},"updateDoms"),xl={tags:new Proxy(o=>new Proxy(Nl,Ol(o)),Ol()),hydrate:i((o,n)=>Fl(o,Er(n,o)),"hydrate"),add:Ml,state:Pl,derive:Ta};function Ia(o,n,e){let s=[];if(e&&(s[0]=e),n||(n="span"),Array.isArray(o)){let f=o.length,m=f;for(;f;--f)s.push(o[m-f])}else s.push(o);return xl.tags[n].apply(null,s)}i(Ia,"htm");function qh(o){if(window._hCaptchaOnLoadPromise)return window._hCaptchaOnLoadPromise;if(window.hcaptcha)return console.warn("[@hcaptcha/vanilla-hcaptcha]: hCaptcha JS API detected to be externally loaded. Unless you know what are you doing, this task should be delegated to this web component."),window._hCaptchaOnLoadPromise=Promise.resolve(),window._hCaptchaOnLoadPromise;{let n,e;window._hCaptchaOnLoadPromise=new Promise((m,h)=>{n=m,e=h,window._hCaptchaOnLoad=n});let s=function(m){let h=m.jsapi;return h=Bt(h,"render","explicit"),h=Bt(h,"onload","_hCaptchaOnLoad"),h=Bt(h,"recaptchacompat",m.recaptchacompat==="false"?"off":void 0),h=Bt(h,"host",m.host),h=Bt(h,"hl",m.hl),h=Bt(h,"sentry",m.sentry==="false"?"false":"true"),h=Bt(h,"endpoint",m.endpoint),h=Bt(h,"assethost",m.assethost),h=Bt(h,"imghost",m.imghost),h=Bt(h,"reportapi",m.reportapi),h}(o),f=document.createElement("script");return f.src=s,f.async=!0,f.defer=!0,f.onerror=m=>{let h=`Failed to load hCaptcha JS API: "${s}"`;console.error(h,m),e(h)},document.head.appendChild(f),window._hCaptchaOnLoadPromise}}i(qh,"t");function Bt(o,n,e){if(e!=null){let s=o.includes("?")?"&":"?";return o+s+n+"="+encodeURIComponent(e)}return o}i(Bt,"e");var ya="[@hcaptcha/vanilla-hcaptcha]:",Gt=class o extends Error{static{i(this,"i")}constructor(n){super(`${ya}: ${n}`),Object.setPrototypeOf(this,o.prototype)}},en={notRendered:'hCaptcha was not yet rendered. Please call "render()" first.',apiNotLoaded:i(o=>`hCaptcha JS API was not loaded yet. Please wait for \`loaded\` event to safely call "${o}".`,"apiNotLoaded")},Da=class extends HTMLElement{static{i(this,"o")}constructor(){super(...arguments),this.hcaptchaId=void 0,this.loadJsApiTimeout=void 0,this.jsApiLoaded=!1}connectedCallback(){this.tryLoadingJsApi()}disconnectedCallback(){this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout)}static get observedAttributes(){return["jsapi","host","endpoint","reportapi","assethost","imghost","hl","sentry","recaptchacompat"]}attributeChangedCallback(){this.tryLoadingJsApi()}isJsApiConfigValid(n){let e=!["jsapi","host","endpoint","reportapi","assethost","imghost"].some(s=>{var f;return n[s]&&!(!((f=n[s])===null||f===void 0)&&f.match(/^\w/))});return n.hl&&!n.hl.match(/[\w-]+/)&&(e=!1),n.sentry&&["true","false"].indexOf(n.sentry)===-1&&(e=!1),n.recaptchacompat&&["true","false"].indexOf(n.recaptchacompat)===-1&&(e=!1),e}tryLoadingJsApi(){let n=this.getJsApiConfig();this.isJsApiConfigValid(n)&&(this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout),this.loadJsApiTimeout=setTimeout(()=>{this.jsApiLoaded&&console.error(`${ya} JS API attributes cannot change once hCaptcha JS API is loaded.`),this.jsApiLoaded=!0,qh(n).then(this.onApiLoaded.bind(this)).catch(this.onError.bind(this))},1))}getAttr(n){return this.getAttribute(n)||void 0}getJsApiConfig(){return{host:this.getAttr("host"),hl:this.getAttr("hl"),sentry:this.getAttr("sentry"),recaptchacompat:this.getAttr("recaptchacompat"),jsapi:this.getAttr("jsapi")||"https://js.hcaptcha.com/1/api.js",endpoint:this.getAttr("endpoint"),reportapi:this.getAttr("reportapi"),assethost:this.getAttr("assethost"),imghost:this.getAttr("imghost")}}onApiLoaded(){if(this.$emit("loaded"),this.getAttr("auto-render")==="false")return;let n=this.getAttr("rqdata"),e=this.getAttr("tabindex"),s=this.getAttr("sitekey")||this.getAttr("site-key"),f=this.getAttr("challenge-container");if(!s)return;let m={sitekey:s,theme:this.getAttr("theme"),size:this.getAttr("size"),hl:this.getAttr("hl"),tplinks:this.getAttr("tplinks")==="off"?"off":"on",tabindex:e?parseInt(e):void 0,custom:this.getAttr("custom")==="true"};f&&(m["challenge-container"]=f),this.render(m),n&&this.setData(n)}onError(n){console.error(n),this.$emit("error",{error:n})}$emit(n,e){let s;typeof Event=="function"?s=new Event(n):(s=document.createEvent("Event"),s.initEvent(n,!1,!1)),e&&Object.assign(s,e),this.dispatchEvent(s)}render(n){if(!hcaptcha)throw new Gt(en.apiNotLoaded("render"));this.hcaptchaId?console.warn(`${ya} hCaptcha was already rendered. You may want to call 'reset()' first.`):this.hcaptchaId=hcaptcha.render(this,Object.assign(Object.assign({},n),{callback:i(()=>{let e=hcaptcha.getResponse(this.hcaptchaId),s=hcaptcha.getRespKey(this.hcaptchaId);this.$emit("verified",{token:e,eKey:s,key:e})},"callback"),"expired-callback":i(()=>{this.$emit("expired")},"expired-callback"),"chalexpired-callback":i(()=>{this.$emit("challenge-expired")},"chalexpired-callback"),"error-callback":this.onError.bind(this),"open-callback":i(()=>{this.$emit("opened")},"open-callback"),"close-callback":i(()=>{this.$emit("closed")},"close-callback")}))}setData(n){if(!this.hcaptchaId)throw new Gt(en.notRendered);hcaptcha.setData(this.hcaptchaId,{rqdata:n})}execute(){if(!hcaptcha)throw new Gt(en.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new Gt(en.notRendered);hcaptcha.execute(this.hcaptchaId)}executeAsync(){if(!hcaptcha)throw new Gt(en.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new Gt(en.notRendered);return hcaptcha.execute(this.hcaptchaId,{async:!0})}reset(){if(!hcaptcha)throw new Gt(en.apiNotLoaded("reset"));if(!this.hcaptchaId)throw new Gt(en.notRendered);hcaptcha.reset(this.hcaptchaId)}};customElements.define("h-captcha",Da);var Bl=null,Gl=!1,Ul={},qn=i((o,n,e)=>{let s=null;return(...f)=>{s&&window.clearTimeout(s),s=window.setTimeout(()=>{o.apply(e,f)},n)}},"debounce"),se=i((o,n)=>{n.append(o)},"mountElement"),zt=i(o=>{o.parentNode?.removeChild(o)},"unmountElement"),Aa=i((o,n,e)=>{let s=n||new FormData,f;for(let m in o)Object.prototype.hasOwnProperty.call(o,m)&&(e?f=e+"["+m+"]":f=m,o[m]==null?s.append(f,""):typeof o[m]=="object"&&!(o[m]instanceof File)?Aa(o[m],s,m):s.append(f,o[m]));return s},"objectToFormData"),jh=i(o=>Li.includes(o),"isField"),zh=i(o=>Ci.includes(o),"isGroup"),Wh=i(o=>wi.includes(o),"isButton"),Vl=i(o=>jh(o)?Ee.field:zh(o)?Ee.group:Wh(o)?Ee.button:null,"getFormElementType");var kl=i((o,n,e)=>o+"["+n+"]"+e,"transformFieldName"),Tn=i((o,n)=>Wl+o+Kl+n,"generateFieldSaveKey"),Kh=i(o=>o instanceof Date&&!isNaN(o),"isDateValid"),$h=i((o,n)=>{let e=new Date(o);return e.setDate(e.getDate()+n),e},"calculateDateAfterAddingDays"),Xh=i(o=>o.match(/^([a-zA-Z]+)@(\d+)$/),"parseKey"),Qh=i(o=>$l.includes(o),"isKeyInLicenseKeys"),Jh=i(o=>$h(o,-tu),"calculateMinPurchaseDate"),Zh=i((o,n)=>n<o?St.VALID:St.OUTDATED,"determineLicenseState"),Yl=i(()=>{let o=Bl;if(!o)return St.INVALID;if(Qh(o))return St.VALID;let n=Xh(o);if(n?.[1]?.length===10){let[,,e]=n,s=new Date(parseInt(e,10)*1e3),f=new Date(nu);if(Kh(f)){let m=Jh(f);return Zh(s,m)}}return St.INVALID},"processLicenseKey"),Oa=i(o=>{Bl=o},"setLicenseKey"),Hl=i(o=>o===St.VALID?Xl:o===St.OUTDATED?Jl:Ql,"getLicenseText"),ql=i(o=>{o===St.INVALID?console.error(Zl):console.error(eu)},"handleInvalidLicenseLog"),Sa=i(()=>Gl,"usesLicensedFetures"),vr=i(()=>{Gl=!0},"useLicensedFetures"),Rt=i(o=>o.split(jl).filter(n=>n.includes(ba)).map(n=>{let[e,s]=n.split(ba);return{conditions:e.replace(/^\[|\]$/g,"").split("&&").map(m=>m.split("||").map(h=>{let I=h.match(/(.*?)(=|!=|>|<|>=|<=)(.*)/);if(!I)throw new Error(`Invalid condition format: ${h}`);let[,A,S,C]=I,P,G=C.trim().startsWith(zl);if(G)P=new Date(C.trim().substring(5));else try{P=JSON.parse(C.trim())}catch{P=C.trim()}return{left:A.trim(),operator:S,right:P,isDate:G}})),returnValue:s}}),"parseConditionString"),Lt=i((o,n,e=null,s=null,f=!1)=>{for(let{conditions:m,returnValue:h}of o)if(m.every(A=>A.some(({left:S,operator:C,right:P})=>{let G={_value:e,_required:s,...n},ae=em(G,S);return tm(C,ae,P)})))try{return JSON.parse(h)}catch{return h}return f},"evaluateParsedConditions"),em=i((o,n)=>n.split(".").reduce((e,s)=>e&&e[s],o),"getNestedValue"),tm=i((o,n,e)=>{switch(o){case"=":return n===e;case"!=":return n!==e;case">":return n>e;case"<":return n<e;case">=":return n>=e;case"<=":return n<=e}},"compareValues"),jn=i(o=>{try{JSON.parse(o)}catch{return!1}return!0},"isJson");var Ct=i((o,n)=>Object.keys(Ul).includes(o)?Object.assign({},n,Ul[o]):n,"getOverwritenDefaults");var ru="https://formsjs.io/documentation/v1/licensing",iu="#",ou="position: fixed !important; font-weight: bold; font-size: .8rem;  bottom: 1rem !important;  left: 1rem !important;  background: #fff;  border: 2px solid red;  padding: .5rem;  border-radius: 0.15rem;  z-index: 99999 !important;  display: inline-flex !important;  align-items: center;  color: red;  text-decoration: none;  transition: 0.2s linear;",jl=";",ba=":",zl="date!",au="formsjs-form",su="form-button-container",lu="form-group-container",uu="form-group",cu="form-group-label",fu="btn form-button",Ve="form-input",du="form-field-container",tn="form-field",In="form-field-label",pu="form-field-validation",zn="form-error",Ra="field-disabled",La="field-required",hu="form-input-checkbox",mu="is-toggle",gu="toggle-slider",Eu="form-input-color",vu="form-input-radio",_u="form-input-range",Tu="form-input-range-min",Iu="form-input-range-max",yu="form-input-range-value",Du="form-input-select",bu="form-input-static",Au="password-container",Ca="pass-shown",wa="pass-hidden",De="This field is required",Ou="Not a valid email address",Su="Not a valid telephone number",Ru="Not a valid url address",Pi="The value should be bigger than ",Mi="The value should be less than ",tt="div",yn="span",Wn="label",Lu="form",Cu="a",Ni="button",Xe="input",Dn="p",wu="h3",Pu="output",Mu="select",Nu="option",Fu="optgroup",xu="textarea",Vt="_container",Wt="_label",Uu="_validation",Bu="_group_container",Wl="__formsjs_",Kl="_field_",Gu="_min",Vu="_max",ku="_value",oe="id",Yu="action",Hu="method",qu="submit",ju="reset",Me="type",zu="href",Fi="click",Wu="input",ke="name",st="placeholder",Kn="for",$n="aria-invalid",Xn="aria-describedby",bn="disabled";var wt="checked",Qe="change",xi="multiple",Ku="accept",Ui="min",Bi="max",Gi="step",_r="value",Vi="label",An="selected",$u="rows",Tr="group",Pa="button",Ir="checkbox",yr="color",Dr="date",br="datetime",Ar="email",Or="file",Sr="hidden",Rr="number",Qn="password",Lr="radio",Cr="range",wr="select",Pr="static",Mr="tel",Nr="textarea",On="text",Fr="time",xr="url",Ur="week";var Li=[],Ci=[],wi=[];var Ee={field:"field",group:"group",button:"button"},Ma={},$l=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Xl="forms.js license key is valid",Ql="forms.js license key is invalid",Jl="forms.js license key is outdated",Zl="forms.js license key is invalid, please use a valid license key.",eu="forms.js license key is outdated, please update your license key.",tu=372,St={VALID:1,OUTDATED:2,INVALID:3},nu="2024-05-08",je=i((o,n,e,s=!1)=>{switch(e){case Ee.button:wi.push(o);break;case Ee.group:Ci.push(o);break;case Ee.field:Li.push(o);break}s&&vr(),Ma[o]=n},"registerConstructor");var Te=class{static{i(this,"Field")}options={id:"",type:On,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),default:"",debounce:200,className:Ve};inputElement=null;containerElement=null;labelElement=null;validationElement=null;hasScheme=!1;_id;_parent;_form;_isValid=null;_isDisabled=!1;_isRequired=!1;_isMounted=!1;_isVisible=!0;_saveKey;_vMessage=null;_value=null;_type;_parsedConditions=null;_parsedValidationConditions=null;_parsedRequiredConditions=null;_parsedDisabledConditions=null;_triggerEvents=!0;constructor(n,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=n,this._type=s.type,this._saveKey=Tn(this._form.getId(),this._id)}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),this.load(),this.update(),this.bindChange()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions)),typeof this.options.disabled=="string"&&(this._parsedDisabledConditions=Rt(this.options.disabled)),typeof this.options.required=="string"&&(this._parsedRequiredConditions=Rt(this.options.required)),typeof this.options.validation=="string"&&(this._parsedValidationConditions=Rt(this.options.validation))}setValue(n,e=!0){this._value=n,this.syncValue(),this._form.setData(this._id,n),e&&this.save()}syncValue(){this.inputElement&&(this.inputElement instanceof HTMLInputElement||this.inputElement instanceof HTMLTextAreaElement)&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getValidity(){return this._isValid}isDisabled(){return this._isDisabled}isRequired(){return this._isRequired}getValidationMessage(){return this._vMessage}getForm(){return this._form}createContainerElement(){this.containerElement=document.createElement("div"),this.containerElement.className=tn+" "+this._type,this.containerElement.setAttribute(oe,this._id+Vt)}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this._id),this.inputElement.setAttribute(ke,this.options.name||this._id),this.inputElement.setAttribute(Me,this._type),this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder),this.inputElement.className=this.options.className}createLabelElement(){this.labelElement=document.createElement(Wn);let n=document.createElement(Dn);this.options.label&&(typeof this.options.label=="string"?n.innerText=this.options.label:typeof this.options.label=="function"&&(n.innerHTML="",n.append(this.options.label()))),n.setAttribute(oe,this._id+Wt),this.labelElement.setAttribute(Kn,this._id),n.className=In,this.options.label&&se(n,this.labelElement)}createValidationElement(){this.validationElement=document.createElement(Dn),this.validationElement.setAttribute(oe,this._id+Uu),this.validationElement.className=pu,this.validationElement.style.display="none"}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&se(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&se(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&se(this.labelElement,this.containerElement)}mount(){this.containerElement&&se(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&zt(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleValidatedField(){this._isValid?(this.validationElement&&(this.validationElement.style.display="none",this.validationElement.innerHTML=""),this.labelElement?.classList.remove(zn),this.inputElement?.removeAttribute($n),this.inputElement?.removeAttribute(Xn)):(this.labelElement?.classList.add(zn),this.validationElement&&this._vMessage&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(this._vMessage,this._form.getData()))):this.validationElement.innerText=this._vMessage,this.validationElement.style.display="block"),this.inputElement?.setAttribute($n,"true"),this.inputElement?.setAttribute(Xn,this.validationElement?.getAttribute("id")||"")),this._form.updateError(this._id,this._isValid)}handleVisibility(){this._isVisible&&!this._isMounted&&(this.mount(),this._form.setData(this._id,this._value)),!this._isVisible&&this._isMounted&&(this._form.removeData(this._id),this.unmount())}handleDisabled(){this._isDisabled?(this.containerElement?.classList.add(Ra),this.inputElement?.setAttribute(bn,"true")):(this.inputElement?.removeAttribute(bn),this.containerElement?.classList.remove(Ra))}handleRequired(){this._isRequired?this.containerElement?.classList.add(La):this.containerElement?.classList.remove(La)}bindChange(){this.inputElement&&this.inputElement.addEventListener(Wu,qn(this.change,this.options.debounce,this))}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let n=localStorage.getItem(this._saveKey);if(n!==null){this.setValue(jn(n)?JSON.parse(n):n,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){this._triggerEvents=!1,localStorage.removeItem(this._saveKey),this.options.default!==void 0?this.setValue(this.options.default,!1):this.setValue(null,!1),this.update(),this._triggerEvents=!0,this.dispatchEvent("resetted")}async update(){this.updateVisibilityBasedOnConditions(),this.updateDisabledStatus(),this.updateRequiredStatus(),this.handleVisibility(),this.handleDisabled(),this.handleRequired()}updateVisibilityBasedOnConditions(){let n=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._value,this._form.getData()))),n!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}updateDisabledStatus(){let n=this._isDisabled;this.options.disabled&&(typeof this.options.disabled=="string"&&this._parsedDisabledConditions?this._isDisabled=Lt(this._parsedDisabledConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.disabled=="function"?this._isDisabled=this.options.disabled(this._value,this._form.getData()):typeof this.options.disabled=="boolean"&&(this._isDisabled=this.options.disabled)),n!==this._isDisabled&&this.dispatchEvent("disabledStateChanged",this._isDisabled)}updateRequiredStatus(){let n=this._isRequired;this.options.required&&(typeof this.options.required=="string"&&this._parsedRequiredConditions?this._isRequired=Lt(this._parsedRequiredConditions,this._form.getData(),this._value):typeof this.options.required=="function"?this._isRequired=this.options.required(this._value,this._form.getData()):typeof this.options.required=="boolean"&&(this._isRequired=this.options.required)),n!==this._isRequired&&this.dispatchEvent("requiredStateChanged",this._isRequired)}validate(){if(!this._isVisible)return!0;if(this.options.validation){if(typeof this.options.validation=="string"&&this._parsedValidationConditions){let n=Lt(this._parsedValidationConditions,this._form.getData(),this._value,this._isRequired,!0);this.setValidationValues(n)}else if(typeof this.options.validation=="function"){let n=this.options.validation(this._value,this._form.getData(),this._isRequired);this.setValidationValues(n)}else this._isValid=!0;this.handleValidatedField()}else this._isValid=!0;return this._isValid}setValidationValues(n){this._isValid=n===!0,this._vMessage=n===!0?"":n,this._isValid||this.dispatchEvent("validationFailed",this._vMessage)}change(n){this.setValue(n.target.value),this.validate(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",this._value)}triggerEvents(n){this._triggerEvents=n}dispatchEvent(n,e=null){if(!this._triggerEvents)return;let s=e!==null?new CustomEvent(n,{detail:e}):new CustomEvent(n);this.inputElement?.dispatchEvent(s)}on(n,e,s){this.inputElement?.addEventListener(n,e,s)}off(n,e,s){this.inputElement?.removeEventListener(n,e,s)}};var ki=class extends Te{static{i(this,"RadioField")}options={id:"",type:Lr,schema:[],required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),default:null,className:vu};inputElements=[];labelElements=[];constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.handleVisibility()}syncValue(){this.inputElements.forEach(n=>{n.value!==this.getValue()&&n.hasAttribute(wt)?n.removeAttribute(wt):n.value===this.getValue()&&!n.hasAttribute(wt)&&n.setAttribute(wt,"")})}createRadioLabelElement(n,e,s,f){let m=document.createElement(Wn);s&&m&&se(s,m);let h=document.createElement(Dn);n&&(typeof n=="string"?h.innerText=n:typeof n=="function"&&(h.innerHTML="",h.append(n()))),h.setAttribute(oe,e+Wt),m.setAttribute(Kn,e),h.className=In,m.append(h),this.labelElements.push(m),f&&m&&se(m,f)}createRadioInputElement(n,e){let s=document.createElement(Xe);return s.setAttribute(oe,n),s.setAttribute(ke,this.getId()),s.setAttribute(_r,e),this.options.default&&e===this.options.default&&s.setAttribute(wt,"true"),s.setAttribute(Me,this.getType()),s.className=this.options.className,this.inputElements.push(s),this.bindChange(),s}onGui(){this.createContainerElement();let n=document.createElement("p");this.options.label&&(typeof this.options.label=="string"?n.innerText=this.options.label:typeof this.options.label=="function"&&(n.innerHTML="",n.append(this.options.label()))),this.options.label&&this.containerElement&&se(n,this.containerElement),n.setAttribute(oe,this.getId()+Wt),n.className=In;let e=document.createElement(tt);e.className=du,this.options.schema.forEach(s=>{let f=this.createRadioInputElement(s.id,s.value);this.createRadioLabelElement(s.label,s.id,f,e)}),this.containerElement&&e&&se(e,this.containerElement),this.createValidationElement(),this.containerElement&&this.validationElement&&se(this.validationElement,this.containerElement)}handleValidatedField(){if(this.getValidity())this.validationElement&&(this.validationElement.style.display="none"),this.inputElements.forEach(e=>{e?.classList.remove(zn),e?.removeAttribute($n),e?.removeAttribute(Xn)});else{this.inputElements.forEach(s=>{s?.classList.add(zn),s?.setAttribute($n,"true"),s?.setAttribute(Xn,this.validationElement?.getAttribute("id")||"")});let e=this.getValidationMessage();this.validationElement&&e&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(e,this.getForm().getData()))):this.validationElement.innerText=e,this.validationElement.style.display="block")}this.getForm().updateError(this.getId(),this.getValidity())}bindChange(){this.inputElements[this.inputElements.length-1]&&this.inputElements[this.inputElements.length-1].addEventListener(Qe,n=>{this.change(n)})}getValue(){return this._value}};var Yi=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],nn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:i(function(o){return typeof console<"u"&&console.warn(o)},"errorHandler"),getWeek:i(function(o){var n=new Date(o.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var e=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},"getWeek"),hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var Hi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:i(function(o){var n=o%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},"ordinal"),rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},qi=Hi;var lt=i(function(o,n){return n===void 0&&(n=2),("000"+o).slice(n*-1)},"pad"),vt=i(function(o){return o===!0?1:0},"int");function Na(o,n){var e;return function(){var s=this,f=arguments;clearTimeout(e),e=setTimeout(function(){return o.apply(s,f)},n)}}i(Na,"debounce");var ji=i(function(o){return o instanceof Array?o:[o]},"arrayify");function ut(o,n,e){if(e===!0)return o.classList.add(n);o.classList.remove(n)}i(ut,"toggleClass");function Se(o,n,e){var s=window.document.createElement(o);return n=n||"",e=e||"",s.className=n,e!==void 0&&(s.textContent=e),s}i(Se,"createElement");function Br(o){for(;o.firstChild;)o.removeChild(o.firstChild)}i(Br,"clearNode");function Fa(o,n){if(n(o))return o;if(o.parentNode)return Fa(o.parentNode,n)}i(Fa,"findParent");function Gr(o,n){var e=Se("div","numInputWrapper"),s=Se("input","numInput "+o),f=Se("span","arrowUp"),m=Se("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),n!==void 0)for(var h in n)s.setAttribute(h,n[h]);return e.appendChild(s),e.appendChild(f),e.appendChild(m),e}i(Gr,"createNumberInput");function _t(o){try{if(typeof o.composedPath=="function"){var n=o.composedPath();return n[0]}return o.target}catch{return o.target}}i(_t,"getEventTarget");var xa=i(function(){},"doNothing"),Vr=i(function(o,n,e){return e.months[n?"shorthand":"longhand"][o]},"monthToStr"),Xu={D:xa,F:i(function(o,n,e){o.setMonth(e.months.longhand.indexOf(n))},"F"),G:i(function(o,n){o.setHours((o.getHours()>=12?12:0)+parseFloat(n))},"G"),H:i(function(o,n){o.setHours(parseFloat(n))},"H"),J:i(function(o,n){o.setDate(parseFloat(n))},"J"),K:i(function(o,n,e){o.setHours(o.getHours()%12+12*vt(new RegExp(e.amPM[1],"i").test(n)))},"K"),M:i(function(o,n,e){o.setMonth(e.months.shorthand.indexOf(n))},"M"),S:i(function(o,n){o.setSeconds(parseFloat(n))},"S"),U:i(function(o,n){return new Date(parseFloat(n)*1e3)},"U"),W:i(function(o,n,e){var s=parseInt(n),f=new Date(o.getFullYear(),0,2+(s-1)*7,0,0,0,0);return f.setDate(f.getDate()-f.getDay()+e.firstDayOfWeek),f},"W"),Y:i(function(o,n){o.setFullYear(parseFloat(n))},"Y"),Z:i(function(o,n){return new Date(n)},"Z"),d:i(function(o,n){o.setDate(parseFloat(n))},"d"),h:i(function(o,n){o.setHours((o.getHours()>=12?12:0)+parseFloat(n))},"h"),i:i(function(o,n){o.setMinutes(parseFloat(n))},"i"),j:i(function(o,n){o.setDate(parseFloat(n))},"j"),l:xa,m:i(function(o,n){o.setMonth(parseFloat(n)-1)},"m"),n:i(function(o,n){o.setMonth(parseFloat(n)-1)},"n"),s:i(function(o,n){o.setSeconds(parseFloat(n))},"s"),u:i(function(o,n){return new Date(parseFloat(n))},"u"),w:xa,y:i(function(o,n){o.setFullYear(2e3+parseFloat(n))},"y")},Kt={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Jn={Z:i(function(o){return o.toISOString()},"Z"),D:i(function(o,n,e){return n.weekdays.shorthand[Jn.w(o,n,e)]},"D"),F:i(function(o,n,e){return Vr(Jn.n(o,n,e)-1,!1,n)},"F"),G:i(function(o,n,e){return lt(Jn.h(o,n,e))},"G"),H:i(function(o){return lt(o.getHours())},"H"),J:i(function(o,n){return n.ordinal!==void 0?o.getDate()+n.ordinal(o.getDate()):o.getDate()},"J"),K:i(function(o,n){return n.amPM[vt(o.getHours()>11)]},"K"),M:i(function(o,n){return Vr(o.getMonth(),!0,n)},"M"),S:i(function(o){return lt(o.getSeconds())},"S"),U:i(function(o){return o.getTime()/1e3},"U"),W:i(function(o,n,e){return e.getWeek(o)},"W"),Y:i(function(o){return lt(o.getFullYear(),4)},"Y"),d:i(function(o){return lt(o.getDate())},"d"),h:i(function(o){return o.getHours()%12?o.getHours()%12:12},"h"),i:i(function(o){return lt(o.getMinutes())},"i"),j:i(function(o){return o.getDate()},"j"),l:i(function(o,n){return n.weekdays.longhand[o.getDay()]},"l"),m:i(function(o){return lt(o.getMonth()+1)},"m"),n:i(function(o){return o.getMonth()+1},"n"),s:i(function(o){return o.getSeconds()},"s"),u:i(function(o){return o.getTime()},"u"),w:i(function(o){return o.getDay()},"w"),y:i(function(o){return String(o.getFullYear()).substring(2)},"y")};var Ua=i(function(o){var n=o.config,e=n===void 0?nn:n,s=o.l10n,f=s===void 0?Hi:s,m=o.isMobile,h=m===void 0?!1:m;return function(I,A,S){var C=S||f;return e.formatDate!==void 0&&!h?e.formatDate(I,A,C):A.split("").map(function(P,G,ae){return Jn[P]&&ae[G-1]!=="\\"?Jn[P](I,C,e):P!=="\\"?P:""}).join("")}},"createDateFormatter"),zi=i(function(o){var n=o.config,e=n===void 0?nn:n,s=o.l10n,f=s===void 0?Hi:s;return function(m,h,I,A){if(!(m!==0&&!m)){var S=A||f,C,P=m;if(m instanceof Date)C=new Date(m.getTime());else if(typeof m!="string"&&m.toFixed!==void 0)C=new Date(m);else if(typeof m=="string"){var G=h||(e||nn).dateFormat,ae=String(m).trim();if(ae==="today")C=new Date,I=!0;else if(e&&e.parseDate)C=e.parseDate(m,G);else if(/Z$/.test(ae)||/GMT$/.test(ae))C=new Date(m);else{for(var k=void 0,j=[],he=0,ve=0,Q="";he<G.length;he++){var be=G[he],Ke=be==="\\",ot=G[he-1]==="\\"||Ke;if(Kt[be]&&!ot){Q+=Kt[be];var at=new RegExp(Q).exec(m);at&&(k=!0)&&j[be!=="Y"?"push":"unshift"]({fn:Xu[be],val:at[++ve]})}else Ke||(Q+=".")}C=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),j.forEach(function(ce){var _e=ce.fn,fe=ce.val;return C=_e(C,fe,S)||C}),C=k?C:void 0}}if(!(C instanceof Date&&!isNaN(C.getTime()))){e.errorHandler(new Error("Invalid date provided: "+P));return}return I===!0&&C.setHours(0,0,0,0),C}}},"createDateParser");function Tt(o,n,e){return e===void 0&&(e=!0),e!==!1?new Date(o.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):o.getTime()-n.getTime()}i(Tt,"compareDates");var Qu=i(function(o,n,e){return o>Math.min(n,e)&&o<Math.max(n,e)},"isBetween"),Wi=i(function(o,n,e){return o*3600+n*60+e},"calculateSecondsSinceMidnight"),Ju=i(function(o){var n=Math.floor(o/3600),e=(o-n*3600)/60;return[n,e,o-n*3600-e*60]},"parseSeconds"),Zu={DAY:864e5};function Ki(o){var n=o.defaultHour,e=o.defaultMinute,s=o.defaultSeconds;if(o.minDate!==void 0){var f=o.minDate.getHours(),m=o.minDate.getMinutes(),h=o.minDate.getSeconds();n<f&&(n=f),n===f&&e<m&&(e=m),n===f&&e===m&&s<h&&(s=o.minDate.getSeconds())}if(o.maxDate!==void 0){var I=o.maxDate.getHours(),A=o.maxDate.getMinutes();n=Math.min(n,I),n===I&&(e=Math.min(A,e)),n===I&&e===A&&(s=o.maxDate.getSeconds())}return{hours:n,minutes:e,seconds:s}}i(Ki,"getDefaultHours");typeof Object.assign!="function"&&(Object.assign=function(o){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!o)throw TypeError("Cannot convert undefined or null to object");for(var s=i(function(I){I&&Object.keys(I).forEach(function(A){return o[A]=I[A]})},"_loop_1"),f=0,m=n;f<m.length;f++){var h=m[f];s(h)}return o});var ct=function(){return ct=Object.assign||function(o){for(var n,e=1,s=arguments.length;e<s;e++){n=arguments[e];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(o[f]=n[f])}return o},ct.apply(this,arguments)},ec=function(){for(var o=0,n=0,e=arguments.length;n<e;n++)o+=arguments[n].length;for(var s=Array(o),f=0,n=0;n<e;n++)for(var m=arguments[n],h=0,I=m.length;h<I;h++,f++)s[f]=m[h];return s},nm=300;function rm(o,n){var e={config:ct(ct({},nn),Je.defaultConfig),l10n:qi};e.parseDate=zi({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=j,e._setHoursFromDate=G,e._positionCalendar=cn,e.changeMonth=nr,e.changeYear=Rn,e.clear=Po,e.close=Mo,e.onMouseOver=pt,e._createElement=Se,e.createDay=at,e.destroy=No,e.isEnabled=Ye,e.jumpToDate=Q,e.updateValue=ht,e.open=Ln,e.redraw=kt,e.set=ni,e.setDate=xo,e.toggle=Bo;function s(){e.utils={getDaysInMonth:i(function(E,_){return E===void 0&&(E=e.currentMonth),_===void 0&&(_=e.currentYear),E===1&&(_%4===0&&_%100!==0||_%400===0)?29:e.l10n.daysInMonth[E]},"getDaysInMonth")}}i(s,"setupHelperFunctions");function f(){e.element=e.input=o,e.isOpen=!1,ei(),it(),$e(),Uo(),s(),e.isMobile||ot(),ve(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&G(e.config.noCalendar?e.latestSelectedDateObj:void 0),ht(!1)),I();var E=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&E&&cn(),Ne("onReady")}i(f,"init");function m(){var E;return((E=e.calendarContainer)===null||E===void 0?void 0:E.getRootNode()).activeElement||document.activeElement}i(m,"getClosestActiveElement");function h(E){return E.bind(e)}i(h,"bindToInstance");function I(){var E=e.config;E.weekNumbers===!1&&E.showMonths===1||E.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var _=(e.days.offsetWidth+1)*E.showMonths;e.daysContainer.style.width=_+"px",e.calendarContainer.style.width=_+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}i(I,"setCalendarWidth");function A(E){if(e.selectedDates.length===0){var _=e.config.minDate===void 0||Tt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),b=Ki(e.config);_.setHours(b.hours,b.minutes,b.seconds,_.getMilliseconds()),e.selectedDates=[_],e.latestSelectedDateObj=_}E!==void 0&&E.type!=="blur"&&ko(E);var R=e._input.value;P(),ht(),e._input.value!==R&&e._debouncedChange()}i(A,"updateTime");function S(E,_){return E%12+12*vt(_===e.l10n.amPM[1])}i(S,"ampm2military");function C(E){switch(E%24){case 0:case 12:return 12;default:return E%12}}i(C,"military2ampm");function P(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var E=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,_=(parseInt(e.minuteElement.value,10)||0)%60,b=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(E=S(E,e.amPM.textContent));var R=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Tt(e.latestSelectedDateObj,e.config.minDate,!0)===0,B=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Tt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var z=Wi(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),me=Wi(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),Z=Wi(E,_,b);if(Z>me&&Z<z){var de=Ju(z);E=de[0],_=de[1],b=de[2]}}else{if(B){var ee=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;E=Math.min(E,ee.getHours()),E===ee.getHours()&&(_=Math.min(_,ee.getMinutes())),_===ee.getMinutes()&&(b=Math.min(b,ee.getSeconds()))}if(R){var ie=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;E=Math.max(E,ie.getHours()),E===ie.getHours()&&_<ie.getMinutes()&&(_=ie.getMinutes()),_===ie.getMinutes()&&(b=Math.max(b,ie.getSeconds()))}}ae(E,_,b)}}i(P,"setHoursFromInputs");function G(E){var _=E||e.latestSelectedDateObj;_&&_ instanceof Date&&ae(_.getHours(),_.getMinutes(),_.getSeconds())}i(G,"setHoursFromDate");function ae(E,_,b){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(E%24,_,b||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=lt(e.config.time_24hr?E:(12+E)%12+12*vt(E%12===0)),e.minuteElement.value=lt(_),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[vt(E>=12)]),e.secondElement!==void 0&&(e.secondElement.value=lt(b)))}i(ae,"setHours");function k(E){var _=_t(E),b=parseInt(_.value)+(E.delta||0);(b/1e3>1||E.key==="Enter"&&!/[^\d]/.test(b.toString()))&&Rn(b)}i(k,"onYearInput");function j(E,_,b,R){if(_ instanceof Array)return _.forEach(function(B){return j(E,B,b,R)});if(E instanceof Array)return E.forEach(function(B){return j(B,_,b,R)});E.addEventListener(_,b,R),e._handlers.push({remove:i(function(){return E.removeEventListener(_,b,R)},"remove")})}i(j,"bind");function he(){Ne("onChange")}i(he,"triggerChange");function ve(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(b){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+b+"]"),function(R){return j(R,"click",e[b])})}),e.isMobile){ir();return}var E=Na(Fo,50);if(e._debouncedChange=Na(he,nm),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&j(e.daysContainer,"mouseover",function(b){e.config.mode==="range"&&pt(_t(b))}),j(e._input,"keydown",un),e.calendarContainer!==void 0&&j(e.calendarContainer,"keydown",un),!e.config.inline&&!e.config.static&&j(window,"resize",E),window.ontouchstart!==void 0?j(window.document,"touchstart",Be):j(window.document,"mousedown",Be),j(window.document,"focus",Be,{capture:!0}),e.config.clickOpens===!0&&(j(e._input,"focus",e.open),j(e._input,"click",e.open)),e.daysContainer!==void 0&&(j(e.monthNav,"click",Vo),j(e.monthNav,["keyup","increment"],k),j(e.daysContainer,"click",Ut)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var _=i(function(b){return _t(b).select()},"selText");j(e.timeContainer,["increment"],A),j(e.timeContainer,"blur",A,{capture:!0}),j(e.timeContainer,"click",be),j([e.hourElement,e.minuteElement],["focus","click"],_),e.secondElement!==void 0&&j(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&j(e.amPM,"click",function(b){A(b)})}e.config.allowInput&&j(e._input,"blur",Jr)}i(ve,"bindEvents");function Q(E,_){var b=E!==void 0?e.parseDate(E):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),R=e.currentYear,B=e.currentMonth;try{b!==void 0&&(e.currentYear=b.getFullYear(),e.currentMonth=b.getMonth())}catch(z){z.message="Invalid date supplied: "+b,e.config.errorHandler(z)}_&&e.currentYear!==R&&(Ne("onYearChange"),dt()),_&&(e.currentYear!==R||e.currentMonth!==B)&&Ne("onMonthChange"),e.redraw()}i(Q,"jumpToDate");function be(E){var _=_t(E);~_.className.indexOf("arrow")&&Ke(E,_.classList.contains("arrowUp")?1:-1)}i(be,"timeIncrement");function Ke(E,_,b){var R=E&&_t(E),B=b||R&&R.parentNode&&R.parentNode.firstChild,z=or("increment");z.delta=_,B&&B.dispatchEvent(z)}i(Ke,"incrementNumInput");function ot(){var E=window.document.createDocumentFragment();if(e.calendarContainer=Se("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(E.appendChild(Lo()),e.innerContainer=Se("div","flatpickr-innerContainer"),e.config.weekNumbers){var _=wo(),b=_.weekWrapper,R=_.weekNumbers;e.innerContainer.appendChild(b),e.weekNumbers=R,e.weekWrapper=b}e.rContainer=Se("div","flatpickr-rContainer"),e.rContainer.appendChild(Qr()),e.daysContainer||(e.daysContainer=Se("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Pt(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),E.appendChild(e.innerContainer)}e.config.enableTime&&E.appendChild(Co()),ut(e.calendarContainer,"rangeMode",e.config.mode==="range"),ut(e.calendarContainer,"animate",e.config.animate===!0),ut(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(E);var B=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!B&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var z=Se("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(z,e.element),z.appendChild(e.element),e.altInput&&z.appendChild(e.altInput),z.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}i(ot,"build");function at(E,_,b,R){var B=Ye(_,!0),z=Se("span",E,_.getDate().toString());return z.dateObj=_,z.$i=R,z.setAttribute("aria-label",e.formatDate(_,e.config.ariaDateFormat)),E.indexOf("hidden")===-1&&Tt(_,e.now)===0&&(e.todayDateElem=z,z.classList.add("today"),z.setAttribute("aria-current","date")),B?(z.tabIndex=-1,Mn(_)&&(z.classList.add("selected"),e.selectedDateElem=z,e.config.mode==="range"&&(ut(z,"startRange",e.selectedDates[0]&&Tt(_,e.selectedDates[0],!0)===0),ut(z,"endRange",e.selectedDates[1]&&Tt(_,e.selectedDates[1],!0)===0),E==="nextMonthDay"&&z.classList.add("inRange")))):z.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Go(_)&&!Mn(_)&&z.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&E!=="prevMonthDay"&&R%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(_)+"</span>"),Ne("onDayCreate",z),z}i(at,"createDay");function ce(E){E.focus(),e.config.mode==="range"&&pt(E)}i(ce,"focusOnDayElem");function _e(E){for(var _=E>0?0:e.config.showMonths-1,b=E>0?e.config.showMonths:-1,R=_;R!=b;R+=E)for(var B=e.daysContainer.children[R],z=E>0?0:B.children.length-1,me=E>0?B.children.length:-1,Z=z;Z!=me;Z+=E){var de=B.children[Z];if(de.className.indexOf("hidden")===-1&&Ye(de.dateObj))return de}}i(_e,"getFirstAvailableDay");function fe(E,_){for(var b=E.className.indexOf("Month")===-1?E.dateObj.getMonth():e.currentMonth,R=_>0?e.config.showMonths:-1,B=_>0?1:-1,z=b-e.currentMonth;z!=R;z+=B)for(var me=e.daysContainer.children[z],Z=b-e.currentMonth===z?E.$i+_:_<0?me.children.length-1:0,de=me.children.length,ee=Z;ee>=0&&ee<de&&ee!=(_>0?de:-1);ee+=B){var ie=me.children[ee];if(ie.className.indexOf("hidden")===-1&&Ye(ie.dateObj)&&Math.abs(E.$i-ee)>=Math.abs(_))return ce(ie)}e.changeMonth(B),Ue(_e(B),0)}i(fe,"getNextAvailableDay");function Ue(E,_){var b=m(),R=ln(b||document.body),B=E!==void 0?E:R?b:e.selectedDateElem!==void 0&&ln(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&ln(e.todayDateElem)?e.todayDateElem:_e(_>0?1:-1);B===void 0?e._input.focus():R?fe(B,_):ce(B)}i(Ue,"focusOnDay");function Ae(E,_){for(var b=(new Date(E,_,1).getDay()-e.l10n.firstDayOfWeek+7)%7,R=e.utils.getDaysInMonth((_-1+12)%12,E),B=e.utils.getDaysInMonth(_,E),z=window.document.createDocumentFragment(),me=e.config.showMonths>1,Z=me?"prevMonthDay hidden":"prevMonthDay",de=me?"nextMonthDay hidden":"nextMonthDay",ee=R+1-b,ie=0;ee<=R;ee++,ie++)z.appendChild(at("flatpickr-day "+Z,new Date(E,_-1,ee),ee,ie));for(ee=1;ee<=B;ee++,ie++)z.appendChild(at("flatpickr-day",new Date(E,_,ee),ee,ie));for(var Pe=B+1;Pe<=42-b&&(e.config.showMonths===1||ie%7!==0);Pe++,ie++)z.appendChild(at("flatpickr-day "+de,new Date(E,_+1,Pe%B),Pe,ie));var yt=Se("div","dayContainer");return yt.appendChild(z),yt}i(Ae,"buildMonthDays");function Pt(){if(e.daysContainer!==void 0){Br(e.daysContainer),e.weekNumbers&&Br(e.weekNumbers);for(var E=document.createDocumentFragment(),_=0;_<e.config.showMonths;_++){var b=new Date(e.currentYear,e.currentMonth,1);b.setMonth(e.currentMonth+_),E.appendChild(Ae(b.getFullYear(),b.getMonth()))}e.daysContainer.appendChild(E),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&pt()}}i(Pt,"buildDays");function dt(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var E=i(function(R){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&R<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&R>e.config.maxDate.getMonth())},"shouldBuildMonth");e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var _=0;_<12;_++)if(E(_)){var b=Se("option","flatpickr-monthDropdown-month");b.value=new Date(e.currentYear,_).getMonth().toString(),b.textContent=Vr(_,e.config.shorthandCurrentMonth,e.l10n),b.tabIndex=-1,e.currentMonth===_&&(b.selected=!0),e.monthsDropdownContainer.appendChild(b)}}}i(dt,"buildMonthSwitch");function tr(){var E=Se("div","flatpickr-month"),_=window.document.createDocumentFragment(),b;e.config.showMonths>1||e.config.monthSelectorType==="static"?b=Se("span","cur-month"):(e.monthsDropdownContainer=Se("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),j(e.monthsDropdownContainer,"change",function(me){var Z=_t(me),de=parseInt(Z.value,10);e.changeMonth(de-e.currentMonth),Ne("onMonthChange")}),dt(),b=e.monthsDropdownContainer);var R=Gr("cur-year",{tabindex:"-1"}),B=R.getElementsByTagName("input")[0];B.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&B.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(B.setAttribute("max",e.config.maxDate.getFullYear().toString()),B.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var z=Se("div","flatpickr-current-month");return z.appendChild(b),z.appendChild(R),_.appendChild(z),E.appendChild(_),{container:E,yearElement:B,monthElement:b}}i(tr,"buildMonth");function Sn(){Br(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var E=e.config.showMonths;E--;){var _=tr();e.yearElements.push(_.yearElement),e.monthElements.push(_.monthElement),e.monthNav.appendChild(_.container)}e.monthNav.appendChild(e.nextMonthNav)}i(Sn,"buildMonths");function Lo(){return e.monthNav=Se("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=Se("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=Se("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Sn(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:i(function(){return e.__hidePrevMonthArrow},"get"),set:i(function(E){e.__hidePrevMonthArrow!==E&&(ut(e.prevMonthNav,"flatpickr-disabled",E),e.__hidePrevMonthArrow=E)},"set")}),Object.defineProperty(e,"_hideNextMonthArrow",{get:i(function(){return e.__hideNextMonthArrow},"get"),set:i(function(E){e.__hideNextMonthArrow!==E&&(ut(e.nextMonthNav,"flatpickr-disabled",E),e.__hideNextMonthArrow=E)},"set")}),e.currentYearElement=e.yearElements[0],Nn(),e.monthNav}i(Lo,"buildMonthNav");function Co(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var E=Ki(e.config);e.timeContainer=Se("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var _=Se("span","flatpickr-time-separator",":"),b=Gr("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=b.getElementsByTagName("input")[0];var R=Gr("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=R.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=lt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?E.hours:C(E.hours)),e.minuteElement.value=lt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():E.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(b),e.timeContainer.appendChild(_),e.timeContainer.appendChild(R),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var B=Gr("flatpickr-second");e.secondElement=B.getElementsByTagName("input")[0],e.secondElement.value=lt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():E.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(Se("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(B)}return e.config.time_24hr||(e.amPM=Se("span","flatpickr-am-pm",e.l10n.amPM[vt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}i(Co,"buildTime");function Qr(){e.weekdayContainer?Br(e.weekdayContainer):e.weekdayContainer=Se("div","flatpickr-weekdays");for(var E=e.config.showMonths;E--;){var _=Se("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(_)}return rt(),e.weekdayContainer}i(Qr,"buildWeekdays");function rt(){if(e.weekdayContainer){var E=e.l10n.firstDayOfWeek,_=ec(e.l10n.weekdays.shorthand);E>0&&E<_.length&&(_=ec(_.splice(E,_.length),_.splice(0,E)));for(var b=e.config.showMonths;b--;)e.weekdayContainer.children[b].innerHTML=`
      <span class='flatpickr-weekday'>
        `+_.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}i(rt,"updateWeekdays");function wo(){e.calendarContainer.classList.add("hasWeeks");var E=Se("div","flatpickr-weekwrapper");E.appendChild(Se("span","flatpickr-weekday",e.l10n.weekAbbreviation));var _=Se("div","flatpickr-weeks");return E.appendChild(_),{weekWrapper:E,weekNumbers:_}}i(wo,"buildWeeks");function nr(E,_){_===void 0&&(_=!0);var b=_?E:E-e.currentMonth;b<0&&e._hidePrevMonthArrow===!0||b>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=b,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ne("onYearChange"),dt()),Pt(),Ne("onMonthChange"),Nn())}i(nr,"changeMonth");function Po(E,_){if(E===void 0&&(E=!0),_===void 0&&(_=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,_===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var b=Ki(e.config),R=b.hours,B=b.minutes,z=b.seconds;ae(R,B,z)}e.redraw(),E&&Ne("onChange")}i(Po,"clear");function Mo(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Ne("onClose")}i(Mo,"close");function No(){e.config!==void 0&&Ne("onDestroy");for(var E=e._handlers.length;E--;)e._handlers[E].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var _=e.calendarContainer.parentNode;if(_.lastChild&&_.removeChild(_.lastChild),_.parentNode){for(;_.firstChild;)_.parentNode.insertBefore(_.firstChild,_);_.parentNode.removeChild(_)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(b){try{delete e[b]}catch{}})}i(No,"destroy");function Xt(E){return e.calendarContainer.contains(E)}i(Xt,"isCalendarElem");function Be(E){if(e.isOpen&&!e.config.inline){var _=_t(E),b=Xt(_),R=_===e.input||_===e.altInput||e.element.contains(_)||E.path&&E.path.indexOf&&(~E.path.indexOf(e.input)||~E.path.indexOf(e.altInput)),B=!R&&!b&&!Xt(E.relatedTarget),z=!e.config.ignoredFocusElements.some(function(me){return me.contains(_)});B&&z&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&A(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}i(Be,"documentClick");function Rn(E){if(!(!E||e.config.minDate&&E<e.config.minDate.getFullYear()||e.config.maxDate&&E>e.config.maxDate.getFullYear())){var _=E,b=e.currentYear!==_;e.currentYear=_||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),b&&(e.redraw(),Ne("onYearChange"),dt())}}i(Rn,"changeYear");function Ye(E,_){var b;_===void 0&&(_=!0);var R=e.parseDate(E,void 0,_);if(e.config.minDate&&R&&Tt(R,e.config.minDate,_!==void 0?_:!e.minDateHasTime)<0||e.config.maxDate&&R&&Tt(R,e.config.maxDate,_!==void 0?_:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(R===void 0)return!1;for(var B=!!e.config.enable,z=(b=e.config.enable)!==null&&b!==void 0?b:e.config.disable,me=0,Z=void 0;me<z.length;me++){if(Z=z[me],typeof Z=="function"&&Z(R))return B;if(Z instanceof Date&&R!==void 0&&Z.getTime()===R.getTime())return B;if(typeof Z=="string"){var de=e.parseDate(Z,void 0,!0);return de&&de.getTime()===R.getTime()?B:!B}else if(typeof Z=="object"&&R!==void 0&&Z.from&&Z.to&&R.getTime()>=Z.from.getTime()&&R.getTime()<=Z.to.getTime())return B}return!B}i(Ye,"isEnabled");function ln(E){return e.daysContainer!==void 0?E.className.indexOf("hidden")===-1&&E.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(E):!1}i(ln,"isInView");function Jr(E){var _=E.target===e._input,b=e._input.value.trimEnd()!==ar();_&&b&&!(E.relatedTarget&&Xt(E.relatedTarget))&&e.setDate(e._input.value,!0,E.target===e.altInput?e.config.altFormat:e.config.dateFormat)}i(Jr,"onBlur");function un(E){var _=_t(E),b=e.config.wrap?o.contains(_):_===e._input,R=e.config.allowInput,B=e.isOpen&&(!R||!b),z=e.config.inline&&b&&!R;if(E.keyCode===13&&b){if(R)return e.setDate(e._input.value,!0,_===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),_.blur();e.open()}else if(Xt(_)||B||z){var me=!!e.timeContainer&&e.timeContainer.contains(_);switch(E.keyCode){case 13:me?(E.preventDefault(),A(),wn()):Ut(E);break;case 27:E.preventDefault(),wn();break;case 8:case 46:b&&!e.config.allowInput&&(E.preventDefault(),e.clear());break;case 37:case 39:if(!me&&!b){E.preventDefault();var Z=m();if(e.daysContainer!==void 0&&(R===!1||Z&&ln(Z))){var de=E.keyCode===39?1:-1;E.ctrlKey?(E.stopPropagation(),nr(de),Ue(_e(1),0)):Ue(void 0,de)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:E.preventDefault();var ee=E.keyCode===40?1:-1;e.daysContainer&&_.$i!==void 0||_===e.input||_===e.altInput?E.ctrlKey?(E.stopPropagation(),Rn(e.currentYear-ee),Ue(_e(1),0)):me||Ue(void 0,ee*7):_===e.currentYearElement?Rn(e.currentYear-ee):e.config.enableTime&&(!me&&e.hourElement&&e.hourElement.focus(),A(E),e._debouncedChange());break;case 9:if(me){var ie=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(mt){return mt}),Pe=ie.indexOf(_);if(Pe!==-1){var yt=ie[Pe+(E.shiftKey?-1:1)];E.preventDefault(),(yt||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(_)&&E.shiftKey&&(E.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&_===e.amPM)switch(E.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],P(),ht();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],P(),ht();break}(b||Xt(_))&&Ne("onKeyDown",E)}i(un,"onKeyDown");function pt(E,_){if(_===void 0&&(_="flatpickr-day"),!(e.selectedDates.length!==1||E&&(!E.classList.contains(_)||E.classList.contains("flatpickr-disabled")))){for(var b=E?E.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),R=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),B=Math.min(b,e.selectedDates[0].getTime()),z=Math.max(b,e.selectedDates[0].getTime()),me=!1,Z=0,de=0,ee=B;ee<z;ee+=Zu.DAY)Ye(new Date(ee),!0)||(me=me||ee>B&&ee<z,ee<R&&(!Z||ee>Z)?Z=ee:ee>R&&(!de||ee<de)&&(de=ee));var ie=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+_));ie.forEach(function(Pe){var yt=Pe.dateObj,mt=yt.getTime(),Fn=Z>0&&mt<Z||de>0&&mt>de;if(Fn){Pe.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Yt){Pe.classList.remove(Yt)});return}else if(me&&!Fn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Yt){Pe.classList.remove(Yt)}),E!==void 0&&(E.classList.add(b<=e.selectedDates[0].getTime()?"startRange":"endRange"),R<b&&mt===R?Pe.classList.add("startRange"):R>b&&mt===R&&Pe.classList.add("endRange"),mt>=Z&&(de===0||mt<=de)&&Qu(mt,R,b)&&Pe.classList.add("inRange"))})}}i(pt,"onMouseOver");function Fo(){e.isOpen&&!e.config.static&&!e.config.inline&&cn()}i(Fo,"onResize");function Ln(E,_){if(_===void 0&&(_=e._positionElement),e.isMobile===!0){if(E){E.preventDefault();var b=_t(E);b&&b.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Ne("onOpen");return}else if(e._input.disabled||e.config.inline)return;var R=e.isOpen;e.isOpen=!0,R||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ne("onOpen"),cn(_)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(E===void 0||!e.timeContainer.contains(E.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}i(Ln,"open");function Zr(E){return function(_){var b=e.config["_"+E+"Date"]=e.parseDate(_,e.config.dateFormat),R=e.config["_"+(E==="min"?"max":"min")+"Date"];b!==void 0&&(e[E==="min"?"minDateHasTime":"maxDateHasTime"]=b.getHours()>0||b.getMinutes()>0||b.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(B){return Ye(B)}),!e.selectedDates.length&&E==="min"&&G(b),ht()),e.daysContainer&&(kt(),b!==void 0?e.currentYearElement[E]=b.getFullYear().toString():e.currentYearElement.removeAttribute(E),e.currentYearElement.disabled=!!R&&b!==void 0&&R.getFullYear()===b.getFullYear())}}i(Zr,"minMaxDateSetter");function ei(){var E=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],_=ct(ct({},JSON.parse(JSON.stringify(o.dataset||{}))),n),b={};e.config.parseDate=_.parseDate,e.config.formatDate=_.formatDate,Object.defineProperty(e.config,"enable",{get:i(function(){return e.config._enable},"get"),set:i(function(ie){e.config._enable=ii(ie)},"set")}),Object.defineProperty(e.config,"disable",{get:i(function(){return e.config._disable},"get"),set:i(function(ie){e.config._disable=ii(ie)},"set")});var R=_.mode==="time";if(!_.dateFormat&&(_.enableTime||R)){var B=Je.defaultConfig.dateFormat||nn.dateFormat;b.dateFormat=_.noCalendar||R?"H:i"+(_.enableSeconds?":S":""):B+" H:i"+(_.enableSeconds?":S":"")}if(_.altInput&&(_.enableTime||R)&&!_.altFormat){var z=Je.defaultConfig.altFormat||nn.altFormat;b.altFormat=_.noCalendar||R?"h:i"+(_.enableSeconds?":S K":" K"):z+(" h:i"+(_.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:i(function(){return e.config._minDate},"get"),set:Zr("min")}),Object.defineProperty(e.config,"maxDate",{get:i(function(){return e.config._maxDate},"get"),set:Zr("max")});var me=i(function(ie){return function(Pe){e.config[ie==="min"?"_minTime":"_maxTime"]=e.parseDate(Pe,"H:i:S")}},"minMaxTimeSetter");Object.defineProperty(e.config,"minTime",{get:i(function(){return e.config._minTime},"get"),set:me("min")}),Object.defineProperty(e.config,"maxTime",{get:i(function(){return e.config._maxTime},"get"),set:me("max")}),_.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,b,_);for(var Z=0;Z<E.length;Z++)e.config[E[Z]]=e.config[E[Z]]===!0||e.config[E[Z]]==="true";Yi.filter(function(ie){return e.config[ie]!==void 0}).forEach(function(ie){e.config[ie]=ji(e.config[ie]||[]).map(h)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Z=0;Z<e.config.plugins.length;Z++){var de=e.config.plugins[Z](e)||{};for(var ee in de)Yi.indexOf(ee)>-1?e.config[ee]=ji(de[ee]).map(h).concat(e.config[ee]):typeof _[ee]>"u"&&(e.config[ee]=de[ee])}_.altInputClass||(e.config.altInputClass=rr().className+" "+e.config.altInputClass),Ne("onParseConfig")}i(ei,"parseConfig");function rr(){return e.config.wrap?o.querySelector("[data-input]"):o}i(rr,"getInputElem");function it(){typeof e.config.locale!="object"&&typeof Je.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ct(ct({},Je.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Je.l10ns[e.config.locale]:void 0),Kt.D="("+e.l10n.weekdays.shorthand.join("|")+")",Kt.l="("+e.l10n.weekdays.longhand.join("|")+")",Kt.M="("+e.l10n.months.shorthand.join("|")+")",Kt.F="("+e.l10n.months.longhand.join("|")+")",Kt.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var E=ct(ct({},n),JSON.parse(JSON.stringify(o.dataset||{})));E.time_24hr===void 0&&Je.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Ua(e),e.parseDate=zi({config:e.config,l10n:e.l10n})}i(it,"setupLocale");function cn(E){if(typeof e.config.position=="function")return void e.config.position(e,E);if(e.calendarContainer!==void 0){Ne("onPreCalendarPosition");var _=E||e._positionElement,b=Array.prototype.reduce.call(e.calendarContainer.children,function(Yo,ns){return Yo+ns.offsetHeight},0),R=e.calendarContainer.offsetWidth,B=e.config.position.split(" "),z=B[0],me=B.length>1?B[1]:null,Z=_.getBoundingClientRect(),de=window.innerHeight-Z.bottom,ee=z==="above"||z!=="below"&&de<b&&Z.top>b,ie=window.pageYOffset+Z.top+(ee?-b-2:_.offsetHeight+2);if(ut(e.calendarContainer,"arrowTop",!ee),ut(e.calendarContainer,"arrowBottom",ee),!e.config.inline){var Pe=window.pageXOffset+Z.left,yt=!1,mt=!1;me==="center"?(Pe-=(R-Z.width)/2,yt=!0):me==="right"&&(Pe-=R-Z.width,mt=!0),ut(e.calendarContainer,"arrowLeft",!yt&&!mt),ut(e.calendarContainer,"arrowCenter",yt),ut(e.calendarContainer,"arrowRight",mt);var Fn=window.document.body.offsetWidth-(window.pageXOffset+Z.right),Yt=Pe+R>window.document.body.offsetWidth,Ja=Fn+R>window.document.body.offsetWidth;if(ut(e.calendarContainer,"rightMost",Yt),!e.config.static)if(e.calendarContainer.style.top=ie+"px",!Yt)e.calendarContainer.style.left=Pe+"px",e.calendarContainer.style.right="auto";else if(!Ja)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Fn+"px";else{var ai=Cn();if(ai===void 0)return;var Za=window.document.body.offsetWidth,sr=Math.max(0,Za/2-R/2),si=".flatpickr-calendar.centerMost:before",es=".flatpickr-calendar.centerMost:after",li=ai.cssRules.length,ts="{left:"+Z.left+"px;right:auto;}";ut(e.calendarContainer,"rightMost",!1),ut(e.calendarContainer,"centerMost",!0),ai.insertRule(si+","+es+ts,li),e.calendarContainer.style.left=sr+"px",e.calendarContainer.style.right="auto"}}}}i(cn,"positionCalendar");function Cn(){for(var E=null,_=0;_<document.styleSheets.length;_++){var b=document.styleSheets[_];if(b.cssRules){try{b.cssRules}catch{continue}E=b;break}}return E??ti()}i(Cn,"getDocumentStyleSheet");function ti(){var E=document.createElement("style");return document.head.appendChild(E),E.sheet}i(ti,"createStyleSheet");function kt(){e.config.noCalendar||e.isMobile||(dt(),Nn(),Pt())}i(kt,"redraw");function wn(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}i(wn,"focusAndClose");function Ut(E){E.preventDefault(),E.stopPropagation();var _=i(function(ie){return ie.classList&&ie.classList.contains("flatpickr-day")&&!ie.classList.contains("flatpickr-disabled")&&!ie.classList.contains("notAllowed")},"isSelectable"),b=Fa(_t(E),_);if(b!==void 0){var R=b,B=e.latestSelectedDateObj=new Date(R.dateObj.getTime()),z=(B.getMonth()<e.currentMonth||B.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=R,e.config.mode==="single")e.selectedDates=[B];else if(e.config.mode==="multiple"){var me=Mn(B);me?e.selectedDates.splice(parseInt(me),1):e.selectedDates.push(B)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=B,e.selectedDates.push(B),Tt(B,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(ie,Pe){return ie.getTime()-Pe.getTime()}));if(P(),z){var Z=e.currentYear!==B.getFullYear();e.currentYear=B.getFullYear(),e.currentMonth=B.getMonth(),Z&&(Ne("onYearChange"),dt()),Ne("onMonthChange")}if(Nn(),Pt(),ht(),!z&&e.config.mode!=="range"&&e.config.showMonths===1?ce(R):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var de=e.config.mode==="single"&&!e.config.enableTime,ee=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(de||ee)&&wn()}he()}}i(Ut,"selectDate");var Pn={locale:[it,rt],showMonths:[Sn,I,Qr],minDate:[Q],maxDate:[Q],positionElement:[oi],clickOpens:[function(){e.config.clickOpens===!0?(j(e._input,"focus",e.open),j(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function ni(E,_){if(E!==null&&typeof E=="object"){Object.assign(e.config,E);for(var b in E)Pn[b]!==void 0&&Pn[b].forEach(function(R){return R()})}else e.config[E]=_,Pn[E]!==void 0?Pn[E].forEach(function(R){return R()}):Yi.indexOf(E)>-1&&(e.config[E]=ji(_));e.redraw(),ht(!0)}i(ni,"set");function ri(E,_){var b=[];if(E instanceof Array)b=E.map(function(R){return e.parseDate(R,_)});else if(E instanceof Date||typeof E=="number")b=[e.parseDate(E,_)];else if(typeof E=="string")switch(e.config.mode){case"single":case"time":b=[e.parseDate(E,_)];break;case"multiple":b=E.split(e.config.conjunction).map(function(R){return e.parseDate(R,_)});break;case"range":b=E.split(e.l10n.rangeSeparator).map(function(R){return e.parseDate(R,_)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(E)));e.selectedDates=e.config.allowInvalidPreload?b:b.filter(function(R){return R instanceof Date&&Ye(R,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(R,B){return R.getTime()-B.getTime()})}i(ri,"setSelectedDate");function xo(E,_,b){if(_===void 0&&(_=!1),b===void 0&&(b=e.config.dateFormat),E!==0&&!E||E instanceof Array&&E.length===0)return e.clear(_);ri(E,b),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),Q(void 0,_),G(),e.selectedDates.length===0&&e.clear(!1),ht(_),_&&Ne("onChange")}i(xo,"setDate");function ii(E){return E.slice().map(function(_){return typeof _=="string"||typeof _=="number"||_ instanceof Date?e.parseDate(_,void 0,!0):_&&typeof _=="object"&&_.from&&_.to?{from:e.parseDate(_.from,void 0),to:e.parseDate(_.to,void 0)}:_}).filter(function(_){return _})}i(ii,"parseDateRules");function Uo(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var E=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);E&&ri(E,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}i(Uo,"setupDates");function $e(){if(e.input=rr(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=Se(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),oi()}i($e,"setupInputs");function oi(){e._positionElement=e.config.positionElement||e._input}i(oi,"updatePositionElement");function ir(){var E=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=Se("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=E,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=E==="datetime-local"?"Y-m-d\\TH:i:S":E==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}j(e.mobileInput,"change",function(_){e.setDate(_t(_).value,!1,e.mobileFormatStr),Ne("onChange"),Ne("onClose")})}i(ir,"setupMobile");function Bo(E){if(e.isOpen===!0)return e.close();e.open(E)}i(Bo,"toggle");function Ne(E,_){if(e.config!==void 0){var b=e.config[E];if(b!==void 0&&b.length>0)for(var R=0;b[R]&&R<b.length;R++)b[R](e.selectedDates,e.input.value,e,_);E==="onChange"&&(e.input.dispatchEvent(or("change")),e.input.dispatchEvent(or("input")))}}i(Ne,"triggerEvent");function or(E){var _=document.createEvent("Event");return _.initEvent(E,!0,!0),_}i(or,"createEvent");function Mn(E){for(var _=0;_<e.selectedDates.length;_++){var b=e.selectedDates[_];if(b instanceof Date&&Tt(b,E)===0)return""+_}return!1}i(Mn,"isDateSelected");function Go(E){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Tt(E,e.selectedDates[0])>=0&&Tt(E,e.selectedDates[1])<=0}i(Go,"isDateInRange");function Nn(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(E,_){var b=new Date(e.currentYear,e.currentMonth,1);b.setMonth(e.currentMonth+_),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[_].textContent=Vr(b.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=b.getMonth().toString(),E.value=b.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}i(Nn,"updateNavigationCurrentMonth");function ar(E){var _=E||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(b){return e.formatDate(b,_)}).filter(function(b,R,B){return e.config.mode!=="range"||e.config.enableTime||B.indexOf(b)===R}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}i(ar,"getDateStr");function ht(E){E===void 0&&(E=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=ar(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=ar(e.config.altFormat)),E!==!1&&Ne("onValueUpdate")}i(ht,"updateValue");function Vo(E){var _=_t(E),b=e.prevMonthNav.contains(_),R=e.nextMonthNav.contains(_);b||R?nr(b?-1:1):e.yearElements.indexOf(_)>=0?_.select():_.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):_.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}i(Vo,"onMonthNavClick");function ko(E){E.preventDefault();var _=E.type==="keydown",b=_t(E),R=b;e.amPM!==void 0&&b===e.amPM&&(e.amPM.textContent=e.l10n.amPM[vt(e.amPM.textContent===e.l10n.amPM[0])]);var B=parseFloat(R.getAttribute("min")),z=parseFloat(R.getAttribute("max")),me=parseFloat(R.getAttribute("step")),Z=parseInt(R.value,10),de=E.delta||(_?E.which===38?1:-1:0),ee=Z+me*de;if(typeof R.value<"u"&&R.value.length===2){var ie=R===e.hourElement,Pe=R===e.minuteElement;ee<B?(ee=z+ee+vt(!ie)+(vt(ie)&&vt(!e.amPM)),Pe&&Ke(void 0,-1,e.hourElement)):ee>z&&(ee=R===e.hourElement?ee-z-vt(!e.amPM):B,Pe&&Ke(void 0,1,e.hourElement)),e.amPM&&ie&&(me===1?ee+Z===23:Math.abs(ee-Z)>me)&&(e.amPM.textContent=e.l10n.amPM[vt(e.amPM.textContent===e.l10n.amPM[0])]),R.value=lt(ee)}}return i(ko,"timeWrapper"),f(),e}i(rm,"FlatpickrInstance");function Zn(o,n){for(var e=Array.prototype.slice.call(o).filter(function(h){return h instanceof HTMLElement}),s=[],f=0;f<e.length;f++){var m=e[f];try{if(m.getAttribute("data-fp-omit")!==null)continue;m._flatpickr!==void 0&&(m._flatpickr.destroy(),m._flatpickr=void 0),m._flatpickr=rm(m,n||{}),s.push(m._flatpickr)}catch(h){console.error(h)}}return s.length===1?s[0]:s}i(Zn,"_flatpickr");typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(o){return Zn(this,o)},HTMLElement.prototype.flatpickr=function(o){return Zn([this],o)});var Je=i(function(o,n){return typeof o=="string"?Zn(window.document.querySelectorAll(o),n):o instanceof Node?Zn([o],n):Zn(o,n)},"flatpickr");Je.defaultConfig={};Je.l10ns={en:ct({},qi),default:ct({},qi)};Je.localize=function(o){Je.l10ns.default=ct(ct({},Je.l10ns.default),o)};Je.setDefaults=function(o){Je.defaultConfig=ct(ct({},Je.defaultConfig),o)};Je.parseDate=zi({});Je.formatDate=Ua({});Je.compareDates=Tt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(o){return Zn(this,o)});Date.prototype.fp_incr=function(o){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof o=="string"?parseInt(o,10):o))};typeof window<"u"&&(window.flatpickr=Je);var rn=Je;var im=rn,Xi=class extends Te{static{i(this,"DatetimeField")}options={id:"",type:br,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),className:Ve,enhance:!0,options:{altInput:!0,enableTime:!0}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=im(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"datetime-local"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var kr=class{static{i(this,"Button")}options={id:"",type:"button",buttonType:"submit",className:fu,template:"Submit"};containerElement=null;buttonElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(n,e,s){this.initializeOptions(s),this._parent=n,this._form=e,this._id=this.options.id,this._type=s.type,this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getType(){return this._type}getButtonType(){return this.options.buttonType}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=su,this.containerElement.setAttribute(oe,this._id+Vt)}createButtonElement(){this.buttonElement=document.createElement(Ni),this.buttonElement.className=this.options.className,this.buttonElement.setAttribute(oe,this._id),this.buttonElement.setAttribute(Me,this.options.buttonType),typeof this.options.template=="string"?this.buttonElement.innerText=this.options.template:typeof this.options.template=="function"&&(this.buttonElement.innerHTML="",this.buttonElement.append(this.options.template())),this.buttonElement.addEventListener(Fi,n=>this.onClick(n))}onGui(){this.createContainerElement(),this.createButtonElement(),this.containerElement&&this.buttonElement&&se(this.buttonElement,this.containerElement)}mount(){this.buttonElement&&se(this.buttonElement,this._parent),this._isMounted=!0}unmount(){this.buttonElement&&zt(this.buttonElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}onClick(n){this.options.click&&this.options.click(n,this._form.getData()),this.dispatchEvent("clicked")}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let n=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),n!==this._isVisible&&this.dispatchEvent("visibilityChanged")}dispatchEvent(n,e=null){function s(m){if(m!=null){if(typeof m=="boolean")return new CustomEvent(n,{detail:m});new CustomEvent(n,m)}return new CustomEvent(n)}i(s,"getDispathedEvent");let f=s(e);this.buttonElement?.dispatchEvent(f)}on(n,e,s){this.buttonElement?.addEventListener(n,e,s)}off(n,e,s){this.buttonElement?.removeEventListener(n,e,s)}};var Qi=class extends Te{static{i(this,"CheckboxField")}options={id:"",type:Ir,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),default:null,className:hu,toggle:!1};sliderElement=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&(this.getValue()&&!this.inputElement.hasAttribute(wt)?this.inputElement.setAttribute(wt,String(this.getValue())):!this.getValue()&&this.inputElement.hasAttribute(wt)&&this.inputElement.removeAttribute(wt))}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=tn+" "+this.getType(),this.options.toggle&&(this.containerElement.className+=" "+mu),this.containerElement.setAttribute(oe,this.getId()+Vt)}createLabelElement(){this.labelElement=document.createElement(Wn),this.inputElement&&this.labelElement&&se(this.inputElement,this.labelElement),this.sliderElement&&this.labelElement&&se(this.sliderElement,this.labelElement);let n=document.createElement(Dn);this.options.label&&(typeof this.options.label=="string"?n.innerText=this.options.label:typeof this.options.label=="function"&&(n.innerHTML="",n.append(this.options.label()))),n.setAttribute(oe,this.getId()+Wt),this.labelElement.setAttribute(Kn,this.options.name||this.getId()),n.className=In,this.options.label&&se(n,this.labelElement)}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.default&&this.inputElement.setAttribute(wt,String(this.options.default)),this.inputElement.className=this.options.className}createToggleSpan(){this.sliderElement=document.createElement(yn),this.sliderElement.className=gu}onGui(){this.createContainerElement(),this.options.toggle&&this.createToggleSpan(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.containerElement&&this.labelElement&&se(this.labelElement,this.containerElement),this.labelElement&&this.validationElement&&se(this.validationElement,this.labelElement)}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}change(n){this.setValue(n.target.checked),this.options.change&&this.options.change(this.getValue()),this.validate(),this.dispatchEvent("changed",this._value)}getValue(){return this._value}};var Ji=class extends Te{static{i(this,"ColorField")}options={id:"",type:yr,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),default:null,className:Eu};constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}getValue(){return this._value}};var om=rn,Zi=class extends Te{static{i(this,"DateField")}options={id:"",type:Dr,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),className:Ve,enhance:!0,options:{altInput:!0}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=om(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"date"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var eo=class extends Te{static{i(this,"EmailField")}options={id:"",type:Ar,required:!1,validation:i((n,e,s)=>s&&!n?De:n&&typeof n=="string"&&!n.match(this.mailFormat)?Ou:!0,"validation"),default:"",className:Ve};mailFormat=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var rc=Al(nc(),1);var no=class extends Te{static{i(this,"FileField")}options={id:"",type:Or,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),className:Ve,enhance:!0,multiple:!1,debounce:50,options:{storeAsFile:!0,instantUpload:!1,allowProcess:!1}};_filepond=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFilepond(),this.bindChange()}initializeOptions(n){this.options=Object.assign({},{...this.options,options:{allowMultiple:n.multiple}},Ct(this.options.type,n))}syncValue(){}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder),this.inputElement.className=this.options.className,this.options.multiple&&!this.options.enhance&&this.inputElement.setAttribute(xi,"true"),this.options.accept&&this.inputElement.setAttribute(Ku,this.options.accept)}getFilepond(){return this._filepond}initFilepond(){this.inputElement&&this.options.enhance&&(this._filepond=(0,rc.create)(this.inputElement,this.options.options||{}))}bindChange(){if(this.options.enhance){if(!this._filepond)return;this._filepond.on("addfile",(n,e)=>{if(n)return;let s=this._filepond.getFiles();this.filePondChange(s)}),this._filepond.on("removefile",(n,e)=>{if(n)return;let s=this._filepond.getFiles();this.filePondChange(s)}),this._filepond.on("updatefiles",(n,e)=>{if(n)return;let s=this._filepond.getFiles();this.filePondChange(s)})}else this.inputElement?.addEventListener(Qe,qn(this.change,this.options.debounce,this))}filePondChange(n){this.changeValue(n)}change(n){n.target?.files&&this.changeValue(n.target.files)}changeValue(n){this.setValue(n),this.validate(),this.handleValidatedField(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",n)}getValue(){return this._value}};var ro=class{static{i(this,"HiddenField")}options={id:"",type:Sr,default:null};inputElement=null;containerElement=null;labelElement=null;validationElement=null;_id;_parent;_form;_saveKey;_value=null;_type;constructor(n,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=n,this._type=s.type,this._saveKey=Tn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.load(),this.update()}setValue(n,e=!0){this._value=n,this.syncValue(),this._form.setData(this._id,n),e&&this.save()}getValue(){return this._value}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}mountToParent(){this.containerElement&&se(this.containerElement,this._parent)}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=tn+" "+this.getType(),this.containerElement.setAttribute(oe,this.getId()+Vt)}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType())}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getForm(){return this._form}onGui(){this.createContainerElement(),this.createInputElement(),this.containerElement&&this.inputElement&&se(this.inputElement,this.containerElement),this.mountToParent()}destroy(){this._parent&&this._parent.remove()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let n=localStorage.getItem(this._saveKey);if(n!==null){this.setValue(jn(n)?JSON.parse(n):n,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setValue(this.options.default??null,!1),this.update()}async update(){}};var io=class extends Te{static{i(this,"NumberField")}options={id:"",type:Rr,required:!1,validation:i((n,e,s)=>s&&!n&&n!==0?De:this.options.min&&this.options.min>n?Pi+this.options.min:this.options.max&&this.options.max<n?Mi+this.options.max:!0,"validation"),default:null,className:Ve};constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize(),this.bindMinMax()}async initialize(){this.load(),this.update(),this.bindMinMax(),this.bindChange()}bindMinMax(){this.inputElement&&(this.options.min&&this.inputElement.setAttribute(Ui,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(Bi,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(Gi,String(this.options.step)))}getValue(){return this._value}};var oo=class extends Te{static{i(this,"PasswordField")}options={id:"",type:Qn,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),default:"",className:Ve,allowPeek:!1};constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize(),this.options.allowPeek&&this.addPeekButton()}addPeekButton(){let n=document.createElement(Ni),e=this.inputElement,s=document.createElement(tt);s.classList.add(Au),e.insertAdjacentElement("afterend",s),s.append(e,n);let f=!0;m(),n.addEventListener(Fi,I=>{I.preventDefault(),f?h():m()});function m(){n.classList.add(wa),n.classList.remove(Ca),n.ariaLabel="show password",e.type=Qn,f=!0}i(m,"hide");function h(){n.classList.add(Ca),n.classList.remove(wa),n.ariaLabel="hide password",e.type=On,f=!1}i(h,"show")}getValue(){return this._value}};var ao=class extends Te{static{i(this,"RangeField")}options={id:"",type:Cr,required:!1,validation:i((n,e,s)=>s&&!n&&n!==0?De:this.options.min&&this.options.min>n?Pi+this.options.min:this.options.max&&this.options.max<n?Mi+this.options.max:!0,"validation"),default:0,className:_u};minElement=null;maxElement=null;valueElement=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.min&&this.inputElement.setAttribute(Ui,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(Bi,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(Gi,String(this.options.step)),this.inputElement.className=this.options.className}createOtherElements(){this.minElement=document.createElement(yn),this.minElement.setAttribute(oe,this.getId()+Gu),this.minElement.className=Tu,this.maxElement=document.createElement(yn),this.maxElement.setAttribute(oe,this.getId()+Vu),this.maxElement.className=Iu,this.valueElement=document.createElement(Pu),this.valueElement.setAttribute(oe,this.getId()+ku),this.valueElement.className=yu}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.createOtherElements(),this.inputElement&&this.labelElement&&se(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&se(this.validationElement,this.labelElement),this.labelElement&&this.valueElement&&se(this.valueElement,this.labelElement),this.containerElement&&this.labelElement&&se(this.labelElement,this.containerElement)}updateRangeValues(){this.minElement&&this.options.min!==void 0&&(this.minElement.innerText=String(this.options.min)),this.maxElement&&this.options.max!==void 0&&(this.maxElement.innerText=String(this.options.max)),this.valueElement&&(this.valueElement.innerText=this.getValue()?String(this.getValue()):""),setTimeout(this.updateInputPadding,10)}updateInputPadding(){this.inputElement&&this.valueElement&&(this.inputElement.style.paddingRight=this.valueElement.clientWidth+5+"px")}async initialize(){this.load(),this.update(),this.bindChange(),this.updateRangeValues()}async reset(){this.triggerEvents(!1),localStorage.removeItem(this.getSaveKey()),this.setValue(this.options.default??null,!1),this.updateRangeValues(),this.update(),this.triggerEvents(!0),this.dispatchEvent("resetted")}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n),this.updateRangeValues()})}getValue(){return this._value}};function Ba(o,n){o.split(/\s+/).forEach(e=>{n(e)})}i(Ba,"forEvents");var Yr=class{static{i(this,"MicroEvent")}constructor(){this._events={}}on(n,e){Ba(n,s=>{let f=this._events[s]||[];f.push(e),this._events[s]=f})}off(n,e){var s=arguments.length;if(s===0){this._events={};return}Ba(n,f=>{if(s===1){delete this._events[f];return}let m=this._events[f];m!==void 0&&(m.splice(m.indexOf(e),1),this._events[f]=m)})}trigger(n,...e){var s=this;Ba(n,f=>{let m=s._events[f];m!==void 0&&m.forEach(h=>{h.apply(s,e)})})}};function Ga(o){return o.plugins={},class extends o{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(n,e){o.plugins[n]={name:n,fn:e}}initializePlugins(n){var e,s;let f=this,m=[];if(Array.isArray(n))n.forEach(h=>{typeof h=="string"?m.push(h):(f.plugins.settings[h.name]=h.options,m.push(h.name))});else if(n)for(e in n)n.hasOwnProperty(e)&&(f.plugins.settings[e]=n[e],m.push(e));for(;s=m.shift();)f.require(s)}loadPlugin(n){var e=this,s=e.plugins,f=o.plugins[n];if(!o.plugins.hasOwnProperty(n))throw new Error('Unable to find "'+n+'" plugin');s.requested[n]=!0,s.loaded[n]=f.fn.apply(e,[e.plugins.settings[n]||{}]),s.names.push(n)}require(n){var e=this,s=e.plugins;if(!e.plugins.loaded.hasOwnProperty(n)){if(s.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');e.loadPlugin(n)}return s.loaded[n]}}}i(Ga,"MicroPlugin");var Hr=i(o=>(o=o.filter(Boolean),o.length<2?o[0]||"":sm(o)==1?"["+o.join("")+"]":"(?:"+o.join("|")+")"),"arrayToPattern"),Va=i(o=>{if(!am(o))return o.join("");let n="",e=0,s=i(()=>{e>1&&(n+="{"+e+"}")},"prev_pattern");return o.forEach((f,m)=>{if(f===o[m-1]){e++;return}s(),n+=f,e=1}),s(),n},"sequencePattern"),ka=i(o=>{let n=Array.from(o);return Hr(n)},"setToPattern"),am=i(o=>new Set(o).size!==o.length,"hasDuplicates"),on=i(o=>(o+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),"escape_regex"),sm=i(o=>o.reduce((n,e)=>Math.max(n,lm(e)),0),"maxValueLength"),lm=i(o=>Array.from(o).length,"unicodeLength");var Ya=i(o=>{if(o.length===1)return[[o]];let n=[],e=o.substring(1);return Ya(e).forEach(function(f){let m=f.slice(0);m[0]=o.charAt(0)+m[0],n.push(m),m=f.slice(0),m.unshift(o.charAt(0)),n.push(m)}),n},"allSubstrings");var um=[[0,65535]],cm="[-]",so,sc,fm=3,Ha={},ic={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let o in ic){let n=ic[o]||"";for(let e=0;e<n.length;e++){let s=n.substring(e,e+1);Ha[s]=o}}var dm=new RegExp(Object.keys(Ha).join("|")+"|"+cm,"gu"),pm=i(o=>{so===void 0&&(so=Em(o||um))},"initialize"),oc=i((o,n="NFKD")=>o.normalize(n),"normalize"),qr=i(o=>Array.from(o).reduce((n,e)=>n+hm(e),""),"asciifold"),hm=i(o=>(o=oc(o).toLowerCase().replace(dm,n=>Ha[n]||""),oc(o,"NFC")),"_asciifold");function*mm(o){for(let[n,e]of o)for(let s=n;s<=e;s++){let f=String.fromCharCode(s),m=qr(f);m!=f.toLowerCase()&&(m.length>fm||m.length!=0&&(yield{folded:m,composed:f,code_point:s}))}}i(mm,"generator");var gm=i(o=>{let n={},e=i((s,f)=>{let m=n[s]||new Set,h=new RegExp("^"+ka(m)+"$","iu");f.match(h)||(m.add(on(f)),n[s]=m)},"addMatching");for(let s of mm(o))e(s.folded,s.folded),e(s.folded,s.composed);return n},"generateSets"),Em=i(o=>{let n=gm(o),e={},s=[];for(let m in n){let h=n[m];h&&(e[m]=ka(h)),m.length>1&&s.push(on(m))}s.sort((m,h)=>h.length-m.length);let f=Hr(s);return sc=new RegExp("^"+f,"u"),e},"generateMap"),vm=i((o,n=1)=>{let e=0;return o=o.map(s=>(so[s]&&(e+=s.length),so[s]||s)),e>=n?Va(o):""},"mapSequence"),_m=i((o,n=1)=>(n=Math.max(n,o.length-1),Hr(Ya(o).map(e=>vm(e,n)))),"substringsToPattern"),ac=i((o,n=!0)=>{let e=o.length>1?1:0;return Hr(o.map(s=>{let f=[],m=n?s.length():s.length()-1;for(let h=0;h<m;h++)f.push(_m(s.substrs[h]||"",e));return Va(f)}))},"sequencesToPattern"),Tm=i((o,n)=>{for(let e of n){if(e.start!=o.start||e.end!=o.end||e.substrs.join("")!==o.substrs.join(""))continue;let s=o.parts,f=i(h=>{for(let I of s){if(I.start===h.start&&I.substr===h.substr)return!1;if(!(h.length==1||I.length==1)&&(h.start<I.start&&h.end>I.start||I.start<h.start&&I.end>h.start))return!0}return!1},"filter");if(!(e.parts.filter(f).length>0))return!0}return!1},"inSequences"),lo=class o{static{i(this,"Sequence")}parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(n){n&&(this.parts.push(n),this.substrs.push(n.substr),this.start=Math.min(n.start,this.start),this.end=Math.max(n.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(n,e){let s=new o,f=JSON.parse(JSON.stringify(this.parts)),m=f.pop();for(let A of f)s.add(A);let h=e.substr.substring(0,n-m.start),I=h.length;return s.add({start:m.start,end:m.start+I,length:I,substr:h}),s}},lc=i(o=>{pm(),o=qr(o);let n="",e=[new lo];for(let s=0;s<o.length;s++){let m=o.substring(s).match(sc),h=o.substring(s,s+1),I=m?m[0]:null,A=[],S=new Set;for(let C of e){let P=C.last();if(!P||P.length==1||P.end<=s)if(I){let G=I.length;C.add({start:s,end:s+G,length:G,substr:I}),S.add("1")}else C.add({start:s,end:s+1,length:1,substr:h}),S.add("2");else if(I){let G=C.clone(s,P),ae=I.length;G.add({start:s,end:s+ae,length:ae,substr:I}),A.push(G)}else S.add("3")}if(A.length>0){A=A.sort((C,P)=>C.length()-P.length());for(let C of A)Tm(C,e)||e.push(C);continue}if(s>0&&S.size==1&&!S.has("3")){n+=ac(e,!1);let C=new lo,P=e[0];P&&C.add(P.last()),e=[C]}}return n+=ac(e,!0),n},"getPattern");var uc=i((o,n)=>{if(o)return o[n]},"getAttr"),cc=i((o,n)=>{if(o){for(var e,s=n.split(".");(e=s.shift())&&(o=o[e]););return o}},"getAttrNesting"),uo=i((o,n,e)=>{var s,f;return!o||(o=o+"",n.regex==null)||(f=o.search(n.regex),f===-1)?0:(s=n.string.length/o.length,f===0&&(s+=.5),s*e)},"scoreValue"),co=i((o,n)=>{var e=o[n];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(o[n]=[e])},"propToArray"),jr=i((o,n)=>{if(Array.isArray(o))o.forEach(n);else for(var e in o)o.hasOwnProperty(e)&&n(o[e],e)},"iterate"),fc=i((o,n)=>typeof o=="number"&&typeof n=="number"?o>n?1:o<n?-1:0:(o=qr(o+"").toLowerCase(),n=qr(n+"").toLowerCase(),o>n?1:n>o?-1:0),"cmp");var fo=class{static{i(this,"Sifter")}items;settings;constructor(n,e){this.items=n,this.settings=e||{diacritics:!0}}tokenize(n,e,s){if(!n||!n.length)return[];let f=[],m=n.split(/\s+/);var h;return s&&(h=new RegExp("^("+Object.keys(s).map(on).join("|")+"):(.*)$")),m.forEach(I=>{let A,S=null,C=null;h&&(A=I.match(h))&&(S=A[1],I=A[2]),I.length>0&&(this.settings.diacritics?C=lc(I)||null:C=on(I),C&&e&&(C="\\b"+C)),f.push({string:I,regex:C?new RegExp(C,"iu"):null,field:S})}),f}getScoreFunction(n,e){var s=this.prepareSearch(n,e);return this._getScoreFunction(s)}_getScoreFunction(n){let e=n.tokens,s=e.length;if(!s)return function(){return 0};let f=n.options.fields,m=n.weights,h=f.length,I=n.getAttrFn;if(!h)return function(){return 1};let A=function(){return h===1?function(S,C){let P=f[0].field;return uo(I(C,P),S,m[P]||1)}:function(S,C){var P=0;if(S.field){let G=I(C,S.field);!S.regex&&G?P+=1/h:P+=uo(G,S,1)}else jr(m,(G,ae)=>{P+=uo(I(C,ae),S,G)});return P/h}}();return s===1?function(S){return A(e[0],S)}:n.options.conjunction==="and"?function(S){var C,P=0;for(let G of e){if(C=A(G,S),C<=0)return 0;P+=C}return P/s}:function(S){var C=0;return jr(e,P=>{C+=A(P,S)}),C/s}}getSortFunction(n,e){var s=this.prepareSearch(n,e);return this._getSortFunction(s)}_getSortFunction(n){var e,s=[];let f=this,m=n.options,h=!n.query&&m.sort_empty?m.sort_empty:m.sort;if(typeof h=="function")return h.bind(this);let I=i(function(S,C){return S==="$score"?C.score:n.getAttrFn(f.items[C.id],S)},"get_field");if(h)for(let S of h)(n.query||S.field!=="$score")&&s.push(S);if(n.query){e=!0;for(let S of s)if(S.field==="$score"){e=!1;break}e&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(S=>S.field!=="$score");return s.length?function(S,C){var P,G;for(let ae of s)if(G=ae.field,P=(ae.direction==="desc"?-1:1)*fc(I(G,S),I(G,C)),P)return P;return 0}:null}prepareSearch(n,e){let s={};var f=Object.assign({},e);if(co(f,"sort"),co(f,"sort_empty"),f.fields){co(f,"fields");let m=[];f.fields.forEach(h=>{typeof h=="string"&&(h={field:h,weight:1}),m.push(h),s[h.field]="weight"in h?h.weight:1}),f.fields=m}return{options:f,query:n.toLowerCase().trim(),tokens:this.tokenize(n,f.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:f.nesting?cc:uc}}search(n,e){var s=this,f,m;m=this.prepareSearch(n,e),e=m.options,n=m.query;let h=e.score||s._getScoreFunction(m);n.length?jr(s.items,(A,S)=>{f=h(A),(e.filter===!1||f>0)&&m.items.push({score:f,id:S})}):jr(s.items,(A,S)=>{m.items.push({score:1,id:S})});let I=s._getSortFunction(m);return I&&m.items.sort(I),m.total=m.items.length,typeof e.limit=="number"&&(m.items=m.items.slice(0,e.limit)),m}};var bt=i(o=>typeof o>"u"||o===null?null:zr(o),"hash_key"),zr=i(o=>typeof o=="boolean"?o?"1":"0":o+"","get_hash"),po=i(o=>(o+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),dc=i((o,n)=>n>0?window.setTimeout(o,n):(o.call(null),null),"timeout"),pc=i((o,n)=>{var e;return function(s,f){var m=this;e&&(m.loading=Math.max(m.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,m.loadedSearches[s]=!0,o.call(m,s,f)},n)}},"loadDebounce"),qa=i((o,n,e)=>{var s,f=o.trigger,m={};o.trigger=function(){var h=arguments[0];if(n.indexOf(h)!==-1)m[h]=arguments;else return f.apply(o,arguments)},e.apply(o,[]),o.trigger=f;for(s of n)s in m&&f.apply(o,m[s])},"debounce_events"),hc=i(o=>({start:o.selectionStart||0,length:(o.selectionEnd||0)-(o.selectionStart||0)}),"getSelection"),He=i((o,n=!1)=>{o&&(o.preventDefault(),n&&o.stopPropagation())},"preventDefault"),ft=i((o,n,e,s)=>{o.addEventListener(n,e,s)},"addEvent"),an=i((o,n)=>{if(!n||!n[o])return!1;var e=(n.altKey?1:0)+(n.ctrlKey?1:0)+(n.shiftKey?1:0)+(n.metaKey?1:0);return e===1},"isKeyDown"),ho=i((o,n)=>{let e=o.getAttribute("id");return e||(o.setAttribute("id",n),n)},"getId"),ja=i(o=>o.replace(/[\\"']/g,"\\$&"),"addSlashes"),sn=i((o,n)=>{n&&o.append(n)},"append"),Ze=i((o,n)=>{if(Array.isArray(o))o.forEach(n);else for(var e in o)o.hasOwnProperty(e)&&n(o[e],e)},"iterate");var xt=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(za(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),za=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString"),mc=i(o=>o.replace(/['"\\]/g,"\\$&"),"escapeQuery"),mo=i((o,n)=>{var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!1),o.dispatchEvent(e)},"triggerEvent"),Wr=i((o,n)=>{Object.assign(o.style,n)},"applyCSS"),It=i((o,...n)=>{var e=gc(n);o=Ec(o),o.map(s=>{e.map(f=>{s.classList.add(f)})})},"addClasses"),$t=i((o,...n)=>{var e=gc(n);o=Ec(o),o.map(s=>{e.map(f=>{s.classList.remove(f)})})},"removeClasses"),gc=i(o=>{var n=[];return Ze(o,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),Ec=i(o=>(Array.isArray(o)||(o=[o]),o),"castAsArray"),go=i((o,n,e)=>{if(!(e&&!e.contains(o)))for(;o&&o.matches;){if(o.matches(n))return o;o=o.parentNode}},"parentMatch"),Wa=i((o,n=0)=>n>0?o[o.length-1]:o[0],"getTail"),vc=i(o=>Object.keys(o).length===0,"isEmptyObject"),Ka=i((o,n)=>{if(!o)return-1;n=n||o.nodeName;for(var e=0;o=o.previousElementSibling;)o.matches(n)&&e++;return e},"nodeIndex"),xe=i((o,n)=>{Ze(n,(e,s)=>{e==null?o.removeAttribute(s):o.setAttribute(s,""+e)})},"setAttr"),Kr=i((o,n)=>{o.parentNode&&o.parentNode.replaceChild(n,o)},"replaceNode");var _c=i((o,n)=>{if(n===null)return;if(typeof n=="string"){if(!n.length)return;n=new RegExp(n,"i")}let e=i(m=>{var h=m.data.match(n);if(h&&m.data.length>0){var I=document.createElement("span");I.className="highlight";var A=m.splitText(h.index);A.splitText(h[0].length);var S=A.cloneNode(!0);return I.appendChild(S),Kr(A,I),1}return 0},"highlightText"),s=i(m=>{m.nodeType===1&&m.childNodes&&!/(script|style)/i.test(m.tagName)&&(m.className!=="highlight"||m.tagName!=="SPAN")&&Array.from(m.childNodes).forEach(h=>{f(h)})},"highlightChildren"),f=i(m=>m.nodeType===3?e(m):(s(m),0),"highlightRecursive");f(o)},"highlight"),Tc=i(o=>{var n=o.querySelectorAll("span.highlight");Array.prototype.forEach.call(n,function(e){var s=e.parentNode;s.replaceChild(e.firstChild,e),s.normalize()})},"removeHighlight");var Im=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),$r=Im?"metaKey":"ctrlKey";var $a={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:i(function(o){return o.length>0},"shouldLoad"),render:{}};function Eo(o,n){var e=Object.assign({},$a,n),s=e.dataAttr,f=e.labelField,m=e.valueField,h=e.disabledField,I=e.optgroupField,A=e.optgroupLabelField,S=e.optgroupValueField,C=o.tagName.toLowerCase(),P=o.getAttribute("placeholder")||o.getAttribute("data-placeholder");if(!P&&!e.allowEmptyOption){let j=o.querySelector('option[value=""]');j&&(P=j.textContent)}var G={placeholder:P,options:[],optgroups:[],items:[],maxItems:null},ae=i(()=>{var j,he=G.options,ve={},Q=1;let be=0;var Ke=i(ce=>{var _e=Object.assign({},ce.dataset),fe=s&&_e[s];return typeof fe=="string"&&fe.length&&(_e=Object.assign(_e,JSON.parse(fe))),_e},"readData"),ot=i((ce,_e)=>{var fe=bt(ce.value);if(fe!=null&&!(!fe&&!e.allowEmptyOption)){if(ve.hasOwnProperty(fe)){if(_e){var Ue=ve[fe][I];Ue?Array.isArray(Ue)?Ue.push(_e):ve[fe][I]=[Ue,_e]:ve[fe][I]=_e}}else{var Ae=Ke(ce);Ae[f]=Ae[f]||ce.textContent,Ae[m]=Ae[m]||fe,Ae[h]=Ae[h]||ce.disabled,Ae[I]=Ae[I]||_e,Ae.$option=ce,Ae.$order=Ae.$order||++be,ve[fe]=Ae,he.push(Ae)}ce.selected&&G.items.push(fe)}},"addOption"),at=i(ce=>{var _e,fe;fe=Ke(ce),fe[A]=fe[A]||ce.getAttribute("label")||"",fe[S]=fe[S]||Q++,fe[h]=fe[h]||ce.disabled,fe.$order=fe.$order||++be,G.optgroups.push(fe),_e=fe[S],Ze(ce.children,Ue=>{ot(Ue,_e)})},"addGroup");G.maxItems=o.hasAttribute("multiple")?null:1,Ze(o.children,ce=>{j=ce.tagName.toLowerCase(),j==="optgroup"?at(ce):j==="option"&&ot(ce)})},"init_select"),k=i(()=>{let j=o.getAttribute(s);if(j)G.options=JSON.parse(j),Ze(G.options,ve=>{G.items.push(ve[m])});else{var he=o.value.trim()||"";if(!e.allowEmptyOption&&!he.length)return;let ve=he.split(e.delimiter);Ze(ve,Q=>{let be={};be[f]=Q,be[m]=Q,G.options.push(be)}),G.items=ve}},"init_textbox");return C==="select"?ae():k(),Object.assign({},$a,G,n)}i(Eo,"getSettings");var Dc=0,nt=class extends Ga(Yr){static{i(this,"TomSelect")}constructor(n,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Dc++;var s,f=xt(n);if(f.tomselect)throw new Error("Tom Select already initialized on this element");f.tomselect=this;var m=window.getComputedStyle&&window.getComputedStyle(f,null);s=m.getPropertyValue("direction");let h=Eo(f,e);this.settings=h,this.input=f,this.tabIndex=f.tabIndex||0,this.is_select_tag=f.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=ho(f,"tomselect-"+Dc),this.isRequired=f.required,this.sifter=new fo(this.options,{diacritics:h.diacritics}),h.mode=h.mode||(h.maxItems===1?"single":"multi"),typeof h.hideSelected!="boolean"&&(h.hideSelected=h.mode==="multi"),typeof h.hidePlaceholder!="boolean"&&(h.hidePlaceholder=h.mode!=="multi");var I=h.createFilter;typeof I!="function"&&(typeof I=="string"&&(I=new RegExp(I)),I instanceof RegExp?h.createFilter=he=>I.test(he):h.createFilter=he=>this.settings.duplicates||!this.options[he]),this.initializePlugins(h.plugins),this.setupCallbacks(),this.setupTemplates();let A=xt("<div>"),S=xt("<div>"),C=this._render("dropdown"),P=xt('<div role="listbox" tabindex="-1">'),G=this.input.getAttribute("class")||"",ae=h.mode;var k;if(It(A,h.wrapperClass,G,ae),It(S,h.controlClass),sn(A,S),It(C,h.dropdownClass,ae),h.copyClassesToDropdown&&It(C,G),It(P,h.dropdownContentClass),sn(C,P),xt(h.dropdownParent||A).appendChild(C),za(h.controlInput)){k=xt(h.controlInput);var j=["autocorrect","autocapitalize","autocomplete","spellcheck"];Ze(j,he=>{f.getAttribute(he)&&xe(k,{[he]:f.getAttribute(he)})}),k.tabIndex=-1,S.appendChild(k),this.focus_node=k}else h.controlInput?(k=xt(h.controlInput),this.focus_node=k):(k=xt("<input/>"),this.focus_node=S);this.wrapper=A,this.dropdown=C,this.dropdown_content=P,this.control=S,this.control_input=k,this.setup()}setup(){let n=this,e=n.settings,s=n.control_input,f=n.dropdown,m=n.dropdown_content,h=n.wrapper,I=n.control,A=n.input,S=n.focus_node,C={passive:!0},P=n.inputId+"-ts-dropdown";xe(m,{id:P}),xe(S,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":P});let G=ho(S,n.inputId+"-ts-control"),ae="label[for='"+mc(n.inputId)+"']",k=document.querySelector(ae),j=n.focus.bind(n);if(k){ft(k,"click",j),xe(k,{for:G});let Q=ho(k,n.inputId+"-ts-label");xe(S,{"aria-labelledby":Q}),xe(m,{"aria-labelledby":Q})}if(h.style.width=A.style.width,n.plugins.names.length){let Q="plugin-"+n.plugins.names.join(" plugin-");It([h,f],Q)}(e.maxItems===null||e.maxItems>1)&&n.is_select_tag&&xe(A,{multiple:"multiple"}),e.placeholder&&xe(s,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+on(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=pc(e.load,e.loadThrottle)),ft(f,"mousemove",()=>{n.ignoreHover=!1}),ft(f,"mouseenter",Q=>{var be=go(Q.target,"[data-selectable]",f);be&&n.onOptionHover(Q,be)},{capture:!0}),ft(f,"click",Q=>{let be=go(Q.target,"[data-selectable]");be&&(n.onOptionSelect(Q,be),He(Q,!0))}),ft(I,"click",Q=>{var be=go(Q.target,"[data-ts-item]",I);if(be&&n.onItemSelect(Q,be)){He(Q,!0);return}s.value==""&&(n.onClick(),He(Q,!0))}),ft(S,"keydown",Q=>n.onKeyDown(Q)),ft(s,"keypress",Q=>n.onKeyPress(Q)),ft(s,"input",Q=>n.onInput(Q)),ft(S,"blur",Q=>n.onBlur(Q)),ft(S,"focus",Q=>n.onFocus(Q)),ft(s,"paste",Q=>n.onPaste(Q));let he=i(Q=>{let be=Q.composedPath()[0];if(!h.contains(be)&&!f.contains(be)){n.isFocused&&n.blur(),n.inputState();return}be==s&&n.isOpen?Q.stopPropagation():He(Q,!0)},"doc_mousedown"),ve=i(()=>{n.isOpen&&n.positionDropdown()},"win_scroll");ft(document,"mousedown",he),ft(window,"scroll",ve,C),ft(window,"resize",ve,C),this._destroy=()=>{document.removeEventListener("mousedown",he),window.removeEventListener("scroll",ve),window.removeEventListener("resize",ve),k&&k.removeEventListener("click",j)},this.revertSettings={innerHTML:A.innerHTML,tabIndex:A.tabIndex},A.tabIndex=-1,A.insertAdjacentElement("afterend",n.wrapper),n.sync(!1),e.items=[],delete e.optgroups,delete e.options,ft(A,"invalid",()=>{n.isValid&&(n.isValid=!1,n.isInvalid=!0,n.refreshState())}),n.updateOriginalInput(),n.refreshItems(),n.close(!1),n.inputState(),n.isSetup=!0,A.disabled?n.disable():A.readOnly?n.setReadOnly(!0):n.enable(),n.on("change",this.onChange),It(A,"tomselected","ts-hidden-accessible"),n.trigger("initialize"),e.preload===!0&&n.preload()}setupOptions(n=[],e=[]){this.addOptions(n),Ze(e,s=>{this.registerOptionGroup(s)})}setupTemplates(){var n=this,e=n.settings.labelField,s=n.settings.optgroupLabelField,f={optgroup:i(m=>{let h=document.createElement("div");return h.className="optgroup",h.appendChild(m.options),h},"optgroup"),optgroup_header:i((m,h)=>'<div class="optgroup-header">'+h(m[s])+"</div>","optgroup_header"),option:i((m,h)=>"<div>"+h(m[e])+"</div>","option"),item:i((m,h)=>"<div>"+h(m[e])+"</div>","item"),option_create:i((m,h)=>'<div class="create">Add <strong>'+h(m.input)+"</strong>&hellip;</div>","option_create"),no_results:i(()=>'<div class="no-results">No results found</div>',"no_results"),loading:i(()=>'<div class="spinner"></div>',"loading"),not_loading:i(()=>{},"not_loading"),dropdown:i(()=>"<div></div>","dropdown")};n.settings.render=Object.assign({},f,n.settings.render)}setupCallbacks(){var n,e,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in s)e=this.settings[s[n]],e&&this.on(n,e)}sync(n=!0){let e=this,s=n?Eo(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(s.options,s.optgroups),e.setValue(s.items||[],!0),e.lastQuery=null}onClick(){var n=this;if(n.activeItems.length>0){n.clearActiveItems(),n.focus();return}n.isFocused&&n.isOpen?n.blur():n.focus()}onMouseDown(){}onChange(){mo(this.input,"input"),mo(this.input,"change")}onPaste(n){var e=this;if(e.isInputHidden||e.isLocked){He(n);return}e.settings.splitOn&&setTimeout(()=>{var s=e.inputValue();if(s.match(e.settings.splitOn)){var f=s.trim().split(e.settings.splitOn);Ze(f,m=>{bt(m)&&(this.options[m]?e.addItem(m):e.createItem(m))})}},0)}onKeyPress(n){var e=this;if(e.isLocked){He(n);return}var s=String.fromCharCode(n.keyCode||n.which);if(e.settings.create&&e.settings.mode==="multi"&&s===e.settings.delimiter){e.createItem(),He(n);return}}onKeyDown(n){var e=this;if(e.ignoreHover=!0,e.isLocked){n.keyCode!==9&&He(n);return}switch(n.keyCode){case 65:if(an($r,n)&&e.control_input.value==""){He(n),e.selectAll();return}break;case 27:e.isOpen&&(He(n,!0),e.close()),e.clearActiveItems();return;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let s=e.getAdjacent(e.activeOption,1);s&&e.setActiveOption(s)}He(n);return;case 38:if(e.activeOption){let s=e.getAdjacent(e.activeOption,-1);s&&e.setActiveOption(s)}He(n);return;case 13:e.canSelect(e.activeOption)?(e.onOptionSelect(n,e.activeOption),He(n)):e.settings.create&&e.createItem()?He(n):document.activeElement==e.control_input&&e.isOpen&&He(n);return;case 37:e.advanceSelection(-1,n);return;case 39:e.advanceSelection(1,n);return;case 9:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(n,e.activeOption),He(n)),e.settings.create&&e.createItem()&&He(n));return;case 8:case 46:e.deleteSelection(n);return}e.isInputHidden&&!an($r,n)&&He(n)}onInput(n){if(this.isLocked)return;let e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=dc(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let n=this.lastValue;this.settings.shouldLoad.call(this,n)&&this.load(n),this.refreshOptions(),this.trigger("type",n)}onOptionHover(n,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(n){var e=this,s=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),He(n);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),s||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(n){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var s=i(()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")},"deactivate");e.settings.create&&e.settings.createOnBlur?e.createItem(null,s):s()}}}onOptionSelect(n,e){var s,f=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?f.createItem(null,()=>{f.settings.closeAfterSelect&&f.close()}):(s=e.dataset.value,typeof s<"u"&&(f.lastQuery=null,f.addItem(s),f.settings.closeAfterSelect&&f.close(),!f.settings.hideSelected&&n.type&&/click/.test(n.type)&&f.setActiveOption(e))))}canSelect(n){return!!(this.isOpen&&n&&this.dropdown_content.contains(n))}onItemSelect(n,e){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(He(n),s.setActiveItem(e,n),!0):!1}canLoad(n){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(n))}load(n){let e=this;if(!e.canLoad(n))return;It(e.wrapper,e.settings.loadingClass),e.loading++;let s=e.loadCallback.bind(e);e.settings.load.call(e,n,s)}loadCallback(n,e){let s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(n,e),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||$t(s.wrapper,s.settings.loadingClass),s.trigger("load",n,e)}preload(){var n=this.wrapper.classList;n.contains("preloaded")||(n.add("preloaded"),this.load(""))}setTextboxValue(n=""){var e=this.control_input,s=e.value!==n;s&&(e.value=n,mo(e,"update"),this.lastValue=n)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(n,e){var s=e?[]:["change"];qa(this,s,()=>{this.clear(e),this.addItems(n,e)})}setMaxItems(n){n===0&&(n=null),this.settings.maxItems=n,this.refreshState()}setActiveItem(n,e){var s=this,f,m,h,I,A,S;if(s.settings.mode!=="single"){if(!n){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(f=e&&e.type.toLowerCase(),f==="click"&&an("shiftKey",e)&&s.activeItems.length){for(S=s.getLastActive(),h=Array.prototype.indexOf.call(s.control.children,S),I=Array.prototype.indexOf.call(s.control.children,n),h>I&&(A=h,h=I,I=A),m=h;m<=I;m++)n=s.control.children[m],s.activeItems.indexOf(n)===-1&&s.setActiveItemClass(n);He(e)}else f==="click"&&an($r,e)||f==="keydown"&&an("shiftKey",e)?n.classList.contains("active")?s.removeActiveItem(n):s.setActiveItemClass(n):(s.clearActiveItems(),s.setActiveItemClass(n));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(n){let e=this,s=e.control.querySelector(".last-active");s&&$t(s,"last-active"),It(n,"active last-active"),e.trigger("item_select",n),e.activeItems.indexOf(n)==-1&&e.activeItems.push(n)}removeActiveItem(n){var e=this.activeItems.indexOf(n);this.activeItems.splice(e,1),$t(n,"active")}clearActiveItems(){$t(this.activeItems,"active"),this.activeItems=[]}setActiveOption(n,e=!0){n!==this.activeOption&&(this.clearActiveOption(),n&&(this.activeOption=n,xe(this.focus_node,{"aria-activedescendant":n.getAttribute("id")}),xe(n,{"aria-selected":"true"}),It(n,"active"),e&&this.scrollToOption(n)))}scrollToOption(n,e){if(!n)return;let s=this.dropdown_content,f=s.clientHeight,m=s.scrollTop||0,h=n.offsetHeight,I=n.getBoundingClientRect().top-s.getBoundingClientRect().top+m;I+h>f+m?this.scroll(I-f+h,e):I<m&&this.scroll(I,e)}scroll(n,e){let s=this.dropdown_content;e&&(s.style.scrollBehavior=e),s.scrollTop=n,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&($t(this.activeOption,"active"),xe(this.activeOption,{"aria-selected":null})),this.activeOption=null,xe(this.focus_node,{"aria-activedescendant":null})}selectAll(){let n=this;if(n.settings.mode==="single")return;let e=n.controlChildren();e.length&&(n.inputState(),n.close(),n.activeItems=e,Ze(e,s=>{n.setActiveItemClass(s)}))}inputState(){var n=this;n.control.contains(n.control_input)&&(xe(n.control_input,{placeholder:n.settings.placeholder}),n.activeItems.length>0||!n.isFocused&&n.settings.hidePlaceholder&&n.items.length>0?(n.setTextboxValue(),n.isInputHidden=!0):(n.settings.hidePlaceholder&&n.items.length>0&&xe(n.control_input,{placeholder:""}),n.isInputHidden=!1),n.wrapper.classList.toggle("input-hidden",n.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var n=this;n.isDisabled||n.isReadOnly||(n.ignoreFocus=!0,n.control_input.offsetWidth?n.control_input.focus():n.focus_node.focus(),setTimeout(()=>{n.ignoreFocus=!1,n.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())}getSearchOptions(){var n=this.settings,e=n.sortField;return typeof n.sortField=="string"&&(e=[{field:n.sortField}]),{fields:n.searchField,conjunction:n.searchConjunction,sort:e,nesting:n.nesting}}search(n){var e,s,f=this,m=this.getSearchOptions();if(f.settings.score&&(s=f.settings.score.call(f,n),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return n!==f.lastQuery?(f.lastQuery=n,e=f.sifter.search(n,Object.assign(m,{score:s})),f.currentResults=e):e=Object.assign({},f.currentResults),f.settings.hideSelected&&(e.items=e.items.filter(h=>{let I=bt(h.id);return!(I&&f.items.indexOf(I)!==-1)})),e}refreshOptions(n=!0){var e,s,f,m,h,I,A,S,C,P;let G={},ae=[];var k=this,j=k.inputValue();let he=j===k.lastQuery||j==""&&k.lastQuery==null;var ve=k.search(j),Q=null,be=k.settings.shouldOpen||!1,Ke=k.dropdown_content;he&&(Q=k.activeOption,Q&&(C=Q.closest("[data-group]"))),m=ve.items.length,typeof k.settings.maxOptions=="number"&&(m=Math.min(m,k.settings.maxOptions)),m>0&&(be=!0);let ot=i((ce,_e)=>{let fe=G[ce];if(fe!==void 0){let Ae=ae[fe];if(Ae!==void 0)return[fe,Ae.fragment]}let Ue=document.createDocumentFragment();return fe=ae.length,ae.push({fragment:Ue,order:_e,optgroup:ce}),[fe,Ue]},"getGroupFragment");for(e=0;e<m;e++){let ce=ve.items[e];if(!ce)continue;let _e=ce.id,fe=k.options[_e];if(fe===void 0)continue;let Ue=zr(_e),Ae=k.getOption(Ue,!0);for(k.settings.hideSelected||Ae.classList.toggle("selected",k.items.includes(Ue)),h=fe[k.settings.optgroupField]||"",I=Array.isArray(h)?h:[h],s=0,f=I&&I.length;s<f;s++){h=I[s];let Pt=fe.$order,dt=k.optgroups[h];dt===void 0?h="":Pt=dt.$order;let[tr,Sn]=ot(h,Pt);s>0&&(Ae=Ae.cloneNode(!0),xe(Ae,{id:fe.$id+"-clone-"+s,"aria-selected":null}),Ae.classList.add("ts-cloned"),$t(Ae,"active"),k.activeOption&&k.activeOption.dataset.value==_e&&C&&C.dataset.group===h.toString()&&(Q=Ae)),Sn.appendChild(Ae),h!=""&&(G[h]=tr)}}k.settings.lockOptgroupOrder&&ae.sort((ce,_e)=>ce.order-_e.order),A=document.createDocumentFragment(),Ze(ae,ce=>{let _e=ce.fragment,fe=ce.optgroup;if(!_e||!_e.children.length)return;let Ue=k.optgroups[fe];if(Ue!==void 0){let Ae=document.createDocumentFragment(),Pt=k.render("optgroup_header",Ue);sn(Ae,Pt),sn(Ae,_e);let dt=k.render("optgroup",{group:Ue,options:Ae});sn(A,dt)}else sn(A,_e)}),Ke.innerHTML="",sn(Ke,A),k.settings.highlight&&(Tc(Ke),ve.query.length&&ve.tokens.length&&Ze(ve.tokens,ce=>{_c(Ke,ce.regex)}));var at=i(ce=>{let _e=k.render(ce,{input:j});return _e&&(be=!0,Ke.insertBefore(_e,Ke.firstChild)),_e},"add_template");if(k.loading?at("loading"):k.settings.shouldLoad.call(k,j)?ve.items.length===0&&at("no_results"):at("not_loading"),S=k.canCreate(j),S&&(P=at("option_create")),k.hasOptions=ve.items.length>0||S,be){if(ve.items.length>0){if(!Q&&k.settings.mode==="single"&&k.items[0]!=null&&(Q=k.getOption(k.items[0])),!Ke.contains(Q)){let ce=0;P&&!k.settings.addPrecedence&&(ce=1),Q=k.selectable()[ce]}}else P&&(Q=P);n&&!k.isOpen&&(k.open(),k.scrollToOption(Q,"auto")),k.setActiveOption(Q)}else k.clearActiveOption(),n&&k.isOpen&&k.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(n,e=!1){let s=this;if(Array.isArray(n))return s.addOptions(n,e),!1;let f=bt(n[s.settings.valueField]);return f===null||s.options.hasOwnProperty(f)?!1:(n.$order=n.$order||++s.order,n.$id=s.inputId+"-opt-"+n.$order,s.options[f]=n,s.lastQuery=null,e&&(s.userOptions[f]=e,s.trigger("option_add",f,n)),f)}addOptions(n,e=!1){Ze(n,s=>{this.addOption(s,e)})}registerOption(n){return this.addOption(n)}registerOptionGroup(n){var e=bt(n[this.settings.optgroupValueField]);return e===null?!1:(n.$order=n.$order||++this.order,this.optgroups[e]=n,e)}addOptionGroup(n,e){var s;e[this.settings.optgroupValueField]=n,(s=this.registerOptionGroup(e))&&this.trigger("optgroup_add",s,e)}removeOptionGroup(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.clearCache(),this.trigger("optgroup_remove",n))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(n,e){let s=this;var f,m;let h=bt(n),I=bt(e[s.settings.valueField]);if(h===null)return;let A=s.options[h];if(A==null)return;if(typeof I!="string")throw new Error("Value must be set in option data");let S=s.getOption(h),C=s.getItem(h);if(e.$order=e.$order||A.$order,delete s.options[h],s.uncacheValue(I),s.options[I]=e,S){if(s.dropdown_content.contains(S)){let P=s._render("option",e);Kr(S,P),s.activeOption===S&&s.setActiveOption(P)}S.remove()}C&&(m=s.items.indexOf(h),m!==-1&&s.items.splice(m,1,I),f=s._render("item",e),C.classList.contains("active")&&It(f,"active"),Kr(C,f)),s.lastQuery=null}removeOption(n,e){let s=this;n=zr(n),s.uncacheValue(n),delete s.userOptions[n],delete s.options[n],s.lastQuery=null,s.trigger("option_remove",n),s.removeItem(n,e)}clearOptions(n){let e=(n||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let s={};Ze(this.options,(f,m)=>{e(f,m)&&(s[m]=f)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(n,e){return this.items.indexOf(e)>=0}getOption(n,e=!1){let s=bt(n);if(s===null)return null;let f=this.options[s];if(f!=null){if(f.$div)return f.$div;if(e)return this._render("option",f)}return null}getAdjacent(n,e,s="option"){var f=this,m;if(!n)return null;s=="item"?m=f.controlChildren():m=f.dropdown_content.querySelectorAll("[data-selectable]");for(let h=0;h<m.length;h++)if(m[h]==n)return e>0?m[h+1]:m[h-1];return null}getItem(n){if(typeof n=="object")return n;var e=bt(n);return e!==null?this.control.querySelector(`[data-value="${ja(e)}"]`):null}addItems(n,e){var s=this,f=Array.isArray(n)?n:[n];f=f.filter(h=>s.items.indexOf(h)===-1);let m=f[f.length-1];f.forEach(h=>{s.isPending=h!==m,s.addItem(h,e)})}addItem(n,e){var s=e?[]:["change","dropdown_close"];qa(this,s,()=>{var f,m;let h=this,I=h.settings.mode,A=bt(n);if(!(A&&h.items.indexOf(A)!==-1&&(I==="single"&&h.close(),I==="single"||!h.settings.duplicates))&&!(A===null||!h.options.hasOwnProperty(A))&&(I==="single"&&h.clear(e),!(I==="multi"&&h.isFull()))){if(f=h._render("item",h.options[A]),h.control.contains(f)&&(f=f.cloneNode(!0)),m=h.isFull(),h.items.splice(h.caretPos,0,A),h.insertAtCaret(f),h.isSetup){if(!h.isPending&&h.settings.hideSelected){let S=h.getOption(A),C=h.getAdjacent(S,1);C&&h.setActiveOption(C)}!h.isPending&&!h.settings.closeAfterSelect&&h.refreshOptions(h.isFocused&&I!=="single"),h.settings.closeAfterSelect!=!1&&h.isFull()?h.close():h.isPending||h.positionDropdown(),h.trigger("item_add",A,f),h.isPending||h.updateOriginalInput({silent:e})}(!h.isPending||!m&&h.isFull())&&(h.inputState(),h.refreshState())}})}removeItem(n=null,e){let s=this;if(n=s.getItem(n),!n)return;var f,m;let h=n.dataset.value;f=Ka(n),n.remove(),n.classList.contains("active")&&(m=s.activeItems.indexOf(n),s.activeItems.splice(m,1),$t(n,"active")),s.items.splice(f,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(h)&&s.removeOption(h,e),f<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:e}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",h,n)}createItem(n=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=i(()=>{},"callback"));var s=this,f=s.caretPos,m;if(n=n||s.inputValue(),!s.canCreate(n))return e(),!1;s.lock();var h=!1,I=i(A=>{if(s.unlock(),!A||typeof A!="object")return e();var S=bt(A[s.settings.valueField]);if(typeof S!="string")return e();s.setTextboxValue(),s.addOption(A,!0),s.setCaret(f),s.addItem(S),e(A),h=!0},"create");return typeof s.settings.create=="function"?m=s.settings.create.call(this,n,I):m={[s.settings.labelField]:n,[s.settings.valueField]:n},h||I(m),!0}refreshItems(){var n=this;n.lastQuery=null,n.isSetup&&n.addItems(n.items),n.updateOriginalInput(),n.refreshState()}refreshState(){let n=this;n.refreshValidityState();let e=n.isFull(),s=n.isLocked;n.wrapper.classList.toggle("rtl",n.rtl);let f=n.wrapper.classList;f.toggle("focus",n.isFocused),f.toggle("disabled",n.isDisabled),f.toggle("readonly",n.isReadOnly),f.toggle("required",n.isRequired),f.toggle("invalid",!n.isValid),f.toggle("locked",s),f.toggle("full",e),f.toggle("input-active",n.isFocused&&!n.isInputHidden),f.toggle("dropdown-active",n.isOpen),f.toggle("has-options",vc(n.options)),f.toggle("has-items",n.items.length>0)}refreshValidityState(){var n=this;n.input.validity&&(n.isValid=n.input.validity.valid,n.isInvalid=!n.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(n={}){let e=this;var s,f;let m=e.input.querySelector('option[value=""]');if(e.is_select_tag){let A=function(S,C,P){return S||(S=xt('<option value="'+po(C)+'">'+po(P)+"</option>")),S!=m&&e.input.append(S),h.push(S),(S!=m||I>0)&&(S.selected=!0),S};i(A,"AddSelected");let h=[],I=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(S=>{S.selected=!1}),e.items.length==0&&e.settings.mode=="single"?A(m,"",""):e.items.forEach(S=>{if(s=e.options[S],f=s[e.settings.labelField]||"",h.includes(s.$option)){let C=e.input.querySelector(`option[value="${ja(S)}"]:not(:checked)`);A(C,S,f)}else s.$option=A(s.$option,S,f)})}else e.input.value=e.getValue();e.isSetup&&(n.silent||e.trigger("change",e.getValue()))}open(){var n=this;n.isLocked||n.isOpen||n.settings.mode==="multi"&&n.isFull()||(n.isOpen=!0,xe(n.focus_node,{"aria-expanded":"true"}),n.refreshState(),Wr(n.dropdown,{visibility:"hidden",display:"block"}),n.positionDropdown(),Wr(n.dropdown,{visibility:"visible",display:"block"}),n.focus(),n.trigger("dropdown_open",n.dropdown))}close(n=!0){var e=this,s=e.isOpen;n&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,xe(e.focus_node,{"aria-expanded":"false"}),Wr(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),s&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var n=this.control,e=n.getBoundingClientRect(),s=n.offsetHeight+e.top+window.scrollY,f=e.left+window.scrollX;Wr(this.dropdown,{width:e.width+"px",top:s+"px",left:f+"px"})}}clear(n){var e=this;if(e.items.length){var s=e.controlChildren();Ze(s,f=>{e.removeItem(f,!0)}),e.inputState(),n||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(n){let e=this,s=e.caretPos,f=e.control;f.insertBefore(n,f.children[s]||null),e.setCaret(s+1)}deleteSelection(n){var e,s,f,m,h=this;e=n&&n.keyCode===8?-1:1,s=hc(h.control_input);let I=[];if(h.activeItems.length)m=Wa(h.activeItems,e),f=Ka(m),e>0&&f++,Ze(h.activeItems,A=>I.push(A));else if((h.isFocused||h.settings.mode==="single")&&h.items.length){let A=h.controlChildren(),S;e<0&&s.start===0&&s.length===0?S=A[h.caretPos-1]:e>0&&s.start===h.inputValue().length&&(S=A[h.caretPos]),S!==void 0&&I.push(S)}if(!h.shouldDelete(I,n))return!1;for(He(n,!0),typeof f<"u"&&h.setCaret(f);I.length;)h.removeItem(I.pop());return h.inputState(),h.positionDropdown(),h.refreshOptions(!1),!0}shouldDelete(n,e){let s=n.map(f=>f.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,e)===!1)}advanceSelection(n,e){var s,f,m=this;m.rtl&&(n*=-1),!m.inputValue().length&&(an($r,e)||an("shiftKey",e)?(s=m.getLastActive(n),s?s.classList.contains("active")?f=m.getAdjacent(s,n,"item"):f=s:n>0?f=m.control_input.nextElementSibling:f=m.control_input.previousElementSibling,f&&(f.classList.contains("active")&&m.removeActiveItem(s),m.setActiveItemClass(f))):m.moveCaret(n))}moveCaret(n){}getLastActive(n){let e=this.control.querySelector(".last-active");if(e)return e;var s=this.control.querySelectorAll(".active");if(s)return Wa(s,n)}setCaret(n){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(n=this.isReadOnly||this.isDisabled){this.isLocked=n,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(n){this.focus_node.tabIndex=n?-1:this.tabIndex,this.isDisabled=n,this.input.disabled=n,this.control_input.disabled=n,this.setLocked()}setReadOnly(n){this.isReadOnly=n,this.input.readOnly=n,this.control_input.readOnly=n,this.setLocked()}destroy(){var n=this,e=n.revertSettings;n.trigger("destroy"),n.off(),n.wrapper.remove(),n.dropdown.remove(),n.input.innerHTML=e.innerHTML,n.input.tabIndex=e.tabIndex,$t(n.input,"tomselected","ts-hidden-accessible"),n._destroy(),delete n.input.tomselect}render(n,e){var s,f;let m=this;if(typeof this.settings.render[n]!="function"||(f=m.settings.render[n].call(this,e,po),!f))return null;if(f=xt(f),n==="option"||n==="option_create"?e[m.settings.disabledField]?xe(f,{"aria-disabled":"true"}):xe(f,{"data-selectable":""}):n==="optgroup"&&(s=e.group[m.settings.optgroupValueField],xe(f,{"data-group":s}),e.group[m.settings.disabledField]&&xe(f,{"data-disabled":""})),n==="option"||n==="item"){let h=zr(e[m.settings.valueField]);xe(f,{"data-value":h}),n==="item"?(It(f,m.settings.itemClass),xe(f,{"data-ts-item":""})):(It(f,m.settings.optionClass),xe(f,{role:"option",id:e.$id}),e.$div=f,m.options[h]=e)}return f}_render(n,e){let s=this.render(n,e);if(s==null)throw"HTMLElement expected";return s}clearCache(){Ze(this.options,n=>{n.$div&&(n.$div.remove(),delete n.$div)})}uncacheValue(n){let e=this.getOption(n);e&&e.remove()}canCreate(n){return this.settings.create&&n.length>0&&this.settings.createFilter.call(this,n)}hook(n,e,s){var f=this,m=f[e];f[e]=function(){var h,I;return n==="after"&&(h=m.apply(f,arguments)),I=s.apply(f,arguments),n==="instead"?I:(n==="before"&&(h=m.apply(f,arguments)),h)}}};var wm=i((o,n,e,s)=>{o.addEventListener(n,e,s)},"addEvent");function bc(){wm(this.input,"change",()=>{this.sync()})}i(bc,"plugin");var Pm=i(o=>typeof o>"u"||o===null?null:Mm(o),"hash_key"),Mm=i(o=>typeof o=="boolean"?o?"1":"0":o+"","get_hash"),Ac=i((o,n=!1)=>{o&&(o.preventDefault(),n&&o.stopPropagation())},"preventDefault"),Nm=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(Fm(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),Fm=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString");function Oc(o){var n=this,e=n.onOptionSelect;n.settings.hideSelected=!1;let s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},o);var f=i(function(I,A){A?(I.checked=!0,s.uncheckedClassNames&&I.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&I.classList.add(...s.checkedClassNames)):(I.checked=!1,s.checkedClassNames&&I.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&I.classList.add(...s.uncheckedClassNames))},"UpdateChecked"),m=i(function(I){setTimeout(()=>{var A=I.querySelector("input."+s.className);A instanceof HTMLInputElement&&f(A,I.classList.contains("selected"))},1)},"UpdateCheckbox");n.hook("after","setupTemplates",()=>{var h=n.settings.render.option;n.settings.render.option=(I,A)=>{var S=Nm(h.call(n,I,A)),C=document.createElement("input");s.className&&C.classList.add(s.className),C.addEventListener("click",function(G){Ac(G)}),C.type="checkbox";let P=Pm(I[n.settings.valueField]);return f(C,!!(P&&n.items.indexOf(P)>-1)),S.prepend(C),S}}),n.on("item_remove",h=>{var I=n.getOption(h);I&&(I.classList.remove("selected"),m(I))}),n.on("item_add",h=>{var I=n.getOption(h);I&&m(I)}),n.hook("instead","onOptionSelect",(h,I)=>{if(I.classList.contains("selected")){I.classList.remove("selected"),n.removeItem(I.dataset.value),n.refreshOptions(),Ac(h,!0);return}e.call(n,h,I),m(I)})}i(Oc,"plugin");var xm=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(Um(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),Um=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString");function Sc(o){let n=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i(s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`,"html")},o);n.on("initialize",()=>{var s=xm(e.html(e));s.addEventListener("click",f=>{n.isLocked||(n.clear(),n.settings.mode==="single"&&n.settings.allowEmptyOption&&n.addItem(""),f.preventDefault(),f.stopPropagation())}),n.control.appendChild(s)})}i(Sc,"plugin");var Bm=i((o,n=!1)=>{o&&(o.preventDefault(),n&&o.stopPropagation())},"preventDefault"),er=i((o,n,e,s)=>{o.addEventListener(n,e,s)},"addEvent"),Gm=i((o,n)=>{if(Array.isArray(o))o.forEach(n);else for(var e in o)o.hasOwnProperty(e)&&n(o[e],e)},"iterate"),Vm=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(km(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),km=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString"),Ym=i((o,n)=>{Gm(n,(e,s)=>{e==null?o.removeAttribute(s):o.setAttribute(s,""+e)})},"setAttr"),Hm=i((o,n)=>{var e;(e=o.parentNode)==null||e.insertBefore(n,o.nextSibling)},"insertAfter"),qm=i((o,n)=>{var e;(e=o.parentNode)==null||e.insertBefore(n,o)},"insertBefore"),jm=i((o,n)=>{do{var e;if(n=(e=n)==null?void 0:e.previousElementSibling,o==n)return!0}while(n&&n.previousElementSibling);return!1},"isBefore");function Rc(){var o=this;if(o.settings.mode!=="multi")return;var n=o.lock,e=o.unlock;let s=!0,f;o.hook("after","setupTemplates",()=>{var m=o.settings.render.item;o.settings.render.item=(h,I)=>{let A=Vm(m.call(o,h,I));Ym(A,{draggable:"true"});let S=i(j=>{s||Bm(j),j.stopPropagation()},"mousedown"),C=i(j=>{f=A,setTimeout(()=>{A.classList.add("ts-dragging")},0)},"dragStart"),P=i(j=>{j.preventDefault(),A.classList.add("ts-drag-over"),ae(A,f)},"dragOver"),G=i(()=>{A.classList.remove("ts-drag-over")},"dragLeave"),ae=i((j,he)=>{he!==void 0&&(jm(he,A)?Hm(j,he):qm(j,he))},"moveitem"),k=i(()=>{var j;document.querySelectorAll(".ts-drag-over").forEach(ve=>ve.classList.remove("ts-drag-over")),(j=f)==null||j.classList.remove("ts-dragging"),f=void 0;var he=[];o.control.querySelectorAll("[data-value]").forEach(ve=>{if(ve.dataset.value){let Q=ve.dataset.value;Q&&he.push(Q)}}),o.setValue(he)},"dragend");return er(A,"mousedown",S),er(A,"dragstart",C),er(A,"dragenter",P),er(A,"dragover",P),er(A,"dragleave",G),er(A,"dragend",k),A}}),o.hook("instead","lock",()=>(s=!1,n.call(o))),o.hook("instead","unlock",()=>(s=!0,e.call(o)))}i(Rc,"plugin");var zm=i((o,n=!1)=>{o&&(o.preventDefault(),n&&o.stopPropagation())},"preventDefault"),Wm=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(Km(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),Km=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString");function Lc(o){let n=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i(s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>',"html")},o);n.on("initialize",()=>{var s=Wm(e.html(e)),f=s.querySelector("."+e.closeClass);f&&f.addEventListener("click",m=>{zm(m,!0),n.close()}),n.dropdown.insertBefore(s,n.dropdown.firstChild)})}i(Lc,"plugin");var $m=i((o,n)=>{if(Array.isArray(o))o.forEach(n);else for(var e in o)o.hasOwnProperty(e)&&n(o[e],e)},"iterate"),Xm=i((o,...n)=>{var e=Qm(n);o=Jm(o),o.map(s=>{e.map(f=>{s.classList.remove(f)})})},"removeClasses"),Qm=i(o=>{var n=[];return $m(o,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),Jm=i(o=>(Array.isArray(o)||(o=[o]),o),"castAsArray"),Zm=i((o,n)=>{if(!o)return-1;n=n||o.nodeName;for(var e=0;o=o.previousElementSibling;)o.matches(n)&&e++;return e},"nodeIndex");function Cc(){var o=this;o.hook("instead","setCaret",n=>{o.settings.mode==="single"||!o.control.contains(o.control_input)?n=o.items.length:(n=Math.max(0,Math.min(o.items.length,n)),n!=o.caretPos&&!o.isPending&&o.controlChildren().forEach((e,s)=>{s<n?o.control_input.insertAdjacentElement("beforebegin",e):o.control.appendChild(e)})),o.caretPos=n}),o.hook("instead","moveCaret",n=>{if(!o.isFocused)return;let e=o.getLastActive(n);if(e){let s=Zm(e);o.setCaret(n>0?s+1:s),o.setActiveItem(),Xm(e,"last-active")}else o.setCaret(o.caretPos+n)})}i(Cc,"plugin");var eg=i((o,n=!1)=>{o&&(o.preventDefault(),n&&o.stopPropagation())},"preventDefault"),tg=i((o,n,e,s)=>{o.addEventListener(n,e,s)},"addEvent"),ng=i((o,n)=>{if(Array.isArray(o))o.forEach(n);else for(var e in o)o.hasOwnProperty(e)&&n(o[e],e)},"iterate"),wc=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(rg(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),rg=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString"),ig=i((o,...n)=>{var e=og(n);o=ag(o),o.map(s=>{e.map(f=>{s.classList.add(f)})})},"addClasses"),og=i(o=>{var n=[];return ng(o,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),ag=i(o=>(Array.isArray(o)||(o=[o]),o),"castAsArray");function Pc(){let o=this;o.settings.shouldOpen=!0,o.hook("before","setup",()=>{o.focus_node=o.control,ig(o.control_input,"dropdown-input");let n=wc('<div class="dropdown-input-wrap">');n.append(o.control_input),o.dropdown.insertBefore(n,o.dropdown.firstChild);let e=wc('<input class="items-placeholder" tabindex="-1" />');e.placeholder=o.settings.placeholder||"",o.control.append(e)}),o.on("initialize",()=>{o.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case 27:o.isOpen&&(eg(e,!0),o.close()),o.clearActiveItems();return;case 9:o.focus_node.tabIndex=-1;break}return o.onKeyDown.call(o,e)}),o.on("blur",()=>{o.focus_node.tabIndex=o.isDisabled?-1:o.tabIndex}),o.on("dropdown_open",()=>{o.control_input.focus()});let n=o.onBlur;o.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==o.control_input))return n.call(o)}),tg(o.control_input,"blur",()=>o.onBlur()),o.hook("before","close",()=>{o.isOpen&&o.focus_node.focus({preventScroll:!0})})})}i(Pc,"plugin");var vo=i((o,n,e,s)=>{o.addEventListener(n,e,s)},"addEvent");function Mc(){var o=this;o.on("initialize",()=>{var n=document.createElement("span"),e=o.control_input;n.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",o.wrapper.appendChild(n);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let m of s)n.style[m]=e.style[m];var f=i(()=>{n.textContent=e.value,e.style.width=n.clientWidth+"px"},"resize");f(),o.on("update item_add item_remove",f),vo(e,"input",f),vo(e,"keyup",f),vo(e,"blur",f),vo(e,"update",f)})}i(Mc,"plugin");function Nc(){var o=this,n=o.deleteSelection;this.hook("instead","deleteSelection",e=>o.activeItems.length?n.call(o,e):!1)}i(Nc,"plugin");function Fc(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}i(Fc,"plugin");var sg=i((o,n,e)=>{for(;o&&o.matches;){if(o.matches(n))return o;o=o.parentNode}},"parentMatch"),lg=i((o,n)=>{if(!o)return-1;n=n||o.nodeName;for(var e=0;o=o.previousElementSibling;)o.matches(n)&&e++;return e},"nodeIndex");function xc(){var o=this,n=o.onKeyDown;o.hook("instead","onKeyDown",e=>{var s,f,m,h;if(!o.isOpen||!(e.keyCode===37||e.keyCode===39))return n.call(o,e);o.ignoreHover=!0,h=sg(o.activeOption,"[data-group]"),s=lg(o.activeOption,"[data-selectable]"),h&&(e.keyCode===37?h=h.previousSibling:h=h.nextSibling,h&&(m=h.querySelectorAll("[data-selectable]"),f=m[Math.min(m.length-1,s)],f&&o.setActiveOption(f)))})}i(xc,"plugin");var ug=i(o=>(o+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),Uc=i((o,n=!1)=>{o&&(o.preventDefault(),n&&o.stopPropagation())},"preventDefault"),Bc=i((o,n,e,s)=>{o.addEventListener(n,e,s)},"addEvent"),Gc=i(o=>{if(o.jquery)return o[0];if(o instanceof HTMLElement)return o;if(cg(o)){var n=document.createElement("template");return n.innerHTML=o.trim(),n.content.firstChild}return document.querySelector(o)},"getDom"),cg=i(o=>typeof o=="string"&&o.indexOf("<")>-1,"isHtmlString");function Vc(o){let n=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},o);var e=this;if(n.append){var s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+ug(n.title)+'">'+n.label+"</a>";e.hook("after","setupTemplates",()=>{var f=e.settings.render.item;e.settings.render.item=(m,h)=>{var I=Gc(f.call(e,m,h)),A=Gc(s);return I.appendChild(A),Bc(A,"mousedown",S=>{Uc(S,!0)}),Bc(A,"click",S=>{e.isLocked||(Uc(S,!0),!e.isLocked&&e.shouldDelete([I],S)&&(e.removeItem(I),e.refreshOptions(!1),e.inputState()))}),I}})}}i(Vc,"plugin");function kc(o){let n=this,e=Object.assign({text:i(s=>s[n.settings.labelField],"text")},o);n.on("item_remove",function(s){if(n.isFocused&&n.control_input.value.trim()===""){var f=n.options[s];f&&n.setTextboxValue(e.text.call(n,f))}})}i(kc,"plugin");var fg=i((o,n)=>{if(Array.isArray(o))o.forEach(n);else for(var e in o)o.hasOwnProperty(e)&&n(o[e],e)},"iterate"),dg=i((o,...n)=>{var e=pg(n);o=hg(o),o.map(s=>{e.map(f=>{s.classList.add(f)})})},"addClasses"),pg=i(o=>{var n=[];return fg(o,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),hg=i(o=>(Array.isArray(o)||(o=[o]),o),"castAsArray");function Yc(){let o=this,n=o.canLoad,e=o.clearActiveOption,s=o.loadCallback;var f={},m,h=!1,I,A=[];if(o.settings.shouldLoadMore||(o.settings.shouldLoadMore=()=>{if(m.clientHeight/(m.scrollHeight-m.scrollTop)>.9)return!0;if(o.activeOption){var G=o.selectable(),ae=Array.from(G).indexOf(o.activeOption);if(ae>=G.length-2)return!0}return!1}),!o.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";o.settings.sortField=[{field:"$order"},{field:"$score"}];let S=i(P=>typeof o.settings.maxOptions=="number"&&m.children.length>=o.settings.maxOptions?!1:!!(P in f&&f[P]),"canLoadMore"),C=i((P,G)=>o.items.indexOf(G)>=0||A.indexOf(G)>=0,"clearFilter");o.setNextUrl=(P,G)=>{f[P]=G},o.getUrl=P=>{if(P in f){let G=f[P];return f[P]=!1,G}return o.clearPagination(),o.settings.firstUrl.call(o,P)},o.clearPagination=()=>{f={}},o.hook("instead","clearActiveOption",()=>{if(!h)return e.call(o)}),o.hook("instead","canLoad",P=>P in f?S(P):n.call(o,P)),o.hook("instead","loadCallback",(P,G)=>{if(!h)o.clearOptions(C);else if(I){let ae=P[0];ae!==void 0&&(I.dataset.value=ae[o.settings.valueField])}s.call(o,P,G),h=!1}),o.hook("after","refreshOptions",()=>{let P=o.lastValue;var G;S(P)?(G=o.render("loading_more",{query:P}),G&&(G.setAttribute("data-selectable",""),I=G)):P in f&&!m.querySelector(".no-results")&&(G=o.render("no_more_results",{query:P})),G&&(dg(G,o.settings.optionClass),m.append(G))}),o.on("initialize",()=>{A=Object.keys(o.options),m=o.dropdown_content,o.settings.render=Object.assign({},{loading_more:i(()=>'<div class="loading-more-results">Loading more results ... </div>',"loading_more"),no_more_results:i(()=>'<div class="no-more-results">No more results</div>',"no_more_results")},o.settings.render),m.addEventListener("scroll",()=>{o.settings.shouldLoadMore.call(o)&&S(o.lastValue)&&(h||(h=!0,o.load.call(o,o.lastValue)))})})}i(Yc,"plugin");nt.define("change_listener",bc);nt.define("checkbox_options",Oc);nt.define("clear_button",Sc);nt.define("drag_drop",Rc);nt.define("dropdown_header",Lc);nt.define("caret_position",Cc);nt.define("dropdown_input",Pc);nt.define("input_autogrow",Mc);nt.define("no_backspace_delete",Nc);nt.define("no_active_items",Fc);nt.define("optgroup_columns",xc);nt.define("remove_button",Vc);nt.define("restore_on_backspace",kc);nt.define("virtual_scroll",Yc);var Hc=nt;var gg=Hc,_o=class extends Te{static{i(this,"SelectField")}options={id:"",type:wr,required:!1,validation:i((n,e,s)=>s&&!n?De:s&&Array.isArray(n)&&n.length===0?De:!0,"validation"),enhance:!0,multiple:!1,optionsList:[],className:Du,options:{valueField:"value",labelField:"label",searchField:["label"],optgroupField:"group",optgroupLabelField:"label",optgroupValueField:"id"}};_tomselect=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.ensureTomSelectDefaultOptions(),this.onGui(),this.initialize()}ensureTomSelectDefaultOptions(){this.options.options=Object.assign(this.options.options,{valueField:this.options.options?.valueField??_r,labelField:this.options.options?.labelField??Vi,searchField:this.options.options?.searchField??[Vi],optgroupField:this.options.options?.optgroupField??"group",optgroupLabelField:this.options.options?.optgroupLabelField??Vi,optgroupValueField:this.options.options?.optgroupValueField??oe})}async initialize(){this.initTomselect(),typeof this.options.optionsList!="function"&&this.syncOptions(this.options.optionsList||[],typeof this.options.optionGroups!="function"?this.options.optionGroups||[]:[]),this.load(),this.update(),this.bindChange()}syncValue(){if(this.inputElement&&this.inputElement instanceof HTMLSelectElement&&this.options.enhance===!1){let n=this.getValue();for(let e of this.inputElement.options){let s=n&&Array.isArray(n)?n?.some(f=>f===e.value):n===e.value;s&&!e.hasAttribute(An)&&e.setAttribute(An,""),!s&&e.hasAttribute(An)&&e.removeAttribute(An)}}else if(this.options.enhance===!0&&this._tomselect){let n=this.getValue();n!==this._tomselect.getValue()&&(typeof n=="string"||Array.isArray(n))&&this._tomselect.setValue(n,!0)}}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,qn(this.change,25,this))}getTomselect(){return this._tomselect}async pullOptions(n,e,s,f){if(typeof s=="function"){let m=await s(n),h=null;f&&(typeof f=="function"?h=await f(n):f.length>0&&(h=f)),e(m,h||void 0)}}initTomselect(){this.options.enhance&&(this.options.optionsList&&typeof this.options.optionsList=="function"&&(this.options.options=Object.assign(this.options.options,{load:i((n,e)=>{this.pullOptions(n,e,this.options.optionsList,this.options.optionGroups)},"load"),preload:this.options.options?.preload??!0})),this.inputElement&&(this._tomselect=new gg(this.inputElement,this.options.options||{})))}handleDisabled(){this.isDisabled()?(this.inputElement?.setAttribute(bn,"true"),this._tomselect&&this._tomselect.disable()):(this.inputElement?.removeAttribute(bn),this._tomselect&&this._tomselect.enable())}createSelectElement(){this.inputElement=document.createElement(Mu),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.multiple&&this.inputElement.setAttribute(xi,""),this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder),this.inputElement.className=this.options.className}syncOptions(n,e){if(this.options.enhance)this._tomselect?.clearOptions(),this._tomselect?.addOptions(n),e.length>0&&(this._tomselect?.clearOptionGroups(),e.forEach(s=>{this._tomselect?.addOptionGroup(s.id,s)})),this._tomselect?.sync();else{let s=this.inputElement;s.innerHTML="",e.length>0?e.forEach(f=>{let m=document.createElement(Fu);m.label=f.label,n.filter(I=>I.group===f.id).forEach(I=>{this.inputElement&&this.createOption(I,m)}),this.inputElement?.append(m)}):n.forEach(f=>{this.inputElement&&this.createOption(f,this.inputElement)})}}createOption(n,e){let s=document.createElement(Nu);s.setAttribute(_r,n.value),typeof n.value=="string"&&this.options.default&&Array.isArray(this.options.default)&&this.options.default?.findIndex(f=>f===n.value)>=0?s.setAttribute(An,"true"):this.options.default&&this.options.default===n.value&&s.setAttribute(An,"true"),n.disabled&&s.setAttribute(bn,String(n.disabled)),s.innerText=n.label,e?.append(s)}onGui(){this.createContainerElement(),this.createSelectElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&se(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&se(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&se(this.labelElement,this.containerElement)}change(n){if(this.options.enhance&&this._tomselect)this.setValue(this._tomselect.getValue());else if(this.inputElement&&this.inputElement instanceof HTMLSelectElement)if(this.options.multiple){let e=this.inputElement.options,s=[];for(let f=0;f<e.length;f++)e[f].selected&&s.push(e[f].value);this.setValue(s)}else this.setValue(n.target.value);this.validate(),this.options.change&&this.options.change(this.getValue()),this.dispatchEvent("changed",this.getValue())}getValue(){return this._value}};var To=class extends Te{static{i(this,"TelField")}options={id:"",type:Mr,required:!1,validation:i((n,e,s)=>s&&!n?De:n&&typeof n=="string"&&!n.match(this.telFormat)?Su:!0,"validation"),default:null,className:Ve};telFormat=/^\+?\d{1,3}?[-.\s]?\(?\d{1,4}?\)?([-.\s]?\d{1,9})*$/;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Io=class extends Te{static{i(this,"TextField")}constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var yo=class extends Te{static{i(this,"TextareaField")}options={id:"",type:Nr,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),className:Ve,rows:5};inputElement=null;createInputElement(){this.inputElement=document.createElement(xu),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.options.rows&&this.inputElement.setAttribute($u,String(this.options.rows)),this.inputElement.setAttribute(Me,this.getType()),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Eg=rn,Do=class extends Te{static{i(this,"TimeField")}options={id:"",type:Fr,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),className:Ve,enhance:!0,options:{enableTime:!0,noCalendar:!0,altInput:!0}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=Eg(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"time"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var bo=class extends Te{static{i(this,"UrlField")}options={id:"",type:xr,required:!1,validation:i((n,e,s)=>s&&!n?De:n&&typeof n=="string"&&!n.match(this.urlFormat)?Ru:!0,"validation"),default:"",className:Ve};urlFormat=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var jc=Al(qc(),1);var vg=rn,Ao=class extends Te{static{i(this,"WeekField")}options={id:"",type:Ur,required:!1,validation:i((n,e,s)=>s&&!n?De:!0,"validation"),className:Ve,enhance:!0,options:{altInput:!0,dateFormat:"Y-W",altFormat:"W, Y",plugins:[(0,jc.default)()]}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=vg(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"week"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var Oo=class{static{i(this,"StaticField")}options={id:"",type:Pr,template:"",className:bu};staticElement=null;containerElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_saveKey;_value=null;_type;_parsedConditions=null;constructor(n,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=n,this._type=s.type,this._saveKey=Tn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),this.load(),this.update()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions))}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getForm(){return this._form}setTemplate(n,e=!0){this.staticElement&&(typeof n=="string"?(this._value=n,this.staticElement.innerText=n):typeof n=="function"&&(this._value=n(),this.staticElement.innerHTML="",this.staticElement.append(n())),e&&this.save())}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=tn+" "+this._type,this.containerElement.setAttribute(oe,this._id+Vt)}createStaticElement(){this.staticElement=document.createElement(tt),this.staticElement.className=this.options.className,this.staticElement.setAttribute(oe,this._id)}onGui(){this.createContainerElement(),this.createStaticElement(),this.containerElement&&this.staticElement&&se(this.staticElement,this.containerElement)}mount(){this.containerElement&&se(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&zt(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let n=localStorage.getItem(this._saveKey);if(n!==null){this.setTemplate(jn(n)?JSON.parse(n):n,!1);return}}this.setTemplate(this.options.template,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setTemplate(this.options.template,!1),this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this.getValue(),this._form.getData())))}};var So=class{static{i(this,"Group")}options={id:"",type:Tr,className:uu,prefixSchema:!1,schema:[]};containerElement=null;schemaContainerElement=null;labelElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(n,e,s){this.initializeOptions(s),this._parent=n,this._form=e,this._id=this.options.id,this._type=s.type,this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getSchemaContainer(){return this.schemaContainerElement}getType(){return this._type}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=lu,this.containerElement.setAttribute(oe,this._id+Bu)}createSchemaContainerElement(){this.schemaContainerElement=document.createElement(tt),this.schemaContainerElement.className=this.options.className,this.schemaContainerElement.setAttribute(oe,this._id)}createLabelElement(){this.labelElement=document.createElement(wu),this.options.label&&(typeof this.options.label=="string"?this.labelElement.innerText=this.options.label:typeof this.options.label=="function"&&(this.labelElement.innerHTML="",this.labelElement.append(this.options.label()))),this.labelElement.setAttribute(oe,this._id+Wt),this.labelElement.className=cu}onGui(){this.createContainerElement(),this.createSchemaContainerElement(),this.createLabelElement(),this.containerElement&&this.labelElement&&this.options.label&&se(this.labelElement,this.containerElement),this.containerElement&&this.schemaContainerElement&&se(this.schemaContainerElement,this.containerElement)}mount(){this.containerElement&&se(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&zt(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let n=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),n!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}dispatchEvent(n,e=null){let s=e!==null?new CustomEvent(n,{detail:e}):new CustomEvent(n);this.containerElement?.dispatchEvent(s)}on(n,e,s){this.containerElement?.addEventListener(n,e,s)}off(n,e,s){this.containerElement?.removeEventListener(n,e,s)}};var Xr=class{static{i(this,"Form")}options={id:"",saveProgress:!1,useFormData:!1,schema:[],action:null,method:null,className:au};_parent=null;_formElement=null;_id="";_isValid=null;_errors=[];_fields={};_groups={};_buttons={};_data={};_saveProgress=!1;_licenseState=St.INVALID;_schema=[];_dataPrefixMap={};_triggerEvents=!0;constructor(n,e){this.initializeOptions(e),this.setParentElement(n),this.processLicense(),this.onGui(),this.initForm()}setParentElement(n){let e;if(typeof n=="string"?e=document.getElementById(n):e=n,this._parent=e,!this._parent)throw new Error("Parent does not exist in the document")}initializeOptions(n){this.options=Object.assign({},this.options,n),this._id=n.id,this._schema=n.schema,this._saveProgress=n.saveProgress,this._saveProgress&&vr()}initForm(){this._formElement&&this.buildSchema(this._schema,this._formElement),this._formElement&&this._parent&&se(this._formElement,this._parent)}processLicense(){Sa()&&(this.options.licenseKey&&Oa(this.options.licenseKey),this._licenseState=Yl(),this.hasValidLicense()||ql(this._licenseState))}buildSchema(n,e,s=null,f=null,m=null){n.forEach(h=>{this.buildElement(h,e,s,f,m)})}isValid(){return this._isValid}createWrapper(n){let e=document.createElement(tt);return se(e,n),e}mapFieldToDataPrefix(n,e,s=null){let f=n.id;s&&(f=kl(e,s,n.id)),this._dataPrefixMap[f]={id:e,dataKey:n.id,key:s},s&&(n.id=f,n.name=f)}buildElement(n,e,s,f,m){let h={...n},I=Ma[n.type];if(!I)throw new Error(`Unknown type: ${n.type}`);let A=this.createWrapper(e),S=Vl(n.type);f&&m&&S===Ee.field&&this.mapFieldToDataPrefix(h,f,m),s&&S===Ee.field&&this.mapFieldToDataPrefix(h,s,null);let C=new I(A,this,h);switch(S){case Ee.button:f&&m?this.assignToListField(f,m,C,S,n.id):this._buttons[n.id]=C;break;case Ee.group:if(f&&m?this.assignToListField(f,m,C,S,n.id):this._groups[n.id]=C,n.schema&&C.getSchemaContainer){let P=C.getSchemaContainer();P&&this.buildSchema(n.schema,P,n.prefixSchema?C.getId():s,f,m)}break;case Ee.field:f&&m?this.assignToListField(f,m,C,S,n.id):this._fields[n.id]=C;break}}assignToListField(n,e,s,f,m){let h=this._fields[n];if(!(!h||!h.assignButton||!h.assignGroup||!h.assignField))switch(f){case Ee.button:h.assignButton(m,e,s);break;case Ee.group:h.assignGroup(m,e,s);break;case Ee.field:h.assignField(m,e,s);break}}async update(){this._groups&&Object.keys(this._groups).forEach(n=>{this._groups[n].update()}),this._fields&&Object.keys(this._fields).forEach(n=>{this._fields[n].update()}),this._buttons&&Object.keys(this._buttons).forEach(n=>{this._buttons[n].update()})}getField(n){return this._fields[n]}getFormElement(){return this._formElement}dispatchEvent(n,e=null){if(!this._triggerEvents)return;let s=e!==null?new CustomEvent(n,{detail:e}):new CustomEvent(n);this._formElement?.dispatchEvent(s)}setData(n,e){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,n)?this.setDataFromMap(n,e):this.setSimpleData(n,e),this.update(),this.dispatchEvent("dataUpdated",this._data)}removeData(n){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,n)?this.removeMappedData(n):delete this._data[n],this.dispatchEvent("dataUpdated",this._data)}removeMappedData(n){let e=this._dataPrefixMap[n],{dataKey:s,key:f,id:m}=e;if(!(!s||!m))if(f){let h=this.getField(m);if(!h||!h.getKeyIndex)return;let I=h.getId(),A=h.getKeyIndex(f);delete this._data[I][A][s],typeof this._data[I][A]=="object"&&Object.keys(this._data[I][A]).length===0&&delete this._data[I][A]}else{let h=this.getGroup(m);if(!h)return;let I=h.getId();delete this._data[I][s],typeof this._data[I]=="object"&&Object.keys(this._data[I]).length===0&&delete this._data[I]}}setDataFromMap(n,e){let s=this._dataPrefixMap[n],{dataKey:f,key:m,id:h}=s;if(!(!f||!h))if(m){let I=this.getField(h);if(!I||!I.getKeyIndex)return;let A=I.getId(),S=I.getKeyIndex(m);this.ensureDataStructureExists(A,S),this._data[A][S][f]=e}else{let I=this.getGroup(h);if(!I)return;let A=I.getId();this.ensureDataStructureExists(A),this._data[A][f]=e}}setSimpleData(n,e){this._data[n]=e}ensureDataStructureExists(n,e=null){if(e===null&&!this._data[n]){this._data[n]={};return}else(e||e===0)&&(this._data[n]||(this._data[n]=[]),this._data[n][e]||(this._data[n][e]={}))}removeListData(n,e){this._data[n]&&this._data[n][e]&&this._data[n].splice(e,1)}getId(){return this._id}getData(){return this._data}getButtons(){return this._buttons}getButton(n){return this._buttons[n]}getGroups(){return this._groups}getGroup(n){return this._groups[n]}savesProgress(){return this._saveProgress}getErrors(){return this._errors}hasValidLicense(){return this._licenseState===St.VALID}updateError(n,e){this._errors.includes(n)&&e?this._errors=this._errors.filter(s=>s!==n):!this._errors.includes(n)&&!e&&this._errors.push(n),this._isValid=this._errors.length===0}reset(n){this._triggerEvents=!1,n&&n.preventDefault(),this._groups&&Object.keys(this._groups).forEach(e=>{let s=this._groups[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._fields&&Object.keys(this._fields).forEach(e=>{let s=this._fields[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._buttons&&Object.keys(this._buttons).forEach(e=>{let s=this._buttons[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._isValid=null,this._triggerEvents=!0,this.dispatchEvent("resetted")}validate(){this._fields&&Object.keys(this._fields).forEach(n=>{let e=this._fields[n];e.validate&&typeof e.validate=="function"&&e.validate()}),this._isValid=this._errors.length===0}save(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(n=>{let e=this._fields[n];e.save&&typeof e.save=="function"&&e.save()}),this._groups&&Object.keys(this._groups).forEach(n=>{let e=this._groups[n];e.save&&typeof e.save=="function"&&e.save()}))}load(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(n=>{let e=this._fields[n];e.load&&typeof e.load=="function"&&e.load()}),this._groups&&Object.keys(this._groups).forEach(n=>{let e=this._groups[n];e.load&&typeof e.load=="function"&&e.load()}))}onGui(){this._formElement=document.createElement(Lu),this._formElement.setAttribute(oe,this._id),this._formElement.className=this.options.className,this.options.action&&this._formElement.setAttribute(Yu,this.options.action),this.options.method&&this._formElement.setAttribute(Hu,this.options.method),this._formElement.addEventListener(qu,n=>this.submit(n)),this._formElement.addEventListener(ju,this.reset),Sa()&&!this.hasValidLicense()&&this.createInvalidElement()}createInvalidElement(){let n=document.createElement(Cu);n.setAttribute(zu,ru),n.className=iu,n.style.cssText=ou;let e=document.createElement(yn);e.innerText=Hl(this._licenseState),se(e,n),this._parent&&se(n,this._parent)}submit(n){if(!this.options.action&&n&&n.preventDefault(),this.validate(),!this.isValid()){this.dispatchEvent("validationFailedOnSubmit");return}let e=this.getData();this.options.useFormData&&(e=Aa(this.getData())),this.options.submit&&this.options.submit(e),this.dispatchEvent("submitted",e)}destroy(){this._parent&&this._parent.remove()}on(n,e,s){this._formElement?.addEventListener(n,e,s)}off(n,e,s){this._formElement?.removeEventListener(n,e,s)}};je(Tr,So,Ee.group);je(Pa,kr,Ee.button);je(Ir,Qi,Ee.field);je(yr,Ji,Ee.field);je(Dr,Zi,Ee.field);je(br,Xi,Ee.field);je(Ar,eo,Ee.field);je(Or,no,Ee.field);je(Sr,ro,Ee.field);je(Rr,io,Ee.field);je(Qn,oo,Ee.field);je(Lr,ki,Ee.field);je(Cr,ao,Ee.field);je(wr,_o,Ee.field);je(Pr,Oo,Ee.field);je(Mr,To,Ee.field);je(Nr,yo,Ee.field);je(On,Io,Ee.field);je(Fr,Do,Ee.field);je(xr,bo,Ee.field);je(Ur,Ao,Ee.field);var Ro;function HI(){window.rqid=!1;let o=Ia(void 0,"h-captcha",{"auto-render":"true",id:"captcha","site-key":"e2480948-c1cc-4f46-ac56-81ea236a50c8",size:"compact",tabindex:"0"}),n=Ia(void 0,"div");return o.addEventListener("verified",function(e){window.rqid=e.token,document.getElementById("submit-button").disabled=!1}),o.addEventListener("error",function(e){window.rqid=!1,console.log(e.error)}),Ro=new Xr(n,{id:"form",method:"POST",action:"/go/resend",schema:[{id:"date",type:"datetime",name:"date",label:"Date of Event",enhance:!0,placeholder:"MM/DD/YY 00:00 AM/PM",required:!0},{id:"email",type:"email",name:"email",label:"Email",placeholder:"Username@Website.Ext",required:!0},{id:"attachment",type:"file",name:"attachment",options:{fileSizeBase:1024,allowBrowse:!0,storeAsFile:!0,checkValidity:!0,maxFiles:1,dropValidation:!0},label:"Attachment?",required:!1,enhanced:!0},{id:"event",type:"text",name:"event",label:"Type of Event",placeholder:"Ex: Jennifers 50th Bday Party",required:!0},{id:"locale",type:"text",name:"locale",label:"Address of Event",placeholder:"Ex: 1787 Botanical Boulevard, Houston, Texas",required:!0},{id:"selection",type:"select",name:"selection",label:"Type of Music",enhance:!0,multiple:!0,required:!0,options:{plugins:["remove_button","checkbox_options"]},placeholder:"Choose as many from the selection.",optionsList:[{value:"Top 40",label:"Top 40"},{value:"Pop",label:"Pop"},{value:"Rock",label:"Rock"},{value:"R&B",label:"R&B"},{value:"Hip-Hop/Rap",label:"Hip-Hop/Rap"},{value:"Country",label:"Country"},{value:"Disco",label:"Disco"},{value:"Oldies",label:"Oldies"},{value:"Motown",label:"Motown"},{value:"Classical",label:"Classical"},{value:"Alternative",label:"Alternative"},{value:"Jazz",label:"Jazz"},{value:"Techno/House",label:"Techno/House"},{value:"Dubstep",label:"Dubstep"}]},{id:"requests",type:"textarea",name:"requests",label:"Requests?",placeholder:"List Artist and Song; or send link playlist (website, Spotify, YouTube)",required:!1},{id:"dislikes",type:"textarea",name:"dislikes",label:"Dislikes?",placeholder:"Songs or artists that you do not want to be played.",required:!1},{id:"comments",type:"textarea",name:"comments",label:"Comments?",placeholder:"Please list anything or any notes that you want DJ EV to know beforehand.",required:!1},{id:"token",name:"token",type:"hidden"},{id:"submit-button",type:"button",buttonType:"submit",template:"Submit",className:"pure-button-primary pure-button"}]}),window.addEventListener("load",function(){document.getElementById("submit-button").disabled=!0,document.getElementById("form").setAttribute("enctype","multipart/form-data"),document.getElementById("form").classList.add("pure-form","pure-form-stacked"),document.getElementById("form").addEventListener("submit",s=>{s.preventDefault(),Ro.validate(),window.rqid&&Ro.isValid()&&(Ro.getField("token").setValue(window.rqid),s.currentTarget.submit())});let e=document.getElementById("form").childNodes;van.add(e[e.length-2],o)}),n}i(HI,"Booking");})();
