(()=>{var _E=Object.create;var Io=Object.defineProperty;var TE=Object.getOwnPropertyDescriptor;var IE=Object.getOwnPropertyNames;var bE=Object.getPrototypeOf,AE=Object.prototype.hasOwnProperty;var i=(n,t)=>Io(n,"name",{value:t,configurable:!0});var Qs=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),DE=(n,t)=>{for(var e in t)Io(n,e,{get:t[e],enumerable:!0})},SE=(n,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of IE(t))!AE.call(n,l)&&l!==e&&Io(n,l,{get:()=>t[l],enumerable:!(a=TE(t,l))||a.enumerable});return n};var Js=(n,t,e)=>(e=n!=null?_E(bE(n)):{},SE(t||!n||!n.__esModule?Io(e,"default",{value:n,enumerable:!0}):e,n));var wd=Qs((ko,El)=>{(function(n,t){typeof ko=="object"&&typeof El=="object"?El.exports=t():typeof define=="function"&&define.amd?define([],t):typeof ko=="object"?ko.RoundCarousel=t():n.RoundCarousel=t()})(self,function(){return function(){var n={562:function(l,f){(function(d){"use strict";var E,b=i(function(){return b=Object.assign||function(D){for(var w,V=1,R=arguments.length;V<R;V++)for(var M in w=arguments[V])Object.prototype.hasOwnProperty.call(w,M)&&(D[M]=w[M]);return D},b.apply(this,arguments)},"n");d.TouchSwipeEventType=void 0,(E=d.TouchSwipeEventType||(d.TouchSwipeEventType={})).up="swipeup",E.tap="tap",E.down="swipedown",E.move="swipemove",E.left="swipeleft",E.right="swiperight";var _={endX:0,endY:0,moveX:0,moveY:0,startX:0,startY:0},A=function(){function D(w,V,R){return w===void 0&&(w=document.body),V===void 0&&(V={}),R===void 0&&(R=40),this.element=w,this.eventData=V,this.threshold=R,this.coords=_,this.isMoving=!1,this.moveCoords={x:0,y:0},this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.bind(),this}return i(D,"e"),D.prototype.bind=function(){var w=this.element;w.addEventListener("touchstart",this.onStart,!1),w.addEventListener("touchmove",this.onMove,!1),w.addEventListener("touchend",this.onEnd,!1),w.addEventListener("mousedown",this.onStart,!1),w.addEventListener("mousemove",this.onMove,!1),w.addEventListener("mouseup",this.onEnd,!1)},D.prototype.unbind=function(){var w=this.element;w.removeEventListener("touchstart",this.onStart,!1),w.removeEventListener("touchmove",this.onMove,!1),w.removeEventListener("touchend",this.onEnd,!1),w.removeEventListener("mousedown",this.onStart,!1),w.removeEventListener("mousemove",this.onMove,!1),w.removeEventListener("mouseup",this.onEnd,!1)},D.prototype.getCoords=function(w){var V=this.moveCoords,R="pageX"in w;return V.x=R?w.pageX:w.changedTouches[0].screenX,V.y=R?w.pageY:w.changedTouches[0].screenY,V},D.prototype.resetCoords=function(){this.coords=_},D.prototype.getEndEventName=function(){var w=this.threshold,V=this.coords,R=V.startX,M=V.startY,U=V.endX,Z=V.endY,Y=Math.abs(U-R),ae=Math.abs(Z-M);if(Y>ae){if(U<R&&Y>w)return d.TouchSwipeEventType.left;if(U>R&&Y>w)return d.TouchSwipeEventType.right}else{if(Z<M&&ae>w)return d.TouchSwipeEventType.up;if(Z>M&&ae>w)return d.TouchSwipeEventType.down}return Z===M&&U===R?d.TouchSwipeEventType.tap:""},D.prototype.dispatchEvent=function(w){var V=new CustomEvent(w,{detail:b(b({},this.eventData),{coords:this.coords})});this.element.dispatchEvent(V)},D.prototype.dispatchEnd=function(){var w=this.getEndEventName();w&&this.dispatchEvent(w)},D.prototype.onStart=function(w){var V=this.getCoords(w),R=V.x,M=V.y;this.isMoving=!0,this.coords.startX=R,this.coords.startY=M},D.prototype.onMove=function(w){if(this.isMoving){var V=this.getCoords(w),R=V.x,M=V.y;this.coords.moveX=R,this.coords.moveY=M,this.dispatchEvent(d.TouchSwipeEventType.move)}},D.prototype.onEnd=function(w){var V=this.getCoords(w),R=V.x,M=V.y;this.isMoving=!1,this.coords.endX=R,this.coords.endY=M,this.dispatchEnd(),this.resetCoords()},D}();d.default=A,Object.defineProperty(d,"__esModule",{value:!0})})(f)}},t={};function e(l){var f=t[l];if(f!==void 0)return f.exports;var d=t[l]={exports:{}};return n[l].call(d.exports,d,d.exports,e),d.exports}i(e,"n");var a={};return function(){"use strict";var l=a;Object.defineProperty(l,"__esModule",{value:!0}),l.RoundCarousel=void 0;var f=e(562),d=i(function(E,b){var _=this;if(this.touchsweep=void 0,this.defaultOptions={items:[],itemWidth:210,showControls:!0,prevButtonContent:"Previous",nextButtonContent:"Next"},this.selectedIndex=0,this.init=function(){_.build(),_.setStyle(),_.bind()},this.destroy=function(){_.unbind()},this.setSelectedIndex=function(A){_.selectedIndex=A},this.prev=function(){_.setSelectedIndex(_.selectedIndex-1),_.setStyle()},this.next=function(){_.setSelectedIndex(_.selectedIndex+1),_.setStyle()},this.getValues=function(){var A=_.options,D=A.items.length,w=A.itemWidth;return{theta:360/D,radius:Math.round((w||210)/2/Math.tan(Math.PI/D)),length:D}},this.getSlideStyle=function(A){var D=_.getValues(),w=D.length,V=D.theta,R=D.radius;return A<w?"opacity: 1; transform: rotateY(".concat(V*A,"deg) translateZ(").concat(R,"px);"):"opacity: 0; transform: none;"},this.setStyle=function(){var A,D,w=_.getValues(),V=w.theta,R=w.radius,M=V*_.selectedIndex*-1,U="transform: translateZ(".concat(-1*R,"px) rotateY(").concat(M,"deg)");(D=(A=_.element)===null||A===void 0?void 0:A.querySelector(".carousel__container"))===null||D===void 0||D.setAttribute("style",U)},this.bind=function(){var A=_.element,D=A.querySelector(".carousel__control--prev"),w=A.querySelector(".carousel__control--next");_.touchsweep=new f.default(A||void 0),A?.addEventListener("swipeleft",_.next),A?.addEventListener("swiperight",_.prev),D?.addEventListener("click",_.prev),w?.addEventListener("click",_.next)},this.unbind=function(){var A=_.element,D=A.querySelector(".carousel__control--prev"),w=A.querySelector(".carousel__control--next");_.touchsweep&&_.touchsweep.unbind(),A?.removeEventListener("swipeleft",_.next),A?.removeEventListener("swiperight",_.prev),D?.removeEventListener("click",_.prev),w?.removeEventListener("click",_.next)},this.build=function(){_.element.innerHTML=`
            <div class="carousel">
                <div class="carousel__container">
                    `.concat(_.buildItems(),`
                </div>
            </div>

            `).concat(_.buildControls(),`
        `)},this.buildItems=function(){return _.options.items.map(function(A,D){return`
                    <div class="carousel__slide" style="`.concat(_.getSlideStyle(D),`">
                        <img src="`).concat(A.image,'" alt="').concat(A.alt,`" />

                        <div class="carousel__slide-overlay">`).concat(A.content,`</div>
                    </div>
                `)}).join("")},this.buildControls=function(){return _.options.showControls?`
            <div class="carousel__controls">
                <button class="carousel__control carousel__control--prev">
                    `.concat(_.options.prevButtonContent,`
                </button>

                <button class="carousel__control carousel__control--next">
                    `).concat(_.options.nextButtonContent,`
                </button>
            </div>
        `):""},this.element=E,this.options=Object.assign({},this.defaultOptions,b),!this.element)throw new Error("Carousel element is not defined");this.init()},"i");l.RoundCarousel=d,l.default=d}(),a}()})});var Jf=Qs((pa,Qf)=>{(function(n,t){typeof pa=="object"&&typeof Qf<"u"?t(pa):typeof define=="function"&&define.amd?define(["exports"],t):(n=n||self,t(n.FilePond={}))})(pa,function(n){"use strict";var t=i(function(r){return r instanceof HTMLElement},"isNode"),e=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=Object.assign({},r),p=[],h=[],m=i(function(){return Object.assign({},u)},"getState"),g=i(function(){var N=[].concat(p);return p.length=0,N},"processActionQueue"),y=i(function(){var N=[].concat(h);h.length=0,N.forEach(function(q){var Q=q.type,te=q.data;I(Q,te)})},"processDispatchQueue"),I=i(function(N,q,Q){if(Q&&!document.hidden){h.push({type:N,data:q});return}k[N]&&k[N](q),p.push({type:N,data:q})},"dispatch"),S=i(function(N){for(var q,Q=arguments.length,te=new Array(Q>1?Q-1:0),j=1;j<Q;j++)te[j-1]=arguments[j];return F[N]?(q=F)[N].apply(q,te):null},"query"),x={getState:m,processActionQueue:g,processDispatchQueue:y,dispatch:I,query:S},F={};o.forEach(function(G){F=Object.assign({},G(u),{},F)});var k={};return s.forEach(function(G){k=Object.assign({},G(I,S,u),{},k)}),x},"createStore"),a=i(function(r,o,s){if(typeof s=="function"){r[o]=s;return}Object.defineProperty(r,o,Object.assign({},s))},"defineProperty"),l=i(function(r,o){for(var s in r)r.hasOwnProperty(s)&&o(s,r[s])},"forin"),f=i(function(r){var o={};return l(r,function(s){a(o,s,r[s])}),o},"createObject"),d=i(function(r,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(s===null)return r.getAttribute(o)||r.hasAttribute(o);r.setAttribute(o,s)},"attr"),E="http://www.w3.org/2000/svg",b=["svg","path"],_=i(function(r){return b.includes(r)},"isSVGElement"),A=i(function(r,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof o=="object"&&(s=o,o=null);var u=_(r)?document.createElementNS(E,r):document.createElement(r);return o&&(_(r)?d(u,"class",o):u.className=o),l(s,function(p,h){d(u,p,h)}),u},"createElement"),D=i(function(r){return function(o,s){typeof s<"u"&&r.children[s]?r.insertBefore(o,r.children[s]):r.appendChild(o)}},"appendChild"),w=i(function(r,o){return function(s,u){return typeof u<"u"?o.splice(u,0,s):o.push(s),s}},"appendChildView"),V=i(function(r,o){return function(s){return o.splice(o.indexOf(s),1),s.element.parentNode&&r.removeChild(s.element),s}},"removeChildView"),R=function(){return typeof window<"u"&&typeof window.document<"u"}(),M=i(function(){return R},"isBrowser"),U=M()?A("svg"):{},Z="children"in U?function(c){return c.children.length}:function(c){return c.childNodes.length},Y=i(function(r,o,s,u){var p=s[0]||r.left,h=s[1]||r.top,m=p+r.width,g=h+r.height*(u[1]||1),y={element:Object.assign({},r),inner:{left:r.left,top:r.top,right:r.right,bottom:r.bottom},outer:{left:p,top:h,right:m,bottom:g}};return o.filter(function(I){return!I.isRectIgnored()}).map(function(I){return I.rect}).forEach(function(I){ae(y.inner,Object.assign({},I.inner)),ae(y.outer,Object.assign({},I.outer))}),Me(y.inner),y.outer.bottom+=y.element.marginBottom,y.outer.right+=y.element.marginRight,Me(y.outer),y},"getViewRect"),ae=i(function(r,o){o.top+=r.top,o.right+=r.left,o.bottom+=r.top,o.left+=r.left,o.bottom>r.bottom&&(r.bottom=o.bottom),o.right>r.right&&(r.right=o.right)},"expandRect"),Me=i(function(r){r.width=r.right-r.left,r.height=r.bottom-r.top},"calculateRectSize"),Le=i(function(r){return typeof r=="number"},"isNumber"),ke=i(function(r,o,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.001;return Math.abs(r-o)<u&&Math.abs(s)<u},"thereYet"),ce=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.stiffness,s=o===void 0?.5:o,u=r.damping,p=u===void 0?.75:u,h=r.mass,m=h===void 0?10:h,g=null,y=null,I=0,S=!1,x=i(function(N,q){if(!S){if(!(Le(g)&&Le(y))){S=!0,I=0;return}var Q=-(y-g)*s;I+=Q/m,y+=I,I*=p,ke(y,g,I)||q?(y=g,I=0,S=!0,k.onupdate(y),k.oncomplete(y)):k.onupdate(y)}},"interpolate"),F=i(function(N){if(Le(N)&&!Le(y)&&(y=N),g===null&&(g=N,y=N),g=N,y===g||typeof g>"u"){S=!0,I=0,k.onupdate(y),k.oncomplete(y);return}S=!1},"setTarget"),k=f({interpolate:x,target:{set:F,get:i(function(){return g},"get")},resting:{get:i(function(){return S},"get")},onupdate:i(function(N){},"onupdate"),oncomplete:i(function(N){},"oncomplete")});return k},"spring"),_e=i(function(r){return r},"easeLinear"),pe=i(function(r){return r<.5?2*r*r:-1+(4-2*r)*r},"easeInOutQuad"),qe=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.duration,s=o===void 0?500:o,u=r.easing,p=u===void 0?pe:u,h=r.delay,m=h===void 0?0:h,g=null,y,I,S=!0,x=!1,F=null,k=i(function(q,Q){S||F===null||(g===null&&(g=q),!(q-g<m)&&(y=q-g-m,y>=s||Q?(y=1,I=x?0:1,G.onupdate(I*F),G.oncomplete(I*F),S=!0):(I=y/s,G.onupdate((y>=0?p(x?1-I:I):0)*F))))},"interpolate"),G=f({interpolate:k,target:{get:i(function(){return x?0:F},"get"),set:i(function(q){if(F===null){F=q,G.onupdate(q),G.oncomplete(q);return}q<F?(F=1,x=!0):(x=!1,F=q),S=!1,g=null},"set")},resting:{get:i(function(){return S},"get")},onupdate:i(function(q){},"onupdate"),oncomplete:i(function(q){},"oncomplete")});return G},"tween"),Oe={spring:ce,tween:qe},Gt=i(function(r,o,s){var u=r[o]&&typeof r[o][s]=="object"?r[o][s]:r[o]||r,p=typeof u=="string"?u:u.type,h=typeof u=="object"?Object.assign({},u):{};return Oe[p]?Oe[p](h):null},"createAnimator"),_t=i(function(r,o,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;o=Array.isArray(o)?o:[o],o.forEach(function(p){r.forEach(function(h){var m=h,g=i(function(){return s[h]},"getter"),y=i(function(S){return s[h]=S},"setter");typeof h=="object"&&(m=h.key,g=h.getter||g,y=h.setter||y),!(p[m]&&!u)&&(p[m]={get:g,set:y})})})},"addGetSet"),Pr=i(function(r){var o=r.mixinConfig,s=r.viewProps,u=r.viewInternalAPI,p=r.viewExternalAPI,h=Object.assign({},s),m=[];return l(o,function(g,y){var I=Gt(y);if(I){I.onupdate=function(x){s[g]=x},I.target=h[g];var S={key:g,setter:i(function(F){I.target!==F&&(I.target=F)},"setter"),getter:i(function(){return s[g]},"getter")};_t([S],[u,p],s,!0),m.push(I)}}),{write:i(function(y){var I=document.hidden,S=!0;return m.forEach(function(x){x.resting||(S=!1),x.interpolate(y,I)}),S},"write"),destroy:i(function(){},"destroy")}},"animations"),Jn=i(function(r){return function(o,s){r.addEventListener(o,s)}},"addEvent"),ls=i(function(r){return function(o,s){r.removeEventListener(o,s)}},"removeEvent"),us=i(function(r){var o=r.mixinConfig,s=r.viewProps,u=r.viewInternalAPI,p=r.viewExternalAPI,h=r.viewState,m=r.view,g=[],y=Jn(m.element),I=ls(m.element);return p.on=function(S,x){g.push({type:S,fn:x}),y(S,x)},p.off=function(S,x){g.splice(g.findIndex(function(F){return F.type===S&&F.fn===x}),1),I(S,x)},{write:i(function(){return!0},"write"),destroy:i(function(){g.forEach(function(x){I(x.type,x.fn)})},"destroy")}},"listeners"),ji=i(function(r){var o=r.mixinConfig,s=r.viewProps,u=r.viewExternalAPI;_t(o,u,s)},"apis"),ft=i(function(r){return r!=null},"isDefined"),cs={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Nr=i(function(r){var o=r.mixinConfig,s=r.viewProps,u=r.viewInternalAPI,p=r.viewExternalAPI,h=r.view,m=Object.assign({},s),g={};_t(o,[u,p],s);var y=i(function(){return[s.translateX||0,s.translateY||0]},"getOffset"),I=i(function(){return[s.scaleX||0,s.scaleY||0]},"getScale"),S=i(function(){return h.rect?Y(h.rect,h.childViews,y(),I()):null},"getRect");return u.rect={get:S},p.rect={get:S},o.forEach(function(x){s[x]=typeof m[x]>"u"?cs[x]:m[x]}),{write:i(function(){if(ds(g,s))return fs(h.element,s),Object.assign(g,Object.assign({},s)),!0},"write"),destroy:i(function(){},"destroy")}},"styles"),ds=i(function(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!0;for(var s in o)if(o[s]!==r[s])return!0;return!1},"propsHaveChanged"),fs=i(function(r,o){var s=o.opacity,u=o.perspective,p=o.translateX,h=o.translateY,m=o.scaleX,g=o.scaleY,y=o.rotateX,I=o.rotateY,S=o.rotateZ,x=o.originX,F=o.originY,k=o.width,G=o.height,N="",q="";(ft(x)||ft(F))&&(q+="transform-origin: "+(x||0)+"px "+(F||0)+"px;"),ft(u)&&(N+="perspective("+u+"px) "),(ft(p)||ft(h))&&(N+="translate3d("+(p||0)+"px, "+(h||0)+"px, 0) "),(ft(m)||ft(g))&&(N+="scale3d("+(ft(m)?m:1)+", "+(ft(g)?g:1)+", 1) "),ft(S)&&(N+="rotateZ("+S+"rad) "),ft(y)&&(N+="rotateX("+y+"rad) "),ft(I)&&(N+="rotateY("+I+"rad) "),N.length&&(q+="transform:"+N+";"),ft(s)&&(q+="opacity:"+s+";",s===0&&(q+="visibility:hidden;"),s<1&&(q+="pointer-events:none;")),ft(G)&&(q+="height:"+G+"px;"),ft(k)&&(q+="width:"+k+"px;");var Q=r.elementCurrentStyle||"";(q.length!==Q.length||q!==Q)&&(r.style.cssText=q,r.elementCurrentStyle=q)},"applyStyles"),ps={styles:Nr,listeners:us,animations:Pr,apis:ji},hn=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return o.layoutCalculated||(r.paddingTop=parseInt(s.paddingTop,10)||0,r.marginTop=parseInt(s.marginTop,10)||0,r.marginRight=parseInt(s.marginRight,10)||0,r.marginBottom=parseInt(s.marginBottom,10)||0,r.marginLeft=parseInt(s.marginLeft,10)||0,o.layoutCalculated=!0),r.left=o.offsetLeft||0,r.top=o.offsetTop||0,r.width=o.offsetWidth||0,r.height=o.offsetHeight||0,r.right=r.left+r.width,r.bottom=r.top+r.height,r.scrollTop=o.scrollTop,r.hidden=o.offsetParent===null,r},"updateRect"),ze=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.tag,s=o===void 0?"div":o,u=r.name,p=u===void 0?null:u,h=r.attributes,m=h===void 0?{}:h,g=r.read,y=g===void 0?function(){}:g,I=r.write,S=I===void 0?function(){}:I,x=r.create,F=x===void 0?function(){}:x,k=r.destroy,G=k===void 0?function(){}:k,N=r.filterFrameActionsForChild,q=N===void 0?function(K,J){return J}:N,Q=r.didCreateView,te=Q===void 0?function(){}:Q,j=r.didWriteView,ye=j===void 0?function(){}:j,W=r.ignoreRect,Pe=W===void 0?!1:W,Ne=r.ignoreRectUpdate,$=Ne===void 0?!1:Ne,ne=r.mixins,se=ne===void 0?[]:ne;return function(K){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=A(s,"filepond--"+p,m),Fe=window.getComputedStyle(le,null),Ce=hn(),ue=null,H=!1,C=[],ee=[],Ee={},Ie={},De=[S],we=[y],je=[G],Je=i(function(){return le},"getElement"),fr=i(function(){return C.concat()},"getChildViews"),Yc=i(function(){return Ee},"getReference"),pE=i(function(Se){return function(on,an){return on(Se,an)}},"createChildView"),qc=i(function(){return ue||(ue=Y(Ce,C,[0,0],[1,1]),ue)},"getRect"),hE=i(function(){return Fe},"getStyle"),mE=i(function(){ue=null,C.forEach(function(an){return an._read()});var Se=!($&&Ce.width&&Ce.height);Se&&hn(Ce,le,Fe);var on={root:gn,props:J,rect:Ce};we.forEach(function(an){return an(on)})},"_read"),gE=i(function(Se,on,an){var pr=on.length===0;return De.forEach(function(Dt){var Bn=Dt({props:J,root:gn,actions:on,timestamp:Se,shouldOptimize:an});Bn===!1&&(pr=!1)}),ee.forEach(function(Dt){var Bn=Dt.write(Se);Bn===!1&&(pr=!1)}),C.filter(function(Dt){return!!Dt.element.parentNode}).forEach(function(Dt){var Bn=Dt._write(Se,q(Dt,on),an);Bn||(pr=!1)}),C.forEach(function(Dt,Bn){Dt.element.parentNode||(gn.appendChild(Dt.element,Bn),Dt._read(),Dt._write(Se,q(Dt,on),an),pr=!1)}),H=pr,ye({props:J,root:gn,actions:on,timestamp:Se}),pr},"_write"),EE=i(function(){ee.forEach(function(Se){return Se.destroy()}),je.forEach(function(Se){Se({root:gn,props:J})}),C.forEach(function(Se){return Se._destroy()})},"_destroy"),zc={element:{get:Je},style:{get:hE},childViews:{get:fr}},jc=Object.assign({},zc,{rect:{get:qc},ref:{get:Yc},is:i(function(Se){return p===Se},"is"),appendChild:D(le),createChildView:pE(K),linkView:i(function(Se){return C.push(Se),Se},"linkView"),unlinkView:i(function(Se){C.splice(C.indexOf(Se),1)},"unlinkView"),appendChildView:w(le,C),removeChildView:V(le,C),registerWriter:i(function(Se){return De.push(Se)},"registerWriter"),registerReader:i(function(Se){return we.push(Se)},"registerReader"),registerDestroyer:i(function(Se){return je.push(Se)},"registerDestroyer"),invalidateLayout:i(function(){return le.layoutCalculated=!1},"invalidateLayout"),dispatch:K.dispatch,query:K.query}),Wc={element:{get:Je},childViews:{get:fr},rect:{get:qc},resting:{get:i(function(){return H},"get")},isRectIgnored:i(function(){return Pe},"isRectIgnored"),_read:mE,_write:gE,_destroy:EE},vE=Object.assign({},zc,{rect:{get:i(function(){return Ce},"get")}});Object.keys(se).sort(function(He,Se){return He==="styles"?1:Se==="styles"?-1:0}).forEach(function(He){var Se=ps[He]({mixinConfig:se[He],viewProps:J,viewState:Ie,viewInternalAPI:jc,viewExternalAPI:Wc,view:f(vE)});Se&&ee.push(Se)});var gn=f(jc);F({root:gn,props:J});var yE=Z(le);return C.forEach(function(He,Se){gn.appendChild(He.element,yE+Se)}),te(gn),f(Wc)}},"createView"),Zn=i(function(r,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:60,u="__framePainter";if(window[u]){window[u].readers.push(r),window[u].writers.push(o);return}window[u]={readers:[r],writers:[o]};var p=window[u],h=1e3/s,m=null,g=null,y=null,I=null,S=i(function(){document.hidden?(y=i(function(){return window.setTimeout(function(){return x(performance.now())},h)},"requestTick"),I=i(function(){return window.clearTimeout(g)},"cancelTick")):(y=i(function(){return window.requestAnimationFrame(x)},"requestTick"),I=i(function(){return window.cancelAnimationFrame(g)},"cancelTick"))},"setTimerType");document.addEventListener("visibilitychange",function(){I&&I(),S(),x(performance.now())});var x=i(function F(k){g=y(F),m||(m=k);var G=k-m;G<=h||(m=k-G%h,p.readers.forEach(function(N){return N()}),p.writers.forEach(function(N){return N(k)}))},"tick");return S(),x(performance.now()),{pause:i(function(){I(g)},"pause")}},"createPainter"),$e=i(function(r,o){return function(s){var u=s.root,p=s.props,h=s.actions,m=h===void 0?[]:h,g=s.timestamp,y=s.shouldOptimize;m.filter(function(I){return r[I.type]}).forEach(function(I){return r[I.type]({root:u,props:p,action:I.data,timestamp:g,shouldOptimize:y})}),o&&o({root:u,props:p,actions:m,timestamp:g,shouldOptimize:y})}},"createRoute"),On=i(function(r,o){return o.parentNode.insertBefore(r,o)},"insertBefore"),Wi=i(function(r,o){return o.parentNode.insertBefore(r,o.nextSibling)},"insertAfter"),wn=i(function(r){return Array.isArray(r)},"isArray"),Tt=i(function(r){return r==null},"isEmpty"),hs=i(function(r){return r.trim()},"trim"),er=i(function(r){return""+r},"toString"),Ki=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Tt(r)?[]:wn(r)?r:er(r).split(o).map(hs).filter(function(s){return s.length})},"toArray"),$i=i(function(r){return typeof r=="boolean"},"isBoolean"),Fr=i(function(r){return $i(r)?r:r==="true"},"toBoolean"),pt=i(function(r){return typeof r=="string"},"isString"),Rn=i(function(r){return Le(r)?r:pt(r)?er(r).replace(/[a-z]+/gi,""):0},"toNumber"),tr=i(function(r){return parseInt(Rn(r),10)},"toInt"),Xi=i(function(r){return parseFloat(Rn(r))},"toFloat"),tn=i(function(r){return Le(r)&&isFinite(r)&&Math.floor(r)===r},"isInt"),nr=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(tn(r))return r;var s=er(r).trim();return/MB$/i.test(s)?(s=s.replace(/MB$i/,"").trim(),tr(s)*o*o):/KB/i.test(s)?(s=s.replace(/KB$i/,"").trim(),tr(s)*o):tr(s)},"toBytes"),Kt=i(function(r){return typeof r=="function"},"isFunction"),rr=i(function(r){for(var o=self,s=r.split("."),u=null;u=s.shift();)if(o=o[u],!o)return null;return o},"toFunctionReference"),Qi={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Ji=i(function(r){var o={};return o.url=pt(r)?r:r.url||"",o.timeout=r.timeout?parseInt(r.timeout,10):0,o.headers=r.headers?r.headers:{},l(Qi,function(s){o[s]=ms(s,r[s],Qi[s],o.timeout,o.headers)}),o.process=r.process||pt(r)||r.url?o.process:null,o.remove=r.remove||null,delete o.headers,o},"createServerAPI"),ms=i(function(r,o,s,u,p){if(o===null)return null;if(typeof o=="function")return o;var h={url:s==="GET"||s==="PATCH"?"?"+r+"=":"",method:s,headers:p,withCredentials:!1,timeout:u,onload:null,ondata:null,onerror:null};if(pt(o))return h.url=o,h;if(Object.assign(h,o),pt(h.headers)){var m=h.headers.split(/:(.+)/);h.headers={header:m[0],value:m[1]}}return h.withCredentials=Fr(h.withCredentials),h},"createAction"),Zi=i(function(r){return Ji(r)},"toServerAPI"),gs=i(function(r){return r===null},"isNull"),nt=i(function(r){return typeof r=="object"&&r!==null},"isObject"),eo=i(function(r){return nt(r)&&pt(r.url)&&nt(r.process)&&nt(r.revert)&&nt(r.restore)&&nt(r.fetch)},"isAPI"),Ur=i(function(r){return wn(r)?"array":gs(r)?"null":tn(r)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(r)?"bytes":eo(r)?"api":typeof r},"getType"),Es=i(function(r){return r.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},"replaceSingleQuotes"),Ge={array:Ki,boolean:Fr,int:i(function(r){return Ur(r)==="bytes"?nr(r):tr(r)},"int"),number:Xi,float:Xi,bytes:nr,string:i(function(r){return Kt(r)?r:er(r)},"string"),function:i(function(r){return rr(r)},"_function"),serverapi:Zi,object:i(function(r){try{return JSON.parse(Es(r))}catch{return null}},"object")},Br=i(function(r,o){return Ge[o](r)},"convertTo"),ir=i(function(r,o,s){if(r===o)return r;var u=Ur(r);if(u!==s){var p=Br(r,s);if(u=Ur(p),p===null)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+s+'"';r=p}return r},"getValueByType"),vs=i(function(r,o){var s=r;return{enumerable:!0,get:i(function(){return s},"get"),set:i(function(p){s=ir(p,r,o)},"set")}},"createOption"),or=i(function(r){var o={};return l(r,function(s){var u=r[s];o[s]=vs(u[0],u[1])}),f(o)},"createOptions"),Vr=i(function(r){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:or(r)}},"createInitialState"),It=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return r.split(/(?=[A-Z])/).map(function(s){return s.toLowerCase()}).join(o)},"fromCamels"),ys=i(function(r,o){var s={};return l(o,function(u){s[u]={get:i(function(){return r.getState().options[u]},"get"),set:i(function(h){r.dispatch("SET_"+It(u,"_").toUpperCase(),{value:h})},"set")}}),s},"createOptionAPI"),_s=i(function(r){return function(o,s,u){var p={};return l(r,function(h){var m=It(h,"_").toUpperCase();p["SET_"+m]=function(g){try{u.options[h]=g.value}catch{}o("DID_SET_"+m,{value:u.options[h]})}}),p}},"createOptionActions"),v=i(function(r){return function(o){var s={};return l(r,function(u){s["GET_"+It(u,"_").toUpperCase()]=function(p){return o.options[u]}}),s}},"createOptionQueries"),T={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},O=i(function(){return Math.random().toString(36).substring(2,11)},"getUniqueId");function P(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=i(function(r){return typeof r},"_typeof"):P=i(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),P(c)}i(P,"_typeof");var z;function X(c,r,o,s){z||(z=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var u=c&&c.defaultProps,p=arguments.length-3;if(!r&&p!==0&&(r={children:void 0}),r&&u)for(var h in u)r[h]===void 0&&(r[h]=u[h]);else r||(r=u||{});if(p===1)r.children=s;else if(p>1){for(var m=new Array(p),g=0;g<p;g++)m[g]=arguments[g+3];r.children=m}return{$$typeof:z,type:c,key:o===void 0?null:""+o,ref:null,props:r,_owner:null}}i(X,"_jsx");function Te(c){var r;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(r=c[Symbol.asyncIterator],r!=null)||Symbol.iterator&&(r=c[Symbol.iterator],r!=null)))return r.call(c);throw new TypeError("Object is not async iterable")}i(Te,"_asyncIterator");function ie(c){this.wrapped=c}i(ie,"_AwaitValue");function ve(c){var r,o;function s(h,m){return new Promise(function(g,y){var I={key:h,arg:m,resolve:g,reject:y,next:null};o?o=o.next=I:(r=o=I,u(h,m))})}i(s,"send");function u(h,m){try{var g=c[h](m),y=g.value,I=y instanceof ie;Promise.resolve(I?y.wrapped:y).then(function(S){if(I){u("next",S);return}p(g.done?"return":"normal",S)},function(S){u("throw",S)})}catch(S){p("throw",S)}}i(u,"resume");function p(h,m){switch(h){case"return":r.resolve({value:m,done:!0});break;case"throw":r.reject(m);break;default:r.resolve({value:m,done:!1});break}r=r.next,r?u(r.key,r.arg):o=null}i(p,"settle"),this._invoke=s,typeof c.return!="function"&&(this.return=void 0)}i(ve,"_AsyncGenerator"),typeof Symbol=="function"&&Symbol.asyncIterator&&(ve.prototype[Symbol.asyncIterator]=function(){return this}),ve.prototype.next=function(c){return this._invoke("next",c)},ve.prototype.throw=function(c){return this._invoke("throw",c)},ve.prototype.return=function(c){return this._invoke("return",c)};function oe(c){return function(){return new ve(c.apply(this,arguments))}}i(oe,"_wrapAsyncGenerator");function de(c){return new ie(c)}i(de,"_awaitAsyncGenerator");function Ue(c,r){var o={},s=!1;function u(p,h){return s=!0,h=new Promise(function(m){m(c[p](h))}),{done:!1,value:r(h)}}return i(u,"pump"),typeof Symbol=="function"&&Symbol.iterator&&(o[Symbol.iterator]=function(){return this}),o.next=function(p){return s?(s=!1,p):u("next",p)},typeof c.throw=="function"&&(o.throw=function(p){if(s)throw s=!1,p;return u("throw",p)}),typeof c.return=="function"&&(o.return=function(p){return u("return",p)}),o}i(Ue,"_asyncGeneratorDelegate");function Rt(c,r,o,s,u,p,h){try{var m=c[p](h),g=m.value}catch(y){o(y);return}m.done?r(g):Promise.resolve(g).then(s,u)}i(Rt,"asyncGeneratorStep");function bt(c){return function(){var r=this,o=arguments;return new Promise(function(s,u){var p=c.apply(r,o);function h(g){Rt(p,s,u,h,m,"next",g)}i(h,"_next");function m(g){Rt(p,s,u,h,m,"throw",g)}i(m,"_throw"),h(void 0)})}}i(bt,"_asyncToGenerator");function ar(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}i(ar,"_classCallCheck");function nn(c,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}i(nn,"_defineProperties");function Iu(c,r,o){return r&&nn(c.prototype,r),o&&nn(c,o),c}i(Iu,"_createClass");function to(c,r){for(var o in r){var s=r[o];s.configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,o,s)}if(Object.getOwnPropertySymbols)for(var u=Object.getOwnPropertySymbols(r),p=0;p<u.length;p++){var h=u[p],s=r[h];s.configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,h,s)}return c}i(to,"_defineEnumerableProperties");function bu(c,r){for(var o=Object.getOwnPropertyNames(r),s=0;s<o.length;s++){var u=o[s],p=Object.getOwnPropertyDescriptor(r,u);p&&p.configurable&&c[u]===void 0&&Object.defineProperty(c,u,p)}return c}i(bu,"_defaults");function kr(c,r,o){return r in c?Object.defineProperty(c,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):c[r]=o,c}i(kr,"_defineProperty");function no(){return no=Object.assign||function(c){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(c[s]=o[s])}return c},no.apply(this,arguments)}i(no,"_extends");function Au(c){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},s=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),s.forEach(function(u){kr(c,u,o[u])})}return c}i(Au,"_objectSpread");function ro(c,r){var o=Object.keys(c);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(c);r&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(c,u).enumerable})),o.push.apply(o,s)}return o}i(ro,"ownKeys");function Du(c){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?ro(o,!0).forEach(function(s){kr(c,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(o)):ro(o).forEach(function(s){Object.defineProperty(c,s,Object.getOwnPropertyDescriptor(o,s))})}return c}i(Du,"_objectSpread2");function Ts(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),r&&Gr(c,r)}i(Ts,"_inherits");function Su(c,r){c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.__proto__=r}i(Su,"_inheritsLoose");function io(c){return io=Object.setPrototypeOf?Object.getPrototypeOf:i(function(o){return o.__proto__||Object.getPrototypeOf(o)},"_getPrototypeOf"),io(c)}i(io,"_getPrototypeOf");function Gr(c,r){return Gr=Object.setPrototypeOf||i(function(s,u){return s.__proto__=u,s},"_setPrototypeOf"),Gr(c,r)}i(Gr,"_setPrototypeOf");function Ph(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}i(Ph,"isNativeReflectConstruct");function oo(c,r,o){return Ph()?oo=Reflect.construct:oo=i(function(u,p,h){var m=[null];m.push.apply(m,p);var g=Function.bind.apply(u,m),y=new g;return h&&Gr(y,h.prototype),y},"_construct"),oo.apply(null,arguments)}i(oo,"_construct");function Nh(c){return Function.toString.call(c).indexOf("[native code]")!==-1}i(Nh,"_isNativeFunction");function Is(c){var r=typeof Map=="function"?new Map:void 0;return Is=i(function(s){if(s===null||!Nh(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(s))return r.get(s);r.set(s,u)}function u(){return oo(s,arguments,io(this).constructor)}return i(u,"Wrapper"),u.prototype=Object.create(s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),Gr(u,s)},"_wrapNativeSuper"),Is(c)}i(Is,"_wrapNativeSuper");function ty(c,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](c):c instanceof r}i(ty,"_instanceof");function ny(c){return c&&c.__esModule?c:{default:c}}i(ny,"_interopRequireDefault");function ry(c){if(c&&c.__esModule)return c;var r={};if(c!=null){for(var o in c)if(Object.prototype.hasOwnProperty.call(c,o)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(c,o):{};s.get||s.set?Object.defineProperty(r,o,s):r[o]=c[o]}}return r.default=c,r}i(ry,"_interopRequireWildcard");function iy(c,r){if(c!==r)throw new TypeError("Cannot instantiate an arrow function")}i(iy,"_newArrowCheck");function oy(c){if(c==null)throw new TypeError("Cannot destructure undefined")}i(oy,"_objectDestructuringEmpty");function Fh(c,r){if(c==null)return{};var o={},s=Object.keys(c),u,p;for(p=0;p<s.length;p++)u=s[p],!(r.indexOf(u)>=0)&&(o[u]=c[u]);return o}i(Fh,"_objectWithoutPropertiesLoose");function Uh(c,r){if(c==null)return{};var o=Fh(c,r),s,u;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);for(u=0;u<p.length;u++)s=p[u],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(c,s)&&(o[s]=c[s])}return o}i(Uh,"_objectWithoutProperties");function Bh(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}i(Bh,"_assertThisInitialized");function ay(c,r){return r&&(typeof r=="object"||typeof r=="function")?r:Bh(c)}i(ay,"_possibleConstructorReturn");function xu(c,r){for(;!Object.prototype.hasOwnProperty.call(c,r)&&(c=io(c),c!==null););return c}i(xu,"_superPropBase");function bs(c,r,o){return typeof Reflect<"u"&&Reflect.get?bs=Reflect.get:bs=i(function(u,p,h){var m=xu(u,p);if(m){var g=Object.getOwnPropertyDescriptor(m,p);return g.get?g.get.call(h):g.value}},"_get"),bs(c,r,o||c)}i(bs,"_get");function ao(c,r,o,s){return typeof Reflect<"u"&&Reflect.set?ao=Reflect.set:ao=i(function(p,h,m,g){var y=xu(p,h),I;if(y){if(I=Object.getOwnPropertyDescriptor(y,h),I.set)return I.set.call(g,m),!0;if(!I.writable)return!1}if(I=Object.getOwnPropertyDescriptor(g,h),I){if(!I.writable)return!1;I.value=m,Object.defineProperty(g,h,I)}else kr(g,h,m);return!0},"set"),ao(c,r,o,s)}i(ao,"set");function sy(c,r,o,s,u){var p=ao(c,r,o,s||c);if(!p&&u)throw new Error("failed to set property");return o}i(sy,"_set");function ly(c,r){return r||(r=c.slice(0)),Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(r)}}))}i(ly,"_taggedTemplateLiteral");function uy(c,r){return r||(r=c.slice(0)),c.raw=r,c}i(uy,"_taggedTemplateLiteralLoose");function cy(c,r){if(c===Vh)throw new ReferenceError(r+" is not defined - temporal dead zone");return c}i(cy,"_temporalRef");function dy(c){throw new Error('"'+c+'" is read-only')}i(dy,"_readOnlyError");function fy(c){throw new Error('Class "'+c+'" cannot be referenced in computed property keys.')}i(fy,"_classNameTDZError");var Vh={};function py(c,r){return As(c)||Hh(c,r)||Ds()}i(py,"_slicedToArray");function hy(c,r){return As(c)||Yh(c,r)||Ds()}i(hy,"_slicedToArrayLoose");function kh(c){return As(c)||Ou(c)||Ds()}i(kh,"_toArray");function so(c){return Gh(c)||Ou(c)||qh()}i(so,"_toConsumableArray");function Gh(c){if(Array.isArray(c)){for(var r=0,o=new Array(c.length);r<c.length;r++)o[r]=c[r];return o}}i(Gh,"_arrayWithoutHoles");function As(c){if(Array.isArray(c))return c}i(As,"_arrayWithHoles");function Ou(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}i(Ou,"_iterableToArray");function Hh(c,r){var o=[],s=!0,u=!1,p=void 0;try{for(var h=c[Symbol.iterator](),m;!(s=(m=h.next()).done)&&(o.push(m.value),!(r&&o.length===r));s=!0);}catch(g){u=!0,p=g}finally{try{!s&&h.return!=null&&h.return()}finally{if(u)throw p}}return o}i(Hh,"_iterableToArrayLimit");function Yh(c,r){for(var o=[],s=c[Symbol.iterator](),u;!(u=s.next()).done&&(o.push(u.value),!(r&&o.length===r)););return o}i(Yh,"_iterableToArrayLimitLoose");function qh(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i(qh,"_nonIterableSpread");function Ds(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i(Ds,"_nonIterableRest");function my(c){return function(){var r=c.apply(this,arguments);return r.next(),r}}i(my,"_skipFirstGeneratorNext");function zh(c,r){if(typeof c!="object"||c===null)return c;var o=c[Symbol.toPrimitive];if(o!==void 0){var s=o.call(c,r||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(c)}i(zh,"_toPrimitive");function wu(c){var r=zh(c,"string");return typeof r=="symbol"?r:String(r)}i(wu,"_toPropertyKey");function gy(c,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}i(gy,"_initializerWarningHelper");function Ey(c,r,o,s){o&&Object.defineProperty(c,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0})}i(Ey,"_initializerDefineProperty");function vy(c,r,o,s,u){var p={};return Object.keys(s).forEach(function(h){p[h]=s[h]}),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=o.slice().reverse().reduce(function(h,m){return m(c,r,h)||h},p),u&&p.initializer!==void 0&&(p.value=p.initializer?p.initializer.call(u):void 0,p.initializer=void 0),p.initializer===void 0&&(Object.defineProperty(c,r,p),p=null),p}i(vy,"_applyDecoratedDescriptor");var jh=0;function yy(c){return"__private_"+jh+++"_"+c}i(yy,"_classPrivateFieldLooseKey");function _y(c,r){if(!Object.prototype.hasOwnProperty.call(c,r))throw new TypeError("attempted to use private field on non-instance");return c}i(_y,"_classPrivateFieldLooseBase");function Ty(c,r){var o=r.get(c);if(!o)throw new TypeError("attempted to get private field on non-instance");return o.get?o.get.call(c):o.value}i(Ty,"_classPrivateFieldGet");function Iy(c,r,o){var s=r.get(c);if(!s)throw new TypeError("attempted to set private field on non-instance");if(s.set)s.set.call(c,o);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=o}return o}i(Iy,"_classPrivateFieldSet");function by(c,r){if(!r.has(c))throw new TypeError("attempted to set private field on non-instance");var o=r.get(c);if(o.set)return"__destrObj"in o||(o.__destrObj={set value(s){o.set.call(c,s)}}),o.__destrObj;if(!o.writable)throw new TypeError("attempted to set read only private field");return o}i(by,"_classPrivateFieldDestructureSet");function Ay(c,r,o){if(c!==r)throw new TypeError("Private static access of wrong provenance");return o.value}i(Ay,"_classStaticPrivateFieldSpecGet");function Dy(c,r,o,s){if(c!==r)throw new TypeError("Private static access of wrong provenance");if(!o.writable)throw new TypeError("attempted to set read only private field");return o.value=s,s}i(Dy,"_classStaticPrivateFieldSpecSet");function Sy(c,r,o){if(c!==r)throw new TypeError("Private static access of wrong provenance");return o}i(Sy,"_classStaticPrivateMethodGet");function xy(){throw new TypeError("attempted to set read only static private field")}i(xy,"_classStaticPrivateMethodSet");function Oy(c,r,o,s){var u=Ru();if(s)for(var p=0;p<s.length;p++)u=s[p](u);var h=r(i(function(y){u.initializeInstanceElements(y,m.elements)},"initialize"),o),m=u.decorateClass($h(h.d.map(Wh)),c);return u.initializeClassElements(h.F,m.elements),u.runClassFinishers(h.F,m.finishers)}i(Oy,"_decorate");function Ru(){Ru=i(function(){return c},"_getDecoratorsApi");var c={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:i(function(r,o){["method","field"].forEach(function(s){o.forEach(function(u){u.kind===s&&u.placement==="own"&&this.defineClassElement(r,u)},this)},this)},"initializeInstanceElements"),initializeClassElements:i(function(r,o){var s=r.prototype;["method","field"].forEach(function(u){o.forEach(function(p){var h=p.placement;if(p.kind===u&&(h==="static"||h==="prototype")){var m=h==="static"?r:s;this.defineClassElement(m,p)}},this)},this)},"initializeClassElements"),defineClassElement:i(function(r,o){var s=o.descriptor;if(o.kind==="field"){var u=o.initializer;s={enumerable:s.enumerable,writable:s.writable,configurable:s.configurable,value:u===void 0?void 0:u.call(r)}}Object.defineProperty(r,o.key,s)},"defineClassElement"),decorateClass:i(function(r,o){var s=[],u=[],p={static:[],prototype:[],own:[]};if(r.forEach(function(m){this.addElementPlacement(m,p)},this),r.forEach(function(m){if(!Hr(m))return s.push(m);var g=this.decorateElement(m,p);s.push(g.element),s.push.apply(s,g.extras),u.push.apply(u,g.finishers)},this),!o)return{elements:s,finishers:u};var h=this.decorateConstructor(s,o);return u.push.apply(u,h.finishers),h.finishers=u,h},"decorateClass"),addElementPlacement:i(function(r,o,s){var u=o[r.placement];if(!s&&u.indexOf(r.key)!==-1)throw new TypeError("Duplicated element ("+r.key+")");u.push(r.key)},"addElementPlacement"),decorateElement:i(function(r,o){for(var s=[],u=[],p=r.decorators,h=p.length-1;h>=0;h--){var m=o[r.placement];m.splice(m.indexOf(r.key),1);var g=this.fromElementDescriptor(r),y=this.toElementFinisherExtras((0,p[h])(g)||g);r=y.element,this.addElementPlacement(r,o),y.finisher&&u.push(y.finisher);var I=y.extras;if(I){for(var S=0;S<I.length;S++)this.addElementPlacement(I[S],o);s.push.apply(s,I)}}return{element:r,finishers:u,extras:s}},"decorateElement"),decorateConstructor:i(function(r,o){for(var s=[],u=o.length-1;u>=0;u--){var p=this.fromClassDescriptor(r),h=this.toClassDescriptor((0,o[u])(p)||p);if(h.finisher!==void 0&&s.push(h.finisher),h.elements!==void 0){r=h.elements;for(var m=0;m<r.length-1;m++)for(var g=m+1;g<r.length;g++)if(r[m].key===r[g].key&&r[m].placement===r[g].placement)throw new TypeError("Duplicated element ("+r[m].key+")")}}return{elements:r,finishers:s}},"decorateConstructor"),fromElementDescriptor:i(function(r){var o={kind:r.kind,key:r.key,placement:r.placement,descriptor:r.descriptor},s={value:"Descriptor",configurable:!0};return Object.defineProperty(o,Symbol.toStringTag,s),r.kind==="field"&&(o.initializer=r.initializer),o},"fromElementDescriptor"),toElementDescriptors:i(function(r){if(r!==void 0)return kh(r).map(function(o){var s=this.toElementDescriptor(o);return this.disallowProperty(o,"finisher","An element descriptor"),this.disallowProperty(o,"extras","An element descriptor"),s},this)},"toElementDescriptors"),toElementDescriptor:i(function(r){var o=String(r.kind);if(o!=="method"&&o!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+o+'"');var s=wu(r.key),u=String(r.placement);if(u!=="static"&&u!=="prototype"&&u!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+u+'"');var p=r.descriptor;this.disallowProperty(r,"elements","An element descriptor");var h={kind:o,key:s,placement:u,descriptor:Object.assign({},p)};return o!=="field"?this.disallowProperty(r,"initializer","A method descriptor"):(this.disallowProperty(p,"get","The property descriptor of a field descriptor"),this.disallowProperty(p,"set","The property descriptor of a field descriptor"),this.disallowProperty(p,"value","The property descriptor of a field descriptor"),h.initializer=r.initializer),h},"toElementDescriptor"),toElementFinisherExtras:i(function(r){var o=this.toElementDescriptor(r),s=Cu(r,"finisher"),u=this.toElementDescriptors(r.extras);return{element:o,finisher:s,extras:u}},"toElementFinisherExtras"),fromClassDescriptor:i(function(r){var o={kind:"class",elements:r.map(this.fromElementDescriptor,this)},s={value:"Descriptor",configurable:!0};return Object.defineProperty(o,Symbol.toStringTag,s),o},"fromClassDescriptor"),toClassDescriptor:i(function(r){var o=String(r.kind);if(o!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+o+'"');this.disallowProperty(r,"key","A class descriptor"),this.disallowProperty(r,"placement","A class descriptor"),this.disallowProperty(r,"descriptor","A class descriptor"),this.disallowProperty(r,"initializer","A class descriptor"),this.disallowProperty(r,"extras","A class descriptor");var s=Cu(r,"finisher"),u=this.toElementDescriptors(r.elements);return{elements:u,finisher:s}},"toClassDescriptor"),runClassFinishers:i(function(r,o){for(var s=0;s<o.length;s++){var u=(0,o[s])(r);if(u!==void 0){if(typeof u!="function")throw new TypeError("Finishers must return a constructor.");r=u}}return r},"runClassFinishers"),disallowProperty:i(function(r,o,s){if(r[o]!==void 0)throw new TypeError(s+" can't have a ."+o+" property.")},"disallowProperty")};return c}i(Ru,"_getDecoratorsApi");function Wh(c){var r=wu(c.key),o;c.kind==="method"?o={value:c.value,writable:!0,configurable:!0,enumerable:!1}:c.kind==="get"?o={get:c.value,configurable:!0,enumerable:!1}:c.kind==="set"?o={set:c.value,configurable:!0,enumerable:!1}:c.kind==="field"&&(o={configurable:!0,writable:!0,enumerable:!0});var s={kind:c.kind==="field"?"field":"method",key:r,placement:c.static?"static":c.kind==="field"?"own":"prototype",descriptor:o};return c.decorators&&(s.decorators=c.decorators),c.kind==="field"&&(s.initializer=c.value),s}i(Wh,"_createElementDescriptor");function Kh(c,r){c.descriptor.get!==void 0?r.descriptor.get=c.descriptor.get:r.descriptor.set=c.descriptor.set}i(Kh,"_coalesceGetterSetter");function $h(c){for(var r=[],o=i(function(h){return h.kind==="method"&&h.key===u.key&&h.placement===u.placement},"isSameElement"),s=0;s<c.length;s++){var u=c[s],p;if(u.kind==="method"&&(p=r.find(o)))if(Lu(u.descriptor)||Lu(p.descriptor)){if(Hr(u)||Hr(p))throw new ReferenceError("Duplicated methods ("+u.key+") can't be decorated.");p.descriptor=u.descriptor}else{if(Hr(u)){if(Hr(p))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+u.key+").");p.decorators=u.decorators}Kh(u,p)}else r.push(u)}return r}i($h,"_coalesceClassElements");function Hr(c){return c.decorators&&c.decorators.length}i(Hr,"_hasDecorators");function Lu(c){return c!==void 0&&!(c.value===void 0&&c.writable===void 0)}i(Lu,"_isDataDescriptor");function Cu(c,r){var o=c[r];if(o!==void 0&&typeof o!="function")throw new TypeError("Expected '"+r+"' to be a function");return o}i(Cu,"_optionalCallableProperty");function wy(c,r,o){if(!r.has(c))throw new TypeError("attempted to get private field on non-instance");return o}i(wy,"_classPrivateMethodGet");function Ry(){throw new TypeError("attempted to reassign private method")}i(Ry,"_classPrivateMethodSet");function Mu(c,r){Mu=i(function(m,g){return new p(m,g)},"_wrapRegExp");var o=Is(RegExp),s=RegExp.prototype,u=new WeakMap;function p(m,g){var y=o.call(this,m);return u.set(y,g),y}i(p,"BabelRegExp"),Ts(p,o),p.prototype.exec=function(m){var g=s.exec.call(this,m);return g&&(g.groups=h(g,this)),g},p.prototype[Symbol.replace]=function(m,g){if(typeof g=="string"){var y=u.get(this);return s[Symbol.replace].call(this,m,g.replace(/\$<([^>]+)>/g,function(S,x){return"$"+y[x]}))}else if(typeof g=="function"){var I=this;return s[Symbol.replace].call(this,m,function(){var S=[];return S.push.apply(S,arguments),typeof S[S.length-1]!="object"&&S.push(h(S,I)),g.apply(this,S)})}else return s[Symbol.replace].call(this,m,g)};function h(m,g){var y=u.get(g);return Object.keys(y).reduce(function(I,S){return I[S]=m[y[S]],I},Object.create(null))}return i(h,"buildGroups"),Mu.apply(this,arguments)}i(Mu,"_wrapRegExp");var Ss=i(function(r,o){return r.splice(o,1)},"arrayRemove"),Xh=i(function(r,o){o?r():document.hidden?Promise.resolve(1).then(r):setTimeout(r,0)},"run"),lo=i(function(){var r=[],o=i(function(p,h){Ss(r,r.findIndex(function(m){return m.event===p&&(m.cb===h||!h)}))},"off"),s=i(function(p,h,m){r.filter(function(g){return g.event===p}).map(function(g){return g.cb}).forEach(function(g){return Xh(function(){return g.apply(void 0,so(h))},m)})},"fire");return{fireSync:i(function(p){for(var h=arguments.length,m=new Array(h>1?h-1:0),g=1;g<h;g++)m[g-1]=arguments[g];s(p,m,!0)},"fireSync"),fire:i(function(p){for(var h=arguments.length,m=new Array(h>1?h-1:0),g=1;g<h;g++)m[g-1]=arguments[g];s(p,m,!1)},"fire"),on:i(function(p,h){r.push({event:p,cb:h})},"on"),onOnce:i(function(p,h){r.push({event:p,cb:i(function(){o(p,h),h.apply(void 0,arguments)},"cb")})},"onOnce"),off:o}},"on"),Pu=i(function(r,o,s){Object.getOwnPropertyNames(r).filter(function(u){return!s.includes(u)}).forEach(function(u){return Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(r,u))})},"copyObjectPropertiesToObject"),Qh=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],At=i(function(r){var o={};return Pu(r,o,Qh),o},"createItemAPI"),Jh=i(function(r){r.forEach(function(o,s){o.released&&Ss(r,s)})},"removeReleasedItems"),ge={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},lt={INPUT:1,LIMBO:2,LOCAL:3},Nu=i(function(r){return/[^0-9]+/.exec(r)},"getNonNumeric"),Fu=i(function(){return Nu(1.1.toLocaleString())[0]},"getDecimalSeparator"),Zh=i(function(){var r=Fu(),o=1e3.toLocaleString(),s="1000";return o!==s?Nu(o)[0]:r==="."?",":"."},"getThousandsSeparator"),B={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},xs=[],Ht=i(function(r,o,s){return new Promise(function(u,p){var h=xs.filter(function(g){return g.key===r}).map(function(g){return g.cb});if(h.length===0){u(o);return}var m=h.shift();h.reduce(function(g,y){return g.then(function(I){return y(I,s)})},m(o,s)).then(function(g){return u(g)}).catch(function(g){return p(g)})})},"applyFilterChain"),Ln=i(function(r,o,s){return xs.filter(function(u){return u.key===r}).map(function(u){return u.cb(o,s)})},"applyFilters"),em=i(function(r,o){return xs.push({key:r,cb:o})},"addFilter"),tm=i(function(r){return Object.assign(sr,r)},"extendDefaultOptions"),uo=i(function(){return Object.assign({},sr)},"getOptions"),nm=i(function(r){l(r,function(o,s){sr[o]&&(sr[o][0]=ir(s,sr[o][0],sr[o][1]))})},"setOptions"),sr={id:[null,B.STRING],name:["filepond",B.STRING],disabled:[!1,B.BOOLEAN],className:[null,B.STRING],required:[!1,B.BOOLEAN],captureMethod:[null,B.STRING],allowSyncAcceptAttribute:[!0,B.BOOLEAN],allowDrop:[!0,B.BOOLEAN],allowBrowse:[!0,B.BOOLEAN],allowPaste:[!0,B.BOOLEAN],allowMultiple:[!1,B.BOOLEAN],allowReplace:[!0,B.BOOLEAN],allowRevert:[!0,B.BOOLEAN],allowRemove:[!0,B.BOOLEAN],allowProcess:[!0,B.BOOLEAN],allowReorder:[!1,B.BOOLEAN],allowDirectoriesOnly:[!1,B.BOOLEAN],storeAsFile:[!1,B.BOOLEAN],forceRevert:[!1,B.BOOLEAN],maxFiles:[null,B.INT],checkValidity:[!1,B.BOOLEAN],itemInsertLocationFreedom:[!0,B.BOOLEAN],itemInsertLocation:["before",B.STRING],itemInsertInterval:[75,B.INT],dropOnPage:[!1,B.BOOLEAN],dropOnElement:[!0,B.BOOLEAN],dropValidation:[!1,B.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],B.ARRAY],instantUpload:[!0,B.BOOLEAN],maxParallelUploads:[2,B.INT],allowMinimumUploadDuration:[!0,B.BOOLEAN],chunkUploads:[!1,B.BOOLEAN],chunkForce:[!1,B.BOOLEAN],chunkSize:[5e6,B.INT],chunkRetryDelays:[[500,1e3,3e3],B.ARRAY],server:[null,B.SERVER_API],fileSizeBase:[1e3,B.INT],labelFileSizeBytes:["bytes",B.STRING],labelFileSizeKilobytes:["KB",B.STRING],labelFileSizeMegabytes:["MB",B.STRING],labelFileSizeGigabytes:["GB",B.STRING],labelDecimalSeparator:[Fu(),B.STRING],labelThousandsSeparator:[Zh(),B.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',B.STRING],labelInvalidField:["Field contains invalid files",B.STRING],labelFileWaitingForSize:["Waiting for size",B.STRING],labelFileSizeNotAvailable:["Size not available",B.STRING],labelFileCountSingular:["file in list",B.STRING],labelFileCountPlural:["files in list",B.STRING],labelFileLoading:["Loading",B.STRING],labelFileAdded:["Added",B.STRING],labelFileLoadError:["Error during load",B.STRING],labelFileRemoved:["Removed",B.STRING],labelFileRemoveError:["Error during remove",B.STRING],labelFileProcessing:["Uploading",B.STRING],labelFileProcessingComplete:["Upload complete",B.STRING],labelFileProcessingAborted:["Upload cancelled",B.STRING],labelFileProcessingError:["Error during upload",B.STRING],labelFileProcessingRevertError:["Error during revert",B.STRING],labelTapToCancel:["tap to cancel",B.STRING],labelTapToRetry:["tap to retry",B.STRING],labelTapToUndo:["tap to undo",B.STRING],labelButtonRemoveItem:["Remove",B.STRING],labelButtonAbortItemLoad:["Abort",B.STRING],labelButtonRetryItemLoad:["Retry",B.STRING],labelButtonAbortItemProcessing:["Cancel",B.STRING],labelButtonUndoItemProcessing:["Undo",B.STRING],labelButtonRetryItemProcessing:["Retry",B.STRING],labelButtonProcessItem:["Upload",B.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',B.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',B.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',B.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',B.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',B.STRING],oninit:[null,B.FUNCTION],onwarning:[null,B.FUNCTION],onerror:[null,B.FUNCTION],onactivatefile:[null,B.FUNCTION],oninitfile:[null,B.FUNCTION],onaddfilestart:[null,B.FUNCTION],onaddfileprogress:[null,B.FUNCTION],onaddfile:[null,B.FUNCTION],onprocessfilestart:[null,B.FUNCTION],onprocessfileprogress:[null,B.FUNCTION],onprocessfileabort:[null,B.FUNCTION],onprocessfilerevert:[null,B.FUNCTION],onprocessfile:[null,B.FUNCTION],onprocessfiles:[null,B.FUNCTION],onremovefile:[null,B.FUNCTION],onpreparefile:[null,B.FUNCTION],onupdatefiles:[null,B.FUNCTION],onreorderfiles:[null,B.FUNCTION],beforeDropFile:[null,B.FUNCTION],beforeAddFile:[null,B.FUNCTION],beforeRemoveFile:[null,B.FUNCTION],beforePrepareFile:[null,B.FUNCTION],stylePanelLayout:[null,B.STRING],stylePanelAspectRatio:[null,B.STRING],styleItemPanelAspectRatio:[null,B.STRING],styleButtonRemoveItemPosition:["left",B.STRING],styleButtonProcessItemPosition:["right",B.STRING],styleLoadIndicatorPosition:["right",B.STRING],styleProgressIndicatorPosition:["right",B.STRING],styleButtonRemoveItemAlign:[!1,B.BOOLEAN],files:[[],B.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],B.ARRAY]},Cn=i(function(r,o){return Tt(o)?r[0]||null:tn(o)?r[o]||null:(typeof o=="object"&&(o=o.id),r.find(function(s){return s.id===o})||null)},"getItemByQuery"),Uu=i(function(r){if(Tt(r))return r;if(/:/.test(r)){var o=r.split(":");return o[1]/o[0]}return parseFloat(r)},"getNumericAspectRatioFromString"),Yt=i(function(r){return r.filter(function(o){return!o.archived})},"getActiveItems"),lr={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},co=null,rm=i(function(){if(co===null)try{var r=new DataTransfer;r.items.add(new File(["hello world"],"This_Works.txt"));var o=document.createElement("input");o.setAttribute("type","file"),o.files=r.files,co=o.files.length===1}catch{co=!1}return co},"canUpdateFileInput"),im=[ge.LOAD_ERROR,ge.PROCESSING_ERROR,ge.PROCESSING_REVERT_ERROR],om=[ge.LOADING,ge.PROCESSING,ge.PROCESSING_QUEUED,ge.INIT],am=[ge.PROCESSING_COMPLETE],sm=i(function(r){return im.includes(r.status)},"isItemInErrorState"),lm=i(function(r){return om.includes(r.status)},"isItemInBusyState"),um=i(function(r){return am.includes(r.status)},"isItemInReadyState"),Bu=i(function(r){return nt(r.options.server)&&(nt(r.options.server.process)||Kt(r.options.server.process))},"isAsync"),cm=i(function(r){return{GET_STATUS:i(function(){var s=Yt(r.items),u=lr.EMPTY,p=lr.ERROR,h=lr.BUSY,m=lr.IDLE,g=lr.READY;return s.length===0?u:s.some(sm)?p:s.some(lm)?h:s.some(um)?g:m},"GET_STATUS"),GET_ITEM:i(function(s){return Cn(r.items,s)},"GET_ITEM"),GET_ACTIVE_ITEM:i(function(s){return Cn(Yt(r.items),s)},"GET_ACTIVE_ITEM"),GET_ACTIVE_ITEMS:i(function(){return Yt(r.items)},"GET_ACTIVE_ITEMS"),GET_ITEMS:i(function(){return r.items},"GET_ITEMS"),GET_ITEM_NAME:i(function(s){var u=Cn(r.items,s);return u?u.filename:null},"GET_ITEM_NAME"),GET_ITEM_SIZE:i(function(s){var u=Cn(r.items,s);return u?u.fileSize:null},"GET_ITEM_SIZE"),GET_STYLES:i(function(){return Object.keys(r.options).filter(function(s){return/^style/.test(s)}).map(function(s){return{name:s,value:r.options[s]}})},"GET_STYLES"),GET_PANEL_ASPECT_RATIO:i(function(){var s=/circle/.test(r.options.stylePanelLayout),u=s?1:Uu(r.options.stylePanelAspectRatio);return u},"GET_PANEL_ASPECT_RATIO"),GET_ITEM_PANEL_ASPECT_RATIO:i(function(){return r.options.styleItemPanelAspectRatio},"GET_ITEM_PANEL_ASPECT_RATIO"),GET_ITEMS_BY_STATUS:i(function(s){return Yt(r.items).filter(function(u){return u.status===s})},"GET_ITEMS_BY_STATUS"),GET_TOTAL_ITEMS:i(function(){return Yt(r.items).length},"GET_TOTAL_ITEMS"),SHOULD_UPDATE_FILE_INPUT:i(function(){return r.options.storeAsFile&&rm()&&!Bu(r)},"SHOULD_UPDATE_FILE_INPUT"),IS_ASYNC:i(function(){return Bu(r)},"IS_ASYNC"),GET_FILE_SIZE_LABELS:i(function(s){return{labelBytes:s("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:s("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:s("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:s("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}},"GET_FILE_SIZE_LABELS")}},"queries"),dm=i(function(r){var o=Yt(r.items).length;if(!r.options.allowMultiple)return o===0;var s=r.options.maxFiles;return s===null||o<s},"hasRoomForItem"),Vu=i(function(r,o,s){return Math.max(Math.min(s,r),o)},"limit"),fm=i(function(r,o,s){return r.splice(o,0,s)},"arrayInsert"),pm=i(function(r,o,s){return Tt(o)?null:typeof s>"u"?(r.push(o),o):(s=Vu(s,0,r.length),fm(r,s,o),o)},"insertItem"),Os=i(function(r){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(r)},"isBase64DataURI"),Yr=i(function(r){return(""+r).split("/").pop().split("?").shift()},"getFilenameFromURL"),fo=i(function(r){return r.split(".").pop()},"getExtensionFromFilename"),hm=i(function(r){if(typeof r!="string")return"";var o=r.split("/").pop();return/svg/.test(o)?"svg":/zip|compressed/.test(o)?"zip":/plain/.test(o)?"txt":/msword/.test(o)?"doc":/[a-z]+/.test(o)?o==="jpeg"?"jpg":o:""},"guesstimateExtension"),qr=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(o+r).slice(-o.length)},"leftPad"),ku=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return r.getFullYear()+"-"+qr(r.getMonth()+1,"00")+"-"+qr(r.getDate(),"00")+"_"+qr(r.getHours(),"00")+"-"+qr(r.getMinutes(),"00")+"-"+qr(r.getSeconds(),"00")},"getDateString"),ur=i(function(r,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,p=typeof s=="string"?r.slice(0,r.size,s):r.slice(0,r.size,r.type);return p.lastModifiedDate=new Date,r._relativePath&&(p._relativePath=r._relativePath),pt(o)||(o=ku()),o&&u===null&&fo(o)?p.name=o:(u=u||hm(p.type),p.name=o+(u?"."+u:"")),p},"getFileFromBlob"),mm=i(function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},"getBlobBuilder"),Gu=i(function(r,o){var s=mm();if(s){var u=new s;return u.append(r),u.getBlob(o)}return new Blob([r],{type:o})},"createBlob"),gm=i(function(r,o){for(var s=new ArrayBuffer(r.length),u=new Uint8Array(s),p=0;p<r.length;p++)u[p]=r.charCodeAt(p);return Gu(s,o)},"getBlobFromByteStringWithMimeType"),Hu=i(function(r){return(/^data:(.+);/.exec(r)||[])[1]||null},"getMimeTypeFromBase64DataURI"),Em=i(function(r){var o=r.split(",")[1];return o.replace(/\s/g,"")},"getBase64DataFromBase64DataURI"),vm=i(function(r){return atob(Em(r))},"getByteStringFromBase64DataURI"),ym=i(function(r){var o=Hu(r),s=vm(r);return gm(s,o)},"getBlobFromBase64DataURI"),_m=i(function(r,o,s){return ur(ym(r),o,null,s)},"getFileFromBase64DataURI"),Tm=i(function(r){if(!/^content-disposition:/i.test(r))return null;var o=r.split(/filename=|filename\*=.+''/).splice(1).map(function(s){return s.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(s){return s.length});return o.length?decodeURI(o[o.length-1]):null},"getFileNameFromHeader"),Im=i(function(r){if(/content-length:/i.test(r)){var o=r.match(/[0-9]+/)[0];return o?parseInt(o,10):null}return null},"getFileSizeFromHeader"),bm=i(function(r){if(/x-content-transfer-id:/i.test(r)){var o=(r.split(":")[1]||"").trim();return o||null}return null},"getTranfserIdFromHeader"),ws=i(function(r){var o={source:null,name:null,size:null},s=r.split(`
`),u=!0,p=!1,h=void 0;try{for(var m=s[Symbol.iterator](),g;!(u=(g=m.next()).done);u=!0){var y=g.value,I=Tm(y);if(I){o.name=I;continue}var S=Im(y);if(S){o.size=S;continue}var x=bm(y);if(x){o.source=x;continue}}}catch(F){p=!0,h=F}finally{try{!u&&m.return!=null&&m.return()}finally{if(p)throw h}}return o},"getFileInfoFromHeaders"),Am=i(function(r){var o={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},s=i(function(){return o.progress},"getProgress"),u=i(function(){o.request&&o.request.abort&&o.request.abort()},"abort"),p=i(function(){var y=o.source;m.fire("init",y),y instanceof File?m.fire("load",y):y instanceof Blob?m.fire("load",ur(y,y.name)):Os(y)?m.fire("load",_m(y)):h(y)},"load"),h=i(function(y){if(!r){m.fire("error",{type:"error",body:"Can't load URL",code:400});return}o.timestamp=Date.now(),o.request=r(y,function(I){o.duration=Date.now()-o.timestamp,o.complete=!0,I instanceof Blob&&(I=ur(I,I.name||Yr(y))),m.fire("load",I instanceof Blob?I:I?I.body:null)},function(I){m.fire("error",typeof I=="string"?{type:"error",code:0,body:I}:I)},function(I,S,x){if(x&&(o.size=x),o.duration=Date.now()-o.timestamp,!I){o.progress=null;return}o.progress=S/x,m.fire("progress",o.progress)},function(){m.fire("abort")},function(I){var S=ws(typeof I=="string"?I:I.headers);m.fire("meta",{size:o.size||S.size,filename:S.name,source:S.source})})},"loadURL"),m=Object.assign({},lo(),{setSource:i(function(y){return o.source=y},"setSource"),getProgress:s,abort:u,load:p});return m},"createFileLoader"),Yu=i(function(r){return/GET|HEAD/.test(r)},"isGet"),Mn=i(function(r,o,s){var u={onheaders:i(function(){},"onheaders"),onprogress:i(function(){},"onprogress"),onload:i(function(){},"onload"),ontimeout:i(function(){},"ontimeout"),onerror:i(function(){},"onerror"),onabort:i(function(){},"onabort"),abort:i(function(){p=!0,m.abort()},"abort")},p=!1,h=!1;s=Object.assign({method:"POST",headers:{},withCredentials:!1},s),o=encodeURI(o),Yu(s.method)&&r&&(o=""+o+encodeURIComponent(typeof r=="string"?r:JSON.stringify(r)));var m=new XMLHttpRequest,g=Yu(s.method)?m:m.upload;return g.onprogress=function(y){p||u.onprogress(y.lengthComputable,y.loaded,y.total)},m.onreadystatechange=function(){m.readyState<2||m.readyState===4&&m.status===0||h||(h=!0,u.onheaders(m))},m.onload=function(){m.status>=200&&m.status<300?u.onload(m):u.onerror(m)},m.onerror=function(){return u.onerror(m)},m.onabort=function(){p=!0,u.onabort()},m.ontimeout=function(){return u.ontimeout(m)},m.open(s.method,o,!0),tn(s.timeout)&&(m.timeout=s.timeout),Object.keys(s.headers).forEach(function(y){var I=unescape(encodeURIComponent(s.headers[y]));m.setRequestHeader(y,I)}),s.responseType&&(m.responseType=s.responseType),s.withCredentials&&(m.withCredentials=!0),m.send(r),u},"sendRequest"),et=i(function(r,o,s,u){return{type:r,code:o,body:s,headers:u}},"createResponse"),Pn=i(function(r){return function(o){r(et("error",0,"Timeout",o.getAllResponseHeaders()))}},"createTimeoutResponse"),qu=i(function(r){return/\?/.test(r)},"hasQS"),zr=i(function(){for(var r="",o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return s.forEach(function(p){r+=qu(r)&&qu(p)?p.replace(/\?/,"&"):p}),r},"buildURL"),Rs=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;if(typeof o=="function")return o;if(!o||!pt(o.url))return null;var s=o.onload||function(p){return p},u=o.onerror||function(p){return null};return function(p,h,m,g,y,I){var S=Mn(p,zr(r,o.url),Object.assign({},o,{responseType:"blob"}));return S.onload=function(x){var F=x.getAllResponseHeaders(),k=ws(F).name||Yr(p);h(et("load",x.status,o.method==="HEAD"?null:ur(s(x.response),k),F))},S.onerror=function(x){m(et("error",x.status,u(x.response)||x.statusText,x.getAllResponseHeaders()))},S.onheaders=function(x){I(et("headers",x.status,null,x.getAllResponseHeaders()))},S.ontimeout=Pn(m),S.onprogress=g,S.onabort=y,S}},"createFetchFunction"),Pt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Dm=i(function(r,o,s,u,p,h,m,g,y,I,S){for(var x=[],F=S.chunkTransferId,k=S.chunkServer,G=S.chunkSize,N=S.chunkRetryDelays,q={serverId:F,aborted:!1},Q=o.ondata||function(H){return H},te=o.onload||function(H,C){return C==="HEAD"?H.getResponseHeader("Upload-Offset"):H.response},j=o.onerror||function(H){return null},ye=i(function(C){var ee=new FormData;nt(p)&&ee.append(s,JSON.stringify(p));var Ee=typeof o.headers=="function"?o.headers(u,p):Object.assign({},o.headers,{"Upload-Length":u.size}),Ie=Object.assign({},o,{headers:Ee}),De=Mn(Q(ee),zr(r,o.url),Ie);De.onload=function(we){return C(te(we,Ie.method))},De.onerror=function(we){return m(et("error",we.status,j(we.response)||we.statusText,we.getAllResponseHeaders()))},De.ontimeout=Pn(m)},"requestTransferId"),W=i(function(C){var ee=zr(r,k.url,q.serverId),Ee=typeof o.headers=="function"?o.headers(q.serverId):Object.assign({},o.headers),Ie={headers:Ee,method:"HEAD"},De=Mn(null,ee,Ie);De.onload=function(we){return C(te(we,Ie.method))},De.onerror=function(we){return m(et("error",we.status,j(we.response)||we.statusText,we.getAllResponseHeaders()))},De.ontimeout=Pn(m)},"requestTransferOffset"),Pe=Math.floor(u.size/G),Ne=0;Ne<=Pe;Ne++){var $=Ne*G,ne=u.slice($,$+G,"application/offset+octet-stream");x[Ne]={index:Ne,size:ne.size,offset:$,data:ne,file:u,progress:0,retries:so(N),status:Pt.QUEUED,error:null,request:null,timeout:null}}var se=i(function(){return h(q.serverId)},"completeProcessingChunks"),K=i(function(C){return C.status===Pt.QUEUED||C.status===Pt.ERROR},"canProcessChunk"),J=i(function(C){if(!q.aborted){if(C=C||x.find(K),!C){x.every(function(Je){return Je.status===Pt.COMPLETE})&&se();return}C.status=Pt.PROCESSING,C.progress=null;var ee=k.ondata||function(Je){return Je},Ee=k.onerror||function(Je){return null},Ie=k.onload||function(){},De=zr(r,k.url,q.serverId),we=typeof k.headers=="function"?k.headers(C):Object.assign({},k.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":C.offset,"Upload-Length":u.size,"Upload-Name":u.name}),je=C.request=Mn(ee(C.data),De,Object.assign({},k,{headers:we}));je.onload=function(Je){Ie(Je,C.index,x.length),C.status=Pt.COMPLETE,C.request=null,Ce()},je.onprogress=function(Je,fr,Yc){C.progress=Je?fr:null,Fe()},je.onerror=function(Je){C.status=Pt.ERROR,C.request=null,C.error=Ee(Je.response)||Je.statusText,le(C)||m(et("error",Je.status,Ee(Je.response)||Je.statusText,Je.getAllResponseHeaders()))},je.ontimeout=function(Je){C.status=Pt.ERROR,C.request=null,le(C)||Pn(m)(Je)},je.onabort=function(){C.status=Pt.QUEUED,C.request=null,y()}}},"processChunk"),le=i(function(C){return C.retries.length===0?!1:(C.status=Pt.WAITING,clearTimeout(C.timeout),C.timeout=setTimeout(function(){J(C)},C.retries.shift()),!0)},"retryProcessChunk"),Fe=i(function(){var C=x.reduce(function(Ee,Ie){return Ee===null||Ie.progress===null?null:Ee+Ie.progress},0);if(C===null)return g(!1,0,0);var ee=x.reduce(function(Ee,Ie){return Ee+Ie.size},0);g(!0,C,ee)},"updateTotalProgress"),Ce=i(function(){var C=x.filter(function(ee){return ee.status===Pt.PROCESSING}).length;C>=1||J()},"processChunks"),ue=i(function(){x.forEach(function(C){clearTimeout(C.timeout),C.request&&C.request.abort()})},"abortChunks");return q.serverId?W(function(H){q.aborted||(x.filter(function(C){return C.offset<H}).forEach(function(C){C.status=Pt.COMPLETE,C.progress=C.size}),Ce())}):ye(function(H){q.aborted||(I(H),q.serverId=H,Ce())}),{abort:i(function(){q.aborted=!0,ue()},"abort")}},"processFileChunked"),Sm=i(function(r,o,s,u){return function(p,h,m,g,y,I,S){if(p){var x=u.chunkUploads,F=x&&p.size>u.chunkSize,k=x&&(F||u.chunkForce);if(p instanceof Blob&&k)return Dm(r,o,s,p,h,m,g,y,I,S,u);var G=o.ondata||function(W){return W},N=o.onload||function(W){return W},q=o.onerror||function(W){return null},Q=typeof o.headers=="function"?o.headers(p,h)||{}:Object.assign({},o.headers),te=Object.assign({},o,{headers:Q}),j=new FormData;nt(h)&&j.append(s,JSON.stringify(h)),(p instanceof Blob?[{name:null,file:p}]:p).forEach(function(W){j.append(s,W.file,W.name===null?W.file.name:""+W.name+W.file.name)});var ye=Mn(G(j),zr(r,o.url),te);return ye.onload=function(W){m(et("load",W.status,N(W.response),W.getAllResponseHeaders()))},ye.onerror=function(W){g(et("error",W.status,q(W.response)||W.statusText,W.getAllResponseHeaders()))},ye.ontimeout=Pn(g),ye.onprogress=y,ye.onabort=I,ye}}},"createFileProcessorFunction"),xm=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;return typeof o=="function"?function(){for(var p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];return o.apply(void 0,[s].concat(h,[u]))}:!o||!pt(o.url)?null:Sm(r,o,s,u)},"createProcessorFunction"),jr=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;if(typeof o=="function")return o;if(!o||!pt(o.url))return function(p,h){return h()};var s=o.onload||function(p){return p},u=o.onerror||function(p){return null};return function(p,h,m){var g=Mn(p,r+o.url,o);return g.onload=function(y){h(et("load",y.status,s(y.response),y.getAllResponseHeaders()))},g.onerror=function(y){m(et("error",y.status,u(y.response)||y.statusText,y.getAllResponseHeaders()))},g.ontimeout=Pn(m),g}},"createRevertFunction"),zu=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return r+Math.random()*(o-r)},"getRandomNumber"),Om=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:25,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,h=null,m=Date.now(),g=i(function y(){var I=Date.now()-m,S=zu(u,p);I+S>o&&(S=I+S-o);var x=I/o;if(x>=1||document.hidden){r(1);return}r(x),h=setTimeout(y,S)},"tick");return o>0&&g(),{clear:i(function(){clearTimeout(h)},"clear")}},"createPerceivedPerformanceUpdater"),wm=i(function(r,o){var s={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},u=o.allowMinimumUploadDuration,p=i(function(x,F){var k=i(function(){s.duration===0||s.progress===null||I.fire("progress",I.getProgress())},"progressFn"),G=i(function(){s.complete=!0,I.fire("load-perceived",s.response.body)},"completeFn");I.fire("start"),s.timestamp=Date.now(),s.perceivedPerformanceUpdater=Om(function(N){s.perceivedProgress=N,s.perceivedDuration=Date.now()-s.timestamp,k(),s.response&&s.perceivedProgress===1&&!s.complete&&G()},u?zu(750,1500):0),s.request=r(x,F,function(N){s.response=nt(N)?N:{type:"load",code:200,body:""+N,headers:{}},s.duration=Date.now()-s.timestamp,s.progress=1,I.fire("load",s.response.body),(!u||u&&s.perceivedProgress===1)&&G()},function(N){s.perceivedPerformanceUpdater.clear(),I.fire("error",nt(N)?N:{type:"error",code:0,body:""+N})},function(N,q,Q){s.duration=Date.now()-s.timestamp,s.progress=N?q/Q:null,k()},function(){s.perceivedPerformanceUpdater.clear(),I.fire("abort",s.response?s.response.body:null)},function(N){I.fire("transfer",N)})},"process"),h=i(function(){s.request&&(s.perceivedPerformanceUpdater.clear(),s.request.abort&&s.request.abort(),s.complete=!0)},"abort"),m=i(function(){h(),s.complete=!1,s.perceivedProgress=0,s.progress=0,s.timestamp=null,s.perceivedDuration=0,s.duration=0,s.request=null,s.response=null},"reset"),g=u?function(){return s.progress?Math.min(s.progress,s.perceivedProgress):null}:function(){return s.progress||null},y=u?function(){return Math.min(s.duration,s.perceivedDuration)}:function(){return s.duration},I=Object.assign({},lo(),{process:p,abort:h,getProgress:g,getDuration:y,reset:m});return I},"createFileProcessor"),ju=i(function(r){return r.substring(0,r.lastIndexOf("."))||r},"getFilenameWithoutExtension"),Rm=i(function(r){var o=[r.name,r.size,r.type];return r instanceof Blob||Os(r)?o[0]=r.name||ku():Os(r)?(o[1]=r.length,o[2]=Hu(r)):pt(r)&&(o[0]=Yr(r),o[1]=0,o[2]="application/octet-stream"),{name:o[0],size:o[1],type:o[2]}},"createFileStub"),Nn=i(function(r){return!!(r instanceof File||r instanceof Blob&&r.name)},"isFile"),Lm=i(function c(r){if(!nt(r))return r;var o=wn(r)?[]:{};for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];o[s]=u&&nt(u)?c(u):u}return o},"deepCloneObject"),Cm=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=O(),p={archived:!1,frozen:!1,released:!1,source:null,file:s,serverFileReference:o,transferId:null,processingAborted:!1,status:o?ge.PROCESSING_COMPLETE:ge.INIT,activeLoader:null,activeProcessor:null},h=null,m={},g=i(function(ne){return p.status=ne},"setStatus"),y=i(function(ne){if(!(p.released||p.frozen)){for(var se=arguments.length,K=new Array(se>1?se-1:0),J=1;J<se;J++)K[J-1]=arguments[J];Pe.fire.apply(Pe,[ne].concat(K))}},"fire"),I=i(function(){return fo(p.file.name)},"getFileExtension"),S=i(function(){return p.file.type},"getFileType"),x=i(function(){return p.file.size},"getFileSize"),F=i(function(){return p.file},"getFile"),k=i(function(ne,se,K){if(p.source=ne,Pe.fireSync("init"),p.file){Pe.fireSync("load-skip");return}p.file=Rm(ne),se.on("init",function(){y("load-init")}),se.on("meta",function(J){p.file.size=J.size,p.file.filename=J.filename,J.source&&(r=lt.LIMBO,p.serverFileReference=J.source,p.status=ge.PROCESSING_COMPLETE),y("load-meta")}),se.on("progress",function(J){g(ge.LOADING),y("load-progress",J)}),se.on("error",function(J){g(ge.LOAD_ERROR),y("load-request-error",J)}),se.on("abort",function(){g(ge.INIT),y("load-abort")}),se.on("load",function(J){p.activeLoader=null;var le=i(function(ue){p.file=Nn(ue)?ue:p.file,r===lt.LIMBO&&p.serverFileReference?g(ge.PROCESSING_COMPLETE):g(ge.IDLE),y("load")},"success"),Fe=i(function(ue){p.file=J,y("load-meta"),g(ge.LOAD_ERROR),y("load-file-error",ue)},"error");if(p.serverFileReference){le(J);return}K(J,le,Fe)}),se.setSource(ne),p.activeLoader=se,se.load()},"load"),G=i(function(){p.activeLoader&&p.activeLoader.load()},"retryLoad"),N=i(function(){if(p.activeLoader){p.activeLoader.abort();return}g(ge.INIT),y("load-abort")},"abortLoad"),q=i(function $(ne,se){if(p.processingAborted){p.processingAborted=!1;return}if(g(ge.PROCESSING),h=null,!(p.file instanceof Blob)){Pe.on("load",function(){$(ne,se)});return}ne.on("load",function(le){p.transferId=null,p.serverFileReference=le}),ne.on("transfer",function(le){p.transferId=le}),ne.on("load-perceived",function(le){p.activeProcessor=null,p.transferId=null,p.serverFileReference=le,g(ge.PROCESSING_COMPLETE),y("process-complete",le)}),ne.on("start",function(){y("process-start")}),ne.on("error",function(le){p.activeProcessor=null,g(ge.PROCESSING_ERROR),y("process-error",le)}),ne.on("abort",function(le){p.activeProcessor=null,p.serverFileReference=le,g(ge.IDLE),y("process-abort"),h&&h()}),ne.on("progress",function(le){y("process-progress",le)});var K=i(function(Fe){p.archived||ne.process(Fe,Object.assign({},m))},"success"),J=console.error;se(p.file,K,J),p.activeProcessor=ne},"process"),Q=i(function(){p.processingAborted=!1,g(ge.PROCESSING_QUEUED)},"requestProcessing"),te=i(function(){return new Promise(function(ne){if(!p.activeProcessor){p.processingAborted=!0,g(ge.IDLE),y("process-abort"),ne();return}h=i(function(){ne()},"abortProcessingRequestComplete"),p.activeProcessor.abort()})},"abortProcessing"),j=i(function(ne,se){return new Promise(function(K,J){var le=p.serverFileReference!==null?p.serverFileReference:p.transferId;if(le===null){K();return}ne(le,function(){p.serverFileReference=null,p.transferId=null,K()},function(Fe){if(!se){K();return}g(ge.PROCESSING_REVERT_ERROR),y("process-revert-error"),J(Fe)}),g(ge.IDLE),y("process-revert")})},"revert"),ye=i(function(ne,se,K){var J=ne.split("."),le=J[0],Fe=J.pop(),Ce=m;J.forEach(function(ue){return Ce=Ce[ue]}),JSON.stringify(Ce[Fe])!==JSON.stringify(se)&&(Ce[Fe]=se,y("metadata-update",{key:le,value:m[le],silent:K}))},"setMetadata"),W=i(function(ne){return Lm(ne?m[ne]:m)},"getMetadata"),Pe=Object.assign({id:{get:i(function(){return u},"get")},origin:{get:i(function(){return r},"get"),set:i(function(ne){return r=ne},"set")},serverId:{get:i(function(){return p.serverFileReference},"get")},transferId:{get:i(function(){return p.transferId},"get")},status:{get:i(function(){return p.status},"get")},filename:{get:i(function(){return p.file.name},"get")},filenameWithoutExtension:{get:i(function(){return ju(p.file.name)},"get")},fileExtension:{get:I},fileType:{get:S},fileSize:{get:x},file:{get:F},relativePath:{get:i(function(){return p.file._relativePath},"get")},source:{get:i(function(){return p.source},"get")},getMetadata:W,setMetadata:i(function(ne,se,K){if(nt(ne)){var J=ne;return Object.keys(J).forEach(function(le){ye(le,J[le],se)}),ne}return ye(ne,se,K),se},"setMetadata"),extend:i(function(ne,se){return Ne[ne]=se},"extend"),abortLoad:N,retryLoad:G,requestProcessing:Q,abortProcessing:te,load:k,process:q,revert:j},lo(),{freeze:i(function(){return p.frozen=!0},"freeze"),release:i(function(){return p.released=!0},"release"),released:{get:i(function(){return p.released},"get")},archive:i(function(){return p.archived=!0},"archive"),archived:{get:i(function(){return p.archived},"get")},setFile:i(function(ne){return p.file=ne},"setFile")}),Ne=f(Pe);return Ne},"createItem"),Mm=i(function(r,o){return Tt(o)?0:pt(o)?r.findIndex(function(s){return s.id===o}):-1},"getItemIndexByQuery"),Wu=i(function(r,o){var s=Mm(r,o);if(!(s<0))return r[s]||null},"getItemById"),Ku=i(function(r,o,s,u,p,h){var m=Mn(null,r,{method:"GET",responseType:"blob"});return m.onload=function(g){var y=g.getAllResponseHeaders(),I=ws(y).name||Yr(r);o(et("load",g.status,ur(g.response,I),y))},m.onerror=function(g){s(et("error",g.status,g.statusText,g.getAllResponseHeaders()))},m.onheaders=function(g){h(et("headers",g.status,null,g.getAllResponseHeaders()))},m.ontimeout=Pn(s),m.onprogress=u,m.onabort=p,m},"fetchBlob"),$u=i(function(r){return r.indexOf("//")===0&&(r=location.protocol+r),r.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},"getDomainFromURL"),Pm=i(function(r){return(r.indexOf(":")>-1||r.indexOf("//")>-1)&&$u(location.href)!==$u(r)},"isExternalURL"),po=i(function(r){return function(){return Kt(r)?r.apply(void 0,arguments):r}},"dynamicLabel"),Nm=i(function(r){return!Nn(r.file)},"isMockItem"),Ls=i(function(r,o){clearTimeout(o.listUpdateTimeout),o.listUpdateTimeout=setTimeout(function(){r("DID_UPDATE_ITEMS",{items:Yt(o.items)})},0)},"listUpdated"),Xu=i(function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];return new Promise(function(p){if(!r)return p(!0);var h=r.apply(void 0,s);if(h==null)return p(!0);if(typeof h=="boolean")return p(h);typeof h.then=="function"&&h.then(p)})},"optionalPromise"),Cs=i(function(r,o){r.items.sort(function(s,u){return o(At(s),At(u))})},"sortItems"),Nt=i(function(r,o){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.query,p=s.success,h=p===void 0?function(){}:p,m=s.failure,g=m===void 0?function(){}:m,y=Uh(s,["query","success","failure"]),I=Cn(r.items,u);if(!I){g({error:et("error",0,"Item not found"),file:null});return}o(I,h,g,y||{})}},"getItemByQueryFromState"),Fm=i(function(r,o,s){return{ABORT_ALL:i(function(){Yt(s.items).forEach(function(p){p.freeze(),p.abortLoad(),p.abortProcessing()})},"ABORT_ALL"),DID_SET_FILES:i(function(p){var h=p.value,m=h===void 0?[]:h,g=m.map(function(I){return{source:I.source?I.source:I,options:I.options}}),y=Yt(s.items);y.forEach(function(I){g.find(function(S){return S.source===I.source||S.source===I.file})||r("REMOVE_ITEM",{query:I,remove:!1})}),y=Yt(s.items),g.forEach(function(I,S){y.find(function(x){return x.source===I.source||x.file===I.source})||r("ADD_ITEM",Object.assign({},I,{interactionMethod:T.NONE,index:S}))})},"DID_SET_FILES"),DID_UPDATE_ITEM_METADATA:i(function(p){var h=p.id,m=p.action,g=p.change;g.silent||(clearTimeout(s.itemUpdateTimeout),s.itemUpdateTimeout=setTimeout(function(){var y=Wu(s.items,h);if(!o("IS_ASYNC")){Ht("SHOULD_PREPARE_OUTPUT",!1,{item:y,query:o,action:m,change:g}).then(function(F){var k=o("GET_BEFORE_PREPARE_FILE");k&&(F=k(y,F)),F&&r("REQUEST_PREPARE_OUTPUT",{query:h,item:y,success:i(function(N){r("DID_PREPARE_OUTPUT",{id:h,file:N})},"success")},!0)});return}y.origin===lt.LOCAL&&r("DID_LOAD_ITEM",{id:y.id,error:null,serverFileReference:y.source});var I=i(function(){setTimeout(function(){r("REQUEST_ITEM_PROCESSING",{query:h})},32)},"upload"),S=i(function(k){y.revert(jr(s.options.server.url,s.options.server.revert),o("GET_FORCE_REVERT")).then(k?I:function(){}).catch(function(){})},"revert"),x=i(function(k){y.abortProcessing().then(k?I:function(){})},"abort");if(y.status===ge.PROCESSING_COMPLETE)return S(s.options.instantUpload);if(y.status===ge.PROCESSING)return x(s.options.instantUpload);s.options.instantUpload&&I()},0))},"DID_UPDATE_ITEM_METADATA"),MOVE_ITEM:i(function(p){var h=p.query,m=p.index,g=Cn(s.items,h);if(g){var y=s.items.indexOf(g);m=Vu(m,0,s.items.length-1),y!==m&&s.items.splice(m,0,s.items.splice(y,1)[0])}},"MOVE_ITEM"),SORT:i(function(p){var h=p.compare;Cs(s,h),r("DID_SORT_ITEMS",{items:o("GET_ACTIVE_ITEMS")})},"SORT"),ADD_ITEMS:i(function(p){var h=p.items,m=p.index,g=p.interactionMethod,y=p.success,I=y===void 0?function(){}:y,S=p.failure,x=S===void 0?function(){}:S,F=m;if(m===-1||typeof m>"u"){var k=o("GET_ITEM_INSERT_LOCATION"),G=o("GET_TOTAL_ITEMS");F=k==="before"?0:G}var N=o("GET_IGNORED_FILES"),q=i(function(ye){return Nn(ye)?!N.includes(ye.name.toLowerCase()):!Tt(ye)},"isValidFile"),Q=h.filter(q),te=Q.map(function(j){return new Promise(function(ye,W){r("ADD_ITEM",{interactionMethod:g,source:j.source||j,success:ye,failure:W,index:F++,options:j.options||{}})})});Promise.all(te).then(I).catch(x)},"ADD_ITEMS"),ADD_ITEM:i(function(p){var h=p.source,m=p.index,g=m===void 0?-1:m,y=p.interactionMethod,I=p.success,S=I===void 0?function(){}:I,x=p.failure,F=x===void 0?function(){}:x,k=p.options,G=k===void 0?{}:k;if(Tt(h)){F({error:et("error",0,"No source"),file:null});return}if(!(Nn(h)&&s.options.ignoredFiles.includes(h.name.toLowerCase()))){if(!dm(s)){if(s.options.allowMultiple||!s.options.allowMultiple&&!s.options.allowReplace){var N=et("warning",0,"Max files");r("DID_THROW_MAX_FILES",{source:h,error:N}),F({error:N,file:null});return}var q=Yt(s.items)[0];if(q.status===ge.PROCESSING_COMPLETE||q.status===ge.PROCESSING_REVERT_ERROR){var Q=o("GET_FORCE_REVERT");if(q.revert(jr(s.options.server.url,s.options.server.revert),Q).then(function(){Q&&r("ADD_ITEM",{source:h,index:g,interactionMethod:y,success:S,failure:F,options:G})}).catch(function(){}),Q)return}r("REMOVE_ITEM",{query:q.id})}var te=G.type==="local"?lt.LOCAL:G.type==="limbo"?lt.LIMBO:lt.INPUT,j=Cm(te,te===lt.INPUT?null:h,G.file);Object.keys(G.metadata||{}).forEach(function(K){j.setMetadata(K,G.metadata[K])}),Ln("DID_CREATE_ITEM",j,{query:o,dispatch:r});var ye=o("GET_ITEM_INSERT_LOCATION");s.options.itemInsertLocationFreedom||(g=ye==="before"?-1:s.items.length),pm(s.items,j,g),Kt(ye)&&h&&Cs(s,ye);var W=j.id;j.on("init",function(){r("DID_INIT_ITEM",{id:W})}),j.on("load-init",function(){r("DID_START_ITEM_LOAD",{id:W})}),j.on("load-meta",function(){r("DID_UPDATE_ITEM_META",{id:W})}),j.on("load-progress",function(K){r("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:W,progress:K})}),j.on("load-request-error",function(K){var J=po(s.options.labelFileLoadError)(K);if(K.code>=400&&K.code<500){r("DID_THROW_ITEM_INVALID",{id:W,error:K,status:{main:J,sub:K.code+" ("+K.body+")"}}),F({error:K,file:At(j)});return}r("DID_THROW_ITEM_LOAD_ERROR",{id:W,error:K,status:{main:J,sub:s.options.labelTapToRetry}})}),j.on("load-file-error",function(K){r("DID_THROW_ITEM_INVALID",{id:W,error:K.status,status:K.status}),F({error:K.status,file:At(j)})}),j.on("load-abort",function(){r("REMOVE_ITEM",{query:W})}),j.on("load-skip",function(){j.on("metadata-update",function(K){Nn(j.file)&&r("DID_UPDATE_ITEM_METADATA",{id:W,change:K})}),r("COMPLETE_LOAD_ITEM",{query:W,item:j,data:{source:h,success:S}})}),j.on("load",function(){var K=i(function(le){if(!le){r("REMOVE_ITEM",{query:W});return}j.on("metadata-update",function(Fe){r("DID_UPDATE_ITEM_METADATA",{id:W,change:Fe})}),Ht("SHOULD_PREPARE_OUTPUT",!1,{item:j,query:o}).then(function(Fe){var Ce=o("GET_BEFORE_PREPARE_FILE");Ce&&(Fe=Ce(j,Fe));var ue=i(function(){r("COMPLETE_LOAD_ITEM",{query:W,item:j,data:{source:h,success:S}}),Ls(r,s)},"loadComplete");if(Fe){r("REQUEST_PREPARE_OUTPUT",{query:W,item:j,success:i(function(C){r("DID_PREPARE_OUTPUT",{id:W,file:C}),ue()},"success")},!0);return}ue()})},"handleAdd");Ht("DID_LOAD_ITEM",j,{query:o,dispatch:r}).then(function(){Xu(o("GET_BEFORE_ADD_FILE"),At(j)).then(K)}).catch(function(J){if(!J||!J.error||!J.status)return K(!1);r("DID_THROW_ITEM_INVALID",{id:W,error:J.error,status:J.status})})}),j.on("process-start",function(){r("DID_START_ITEM_PROCESSING",{id:W})}),j.on("process-progress",function(K){r("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:W,progress:K})}),j.on("process-error",function(K){r("DID_THROW_ITEM_PROCESSING_ERROR",{id:W,error:K,status:{main:po(s.options.labelFileProcessingError)(K),sub:s.options.labelTapToRetry}})}),j.on("process-revert-error",function(K){r("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:W,error:K,status:{main:po(s.options.labelFileProcessingRevertError)(K),sub:s.options.labelTapToRetry}})}),j.on("process-complete",function(K){r("DID_COMPLETE_ITEM_PROCESSING",{id:W,error:null,serverFileReference:K}),r("DID_DEFINE_VALUE",{id:W,value:K})}),j.on("process-abort",function(){r("DID_ABORT_ITEM_PROCESSING",{id:W})}),j.on("process-revert",function(){r("DID_REVERT_ITEM_PROCESSING",{id:W}),r("DID_DEFINE_VALUE",{id:W,value:null})}),r("DID_ADD_ITEM",{id:W,index:g,interactionMethod:y}),Ls(r,s);var Pe=s.options.server||{},Ne=Pe.url,$=Pe.load,ne=Pe.restore,se=Pe.fetch;j.load(h,Am(te===lt.INPUT?pt(h)&&Pm(h)&&se?Rs(Ne,se):Ku:te===lt.LIMBO?Rs(Ne,ne):Rs(Ne,$)),function(K,J,le){Ht("LOAD_FILE",K,{query:o}).then(J).catch(le)})}},"ADD_ITEM"),REQUEST_PREPARE_OUTPUT:i(function(p){var h=p.item,m=p.success,g=p.failure,y=g===void 0?function(){}:g,I={error:et("error",0,"Item not found"),file:null};if(h.archived)return y(I);Ht("PREPARE_OUTPUT",h.file,{query:o,item:h}).then(function(S){Ht("COMPLETE_PREPARE_OUTPUT",S,{query:o,item:h}).then(function(x){if(h.archived)return y(I);m(x)})})},"REQUEST_PREPARE_OUTPUT"),COMPLETE_LOAD_ITEM:i(function(p){var h=p.item,m=p.data,g=m.success,y=m.source,I=o("GET_ITEM_INSERT_LOCATION");if(Kt(I)&&y&&Cs(s,I),r("DID_LOAD_ITEM",{id:h.id,error:null,serverFileReference:h.origin===lt.INPUT?null:y}),g(At(h)),h.origin===lt.LOCAL){r("DID_LOAD_LOCAL_ITEM",{id:h.id});return}if(h.origin===lt.LIMBO){r("DID_COMPLETE_ITEM_PROCESSING",{id:h.id,error:null,serverFileReference:y}),r("DID_DEFINE_VALUE",{id:h.id,value:h.serverId||y});return}o("IS_ASYNC")&&s.options.instantUpload&&r("REQUEST_ITEM_PROCESSING",{query:h.id})},"COMPLETE_LOAD_ITEM"),RETRY_ITEM_LOAD:Nt(s,function(u){u.retryLoad()}),REQUEST_ITEM_PREPARE:Nt(s,function(u,p,h){r("REQUEST_PREPARE_OUTPUT",{query:u.id,item:u,success:i(function(g){r("DID_PREPARE_OUTPUT",{id:u.id,file:g}),p({file:u,output:g})},"success"),failure:h},!0)}),REQUEST_ITEM_PROCESSING:Nt(s,function(u,p,h){var m=u.status===ge.IDLE||u.status===ge.PROCESSING_ERROR;if(!m){var g=i(function(){return r("REQUEST_ITEM_PROCESSING",{query:u,success:p,failure:h})},"processNow"),y=i(function(){return document.hidden?g():setTimeout(g,32)},"process");u.status===ge.PROCESSING_COMPLETE||u.status===ge.PROCESSING_REVERT_ERROR?u.revert(jr(s.options.server.url,s.options.server.revert),o("GET_FORCE_REVERT")).then(y).catch(function(){}):u.status===ge.PROCESSING&&u.abortProcessing().then(y);return}u.status!==ge.PROCESSING_QUEUED&&(u.requestProcessing(),r("DID_REQUEST_ITEM_PROCESSING",{id:u.id}),r("PROCESS_ITEM",{query:u,success:p,failure:h},!0))}),PROCESS_ITEM:Nt(s,function(u,p,h){var m=o("GET_MAX_PARALLEL_UPLOADS"),g=o("GET_ITEMS_BY_STATUS",ge.PROCESSING).length;if(g===m){s.processingQueue.push({id:u.id,success:p,failure:h});return}if(u.status!==ge.PROCESSING){var y=i(function S(){var x=s.processingQueue.shift();if(x){var F=x.id,k=x.success,G=x.failure,N=Cn(s.items,F);if(!N||N.archived){S();return}r("PROCESS_ITEM",{query:F,success:k,failure:G},!0)}},"processNext");u.onOnce("process-complete",function(){p(At(u)),y();var S=s.options.server,x=s.options.instantUpload;if(x&&u.origin===lt.LOCAL&&Kt(S.remove)){var F=i(function(){},"noop");u.origin=lt.LIMBO,s.options.server.remove(u.source,F,F)}var k=o("GET_ITEMS_BY_STATUS",ge.PROCESSING_COMPLETE).length===s.items.length;k&&r("DID_COMPLETE_ITEM_PROCESSING_ALL")}),u.onOnce("process-error",function(S){h({error:S,file:At(u)}),y()});var I=s.options;u.process(wm(xm(I.server.url,I.server.process,I.name,{chunkTransferId:u.transferId,chunkServer:I.server.patch,chunkUploads:I.chunkUploads,chunkForce:I.chunkForce,chunkSize:I.chunkSize,chunkRetryDelays:I.chunkRetryDelays}),{allowMinimumUploadDuration:o("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(S,x,F){Ht("PREPARE_OUTPUT",S,{query:o,item:u}).then(function(k){r("DID_PREPARE_OUTPUT",{id:u.id,file:k}),x(k)}).catch(F)})}}),RETRY_ITEM_PROCESSING:Nt(s,function(u){r("REQUEST_ITEM_PROCESSING",{query:u})}),REQUEST_REMOVE_ITEM:Nt(s,function(u){Xu(o("GET_BEFORE_REMOVE_FILE"),At(u)).then(function(p){p&&r("REMOVE_ITEM",{query:u})})}),RELEASE_ITEM:Nt(s,function(u){u.release()}),REMOVE_ITEM:Nt(s,function(u,p,h,m){var g=i(function(){var S=u.id;Wu(s.items,S).archive(),r("DID_REMOVE_ITEM",{error:null,id:S,item:u}),Ls(r,s),p(At(u))},"removeFromView"),y=s.options.server;u.origin===lt.LOCAL&&y&&Kt(y.remove)&&m.remove!==!1?(r("DID_START_ITEM_REMOVE",{id:u.id}),y.remove(u.source,function(){return g()},function(I){r("DID_THROW_ITEM_REMOVE_ERROR",{id:u.id,error:et("error",0,I,null),status:{main:po(s.options.labelFileRemoveError)(I),sub:s.options.labelTapToRetry}})})):((m.revert&&u.origin!==lt.LOCAL&&u.serverId!==null||s.options.chunkUploads&&u.file.size>s.options.chunkSize||s.options.chunkUploads&&s.options.chunkForce)&&u.revert(jr(s.options.server.url,s.options.server.revert),o("GET_FORCE_REVERT")),g())}),ABORT_ITEM_LOAD:Nt(s,function(u){u.abortLoad()}),ABORT_ITEM_PROCESSING:Nt(s,function(u){if(u.serverId){r("REVERT_ITEM_PROCESSING",{id:u.id});return}u.abortProcessing().then(function(){var p=s.options.instantUpload;p&&r("REMOVE_ITEM",{query:u.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Nt(s,function(u){if(!s.options.instantUpload){r("REVERT_ITEM_PROCESSING",{query:u});return}var p=i(function(y){y&&r("REVERT_ITEM_PROCESSING",{query:u})},"handleRevert"),h=o("GET_BEFORE_REMOVE_FILE");if(!h)return p(!0);var m=h(At(u));if(m==null)return p(!0);if(typeof m=="boolean")return p(m);typeof m.then=="function"&&m.then(p)}),REVERT_ITEM_PROCESSING:Nt(s,function(u){u.revert(jr(s.options.server.url,s.options.server.revert),o("GET_FORCE_REVERT")).then(function(){var p=s.options.instantUpload||Nm(u);p&&r("REMOVE_ITEM",{query:u.id})}).catch(function(){})}),SET_OPTIONS:i(function(p){var h=p.options,m=Object.keys(h),g=Um.filter(function(I){return m.includes(I)}),y=[].concat(so(g),so(Object.keys(h).filter(function(I){return!g.includes(I)})));y.forEach(function(I){r("SET_"+It(I,"_").toUpperCase(),{value:h[I]})})},"SET_OPTIONS")}},"actions"),Um=["server"],Ms=i(function(r){return r},"formatFilename"),rn=i(function(r){return document.createElement(r)},"createElement"),tt=i(function(r,o){var s=r.childNodes[0];s?o!==s.nodeValue&&(s.nodeValue=o):(s=document.createTextNode(o),r.appendChild(s))},"text"),Qu=i(function(r,o,s,u){var p=(u%360-90)*Math.PI/180;return{x:r+s*Math.cos(p),y:o+s*Math.sin(p)}},"polarToCartesian"),Bm=i(function(r,o,s,u,p,h){var m=Qu(r,o,s,p),g=Qu(r,o,s,u);return["M",m.x,m.y,"A",s,s,0,h,0,g.x,g.y].join(" ")},"describeArc"),Vm=i(function(r,o,s,u,p){var h=1;return p>u&&p-u<=.5&&(h=0),u>p&&u-p>=.5&&(h=0),Bm(r,o,s,Math.min(.9999,u)*360,Math.min(.9999,p)*360,h)},"percentageArc"),km=i(function(r){var o=r.root,s=r.props;s.spin=!1,s.progress=0,s.opacity=0;var u=A("svg");o.ref.path=A("path",{"stroke-width":2,"stroke-linecap":"round"}),u.appendChild(o.ref.path),o.ref.svg=u,o.appendChild(u)},"create"),Gm=i(function(r){var o=r.root,s=r.props;if(s.opacity!==0){s.align&&(o.element.dataset.align=s.align);var u=parseInt(d(o.ref.path,"stroke-width"),10),p=o.rect.element.width*.5,h=0,m=0;s.spin?(h=0,m=.5):(h=0,m=s.progress);var g=Vm(p,p,p-u,h,m);d(o.ref.path,"d",g),d(o.ref.path,"stroke-opacity",s.spin||s.progress>0?1:0)}},"write"),Ju=ze({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:km,write:Gm,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Hm=i(function(r){var o=r.root,s=r.props;o.element.innerHTML=(s.icon||"")+("<span>"+s.label+"</span>"),s.isDisabled=!1},"create"),Ym=i(function(r){var o=r.root,s=r.props,u=s.isDisabled,p=o.query("GET_DISABLED")||s.opacity===0;p&&!u?(s.isDisabled=!0,d(o.element,"disabled","disabled")):!p&&u&&(s.isDisabled=!1,o.element.removeAttribute("disabled"))},"write"),Zu=ze({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Hm,write:Ym}),ec=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=u.labelBytes,h=p===void 0?"bytes":p,m=u.labelKilobytes,g=m===void 0?"KB":m,y=u.labelMegabytes,I=y===void 0?"MB":y,S=u.labelGigabytes,x=S===void 0?"GB":S;r=Math.round(Math.abs(r));var F=s,k=s*s,G=s*s*s;return r<F?r+" "+h:r<k?Math.floor(r/F)+" "+g:r<G?tc(r/k,1,o)+" "+I:tc(r/G,2,o)+" "+x},"toNaturalFileSize"),tc=i(function(r,o,s){return r.toFixed(o).split(".").filter(function(u){return u!=="0"}).join(s)},"removeDecimalsWhenZero"),qm=i(function(r){var o=r.root,s=r.props,u=rn("span");u.className="filepond--file-info-main",d(u,"aria-hidden","true"),o.appendChild(u),o.ref.fileName=u;var p=rn("span");p.className="filepond--file-info-sub",o.appendChild(p),o.ref.fileSize=p,tt(p,o.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),tt(u,Ms(o.query("GET_ITEM_NAME",s.id)))},"create"),Ps=i(function(r){var o=r.root,s=r.props;tt(o.ref.fileSize,ec(o.query("GET_ITEM_SIZE",s.id),".",o.query("GET_FILE_SIZE_BASE"),o.query("GET_FILE_SIZE_LABELS",o.query))),tt(o.ref.fileName,Ms(o.query("GET_ITEM_NAME",s.id)))},"updateFile"),nc=i(function(r){var o=r.root,s=r.props;if(tn(o.query("GET_ITEM_SIZE",s.id))){Ps({root:o,props:s});return}tt(o.ref.fileSize,o.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},"updateFileSizeOnError"),zm=ze({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:$e({DID_LOAD_ITEM:Ps,DID_UPDATE_ITEM_META:Ps,DID_THROW_ITEM_LOAD_ERROR:nc,DID_THROW_ITEM_INVALID:nc}),didCreateView:i(function(r){Ln("CREATE_VIEW",Object.assign({},r,{view:r}))},"didCreateView"),create:qm,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),rc=i(function(r){return Math.round(r*100)},"toPercentage"),jm=i(function(r){var o=r.root,s=rn("span");s.className="filepond--file-status-main",o.appendChild(s),o.ref.main=s;var u=rn("span");u.className="filepond--file-status-sub",o.appendChild(u),o.ref.sub=u,ic({root:o,action:{progress:null}})},"create"),ic=i(function(r){var o=r.root,s=r.action,u=s.progress===null?o.query("GET_LABEL_FILE_LOADING"):o.query("GET_LABEL_FILE_LOADING")+" "+rc(s.progress)+"%";tt(o.ref.main,u),tt(o.ref.sub,o.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemLoadProgress"),Wm=i(function(r){var o=r.root,s=r.action,u=s.progress===null?o.query("GET_LABEL_FILE_PROCESSING"):o.query("GET_LABEL_FILE_PROCESSING")+" "+rc(s.progress)+"%";tt(o.ref.main,u),tt(o.ref.sub,o.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemProcessProgress"),Km=i(function(r){var o=r.root;tt(o.ref.main,o.query("GET_LABEL_FILE_PROCESSING")),tt(o.ref.sub,o.query("GET_LABEL_TAP_TO_CANCEL"))},"didRequestItemProcessing"),$m=i(function(r){var o=r.root;tt(o.ref.main,o.query("GET_LABEL_FILE_PROCESSING_ABORTED")),tt(o.ref.sub,o.query("GET_LABEL_TAP_TO_RETRY"))},"didAbortItemProcessing"),Xm=i(function(r){var o=r.root;tt(o.ref.main,o.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),tt(o.ref.sub,o.query("GET_LABEL_TAP_TO_UNDO"))},"didCompleteItemProcessing"),oc=i(function(r){var o=r.root;tt(o.ref.main,""),tt(o.ref.sub,"")},"clear"),Wr=i(function(r){var o=r.root,s=r.action;tt(o.ref.main,s.status.main),tt(o.ref.sub,s.status.sub)},"error"),Qm=ze({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:$e({DID_LOAD_ITEM:oc,DID_REVERT_ITEM_PROCESSING:oc,DID_REQUEST_ITEM_PROCESSING:Km,DID_ABORT_ITEM_PROCESSING:$m,DID_COMPLETE_ITEM_PROCESSING:Xm,DID_UPDATE_ITEM_PROCESS_PROGRESS:Wm,DID_UPDATE_ITEM_LOAD_PROGRESS:ic,DID_THROW_ITEM_LOAD_ERROR:Wr,DID_THROW_ITEM_INVALID:Wr,DID_THROW_ITEM_PROCESSING_ERROR:Wr,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Wr,DID_THROW_ITEM_REMOVE_ERROR:Wr}),didCreateView:i(function(r){Ln("CREATE_VIEW",Object.assign({},r,{view:r}))},"didCreateView"),create:jm,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ns={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Fs=[];l(Ns,function(c){Fs.push(c)});var Lt=i(function(r){if(Us(r)==="right")return 0;var o=r.ref.buttonRemoveItem.rect.element;return o.hidden?null:o.width+o.left},"calculateFileInfoOffset"),Jm=i(function(r){var o=r.ref.buttonAbortItemLoad.rect.element;return o.width},"calculateButtonWidth"),ho=i(function(r){return Math.floor(r.ref.buttonRemoveItem.rect.element.height/4)},"calculateFileVerticalCenterOffset"),Zm=i(function(r){return Math.floor(r.ref.buttonRemoveItem.rect.element.left/2)},"calculateFileHorizontalCenterOffset"),e1=i(function(r){return r.query("GET_STYLE_LOAD_INDICATOR_POSITION")},"getLoadIndicatorAlignment"),t1=i(function(r){return r.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},"getProcessIndicatorAlignment"),Us=i(function(r){return r.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},"getRemoveIndicatorAligment"),n1={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:e1},processProgressIndicator:{opacity:0,align:t1},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ac={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Lt},status:{translateX:Lt}},Bs={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},cr={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{translateX:Lt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Us},info:{translateX:Lt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Us},buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{opacity:1,translateX:Lt}},DID_LOAD_ITEM:ac,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{translateX:Lt}},DID_START_ITEM_PROCESSING:Bs,DID_REQUEST_ITEM_PROCESSING:Bs,DID_UPDATE_ITEM_PROCESS_PROGRESS:Bs,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Lt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Lt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ac},r1=ze({create:i(function(r){var o=r.root;o.element.innerHTML=o.query("GET_ICON_DONE")},"create"),name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),i1=i(function(r){var o=r.root,s=r.props,u=Object.keys(Ns).reduce(function(Q,te){return Q[te]=Object.assign({},Ns[te]),Q},{}),p=s.id,h=o.query("GET_ALLOW_REVERT"),m=o.query("GET_ALLOW_REMOVE"),g=o.query("GET_ALLOW_PROCESS"),y=o.query("GET_INSTANT_UPLOAD"),I=o.query("IS_ASYNC"),S=o.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),x;I?g&&!h?x=i(function(te){return!/RevertItemProcessing/.test(te)},"buttonFilter"):!g&&h?x=i(function(te){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(te)},"buttonFilter"):!g&&!h&&(x=i(function(te){return!/Process/.test(te)},"buttonFilter")):x=i(function(te){return!/Process/.test(te)},"buttonFilter");var F=x?Fs.filter(x):Fs.concat();if(y&&h&&(u.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",u.RevertItemProcessing.icon="GET_ICON_REMOVE"),I&&!h){var k=cr.DID_COMPLETE_ITEM_PROCESSING;k.info.translateX=Zm,k.info.translateY=ho,k.status.translateY=ho,k.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(I&&!g&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(Q){cr[Q].status.translateY=ho}),cr.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Jm),S&&h){u.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var G=cr.DID_COMPLETE_ITEM_PROCESSING;G.info.translateX=Lt,G.status.translateY=ho,G.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}m||(u.RemoveItem.disabled=!0),l(u,function(Q,te){var j=o.createChildView(Zu,{label:o.query(te.label),icon:o.query(te.icon),opacity:0});F.includes(Q)&&o.appendChildView(j),te.disabled&&(j.element.setAttribute("disabled","disabled"),j.element.setAttribute("hidden","hidden")),j.element.dataset.align=o.query("GET_STYLE_"+te.align),j.element.classList.add(te.className),j.on("click",function(ye){ye.stopPropagation(),!te.disabled&&o.dispatch(te.action,{query:p})}),o.ref["button"+Q]=j}),o.ref.processingCompleteIndicator=o.appendChildView(o.createChildView(r1)),o.ref.processingCompleteIndicator.element.dataset.align=o.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),o.ref.info=o.appendChildView(o.createChildView(zm,{id:p})),o.ref.status=o.appendChildView(o.createChildView(Qm,{id:p}));var N=o.appendChildView(o.createChildView(Ju,{opacity:0,align:o.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));N.element.classList.add("filepond--load-indicator"),o.ref.loadProgressIndicator=N;var q=o.appendChildView(o.createChildView(Ju,{opacity:0,align:o.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));q.element.classList.add("filepond--process-indicator"),o.ref.processProgressIndicator=q,o.ref.activeStyles=[]},"create"),o1=i(function(r){var o=r.root,s=r.actions,u=r.props;a1({root:o,actions:s,props:u});var p=s.concat().filter(function(m){return/^DID_/.test(m.type)}).reverse().find(function(m){return cr[m.type]});if(p){o.ref.activeStyles=[];var h=cr[p.type];l(n1,function(m,g){var y=o.ref[m];l(g,function(I,S){var x=h[m]&&typeof h[m][I]<"u"?h[m][I]:S;o.ref.activeStyles.push({control:y,key:I,value:x})})})}o.ref.activeStyles.forEach(function(m){var g=m.control,y=m.key,I=m.value;g[y]=typeof I=="function"?I(o):I})},"write"),a1=$e({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:i(function(r){var o=r.root,s=r.action;o.ref.buttonAbortItemProcessing.label=s.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING"),DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:i(function(r){var o=r.root,s=r.action;o.ref.buttonAbortItemLoad.label=s.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD"),DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:i(function(r){var o=r.root,s=r.action;o.ref.buttonAbortItemRemoval.label=s.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL"),DID_REQUEST_ITEM_PROCESSING:i(function(r){var o=r.root;o.ref.processProgressIndicator.spin=!0,o.ref.processProgressIndicator.progress=0},"DID_REQUEST_ITEM_PROCESSING"),DID_START_ITEM_LOAD:i(function(r){var o=r.root;o.ref.loadProgressIndicator.spin=!0,o.ref.loadProgressIndicator.progress=0},"DID_START_ITEM_LOAD"),DID_START_ITEM_REMOVE:i(function(r){var o=r.root;o.ref.processProgressIndicator.spin=!0,o.ref.processProgressIndicator.progress=0},"DID_START_ITEM_REMOVE"),DID_UPDATE_ITEM_LOAD_PROGRESS:i(function(r){var o=r.root,s=r.action;o.ref.loadProgressIndicator.spin=!1,o.ref.loadProgressIndicator.progress=s.progress},"DID_UPDATE_ITEM_LOAD_PROGRESS"),DID_UPDATE_ITEM_PROCESS_PROGRESS:i(function(r){var o=r.root,s=r.action;o.ref.processProgressIndicator.spin=!1,o.ref.processProgressIndicator.progress=s.progress},"DID_UPDATE_ITEM_PROCESS_PROGRESS")}),s1=ze({create:i1,write:o1,didCreateView:i(function(r){Ln("CREATE_VIEW",Object.assign({},r,{view:r}))},"didCreateView"),name:"file"}),l1=i(function(r){var o=r.root,s=r.props;o.ref.fileName=rn("legend"),o.appendChild(o.ref.fileName),o.ref.file=o.appendChildView(o.createChildView(s1,{id:s.id})),o.ref.data=!1},"create"),u1=i(function(r){var o=r.root,s=r.props;tt(o.ref.fileName,Ms(o.query("GET_ITEM_NAME",s.id)))},"didLoadItem"),c1=ze({create:l1,ignoreRect:!0,write:$e({DID_LOAD_ITEM:u1}),didCreateView:i(function(r){Ln("CREATE_VIEW",Object.assign({},r,{view:r}))},"didCreateView"),tag:"fieldset",name:"file-wrapper"}),sc={type:"spring",damping:.6,mass:7},d1=i(function(r){var o=r.root,s=r.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:sc},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:sc},styles:["translateY"]}}].forEach(function(u){f1(o,u,s.name)}),o.element.classList.add("filepond--"+s.name),o.ref.scalable=null},"create"),f1=i(function(r,o,s){var u=ze({name:"panel-"+o.name+" filepond--"+s,mixins:o.mixins,ignoreRectUpdate:!0}),p=r.createChildView(u,o.props);r.ref[o.name]=r.appendChildView(p)},"createSection"),p1=i(function(r){var o=r.root,s=r.props;if((o.ref.scalable===null||s.scalable!==o.ref.scalable)&&(o.ref.scalable=$i(s.scalable)?s.scalable:!0,o.element.dataset.scalable=o.ref.scalable),!!s.height){var u=o.ref.top.rect.element,p=o.ref.bottom.rect.element,h=Math.max(u.height+p.height,s.height);o.ref.center.translateY=u.height,o.ref.center.scaleY=(h-u.height-p.height)/100,o.ref.bottom.translateY=h-p.height}},"write"),lc=ze({name:"panel",read:i(function(r){var o=r.root,s=r.props;return s.heightCurrent=o.ref.bottom.translateY},"read"),write:p1,create:d1,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),h1=i(function(r){var o=r.map(function(u){return u.id}),s=void 0;return{setIndex:i(function(p){s=p},"setIndex"),getIndex:i(function(){return s},"getIndex"),getItemIndex:i(function(p){return o.indexOf(p.id)},"getItemIndex")}},"createDragHelper"),uc={type:"spring",stiffness:.75,damping:.45,mass:10},cc="spring",dc={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},m1=i(function(r){var o=r.root,s=r.props;if(o.ref.handleClick=function(p){return o.dispatch("DID_ACTIVATE_ITEM",{id:s.id})},o.element.id="filepond--item-"+s.id,o.element.addEventListener("click",o.ref.handleClick),o.ref.container=o.appendChildView(o.createChildView(c1,{id:s.id})),o.ref.panel=o.appendChildView(o.createChildView(lc,{name:"item-panel"})),o.ref.panel.height=null,s.markedForRemoval=!1,!!o.query("GET_ALLOW_REORDER")){o.element.dataset.dragState="idle";var u=i(function(h){if(h.isPrimary){var m=!1,g={x:h.pageX,y:h.pageY};s.dragOrigin={x:o.translateX,y:o.translateY},s.dragCenter={x:h.offsetX,y:h.offsetY};var y=h1(o.query("GET_ACTIVE_ITEMS"));o.dispatch("DID_GRAB_ITEM",{id:s.id,dragState:y});var I=i(function(G){if(G.isPrimary){G.stopPropagation(),G.preventDefault(),s.dragOffset={x:G.pageX-g.x,y:G.pageY-g.y};var N=s.dragOffset.x*s.dragOffset.x+s.dragOffset.y*s.dragOffset.y;N>16&&!m&&(m=!0,o.element.removeEventListener("click",o.ref.handleClick)),o.dispatch("DID_DRAG_ITEM",{id:s.id,dragState:y})}},"drag"),S=i(function(G){G.isPrimary&&(s.dragOffset={x:G.pageX-g.x,y:G.pageY-g.y},F())},"drop"),x=i(function(){F()},"cancel"),F=i(function(){document.removeEventListener("pointercancel",x),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",S),o.dispatch("DID_DROP_ITEM",{id:s.id,dragState:y}),m&&setTimeout(function(){return o.element.addEventListener("click",o.ref.handleClick)},0)},"reset");document.addEventListener("pointercancel",x),document.addEventListener("pointermove",I),document.addEventListener("pointerup",S)}},"grab");o.element.addEventListener("pointerdown",u)}},"create"),g1=$e({DID_UPDATE_PANEL_HEIGHT:i(function(r){var o=r.root,s=r.action;o.height=s.height},"DID_UPDATE_PANEL_HEIGHT")}),E1=$e({DID_GRAB_ITEM:i(function(r){var o=r.root,s=r.props;s.dragOrigin={x:o.translateX,y:o.translateY}},"DID_GRAB_ITEM"),DID_DRAG_ITEM:i(function(r){var o=r.root;o.element.dataset.dragState="drag"},"DID_DRAG_ITEM"),DID_DROP_ITEM:i(function(r){var o=r.root,s=r.props;s.dragOffset=null,s.dragOrigin=null,o.element.dataset.dragState="drop"},"DID_DROP_ITEM")},function(c){var r=c.root,o=c.actions,s=c.props,u=c.shouldOptimize;r.element.dataset.dragState==="drop"&&r.scaleX<=1&&(r.element.dataset.dragState="idle");var p=o.concat().filter(function(m){return/^DID_/.test(m.type)}).reverse().find(function(m){return dc[m.type]});p&&p.type!==s.currentState&&(s.currentState=p.type,r.element.dataset.filepondItemState=dc[s.currentState]||"");var h=r.query("GET_ITEM_PANEL_ASPECT_RATIO")||r.query("GET_PANEL_ASPECT_RATIO");h?u||(r.height=r.rect.element.width*h):(g1({root:r,actions:o,props:s}),!r.height&&r.ref.container.rect.element.height>0&&(r.height=r.ref.container.rect.element.height)),u&&(r.ref.panel.height=null),r.ref.panel.height=r.height}),v1=ze({create:m1,write:E1,destroy:i(function(r){var o=r.root,s=r.props;o.element.removeEventListener("click",o.ref.handleClick),o.dispatch("RELEASE_ITEM",{query:s.id})},"destroy"),tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:cc,scaleY:cc,translateX:uc,translateY:uc,opacity:{type:"tween",duration:150}}}}),Vs=i(function(c,r){return Math.max(1,Math.floor((c+1)/r))},"getItemsPerRow"),ks=i(function(r,o,s){if(s){var u=r.rect.element.width,p=o.length,h=null;if(p===0||s.top<o[0].rect.element.top)return-1;var m=o[0],g=m.rect.element,y=g.marginLeft+g.marginRight,I=g.width+y,S=Vs(u,I);if(S===1){for(var x=0;x<p;x++){var F=o[x],k=F.rect.outer.top+F.rect.element.height*.5;if(s.top<k)return x}return p}for(var G=g.marginTop+g.marginBottom,N=g.height+G,q=0;q<p;q++){var Q=q%S,te=Math.floor(q/S),j=Q*I,ye=te*N,W=ye-g.marginTop,Pe=j+I,Ne=ye+N+g.marginBottom;if(s.top<Ne&&s.top>W){if(s.left<Pe)return q;q!==p-1?h=q:h=null}}return h!==null?h:p}},"getItemIndexByPosition"),mo={height:0,width:0,get getHeight(){return this.height},set setHeight(c){(this.height===0||c===0)&&(this.height=c)},get getWidth(){return this.width},set setWidth(c){(this.width===0||c===0)&&(this.width=c)},setDimensions:i(function(r,o){(this.height===0||r===0)&&(this.height=r),(this.width===0||o===0)&&(this.width=o)},"setDimensions")},y1=i(function(r){var o=r.root;d(o.element,"role","list"),o.ref.lastItemSpanwDate=Date.now()},"create"),_1=i(function(r){var o=r.root,s=r.action,u=s.id,p=s.index,h=s.interactionMethod;o.ref.addIndex=p;var m=Date.now(),g=m,y=1;if(h!==T.NONE){y=0;var I=o.query("GET_ITEM_INSERT_INTERVAL"),S=m-o.ref.lastItemSpanwDate;g=S<I?m+(I-S):m}o.ref.lastItemSpanwDate=g,o.appendChildView(o.createChildView(v1,{spawnDate:g,id:u,opacity:y,interactionMethod:h}),p)},"addItemView"),fc=i(function(r,o,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;r.dragOffset?(r.translateX=null,r.translateY=null,r.translateX=r.dragOrigin.x+r.dragOffset.x,r.translateY=r.dragOrigin.y+r.dragOffset.y,r.scaleX=1.025,r.scaleY=1.025):(r.translateX=o,r.translateY=s,Date.now()>r.spawnDate&&(r.opacity===0&&T1(r,o,s,u,p),r.scaleX=1,r.scaleY=1,r.opacity=1))},"moveItem"),T1=i(function(r,o,s,u,p){r.interactionMethod===T.NONE?(r.translateX=null,r.translateX=o,r.translateY=null,r.translateY=s):r.interactionMethod===T.DROP?(r.translateX=null,r.translateX=o-u*20,r.translateY=null,r.translateY=s-p*10,r.scaleX=.8,r.scaleY=.8):r.interactionMethod===T.BROWSE?(r.translateY=null,r.translateY=s-30):r.interactionMethod===T.API&&(r.translateX=null,r.translateX=o-30,r.translateY=null)},"introItemView"),I1=i(function(r){var o=r.root,s=r.action,u=s.id,p=o.childViews.find(function(h){return h.id===u});p&&(p.scaleX=.9,p.scaleY=.9,p.opacity=0,p.markedForRemoval=!0)},"removeItemView"),Gs=i(function(r){return r.rect.element.height+r.rect.element.marginBottom*.5+r.rect.element.marginTop*.5},"getItemHeight"),b1=i(function(r){return r.rect.element.width+r.rect.element.marginLeft*.5+r.rect.element.marginRight*.5},"getItemWidth"),A1=i(function(r){var o=r.root,s=r.action,u=s.id,p=s.dragState,h=o.query("GET_ITEM",{id:u}),m=o.childViews.find(function(Q){return Q.id===u}),g=o.childViews.length,y=p.getItemIndex(h);if(m){var I={x:m.dragOrigin.x+m.dragOffset.x+m.dragCenter.x,y:m.dragOrigin.y+m.dragOffset.y+m.dragCenter.y},S=Gs(m),x=b1(m),F=Math.floor(o.rect.outer.width/x);F>g&&(F=g);var k=Math.floor(g/F+1);mo.setHeight=S*k,mo.setWidth=x*F;var G={y:Math.floor(I.y/S),x:Math.floor(I.x/x),getGridIndex:i(function(){return I.y>mo.getHeight||I.y<0||I.x>mo.getWidth||I.x<0?y:this.y*F+this.x},"getGridIndex"),getColIndex:i(function(){for(var te=o.query("GET_ACTIVE_ITEMS"),j=o.childViews.filter(function(le){return le.rect.element.height}),ye=te.map(function(le){return j.find(function(Fe){return Fe.id===le.id})}),W=ye.findIndex(function(le){return le===m}),Pe=Gs(m),Ne=ye.length,$=Ne,ne=0,se=0,K=0,J=0;J<Ne;J++)if(ne=Gs(ye[J]),K=se,se=K+ne,I.y<se){if(W>J){if(I.y<K+Pe){$=J;break}continue}$=J;break}return $},"getColIndex")},N=F>1?G.getGridIndex():G.getColIndex();o.dispatch("MOVE_ITEM",{query:m,index:N});var q=p.getIndex();if(q===void 0||q!==N){if(p.setIndex(N),q===void 0)return;o.dispatch("DID_REORDER_ITEMS",{items:o.query("GET_ACTIVE_ITEMS"),origin:y,target:N})}}},"dragItem"),D1=$e({DID_ADD_ITEM:_1,DID_REMOVE_ITEM:I1,DID_DRAG_ITEM:A1}),S1=i(function(r){var o=r.root,s=r.props,u=r.actions,p=r.shouldOptimize;D1({root:o,props:s,actions:u});var h=s.dragCoordinates,m=o.rect.element.width,g=o.childViews.filter(function($){return $.rect.element.height}),y=o.query("GET_ACTIVE_ITEMS").map(function($){return g.find(function(ne){return ne.id===$.id})}).filter(function($){return $}),I=h?ks(o,y,h):null,S=o.ref.addIndex||null;o.ref.addIndex=null;var x=0,F=0,k=0;if(y.length!==0){var G=y[0].rect.element,N=G.marginTop+G.marginBottom,q=G.marginLeft+G.marginRight,Q=G.width+q,te=G.height+N,j=Vs(m,Q);if(j===1){var ye=0,W=0;y.forEach(function($,ne){if(I){var se=ne-I;se===-2?W=-N*.25:se===-1?W=-N*.75:se===0?W=N*.75:se===1?W=N*.25:W=0}p&&($.translateX=null,$.translateY=null),$.markedForRemoval||fc($,0,ye+W);var K=$.rect.element.height+N,J=K*($.markedForRemoval?$.opacity:1);ye+=J})}else{var Pe=0,Ne=0;y.forEach(function($,ne){ne===I&&(x=1),ne===S&&(k+=1),$.markedForRemoval&&$.opacity<.5&&(F-=1);var se=ne+k+x+F,K=se%j,J=Math.floor(se/j),le=K*Q,Fe=J*te,Ce=Math.sign(le-Pe),ue=Math.sign(Fe-Ne);Pe=le,Ne=Fe,!$.markedForRemoval&&(p&&($.translateX=null,$.translateY=null),fc($,le,Fe,Ce,ue))})}}},"write"),x1=i(function(r,o){return o.filter(function(s){return s.data&&s.data.id?r.id===s.data.id:!0})},"filterSetItemActions"),O1=ze({create:y1,write:S1,tag:"ul",name:"list",didWriteView:i(function(r){var o=r.root;o.childViews.filter(function(s){return s.markedForRemoval&&s.opacity===0&&s.resting}).forEach(function(s){s._destroy(),o.removeChildView(s)})},"didWriteView"),filterFrameActionsForChild:x1,mixins:{apis:["dragCoordinates"]}}),w1=i(function(r){var o=r.root,s=r.props;o.ref.list=o.appendChildView(o.createChildView(O1)),s.dragCoordinates=null,s.overflowing=!1},"create"),R1=i(function(r){var o=r.root,s=r.props,u=r.action;o.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(s.dragCoordinates={left:u.position.scopeLeft-o.ref.list.rect.element.left,top:u.position.scopeTop-(o.rect.outer.top+o.rect.element.marginTop+o.rect.element.scrollTop)})},"storeDragCoordinates"),L1=i(function(r){var o=r.props;o.dragCoordinates=null},"clearDragCoordinates"),C1=$e({DID_DRAG:R1,DID_END_DRAG:L1}),M1=i(function(r){var o=r.root,s=r.props,u=r.actions;if(C1({root:o,props:s,actions:u}),o.ref.list.dragCoordinates=s.dragCoordinates,s.overflowing&&!s.overflow&&(s.overflowing=!1,o.element.dataset.state="",o.height=null),s.overflow){var p=Math.round(s.overflow);p!==o.height&&(s.overflowing=!0,o.element.dataset.state="overflow",o.height=p)}},"write"),P1=ze({create:w1,write:M1,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),qt=i(function(r,o,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";s?d(r,o,u):r.removeAttribute(o)},"attrToggle"),N1=i(function(r){if(!(!r||r.value==="")){try{r.value=""}catch{}if(r.value){var o=rn("form"),s=r.parentNode,u=r.nextSibling;o.appendChild(r),o.reset(),u?s.insertBefore(r,u):s.appendChild(r)}}},"resetFileInput"),F1=i(function(r){var o=r.root,s=r.props;o.element.id="filepond--browser-"+s.id,d(o.element,"name",o.query("GET_NAME")),d(o.element,"aria-controls","filepond--assistant-"+s.id),d(o.element,"aria-labelledby","filepond--drop-label-"+s.id),pc({root:o,action:{value:o.query("GET_ACCEPTED_FILE_TYPES")}}),hc({root:o,action:{value:o.query("GET_ALLOW_MULTIPLE")}}),mc({root:o,action:{value:o.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Hs({root:o}),gc({root:o,action:{value:o.query("GET_REQUIRED")}}),Ec({root:o,action:{value:o.query("GET_CAPTURE_METHOD")}}),o.ref.handleChange=function(u){if(o.element.value){var p=Array.from(o.element.files).map(function(h){return h._relativePath=h.webkitRelativePath,h});setTimeout(function(){s.onload(p),N1(o.element)},250)}},o.element.addEventListener("change",o.ref.handleChange)},"create"),pc=i(function(r){var o=r.root,s=r.action;o.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&qt(o.element,"accept",!!s.value,s.value?s.value.join(","):"")},"setAcceptedFileTypes"),hc=i(function(r){var o=r.root,s=r.action;qt(o.element,"multiple",s.value)},"toggleAllowMultiple"),mc=i(function(r){var o=r.root,s=r.action;qt(o.element,"webkitdirectory",s.value)},"toggleDirectoryFilter"),Hs=i(function(r){var o=r.root,s=o.query("GET_DISABLED"),u=o.query("GET_ALLOW_BROWSE"),p=s||!u;qt(o.element,"disabled",p)},"toggleDisabled"),gc=i(function(r){var o=r.root,s=r.action;s.value?o.query("GET_TOTAL_ITEMS")===0&&qt(o.element,"required",!0):qt(o.element,"required",!1)},"toggleRequired"),Ec=i(function(r){var o=r.root,s=r.action;qt(o.element,"capture",!!s.value,s.value===!0?"":s.value)},"setCaptureMethod"),vc=i(function(r){var o=r.root,s=o.element;if(o.query("GET_TOTAL_ITEMS")>0){qt(s,"required",!1),qt(s,"name",!1);for(var u=o.query("GET_ACTIVE_ITEMS"),p=!1,h=0;h<u.length;h++)u[h].status===ge.LOAD_ERROR&&(p=!0);o.element.setCustomValidity(p?o.query("GET_LABEL_INVALID_FIELD"):"")}else{qt(s,"name",!0,o.query("GET_NAME"));var m=o.query("GET_CHECK_VALIDITY");m&&s.setCustomValidity(""),o.query("GET_REQUIRED")&&qt(s,"required",!0)}},"updateRequiredStatus"),U1=i(function(r){var o=r.root,s=o.query("GET_CHECK_VALIDITY");s&&o.element.setCustomValidity(o.query("GET_LABEL_INVALID_FIELD"))},"updateFieldValidityStatus"),B1=ze({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:F1,destroy:i(function(r){var o=r.root;o.element.removeEventListener("change",o.ref.handleChange)},"destroy"),write:$e({DID_LOAD_ITEM:vc,DID_REMOVE_ITEM:vc,DID_THROW_ITEM_INVALID:U1,DID_SET_DISABLED:Hs,DID_SET_ALLOW_BROWSE:Hs,DID_SET_ALLOW_DIRECTORIES_ONLY:mc,DID_SET_ALLOW_MULTIPLE:hc,DID_SET_ACCEPTED_FILE_TYPES:pc,DID_SET_CAPTURE_METHOD:Ec,DID_SET_REQUIRED:gc})}),yc={ENTER:13,SPACE:32},V1=i(function(r){var o=r.root,s=r.props,u=rn("label");d(u,"for","filepond--browser-"+s.id),d(u,"id","filepond--drop-label-"+s.id),o.ref.handleKeyDown=function(p){var h=p.keyCode===yc.ENTER||p.keyCode===yc.SPACE;h&&(p.preventDefault(),o.ref.label.click())},o.ref.handleClick=function(p){var h=p.target===u||u.contains(p.target);h||o.ref.label.click()},u.addEventListener("keydown",o.ref.handleKeyDown),o.element.addEventListener("click",o.ref.handleClick),_c(u,s.caption),o.appendChild(u),o.ref.label=u},"create"),_c=i(function(r,o){r.innerHTML=o;var s=r.querySelector(".filepond--label-action");return s&&d(s,"tabindex","0"),o},"updateLabelValue"),k1=ze({name:"drop-label",ignoreRect:!0,create:V1,destroy:i(function(r){var o=r.root;o.ref.label.addEventListener("keydown",o.ref.handleKeyDown),o.element.removeEventListener("click",o.ref.handleClick)},"destroy"),write:$e({DID_SET_LABEL_IDLE:i(function(r){var o=r.root,s=r.action;_c(o.ref.label,s.value)},"DID_SET_LABEL_IDLE")}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),G1=ze({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),H1=i(function(r){var o=r.root,s=o.rect.element.width*.5,u=o.rect.element.height*.5;o.ref.blob=o.appendChildView(o.createChildView(G1,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:s,translateY:u}))},"addBlob"),Y1=i(function(r){var o=r.root,s=r.action;if(!o.ref.blob){H1({root:o});return}o.ref.blob.translateX=s.position.scopeLeft,o.ref.blob.translateY=s.position.scopeTop,o.ref.blob.scaleX=1,o.ref.blob.scaleY=1,o.ref.blob.opacity=1},"moveBlob"),q1=i(function(r){var o=r.root;o.ref.blob&&(o.ref.blob.opacity=0)},"hideBlob"),z1=i(function(r){var o=r.root;o.ref.blob&&(o.ref.blob.scaleX=2.5,o.ref.blob.scaleY=2.5,o.ref.blob.opacity=0)},"explodeBlob"),j1=i(function(r){var o=r.root,s=r.props,u=r.actions;W1({root:o,props:s,actions:u});var p=o.ref.blob;u.length===0&&p&&p.opacity===0&&(o.removeChildView(p),o.ref.blob=null)},"write"),W1=$e({DID_DRAG:Y1,DID_DROP:z1,DID_END_DRAG:q1}),K1=ze({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:j1}),Tc=i(function(r,o){try{var s=new DataTransfer;o.forEach(function(u){u instanceof File?s.items.add(u):s.items.add(new File([u],u.name,{type:u.type}))}),r.files=s.files}catch{return!1}return!0},"setInputFiles"),$1=i(function(r){var o=r.root;o.ref.fields={};var s=document.createElement("legend");s.textContent="Files",o.element.appendChild(s)},"create"),go=i(function(r,o){return r.ref.fields[o]},"getField"),Ys=i(function(r){r.query("GET_ACTIVE_ITEMS").forEach(function(o){r.ref.fields[o.id]&&r.element.appendChild(r.ref.fields[o.id])})},"syncFieldPositionsWithItems"),Ic=i(function(r){var o=r.root;return Ys(o)},"didReorderItems"),X1=i(function(r){var o=r.root,s=r.action,u=o.query("GET_ITEM",s.id),p=u.origin===lt.LOCAL,h=!p&&o.query("SHOULD_UPDATE_FILE_INPUT"),m=rn("input");m.type=h?"file":"hidden",m.name=o.query("GET_NAME"),o.ref.fields[s.id]=m,Ys(o)},"didAddItem"),Q1=i(function(r){var o=r.root,s=r.action,u=go(o,s.id);if(u&&(s.serverFileReference!==null&&(u.value=s.serverFileReference),!!o.query("SHOULD_UPDATE_FILE_INPUT"))){var p=o.query("GET_ITEM",s.id);Tc(u,[p.file])}},"didLoadItem"),J1=i(function(r){var o=r.root,s=r.action;o.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var u=go(o,s.id);u&&Tc(u,[s.file])},0)},"didPrepareOutput"),Z1=i(function(r){var o=r.root;o.element.disabled=o.query("GET_DISABLED")},"didSetDisabled"),eg=i(function(r){var o=r.root,s=r.action,u=go(o,s.id);u&&(u.parentNode&&u.parentNode.removeChild(u),delete o.ref.fields[s.id])},"didRemoveItem"),tg=i(function(r){var o=r.root,s=r.action,u=go(o,s.id);u&&(s.value===null?u.removeAttribute("value"):u.type!="file"&&(u.value=s.value),Ys(o))},"didDefineValue"),ng=$e({DID_SET_DISABLED:Z1,DID_ADD_ITEM:X1,DID_LOAD_ITEM:Q1,DID_REMOVE_ITEM:eg,DID_DEFINE_VALUE:tg,DID_PREPARE_OUTPUT:J1,DID_REORDER_ITEMS:Ic,DID_SORT_ITEMS:Ic}),rg=ze({tag:"fieldset",name:"data",create:$1,write:ng,ignoreRect:!0}),ig=i(function(r){return"getRootNode"in r?r.getRootNode():document},"getRootNode"),og=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],ag=["css","csv","html","txt"],sg={zip:"zip|compressed",epub:"application/epub+zip"},bc=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r=r.toLowerCase(),og.includes(r)?"image/"+(r==="jpg"?"jpeg":r==="svg"?"svg+xml":r):ag.includes(r)?"text/"+r:sg[r]||""},"guesstimateMimeType"),qs=i(function(r){return new Promise(function(o,s){var u=mg(r);if(u.length&&!lg(r))return o(u);ug(r).then(o)})},"requestDataTransferItems"),lg=i(function(r){return r.files?r.files.length>0:!1},"hasFiles"),ug=i(function(r){return new Promise(function(o,s){var u=(r.items?Array.from(r.items):[]).filter(function(p){return cg(p)}).map(function(p){return dg(p)});if(!u.length){o(r.files?Array.from(r.files):[]);return}Promise.all(u).then(function(p){var h=[];p.forEach(function(m){h.push.apply(h,m)}),o(h.filter(function(m){return m}).map(function(m){return m._relativePath||(m._relativePath=m.webkitRelativePath),m}))}).catch(console.error)})},"getFiles"),cg=i(function(r){if(Ac(r)){var o=zs(r);if(o)return o.isFile||o.isDirectory}return r.kind==="file"},"isFileSystemItem"),dg=i(function(r){return new Promise(function(o,s){if(hg(r)){fg(zs(r)).then(o).catch(s);return}o([r.getAsFile()])})},"getFilesFromItem"),fg=i(function(r){return new Promise(function(o,s){var u=[],p=0,h=0,m=i(function(){h===0&&p===0&&o(u)},"resolveIfDone"),g=i(function y(I){p++;var S=I.createReader(),x=i(function F(){S.readEntries(function(k){if(k.length===0){p--,m();return}k.forEach(function(G){G.isDirectory?y(G):(h++,G.file(function(N){var q=pg(N);G.fullPath&&(q._relativePath=G.fullPath),u.push(q),h--,m()}))}),F()},s)},"readBatch");x()},"readEntries");g(r)})},"getFilesInDirectory"),pg=i(function(r){if(r.type.length)return r;var o=r.lastModifiedDate,s=r.name,u=bc(fo(r.name));return u.length&&(r=r.slice(0,r.size,u),r.name=s,r.lastModifiedDate=o),r},"correctMissingFileType"),hg=i(function(r){return Ac(r)&&(zs(r)||{}).isDirectory},"isDirectoryEntry"),Ac=i(function(r){return"webkitGetAsEntry"in r},"isEntry"),zs=i(function(r){return r.webkitGetAsEntry()},"getAsEntry"),mg=i(function(r){var o=[];try{if(o=Eg(r),o.length)return o;o=gg(r)}catch{}return o},"getLinks"),gg=i(function(r){var o=r.getData("url");return typeof o=="string"&&o.length?[o]:[]},"getLinksFromTransferURLData"),Eg=i(function(r){var o=r.getData("text/html");if(typeof o=="string"&&o.length){var s=o.match(/src\s*=\s*"(.+?)"/);if(s)return[s[1]]}return[]},"getLinksFromTransferMetaData"),Eo=[],Fn=i(function(r){return{pageLeft:r.pageX,pageTop:r.pageY,scopeLeft:r.offsetX||r.layerX,scopeTop:r.offsetY||r.layerY}},"eventPosition"),vg=i(function(r,o,s){var u=yg(o),p={element:r,filterElement:s,state:null,ondrop:i(function(){},"ondrop"),onenter:i(function(){},"onenter"),ondrag:i(function(){},"ondrag"),onexit:i(function(){},"onexit"),onload:i(function(){},"onload"),allowdrop:i(function(){},"allowdrop")};return p.destroy=u.addListener(p),p},"createDragNDropClient"),yg=i(function(r){var o=Eo.find(function(u){return u.element===r});if(o)return o;var s=_g(r);return Eo.push(s),s},"getDragNDropObserver"),_g=i(function(r){var o=[],s={dragenter:Ig,dragover:bg,dragleave:Dg,drop:Ag},u={};l(s,function(h,m){u[h]=m(r,o),r.addEventListener(h,u[h],!1)});var p={element:r,addListener:i(function(m){return o.push(m),function(){o.splice(o.indexOf(m),1),o.length===0&&(Eo.splice(Eo.indexOf(p),1),l(s,function(g){r.removeEventListener(g,u[g],!1)}))}},"addListener")};return p},"createDragNDropObserver"),Tg=i(function(r,o){return"elementFromPoint"in r||(r=document),r.elementFromPoint(o.x,o.y)},"elementFromPoint"),js=i(function(r,o){var s=ig(o),u=Tg(s,{x:r.pageX-window.pageXOffset,y:r.pageY-window.pageYOffset});return u===o||o.contains(u)},"isEventTarget"),Dc=null,vo=i(function(r,o){try{r.dropEffect=o}catch{}},"setDropEffect"),Ig=i(function(r,o){return function(s){s.preventDefault(),Dc=s.target,o.forEach(function(u){var p=u.element,h=u.onenter;js(s,p)&&(u.state="enter",h(Fn(s)))})}},"dragenter"),bg=i(function(r,o){return function(s){s.preventDefault();var u=s.dataTransfer;qs(u).then(function(p){var h=!1;o.some(function(m){var g=m.filterElement,y=m.element,I=m.onenter,S=m.onexit,x=m.ondrag,F=m.allowdrop;vo(u,"copy");var k=F(p);if(!k){vo(u,"none");return}if(js(s,y)){if(h=!0,m.state===null){m.state="enter",I(Fn(s));return}if(m.state="over",g&&!k){vo(u,"none");return}x(Fn(s))}else g&&!h&&vo(u,"none"),m.state&&(m.state=null,S(Fn(s)))})})}},"dragover"),Ag=i(function(r,o){return function(s){s.preventDefault();var u=s.dataTransfer;qs(u).then(function(p){o.forEach(function(h){var m=h.filterElement,g=h.element,y=h.ondrop,I=h.onexit,S=h.allowdrop;if(h.state=null,!(m&&!js(s,g))){if(!S(p))return I(Fn(s));y(Fn(s),p)}})})}},"drop"),Dg=i(function(r,o){return function(s){Dc===s.target&&o.forEach(function(u){var p=u.onexit;u.state=null,p(Fn(s))})}},"dragleave"),Sg=i(function(r,o,s){r.classList.add("filepond--hopper");var u=s.catchesDropsOnPage,p=s.requiresDropOnElement,h=s.filterItems,m=h===void 0?function(x){return x}:h,g=vg(r,u?document.documentElement:r,p),y="",I="";g.allowdrop=function(x){return o(m(x))},g.ondrop=function(x,F){var k=m(F);if(!o(k)){S.ondragend(x);return}I="drag-drop",S.onload(k,x)},g.ondrag=function(x){S.ondrag(x)},g.onenter=function(x){I="drag-over",S.ondragstart(x)},g.onexit=function(x){I="drag-exit",S.ondragend(x)};var S={updateHopperState:i(function(){y!==I&&(r.dataset.hopperState=I,y=I)},"updateHopperState"),onload:i(function(){},"onload"),ondragstart:i(function(){},"ondragstart"),ondrag:i(function(){},"ondrag"),ondragend:i(function(){},"ondragend"),destroy:i(function(){g.destroy()},"destroy")};return S},"createHopper"),Ws=!1,dr=[],Sc=i(function(r){var o=document.activeElement,s=o&&(/textarea|input/i.test(o.nodeName)||o.getAttribute("contenteditable")==="true");if(s){for(var u=!1,p=o;p!==document.body;){if(p.classList.contains("filepond--root")){u=!0;break}p=p.parentNode}if(!u)return}qs(r.clipboardData).then(function(h){h.length&&dr.forEach(function(m){return m(h)})})},"handlePaste"),xg=i(function(r){dr.includes(r)||(dr.push(r),!Ws&&(Ws=!0,document.addEventListener("paste",Sc)))},"listen"),Og=i(function(r){Ss(dr,dr.indexOf(r)),dr.length===0&&(document.removeEventListener("paste",Sc),Ws=!1)},"unlisten"),wg=i(function(){var r=i(function(u){o.onload(u)},"cb"),o={destroy:i(function(){Og(r)},"destroy"),onload:i(function(){},"onload")};return xg(r),o},"createPaster"),Rg=i(function(r){var o=r.root,s=r.props;o.element.id="filepond--assistant-"+s.id,d(o.element,"role","alert"),d(o.element,"aria-live","polite"),d(o.element,"aria-relevant","additions")},"create"),xc=null,Oc=null,Ks=[],yo=i(function(r,o){r.element.textContent=o},"assist"),Lg=i(function(r){r.element.textContent=""},"clear"),wc=i(function(r,o,s){var u=r.query("GET_TOTAL_ITEMS");yo(r,s+" "+o+", "+u+" "+(u===1?r.query("GET_LABEL_FILE_COUNT_SINGULAR"):r.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Oc),Oc=setTimeout(function(){Lg(r)},1500)},"listModified"),Rc=i(function(r){return r.element.parentNode.contains(document.activeElement)},"isUsingFilePond"),Cg=i(function(r){var o=r.root,s=r.action;if(Rc(o)){o.element.textContent="";var u=o.query("GET_ITEM",s.id);Ks.push(u.filename),clearTimeout(xc),xc=setTimeout(function(){wc(o,Ks.join(", "),o.query("GET_LABEL_FILE_ADDED")),Ks.length=0},750)}},"itemAdded"),Mg=i(function(r){var o=r.root,s=r.action;if(Rc(o)){var u=s.item;wc(o,u.filename,o.query("GET_LABEL_FILE_REMOVED"))}},"itemRemoved"),Pg=i(function(r){var o=r.root,s=r.action,u=o.query("GET_ITEM",s.id),p=u.filename,h=o.query("GET_LABEL_FILE_PROCESSING_COMPLETE");yo(o,p+" "+h)},"itemProcessed"),Lc=i(function(r){var o=r.root,s=r.action,u=o.query("GET_ITEM",s.id),p=u.filename,h=o.query("GET_LABEL_FILE_PROCESSING_ABORTED");yo(o,p+" "+h)},"itemProcessedUndo"),_o=i(function(r){var o=r.root,s=r.action,u=o.query("GET_ITEM",s.id),p=u.filename;yo(o,s.status.main+" "+p+" "+s.status.sub)},"itemError"),Ng=ze({create:Rg,ignoreRect:!0,ignoreRectUpdate:!0,write:$e({DID_LOAD_ITEM:Cg,DID_REMOVE_ITEM:Mg,DID_COMPLETE_ITEM_PROCESSING:Pg,DID_ABORT_ITEM_PROCESSING:Lc,DID_REVERT_ITEM_PROCESSING:Lc,DID_THROW_ITEM_REMOVE_ERROR:_o,DID_THROW_ITEM_LOAD_ERROR:_o,DID_THROW_ITEM_INVALID:_o,DID_THROW_ITEM_PROCESSING_ERROR:_o}),tag:"span",name:"assistant"}),Cc=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return r.replace(new RegExp(o+".","g"),function(s){return s.charAt(1).toUpperCase()})},"toCamels"),Mc=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Date.now(),p=null;return function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];clearTimeout(p);var y=Date.now()-u,I=i(function(){u=Date.now(),r.apply(void 0,m)},"fn");y<o?s||(p=setTimeout(I,o-y)):I()}},"debounce"),Fg=1e6,To=i(function(r){return r.preventDefault()},"prevent"),Ug=i(function(r){var o=r.root,s=r.props,u=o.query("GET_ID");u&&(o.element.id=u);var p=o.query("GET_CLASS_NAME");p&&p.split(" ").filter(function(S){return S.length}).forEach(function(S){o.element.classList.add(S)}),o.ref.label=o.appendChildView(o.createChildView(k1,Object.assign({},s,{translateY:null,caption:o.query("GET_LABEL_IDLE")}))),o.ref.list=o.appendChildView(o.createChildView(P1,{translateY:null})),o.ref.panel=o.appendChildView(o.createChildView(lc,{name:"panel-root"})),o.ref.assistant=o.appendChildView(o.createChildView(Ng,Object.assign({},s))),o.ref.data=o.appendChildView(o.createChildView(rg,Object.assign({},s))),o.ref.measure=rn("div"),o.ref.measure.style.height="100%",o.element.appendChild(o.ref.measure),o.ref.bounds=null,o.query("GET_STYLES").filter(function(S){return!Tt(S.value)}).map(function(S){var x=S.name,F=S.value;o.element.dataset[x]=F}),o.ref.widthPrevious=null,o.ref.widthUpdated=Mc(function(){o.ref.updateHistory=[],o.dispatch("DID_RESIZE_ROOT")},250),o.ref.previousAspectRatio=null,o.ref.updateHistory=[];var h=window.matchMedia("(pointer: fine) and (hover: hover)").matches,m="PointerEvent"in window;o.query("GET_ALLOW_REORDER")&&m&&!h&&(o.element.addEventListener("touchmove",To,{passive:!1}),o.element.addEventListener("gesturestart",To));var g=o.query("GET_CREDITS"),y=g.length===2;if(y){var I=document.createElement("a");I.className="filepond--credits",I.href=g[0],I.tabIndex=-1,I.target="_blank",I.rel="noopener noreferrer nofollow",I.textContent=g[1],o.element.appendChild(I),o.ref.credits=I}},"create"),Bg=i(function(r){var o=r.root,s=r.props,u=r.actions;if(Yg({root:o,props:s,actions:u}),u.filter(function(we){return/^DID_SET_STYLE_/.test(we.type)}).filter(function(we){return!Tt(we.data.value)}).map(function(we){var je=we.type,Je=we.data,fr=Cc(je.substring(8).toLowerCase(),"_");o.element.dataset[fr]=Je.value,o.invalidateLayout()}),!o.rect.element.hidden){o.rect.element.width!==o.ref.widthPrevious&&(o.ref.widthPrevious=o.rect.element.width,o.ref.widthUpdated());var p=o.ref.bounds;p||(p=o.ref.bounds=Gg(o),o.element.removeChild(o.ref.measure),o.ref.measure=null);var h=o.ref,m=h.hopper,g=h.label,y=h.list,I=h.panel;m&&m.updateHopperState();var S=o.query("GET_PANEL_ASPECT_RATIO"),x=o.query("GET_ALLOW_MULTIPLE"),F=o.query("GET_TOTAL_ITEMS"),k=x?o.query("GET_MAX_FILES")||Fg:1,G=F===k,N=u.find(function(we){return we.type==="DID_ADD_ITEM"});if(G&&N){var q=N.data.interactionMethod;g.opacity=0,x?g.translateY=-40:q===T.API?g.translateX=40:q===T.BROWSE?g.translateY=40:g.translateY=30}else G||(g.opacity=1,g.translateX=0,g.translateY=0);var Q=Vg(o),te=kg(o),j=g.rect.element.height,ye=!x||G?0:j,W=G?y.rect.element.marginTop:0,Pe=F===0?0:y.rect.element.marginBottom,Ne=ye+W+te.visual+Pe,$=ye+W+te.bounds+Pe;if(y.translateY=Math.max(0,ye-y.rect.element.marginTop)-Q.top,S){var ne=o.rect.element.width,se=ne*S;S!==o.ref.previousAspectRatio&&(o.ref.previousAspectRatio=S,o.ref.updateHistory=[]);var K=o.ref.updateHistory;K.push(ne);var J=2;if(K.length>J*2){for(var le=K.length,Fe=le-10,Ce=0,ue=le;ue>=Fe;ue--)if(K[ue]===K[ue-2]&&Ce++,Ce>=J)return}I.scalable=!1,I.height=se;var H=se-ye-(Pe-Q.bottom)-(G?W:0);te.visual>H?y.overflow=H:y.overflow=null,o.height=se}else if(p.fixedHeight){I.scalable=!1;var C=p.fixedHeight-ye-(Pe-Q.bottom)-(G?W:0);te.visual>C?y.overflow=C:y.overflow=null}else if(p.cappedHeight){var ee=Ne>=p.cappedHeight,Ee=Math.min(p.cappedHeight,Ne);I.scalable=!0,I.height=ee?Ee:Ee-Q.top-Q.bottom;var Ie=Ee-ye-(Pe-Q.bottom)-(G?W:0);Ne>p.cappedHeight&&te.visual>Ie?y.overflow=Ie:y.overflow=null,o.height=Math.min(p.cappedHeight,$-Q.top-Q.bottom)}else{var De=F>0?Q.top+Q.bottom:0;I.scalable=!0,I.height=Math.max(j,Ne-De),o.height=Math.max(j,$-De)}o.ref.credits&&I.heightCurrent&&(o.ref.credits.style.transform="translateY("+I.heightCurrent+"px)")}},"write"),Vg=i(function(r){var o=r.ref.list.childViews[0].childViews[0];return o?{top:o.rect.element.marginTop,bottom:o.rect.element.marginBottom}:{top:0,bottom:0}},"calculateListItemMargin"),kg=i(function(r){var o=0,s=0,u=r.ref.list,p=u.childViews[0],h=p.childViews.filter(function(te){return te.rect.element.height}),m=r.query("GET_ACTIVE_ITEMS").map(function(te){return h.find(function(j){return j.id===te.id})}).filter(function(te){return te});if(m.length===0)return{visual:o,bounds:s};var g=p.rect.element.width,y=ks(p,m,u.dragCoordinates),I=m[0].rect.element,S=I.marginTop+I.marginBottom,x=I.marginLeft+I.marginRight,F=I.width+x,k=I.height+S,G=typeof y<"u"&&y>=0?1:0,N=m.find(function(te){return te.markedForRemoval&&te.opacity<.45})?-1:0,q=m.length+G+N,Q=Vs(g,F);return Q===1?m.forEach(function(te){var j=te.rect.element.height+S;s+=j,o+=j*te.opacity}):(s=Math.ceil(q/Q)*k,o=s),{visual:o,bounds:s}},"calculateListHeight"),Gg=i(function(r){var o=r.ref.measureHeight||null,s=parseInt(r.style.maxHeight,10)||null,u=o===0?null:o;return{cappedHeight:s,fixedHeight:u}},"calculateRootBoundingBoxHeight"),$s=i(function(r,o){var s=r.query("GET_ALLOW_REPLACE"),u=r.query("GET_ALLOW_MULTIPLE"),p=r.query("GET_TOTAL_ITEMS"),h=r.query("GET_MAX_FILES"),m=o.length;if(!u&&m>1)return r.dispatch("DID_THROW_MAX_FILES",{source:o,error:et("warning",0,"Max files")}),!0;if(h=u?h:1,!u&&s)return!1;var g=tn(h);return g&&p+m>h?(r.dispatch("DID_THROW_MAX_FILES",{source:o,error:et("warning",0,"Max files")}),!0):!1},"exceedsMaxFiles"),Hg=i(function(r,o,s){var u=r.childViews[0];return ks(u,o,{left:s.scopeLeft-u.rect.element.left,top:s.scopeTop-(r.rect.outer.top+r.rect.element.marginTop+r.rect.element.scrollTop)})},"getDragIndex"),Pc=i(function(r){var o=r.query("GET_ALLOW_DROP"),s=r.query("GET_DISABLED"),u=o&&!s;if(u&&!r.ref.hopper){var p=Sg(r.element,function(h){var m=r.query("GET_BEFORE_DROP_FILE")||function(){return!0},g=r.query("GET_DROP_VALIDATION");return g?h.every(function(y){return Ln("ALLOW_HOPPER_ITEM",y,{query:r.query}).every(function(I){return I===!0})&&m(y)}):!0},{filterItems:i(function(m){var g=r.query("GET_IGNORED_FILES");return m.filter(function(y){return Nn(y)?!g.includes(y.name.toLowerCase()):!0})},"filterItems"),catchesDropsOnPage:r.query("GET_DROP_ON_PAGE"),requiresDropOnElement:r.query("GET_DROP_ON_ELEMENT")});p.onload=function(h,m){var g=r.ref.list.childViews[0],y=g.childViews.filter(function(S){return S.rect.element.height}),I=r.query("GET_ACTIVE_ITEMS").map(function(S){return y.find(function(x){return x.id===S.id})}).filter(function(S){return S});Ht("ADD_ITEMS",h,{dispatch:r.dispatch}).then(function(S){if($s(r,S))return!1;r.dispatch("ADD_ITEMS",{items:S,index:Hg(r.ref.list,I,m),interactionMethod:T.DROP})}),r.dispatch("DID_DROP",{position:m}),r.dispatch("DID_END_DRAG",{position:m})},p.ondragstart=function(h){r.dispatch("DID_START_DRAG",{position:h})},p.ondrag=Mc(function(h){r.dispatch("DID_DRAG",{position:h})}),p.ondragend=function(h){r.dispatch("DID_END_DRAG",{position:h})},r.ref.hopper=p,r.ref.drip=r.appendChildView(r.createChildView(K1))}else!u&&r.ref.hopper&&(r.ref.hopper.destroy(),r.ref.hopper=null,r.removeChildView(r.ref.drip))},"toggleDrop"),Nc=i(function(r,o){var s=r.query("GET_ALLOW_BROWSE"),u=r.query("GET_DISABLED"),p=s&&!u;p&&!r.ref.browser?r.ref.browser=r.appendChildView(r.createChildView(B1,Object.assign({},o,{onload:i(function(m){Ht("ADD_ITEMS",m,{dispatch:r.dispatch}).then(function(g){if($s(r,g))return!1;r.dispatch("ADD_ITEMS",{items:g,index:-1,interactionMethod:T.BROWSE})})},"onload")})),0):!p&&r.ref.browser&&(r.removeChildView(r.ref.browser),r.ref.browser=null)},"toggleBrowse"),Fc=i(function(r){var o=r.query("GET_ALLOW_PASTE"),s=r.query("GET_DISABLED"),u=o&&!s;u&&!r.ref.paster?(r.ref.paster=wg(),r.ref.paster.onload=function(p){Ht("ADD_ITEMS",p,{dispatch:r.dispatch}).then(function(h){if($s(r,h))return!1;r.dispatch("ADD_ITEMS",{items:h,index:-1,interactionMethod:T.PASTE})})}):!u&&r.ref.paster&&(r.ref.paster.destroy(),r.ref.paster=null)},"togglePaste"),Yg=$e({DID_SET_ALLOW_BROWSE:i(function(r){var o=r.root,s=r.props;Nc(o,s)},"DID_SET_ALLOW_BROWSE"),DID_SET_ALLOW_DROP:i(function(r){var o=r.root;Pc(o)},"DID_SET_ALLOW_DROP"),DID_SET_ALLOW_PASTE:i(function(r){var o=r.root;Fc(o)},"DID_SET_ALLOW_PASTE"),DID_SET_DISABLED:i(function(r){var o=r.root,s=r.props;Pc(o),Fc(o),Nc(o,s);var u=o.query("GET_DISABLED");u?o.element.dataset.disabled="disabled":o.element.removeAttribute("data-disabled")},"DID_SET_DISABLED")}),qg=ze({name:"root",read:i(function(r){var o=r.root;o.ref.measure&&(o.ref.measureHeight=o.ref.measure.offsetHeight)},"read"),create:Ug,write:Bg,destroy:i(function(r){var o=r.root;o.ref.paster&&o.ref.paster.destroy(),o.ref.hopper&&o.ref.hopper.destroy(),o.element.removeEventListener("touchmove",To),o.element.removeEventListener("gesturestart",To)},"destroy"),mixins:{styles:["height"]}}),zg=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=null,s=uo(),u=e(Vr(s),[cm,v(s)],[Fm,_s(s)]);u.dispatch("SET_OPTIONS",{options:r});var p=i(function(){document.hidden||u.dispatch("KICK")},"visibilityHandler");document.addEventListener("visibilitychange",p);var h=null,m=!1,g=!1,y=null,I=null,S=i(function(){m||(m=!0),clearTimeout(h),h=setTimeout(function(){m=!1,y=null,I=null,g&&(g=!1,u.dispatch("DID_STOP_RESIZE"))},500)},"resizeHandler");window.addEventListener("resize",S);var x=qg(u,{id:O()}),F=!1,k=!1,G={_read:i(function(){m&&(I=window.innerWidth,y||(y=I),!g&&I!==y&&(u.dispatch("DID_START_RESIZE"),g=!0)),k&&F&&(F=x.element.offsetParent===null),!F&&(x._read(),k=x.rect.element.hidden)},"_read"),_write:i(function(H){var C=u.processActionQueue().filter(function(ee){return!/^SET_/.test(ee.type)});F&&!C.length||(te(C),F=x._write(H,C,g),Jh(u.query("GET_ITEMS")),F&&u.processDispatchQueue())},"_write")},N=i(function(H){return function(C){var ee={type:H};if(!C)return ee;if(C.hasOwnProperty("error")&&(ee.error=C.error?Object.assign({},C.error):null),C.status&&(ee.status=Object.assign({},C.status)),C.file&&(ee.output=C.file),C.source)ee.file=C.source;else if(C.item||C.id){var Ee=C.item?C.item:u.query("GET_ITEM",C.id);ee.file=Ee?At(Ee):null}return C.items&&(ee.items=C.items.map(At)),/progress/.test(H)&&(ee.progress=C.progress),C.hasOwnProperty("origin")&&C.hasOwnProperty("target")&&(ee.origin=C.origin,ee.target=C.target),ee}},"createEvent"),q={DID_DESTROY:N("destroy"),DID_INIT:N("init"),DID_THROW_MAX_FILES:N("warning"),DID_INIT_ITEM:N("initfile"),DID_START_ITEM_LOAD:N("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:N("addfileprogress"),DID_LOAD_ITEM:N("addfile"),DID_THROW_ITEM_INVALID:[N("error"),N("addfile")],DID_THROW_ITEM_LOAD_ERROR:[N("error"),N("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[N("error"),N("removefile")],DID_PREPARE_OUTPUT:N("preparefile"),DID_START_ITEM_PROCESSING:N("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:N("processfileprogress"),DID_ABORT_ITEM_PROCESSING:N("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:N("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:N("processfiles"),DID_REVERT_ITEM_PROCESSING:N("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[N("error"),N("processfile")],DID_REMOVE_ITEM:N("removefile"),DID_UPDATE_ITEMS:N("updatefiles"),DID_ACTIVATE_ITEM:N("activatefile"),DID_REORDER_ITEMS:N("reorderfiles")},Q=i(function(H){var C=Object.assign({pond:Ce},H);delete C.type,x.element.dispatchEvent(new CustomEvent("FilePond:"+H.type,{detail:C,bubbles:!0,cancelable:!0,composed:!0}));var ee=[];H.hasOwnProperty("error")&&ee.push(H.error),H.hasOwnProperty("file")&&ee.push(H.file);var Ee=["type","error","file"];Object.keys(H).filter(function(De){return!Ee.includes(De)}).forEach(function(De){return ee.push(H[De])}),Ce.fire.apply(Ce,[H.type].concat(ee));var Ie=u.query("GET_ON"+H.type.toUpperCase());Ie&&Ie.apply(void 0,ee)},"exposeEvent"),te=i(function(H){H.length&&H.filter(function(C){return q[C.type]}).forEach(function(C){var ee=q[C.type];(Array.isArray(ee)?ee:[ee]).forEach(function(Ee){C.type==="DID_INIT_ITEM"?Q(Ee(C.data)):setTimeout(function(){Q(Ee(C.data))},0)})})},"routeActionsToEvents"),j=i(function(H){return u.dispatch("SET_OPTIONS",{options:H})},"setOptions"),ye=i(function(H){return u.query("GET_ACTIVE_ITEM",H)},"getFile"),W=i(function(H){return new Promise(function(C,ee){u.dispatch("REQUEST_ITEM_PREPARE",{query:H,success:i(function(Ie){C(Ie)},"success"),failure:i(function(Ie){ee(Ie)},"failure")})})},"prepareFile"),Pe=i(function(H){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(ee,Ee){ne([{source:H,options:C}],{index:C.index}).then(function(Ie){return ee(Ie&&Ie[0])}).catch(Ee)})},"addFile"),Ne=i(function(H){return H.file&&H.id},"isFilePondFile"),$=i(function(H,C){return typeof H=="object"&&!Ne(H)&&!C&&(C=H,H=void 0),u.dispatch("REMOVE_ITEM",Object.assign({},C,{query:H})),u.query("GET_ACTIVE_ITEM",H)===null},"removeFile"),ne=i(function(){for(var H=arguments.length,C=new Array(H),ee=0;ee<H;ee++)C[ee]=arguments[ee];return new Promise(function(Ee,Ie){var De=[],we={};if(wn(C[0]))De.push.apply(De,C[0]),Object.assign(we,C[1]||{});else{var je=C[C.length-1];typeof je=="object"&&!(je instanceof Blob)&&Object.assign(we,C.pop()),De.push.apply(De,C)}u.dispatch("ADD_ITEMS",{items:De,index:we.index,interactionMethod:T.API,success:Ee,failure:Ie})})},"addFiles"),se=i(function(){return u.query("GET_ACTIVE_ITEMS")},"getFiles"),K=i(function(H){return new Promise(function(C,ee){u.dispatch("REQUEST_ITEM_PROCESSING",{query:H,success:i(function(Ie){C(Ie)},"success"),failure:i(function(Ie){ee(Ie)},"failure")})})},"processFile"),J=i(function(){for(var H=arguments.length,C=new Array(H),ee=0;ee<H;ee++)C[ee]=arguments[ee];var Ee=Array.isArray(C[0])?C[0]:C,Ie=Ee.length?Ee:se();return Promise.all(Ie.map(W))},"prepareFiles"),le=i(function(){for(var H=arguments.length,C=new Array(H),ee=0;ee<H;ee++)C[ee]=arguments[ee];var Ee=Array.isArray(C[0])?C[0]:C;if(!Ee.length){var Ie=se().filter(function(De){return!(De.status===ge.IDLE&&De.origin===lt.LOCAL)&&De.status!==ge.PROCESSING&&De.status!==ge.PROCESSING_COMPLETE&&De.status!==ge.PROCESSING_REVERT_ERROR});return Promise.all(Ie.map(K))}return Promise.all(Ee.map(K))},"processFiles"),Fe=i(function(){for(var H=arguments.length,C=new Array(H),ee=0;ee<H;ee++)C[ee]=arguments[ee];var Ee=Array.isArray(C[0])?C[0]:C,Ie;typeof Ee[Ee.length-1]=="object"?Ie=Ee.pop():Array.isArray(C[0])&&(Ie=C[1]);var De=se();if(!Ee.length)return Promise.all(De.map(function(je){return $(je,Ie)}));var we=Ee.map(function(je){return Le(je)?De[je]?De[je].id:null:je}).filter(function(je){return je});return we.map(function(je){return $(je,Ie)})},"removeFiles"),Ce=Object.assign({},lo(),{},G,{},ys(u,s),{setOptions:j,addFile:Pe,addFiles:ne,getFile:ye,processFile:K,prepareFile:W,removeFile:$,moveFile:i(function(H,C){return u.dispatch("MOVE_ITEM",{query:H,index:C})},"moveFile"),getFiles:se,processFiles:le,removeFiles:Fe,prepareFiles:J,sort:i(function(H){return u.dispatch("SORT",{compare:H})},"sort"),browse:i(function(){var H=x.element.querySelector("input[type=file]");H&&H.click()},"browse"),destroy:i(function(){Ce.fire("destroy",x.element),u.dispatch("ABORT_ALL"),x._destroy(),window.removeEventListener("resize",S),document.removeEventListener("visibilitychange",p),u.dispatch("DID_DESTROY")},"destroy"),insertBefore:i(function(H){return On(x.element,H)},"insertBefore$1"),insertAfter:i(function(H){return Wi(x.element,H)},"insertAfter$1"),appendTo:i(function(H){return H.appendChild(x.element)},"appendTo"),replaceElement:i(function(H){On(x.element,H),H.parentNode.removeChild(H),o=H},"replaceElement"),restoreElement:i(function(){o&&(Wi(o,x.element),x.element.parentNode.removeChild(x.element),o=null)},"restoreElement"),isAttachedTo:i(function(H){return x.element===H||o===H},"isAttachedTo"),element:{get:i(function(){return x.element},"get")},status:{get:i(function(){return u.query("GET_STATUS")},"get")}});return u.dispatch("DID_INIT"),f(Ce)},"createApp"),Uc=i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={};l(uo(),function(u,p){o[u]=p[0]});var s=zg(Object.assign({},o,{},r));return s},"createAppObject"),jg=i(function(r){return r.charAt(0).toLowerCase()+r.slice(1)},"lowerCaseFirstLetter"),Wg=i(function(r){return Cc(r.replace(/^data-/,""))},"attributeNameToPropertyName"),Kg=i(function c(r,o){l(o,function(s,u){l(r,function(p,h){var m=new RegExp(s),g=m.test(p);if(g&&(delete r[p],u!==!1)){if(pt(u)){r[u]=h;return}var y=u.group;nt(u)&&!r[y]&&(r[y]={}),r[y][jg(p.replace(m,""))]=h}}),u.mapping&&c(r[u.group],u.mapping)})},"mapObject"),$g=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=[];l(r.attributes,function(p){s.push(r.attributes[p])});var u=s.filter(function(p){return p.name}).reduce(function(p,h){var m=d(r,h.name);return p[Wg(h.name)]=m===h.name?!0:m,p},{});return Kg(u,o),u},"getAttributesAsObject"),Xg=i(function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ln("SET_ATTRIBUTE_TO_OPTION_MAP",s);var u=Object.assign({},o),p=$g(r.nodeName==="FIELDSET"?r.querySelector("input[type=file]"):r,s);Object.keys(p).forEach(function(m){nt(p[m])?(nt(u[m])||(u[m]={}),Object.assign(u[m],p[m])):u[m]=p[m]}),u.files=(o.files||[]).concat(Array.from(r.querySelectorAll("input:not([type=file])")).map(function(m){return{source:m.value,options:{type:m.dataset.type}}}));var h=Uc(u);return r.files&&Array.from(r.files).forEach(function(m){h.addFile(m)}),h.replaceElement(r),h},"createAppAtElement"),Qg=i(function(){return t(arguments.length<=0?void 0:arguments[0])?Xg.apply(void 0,arguments):Uc.apply(void 0,arguments)},"createApp"),Jg=["fire","_read","_write"],Bc=i(function(r){var o={};return Pu(r,o,Jg),o},"createAppAPI"),Zg=i(function(r,o){return r.replace(/(?:{([a-zA-Z]+)})/g,function(s,u){return o[u]})},"replaceInString"),eE=i(function(r){var o=new Blob(["(",r.toString(),")()"],{type:"application/javascript"}),s=URL.createObjectURL(o),u=new Worker(s);return{transfer:i(function(h,m){},"transfer"),post:i(function(h,m,g){var y=O();u.onmessage=function(I){I.data.id===y&&m(I.data.message)},u.postMessage({id:y,message:h},g)},"post"),terminate:i(function(){u.terminate(),URL.revokeObjectURL(s)},"terminate")}},"createWorker"),tE=i(function(r){return new Promise(function(o,s){var u=new Image;u.onload=function(){o(u)},u.onerror=function(p){s(p)},u.src=r})},"loadImage"),Vc=i(function(r,o){var s=r.slice(0,r.size,r.type);return s.lastModifiedDate=r.lastModifiedDate,s.name=o,s},"renameFile"),nE=i(function(r){return Vc(r,r.name)},"copyFile"),kc=[],rE=i(function(r){if(!kc.includes(r)){kc.push(r);var o=r({addFilter:em,utils:{Type:B,forin:l,isString:pt,isFile:Nn,toNaturalFileSize:ec,replaceInString:Zg,getExtensionFromFilename:fo,getFilenameWithoutExtension:ju,guesstimateMimeType:bc,getFileFromBlob:ur,getFilenameFromURL:Yr,createRoute:$e,createWorker:eE,createView:ze,createItemAPI:At,loadImage:tE,copyFile:nE,renameFile:Vc,createBlob:Gu,applyFilterChain:Ht,text:tt,getNumericAspectRatioFromString:Uu},views:{fileActionButton:Zu}});tm(o.options)}},"createAppPlugin"),iE=i(function(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},"isOperaMini"),oE=i(function(){return"Promise"in window},"hasPromises"),aE=i(function(){return"slice"in Blob.prototype},"hasBlobSlice"),sE=i(function(){return"URL"in window&&"createObjectURL"in window.URL},"hasCreateObjectURL"),lE=i(function(){return"visibilityState"in document},"hasVisibility"),uE=i(function(){return"performance"in window},"hasTiming"),cE=i(function(){return"supports"in(window.CSS||{})},"hasCSSSupports"),dE=i(function(){return/MSIE|Trident/.test(window.navigator.userAgent)},"isIE11"),Xs=function(){var c=M()&&!iE()&&lE()&&oE()&&aE()&&sE()&&uE()&&(cE()||dE());return function(){return c}}(),mn={apps:[]},fE="filepond",Un=i(function(){},"fn");if(n.Status={},n.FileStatus={},n.FileOrigin={},n.OptionTypes={},n.create=Un,n.destroy=Un,n.parse=Un,n.find=Un,n.registerPlugin=Un,n.getOptions=Un,n.setOptions=Un,Xs()){Zn(function(){mn.apps.forEach(function(c){return c._read()})},function(c){mn.apps.forEach(function(r){return r._write(c)})});var Gc=i(function c(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Xs,create:n.create,destroy:n.destroy,parse:n.parse,find:n.find,registerPlugin:n.registerPlugin,setOptions:n.setOptions}})),document.removeEventListener("DOMContentLoaded",c)},"dispatch");document.readyState!=="loading"?setTimeout(function(){return Gc()},0):document.addEventListener("DOMContentLoaded",Gc);var Hc=i(function(){return l(uo(),function(r,o){n.OptionTypes[r]=o[1]})},"updateOptionTypes");n.Status=Object.assign({},lr),n.FileOrigin=Object.assign({},lt),n.FileStatus=Object.assign({},ge),n.OptionTypes={},Hc(),n.create=i(function(){var r=Qg.apply(void 0,arguments);return r.on("destroy",n.destroy),mn.apps.push(r),Bc(r)},"create"),n.destroy=i(function(r){var o=mn.apps.findIndex(function(u){return u.isAttachedTo(r)});if(o>=0){var s=mn.apps.splice(o,1)[0];return s.restoreElement(),!0}return!1},"destroy"),n.parse=i(function(r){var o=Array.from(r.querySelectorAll("."+fE)),s=o.filter(function(u){return!mn.apps.find(function(p){return p.isAttachedTo(u)})});return s.map(function(u){return n.create(u)})},"parse"),n.find=i(function(r){var o=mn.apps.find(function(s){return s.isAttachedTo(r)});return o?Bc(o):null},"find"),n.registerPlugin=i(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o.forEach(rE),Hc()},"registerPlugin"),n.getOptions=i(function(){var r={};return l(uo(),function(o,s){r[o]=s[0]}),r},"getOptions$1"),n.setOptions=i(function(r){return nt(r)&&(mn.apps.forEach(function(o){o.setOptions(r)}),nm(r)),n.getOptions()},"setOptions$1")}n.supported=Xs,Object.defineProperty(n,"__esModule",{value:!0})})});var kp=Qs((jl,Wl)=>{(function(n,t){typeof jl=="object"&&typeof Wl<"u"?Wl.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.weekSelect=t())})(jl,function(){"use strict";function n(e){try{if(typeof e.composedPath=="function"){var a=e.composedPath();return a[0]}return e.target}catch{return e.target}}i(n,"getEventTarget");function t(){return function(e){function a(b){var _=n(b);if(_.classList.contains("flatpickr-day"))for(var A=e.days.childNodes,D=_.$i,w=D/7,V=A[7*Math.floor(w)].dateObj,R=A[7*Math.ceil(w+.01)-1].dateObj,M=A.length;M--;){var U=A[M],Z=U.dateObj;Z>R||Z<V?U.classList.remove("inRange"):U.classList.add("inRange")}}i(a,"onDayHover");function l(){var b=e.latestSelectedDateObj;b!==void 0&&b.getMonth()===e.currentMonth&&b.getFullYear()===e.currentYear&&(e.weekStartDay=e.days.childNodes[7*Math.floor(e.selectedDateElem.$i/7)].dateObj,e.weekEndDay=e.days.childNodes[7*Math.ceil(e.selectedDateElem.$i/7+.01)-1].dateObj);for(var _=e.days.childNodes,A=_.length;A--;){var D=_[A].dateObj;D>=e.weekStartDay&&D<=e.weekEndDay&&_[A].classList.add("week","selected")}}i(l,"highlightWeek");function f(){for(var b=e.days.childNodes,_=b.length;_--;)b[_].classList.remove("inRange")}i(f,"clearHover");function d(){e.daysContainer!==void 0&&e.daysContainer.addEventListener("mouseover",a)}i(d,"onReady");function E(){e.daysContainer!==void 0&&e.daysContainer.removeEventListener("mouseover",a)}return i(E,"onDestroy"),{onValueUpdate:l,onMonthChange:l,onYearChange:l,onOpen:l,onClose:f,onParseConfig:i(function(){e.config.mode="single",e.config.enableTime=!1,e.config.dateFormat=e.config.dateFormat?e.config.dateFormat:"\\W\\e\\e\\k #W, Y",e.config.altFormat=e.config.altFormat?e.config.altFormat:"\\W\\e\\e\\k #W, Y"},"onParseConfig"),onReady:[d,l,function(){e.loadedPlugins.push("weekSelect")}],onDestroy:E}}}return i(t,"weekSelectPlugin"),t})});var En=Object.getPrototypeOf,$r,Zs,hr,Kr,$c={isConnected:1},xE=1e3,bo,OE={},wE=En($c),Xc=En(En),Vn,Qc=i((n,t,e,a)=>(n??(setTimeout(e,a),new Set)).add(t),"addAndScheduleOnFirst"),Jc=i((n,t,e)=>{let a=hr;hr=t;try{return n(e)}catch(l){return console.error(l),e}finally{hr=a}},"runAndCaptureDeps"),Ao=i(n=>n.filter(t=>t._dom?.isConnected),"keepConnected"),Zc=i(n=>bo=Qc(bo,n,()=>{for(let t of bo)t._bindings=Ao(t._bindings),t._listeners=Ao(t._listeners);bo=Vn},xE),"addStatesToGc"),Do={get val(){return hr?._getters?.add(this),this.rawVal},get oldVal(){return hr?._getters?.add(this),this._oldVal},set val(n){hr?._setters?.add(this),n!==this.rawVal&&(this.rawVal=n,this._bindings.length+this._listeners.length?(Zs?.add(this),$r=Qc($r,this,RE)):this._oldVal=n)}},ed=i(n=>({__proto__:Do,rawVal:n,_oldVal:n,_bindings:[],_listeners:[]}),"state"),Xr=i((n,t)=>{let e={_getters:new Set,_setters:new Set},a={f:n},l=Kr;Kr=[];let f=Jc(n,e,t);f=(f??document).nodeType?f:new Text(f);for(let d of e._getters)e._setters.has(d)||(Zc(d),d._bindings.push(a));for(let d of Kr)d._dom=f;return Kr=l,a._dom=f},"bind"),el=i((n,t=ed(),e)=>{let a={_getters:new Set,_setters:new Set},l={f:n,s:t};l._dom=e??Kr?.push(l)??$c,t.val=Jc(n,a,t.rawVal);for(let f of a._getters)a._setters.has(f)||(Zc(f),f._listeners.push(l));return t},"derive"),td=i((n,...t)=>{for(let e of t.flat(1/0)){let a=En(e??0),l=a===Do?Xr(()=>e.val):a===Xc?Xr(e):e;l!=Vn&&n.append(l)}return n},"add"),nd=i((n,t,...e)=>{let[{is:a,...l},...f]=En(e[0]??0)===wE?e:[{},...e],d=n?document.createElementNS(n,t,{is:a}):document.createElement(t,{is:a});for(let[E,b]of Object.entries(l)){let _=i(R=>R?Object.getOwnPropertyDescriptor(R,E)??_(En(R)):Vn,"getPropDescriptor"),A=t+","+E,D=OE[A]??=_(En(d))?.set??0,w=E.startsWith("on")?(R,M)=>{let U=E.slice(2);d.removeEventListener(U,M),d.addEventListener(U,R)}:D?D.bind(d):d.setAttribute.bind(d,E),V=En(b??0);E.startsWith("on")||V===Xc&&(b=el(b),V=Do),V===Do?Xr(()=>(w(b.val,b._oldVal),d)):w(b)}return td(d,f)},"tag"),Kc=i(n=>({get:i((t,e)=>nd.bind(Vn,n,e),"get")}),"handler"),rd=i((n,t)=>t?t!==n&&n.replaceWith(t):n.remove(),"update"),RE=i(()=>{let n=0,t=[...$r].filter(a=>a.rawVal!==a._oldVal);do{Zs=new Set;for(let a of new Set(t.flatMap(l=>l._listeners=Ao(l._listeners))))el(a.f,a.s,a._dom),a._dom=Vn}while(++n<100&&(t=[...Zs]).length);let e=[...$r].filter(a=>a.rawVal!==a._oldVal);$r=Vn;for(let a of new Set(e.flatMap(l=>l._bindings=Ao(l._bindings))))rd(a._dom,Xr(a.f,a._dom)),a._dom=Vn;for(let a of e)a._oldVal=a.rawVal},"updateDoms"),Be={tags:new Proxy(n=>new Proxy(nd,Kc(n)),Kc()),hydrate:i((n,t)=>rd(n,Xr(t,n)),"hydrate"),add:td,state:ed,derive:el};var LE=Object.defineProperty,CE=i((n,t,e)=>t in n?LE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,"__defNormalProp"),vn=i((n,t,e)=>CE(n,typeof t!="symbol"?t+"":t,e),"__publicField"),yn=Object.getPrototypeOf,Qr,xo,sn,mr,sd={isConnected:1},ME=1e3,So,od={},PE=yn(sd),ld=yn(yn),kn,ud=i((n,t,e,a)=>(n??(setTimeout(e,a),new Set)).add(t),"addAndScheduleOnFirst"),cd=i((n,t,e)=>{let a=sn;sn=t;try{return n(e)}catch(l){return console.error(l),e}finally{sn=a}},"runAndCaptureDeps"),Oo=i(n=>n.filter(t=>{var e;return(e=t._dom)==null?void 0:e.isConnected}),"keepConnected"),dd=i(n=>So=ud(So,n,()=>{for(let t of So)t._bindings=Oo(t._bindings),t._listeners=Oo(t._listeners);So=kn},ME),"addStatesToGc"),wo={get val(){var n;return(n=sn?._getters)==null||n.add(this),this.rawVal},get oldVal(){var n;return(n=sn?._getters)==null||n.add(this),this._oldVal},set val(n){var t;(t=sn?._setters)==null||t.add(this),n!==this.rawVal&&(this.rawVal=n,this._bindings.length+this._listeners.length?(xo?.add(this),Qr=ud(Qr,this,NE)):this._oldVal=n)}},fd=i(n=>({__proto__:wo,rawVal:n,_oldVal:n,_bindings:[],_listeners:[]}),"state"),Jr=i((n,t)=>{let e={_getters:new Set,_setters:new Set},a={f:n},l=mr;mr=[];let f=cd(n,e,t);f=(f??document).nodeType?f:new Text(f);for(let d of e._getters)e._setters.has(d)||(dd(d),d._bindings.push(a));for(let d of mr)d._dom=f;return mr=l,a._dom=f},"bind"),tl=i((n,t=fd(),e)=>{let a={_getters:new Set,_setters:new Set},l={f:n,s:t};l._dom=e??mr?.push(l)??sd,t.val=cd(n,a,t.rawVal);for(let f of a._getters)a._setters.has(f)||(dd(f),f._listeners.push(l));return t},"derive"),pd=i((n,...t)=>{for(let e of t.flat(1/0)){let a=yn(e??0),l=a===wo?Jr(()=>e.val):a===ld?Jr(e):e;l!=kn&&n.append(l)}return n},"add"),hd=i((n,t,...e)=>{var a;let[l,...f]=yn(e[0]??0)===PE?e:[{},...e],d=n?document.createElementNS(n,t):document.createElement(t);for(let[E,b]of Object.entries(l)){let _=i(R=>R?Object.getOwnPropertyDescriptor(R,E)??_(yn(R)):kn,"getPropDescriptor"),A=t+","+E,D=od[A]??(od[A]=((a=_(yn(d)))==null?void 0:a.set)??0),w=E.startsWith("on")?(R,M)=>{let U=E.slice(2);d.removeEventListener(U,M),d.addEventListener(U,R)}:D?D.bind(d):d.setAttribute.bind(d,E),V=yn(b??0);E.startsWith("on")||V===ld&&(b=tl(b),V=wo),V===wo?Jr(()=>(w(b.val,b._oldVal),d)):w(b)}return pd(d,f)},"tag"),ad=i(n=>({get:i((t,e)=>hd.bind(kn,n,e),"get")}),"handler"),md=i((n,t)=>t?t!==n&&n.replaceWith(t):n.remove(),"update"),NE=i(()=>{let n=0,t=[...Qr].filter(a=>a.rawVal!==a._oldVal);do{xo=new Set;for(let a of new Set(t.flatMap(l=>l._listeners=Oo(l._listeners))))tl(a.f,a.s,a._dom),a._dom=kn}while(++n<100&&(t=[...xo]).length);let e=[...Qr].filter(a=>a.rawVal!==a._oldVal);Qr=kn;for(let a of new Set(e.flatMap(l=>l._bindings=Oo(l._bindings))))md(a._dom,Jr(a.f,a._dom)),a._dom=kn;for(let a of e)a._oldVal=a.rawVal},"updateDoms"),nl={tags:new Proxy(n=>new Proxy(hd,ad(n)),ad()),hydrate:i((n,t)=>md(n,Jr(t,n)),"hydrate"),add:pd,state:fd,derive:tl},Lo=i(()=>location.pathname.slice(1)||"home","nowPath"),$t=nl.state(Lo());window.addEventListener("popstate",()=>{$t.val=Lo()});var Ro=class{static{i(this,"Handler")}constructor(t){if(vn(this,"rule"),vn(this,"args",[]),vn(this,"Loader"),vn(this,"delayed",!1),vn(this,"onFirst"),vn(this,"onLoad"),vn(this,"element"),vn(this,"isFirstLoad",!0),!t)throw new Error("config cannot be empty");if(!t.rule)throw new Error("rule cannot be empty");if(!t.Loader)throw new Error("Loader cannot be empty");this.rule=t.rule,this.Loader=t.Loader,this.delayed=t.delayed||!1,this.onFirst=t.onFirst||(async()=>{}),this.onLoad=t.onLoad||(async()=>{}),this.element=this.Loader(),this.element.hidden=!0,nl.derive(()=>{let e=this.matchPath();e?i(async()=>{this.args.splice(0),this.args.push(...e.args),this.isFirstLoad&&(this.isFirstLoad=!1,await this.onFirst()),await this.onLoad(),this.delayed||this.show()},"func")():this.hide()})}matchPath(){if(this.rule instanceof RegExp){let e=$t.val.match(this.rule);return e?{path:$t.val,args:[...e].slice(1)}:!1}let t=$t.val.split("/").filter(e=>e.length>0);return t.length<1&&t.push("home"),t[0]==this.rule?{path:$t.val,args:t.slice(1)}:!1}show(){this.element.hidden=!1}hide(){this.element.hidden=!0}},rl=i(n=>new Ro(n).element,"Route"),il=i((n,...t)=>{let e=n==="home"&&t.length===0?"/":`/${[n,...t].join("/")}`;history.pushState(null,"",e),$t.val=Lo()},"goto"),FE={nowPath:Lo,now:$t,Handler:Ro,Route:rl,goto:il};Object.defineProperty(window,"router",{value:FE});Object.defineProperty(window,"van",{value:nl});var{polyline:gd,svg:UE,path:Ed,polygon:BE,circle:Uy,line:ln,rect:VE,ellipse:By}=Be.tags("http://www.w3.org/2000/svg"),Co=i((n={},...t)=>{let e=Be.state(n.width||24),a=Be.state(n.height||24),l=Be.state(n.stroke||"currentColor"),f=Be.state(n.strokeWidth||2),d=Be.state(n.class||""),E=Be.state(n.style||""),b=n.id||"";return UE({xmlns:"http://www.w3.org/2000/svg",width:e,height:a,viewBox:"0 0 24 24",fill:"none",stroke:l,"stroke-width":f,"stroke-linecap":"round","stroke-linejoin":"round",class:d,style:E,id:b},t)},"t");var vd=i(n=>Co(n,gd({points:"17 11 12 6 7 11"}),gd({points:"17 18 12 13 7 18"})),"v1");var yd=i(n=>Co(n,VE({x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),Ed({d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),ln({x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})),"J2");var _d=i(n=>Co(n,ln({x1:"12",y1:"2",x2:"12",y2:"6"}),ln({x1:"12",y1:"18",x2:"12",y2:"22"}),ln({x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),ln({x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),ln({x1:"2",y1:"12",x2:"6",y2:"12"}),ln({x1:"18",y1:"12",x2:"22",y2:"12"}),ln({x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),ln({x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})),"x0");var Td=i(n=>Co(n,Ed({d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),BE({points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),"To");var Id,al;function sl(n,t){let e=0;return function(){if(Date.now()-e>t)return e=Date.now(),n.apply(this,arguments)}}i(sl,"throttle");function re(n,t,e){let a=[];if(e&&(a[0]=e),t||(t="span"),Array.isArray(n)){let l=n.length,f=l;for(;l;--l)a.push(n[f-l])}else a.push(n);return Be.tags[t].apply(null,a)}i(re,"htm");function ll(n){return new Promise(t=>setTimeout(t,n))}i(ll,"sleep");async function kE(n){let{paymentIntent:{status:t}}=await n.retrievePaymentIntent(al);return console.log(t),t}i(kE,"refreshStatus");async function ul(n,t){let e=document.getElementById("payment-message");if(al&&(n.status=await kE(t)),console.log(n.status),n.error)e.textContent=`Something is amiss: ${JSON.stringify(n.error)}!`;else if(n.status==="requires_action"){let{error:a,paymentIntent:{client_secret:l,status:f,id:d}}=await t.handleNextAction({clientSecret:n.client_secret});if(a)e.textContent=`Something is amiss: ${a.message}!`;else{if(al=l,f==="requires_action")return e.textContent="Payment cancelled prematurely!",ul(n,t);e.textContent="Payment successful!!",window.location.href=`/go/message?id=${d}`}}else n.status==="succeeded"&&(e.textContent="Payment successful!",window.location.href=`/go/message?id=${id}`)}i(ul,"handleServerResponse");function ol(n){return n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}i(ol,"formatNumber");function GE(n){n||(n=.5);let t=2.9,e=.3,a=(n+e)/(1-t/100);return Math.round(a*100)/100}i(GE,"calculateGrossAmount");function cl(n,t){if(n.value!==""){var e=n.value,a=parseFloat(e.substring(4)),l=GE(a);if(t==="blur")if(Id!==a)e="US$ "+l.toString(),Id=l;else return;var f=e.length,d=n.selectionStart;if(e.indexOf(".")>=0){var E=e.indexOf("."),b=e.substring(0,E),_=e.substring(E);b=ol(b),_=ol(_),t==="blur"&&(_+="00"),_=_.substring(0,2),e="US$ "+b+"."+_}else e=ol(e),e="US$ "+e,t==="blur"&&e.length===4?e+="0.50":t==="blur"&&(e+=".00");n.value=e;var A=e.length;d=A-f+d,n.setSelectionRange(d,d)}}i(cl,"formatCurrency");var{fromEntries:HE,entries:Fo,keys:dl,hasOwn:fl,getPrototypeOf:Ad}=Object,{get:YE,set:bd,deleteProperty:qE,ownKeys:zE}=Reflect,{state:Po,derive:jE,add:WE}=Be,Mo,KE=1e3,hl,pl,Uo=Symbol(),$E=Symbol(),No=Symbol(),Gn=Symbol(),Zr=Symbol(),XE=Symbol();var ei=i(n=>n instanceof Object&&!(n instanceof Function)&&!n[XE],"isObject"),Dd=i(n=>{if(n?.[$E]){let t=Po();return jE(()=>{let e=n();ei(t.rawVal)&&ei(e)?tv(t.rawVal,e):t.val=gr(e)}),t}else return Po(gr(n))},"toState"),QE=i(n=>{let t=Array.isArray(n)?[]:{__proto__:Ad(n)};for(let[e,a]of Fo(n))t[e]=Dd(a);return t[No]=[],t[Gn]=Po(1),t},"buildStates"),JE={get:i((n,t,e)=>t===Uo?n:fl(n,t)?Array.isArray(n)&&t==="length"?(n[Gn].val,n.length):n[t].val:YE(n,t,e),"get"),set:i((n,t,e,a)=>fl(n,t)?Array.isArray(n)&&t==="length"?(e!==n.length&&++n[Gn].val,n.length=e,1):(n[t].val=gr(e),1):t in n?bd(n,t,e,a):bd(n,t,Dd(e))&&(++n[Gn].val,Bo(n).forEach(Sd.bind(hl,a,t,n[t],pl)),1),"set"),deleteProperty:i((n,t)=>(qE(n,t)&&ZE(n,t),++n[Gn].val),"deleteProperty"),ownKeys:i(n=>(n[Gn].val,zE(n)),"ownKeys")},gr=i(n=>!ei(n)||n[Uo]?n:new Proxy(QE(n),JE),"reactive");var zy=Ad(Po());var Bo=i(n=>n[No]=n[No].filter(t=>t._containerDom.isConnected),"filterBindings"),Sd=i((n,t,e,a,{_containerDom:l,f})=>{let d=Array.isArray(n),E=d?Number(t):t;WE(l,()=>l[Zr][t]=f(e,()=>delete n[t],E)),d&&!a&&E!==n.length-1&&l.insertBefore(l.lastChild,l[Zr][dl(n).find(b=>Number(b)>E)])},"addToContainer"),ZE=i((n,t)=>{for(let e of Bo(n)){let a=e._containerDom[Zr];a[t]?.remove(),delete a[t]}},"onDelete"),ev=i(n=>(Mo??(Mo=(setTimeout(()=>(Mo.forEach(Bo),Mo=hl),KE),new Set))).add(n),"addStatesToGc"),ml=i((n,t,e)=>{let a={_containerDom:n instanceof Function?n():n,f:e},l=t[Uo];a._containerDom[Zr]={},l[No].push(a),ev(l);for(let[f,d]of Fo(l))Sd(t,f,d,1,a);return a._containerDom},"list"),xd=i((n,t)=>{for(let[l,f]of Fo(t)){let d=n[l];ei(d)&&ei(f)?xd(d,f):n[l]=f}for(let l in n)fl(t,l)||delete n[l];let e=dl(t),a=Array.isArray(n);if(a||dl(n).some((l,f)=>l!==e[f])){let l=n[Uo];if(a)n.length=t.length;else{++l[Gn].val;let f={...l};for(let d of e)delete l[d];for(let d of e)l[d]=f[d]}for(let{_containerDom:f}of Bo(l)){let{firstChild:d,[Zr]:E}=f;for(let b of e)d===E[b]?d=d.nextSibling:f.insertBefore(E[b],d)}}return n},"replaceInternal"),tv=i((n,t)=>{pl=1;try{return xd(n,t instanceof Function?Array.isArray(n)?t(n.filter(e=>1)):HE(t(Fo(n))):t)}finally{pl=hl}},"replace");var ht=0;var gl=!1;function nv(n){ht=0;let t=["HOME","BOOK","NOTE","MERCH","SERVICE"];return ml(n,gr(["ome","ooking","laylists","erch","ervice"]),function(e){let a=".75em";ht||(a="0");let l=["home","booking","playlists",void 0,"payment"][ht],f=re([re("","img",{class:"letter-icon",src:`./cdn/media/img/svg/${t[ht]}.svg`})],"h2",{class:"nav-top-section","data-link":l,style:"user-select: none;"});if(ht===3){let d=re([re("","img",{class:"letter-icon",src:`./cdn/media/img/svg/${t[ht]}.svg`})],"h2",{class:"nav-top-section"});return d.addEventListener("touchend",()=>window.open("https://shop.djev.org","EvWaveMerch","noreferrer,noopener")),d.addEventListener("click",()=>window.open("https://shop.djev.org","EvWaveMerch","noreferrer,noopener")),++ht,d}return f.addEventListener("click",function(){window.router.goto(this.dataset.link)}),++ht,f})}i(nv,"TopNav");function rv(n){ht=0;let t=re("","img",{class:"exit-icon",src:"./cdn/media/img/svg/CRUX.svg"}),e=["HOME","BOOK","NOTE","MERCH","SERVICE"],a=n.firstElementChild;return t.addEventListener("touchend",sl(function(){n.addEventListener("transitionend",function(){Object.assign(n.style,{display:"none",visibility:"hidden",opacity:"0"})},{once:!0}),n.style.opacity="0"},3e3)),t.addEventListener("click",sl(function(){n.addEventListener("transitionend",function(){Object.assign(n.style,{display:"none",visibility:"hidden",opacity:"0"})},{once:!0}),n.style.opacity="0"},3e3)),Be.add(a,t),ml(a,gr(["ome","ooking","laylists","erch","ervice"]),function(l){let f=".75em";if(ht||(f="0"),ht===3){let b=re([re("","img",{class:"letter-icon",src:`./cdn/media/img/svg/${e[ht]}.svg`}),l],"h2",{style:`margin: ${f} 0 0;`});return b.addEventListener("touchend",()=>window.open("https://shop.djev.org","EvWaveMerch","noreferrer,noopener")),b.addEventListener("click",()=>window.open("https://shop.djev.org","EvWaveMerch","noreferrer,noopener")),Be.add(a,re(void 0,"br")),++ht,b}let d=["home","booking","playlists",void 0,"payment"][ht],E=re([re("","img",{class:"letter-icon",src:`./cdn/media/img/svg/${e[ht]}.svg`}),l],"h2",{"data-link":d,style:`margin: ${f} 0 0; user-select: none;`});return E.addEventListener("click",function(){let b=new Event("click");t.dispatchEvent(b),window.router.goto(this.dataset.link)}),++ht,Be.add(a,re(void 0,"br")),E})}i(rv,"Menu");async function Vo(n){let t=n.target,e=t.parentElement,a=e.parentElement.dataset.index,l=["HTTPS://INSTAGRAM.COM/_DJEV_","HTTPS://WWW.YOUTUBE.COM/@DJEV-MUSIC","HTTPS://LINKTR.EE/EVDMUSIC"];a&&(await ll(1e3),e.style.transform="none",window.open(l[parseInt(a)],"EvMusicSocials","noreferrer,noopener"))}i(Vo,"interaction");function Od(n){let t=re(re(void 0,"path",{fill:"url(#gradi-lnk)",d:"m13.7 5.9 4-4.2 2.4 2.4-4.2 4h5.9v3.3h-6l4.3 4.1-2.4 2.4L12 12l-5.7 5.8-2.4-2.4 4.3-4h-6V8h6L3.9 4l2.4-2.4 4 4.2V0h3.4zm-3.4 10.3h3.4V24h-3.4z"}),"svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon"});t.id="linktree",t.setAttributeNS(null,"viewBox","0 0 24 24");let e=re(vd({class:"icon",id:"drawer"}),"main",{class:"menu"}),a=e.firstElementChild,l=re(re("","img",{src:"./cdn/media/img/PREVIEW_LOGO.png",class:"blurry-load","data-large":"./cdn/media/img/logo_white.png"}),"div",{class:"header-img"}),f=n[5].parentElement,d=[yd({class:"icon",id:"instagram"}),Td({class:"icon",id:"youtube",stroke:"url(#gradi-yt)"}),t],E=["instagram","youtube","linktree"];d[0].children[0].style.stroke="none",d[1].children[1].style.stroke="#FFFFFF",a.children[0].setAttributeNS(null,"pointer-events","none"),a.children[1].setAttributeNS(null,"pointer-events","none");async function b(){if(gl){console.log("Transition End",`
`),gl=!1;return}Object.assign(f.style,{display:"initial",visibility:"visible"}),await ll(200),f.style.opacity="1"}i(b,"collapser");let _,A;for(e.addEventListener("touchend",()=>{console.log("Enteredd",`
`),e.addEventListener("transitionend",b,{once:!0})}),e.addEventListener("transitioncancel",()=>{gl=!0,console.log("Cancelled",`
`)}),e.addEventListener("mouseenter",()=>{f.style.opacity!=="1"&&(console.log("Entered",`
`),e.addEventListener("transitionend",b,{once:!0}))}),Be.add(l,e),a.innerHTML+="",_=3;_;--_)A=3-_,Be.add(n[A+1],re(d[A],"main",{class:`newmedia social-${E[A]}`,"data-index":A})),document.getElementById(E[A]).addEventListener("touchend",Vo),document.getElementById(E[A]).addEventListener("click",Vo);n[3].innerHTML+="",document.getElementById("linktree").addEventListener("touchend",Vo),document.getElementById("linktree").addEventListener("click",Vo);let D=re(void 0,"div",{class:"top-nav"});return Be.add(l,D),nv(D),Be.add(n[4],re("","img",{src:"./cdn/media/img/PREVIEW_SUNDOWN.png",class:"d-ev-music-image blurry-load","data-large":"./cdn/media/img/Sunset.png"})),rv(f),l}i(Od,"Header");var Rd=Js(wd(),1);function Ld(){let n=re(re("Book Us","span",{class:"button-text"}),"button",{class:"button"}),t=re(void 0,"div",{id:"carousel"}),e=Array(5).fill("").map((l,f)=>({alt:"",image:`https://cdn.jsdelivr.net/gh/ElijahDucote/DjEV@main/ntra/src/media/flyers/${f}.jpg`,content:""})),a=new Rd.RoundCarousel(t,{items:e,itemWidth:720,showControls:!0,nextButtonContent:"",prevButtonContent:""});return n.addEventListener("click",function(){il("booking")}),re([re("Looking for a DJ?","span",{class:"home-heading"}),re(void 0,"div",{class:"home-separator"}),n,t,re(void 0,"br"),re("About","span",{class:"home-heading"}),re(void 0,"div",{class:"home-separator"}),re("DJ Ev spins Chill Lo-Fi - Chillwave, Chillhop, Lo-Fi-house, Funk-soul, & open format.","span",{class:"home-description"})],"div",{class:"home-about"})}i(Ld,"Home");function iv(n){if(window._hCaptchaOnLoadPromise)return window._hCaptchaOnLoadPromise;if(window.hcaptcha)return console.warn("[@hcaptcha/vanilla-hcaptcha]: hCaptcha JS API detected to be externally loaded. Unless you know what are you doing, this task should be delegated to this web component."),window._hCaptchaOnLoadPromise=Promise.resolve(),window._hCaptchaOnLoadPromise;{let t,e;window._hCaptchaOnLoadPromise=new Promise((f,d)=>{t=f,e=d,window._hCaptchaOnLoad=t});let a=function(f){let d=f.jsapi;return d=Xt(d,"render","explicit"),d=Xt(d,"onload","_hCaptchaOnLoad"),d=Xt(d,"recaptchacompat",f.recaptchacompat==="false"?"off":void 0),d=Xt(d,"host",f.host),d=Xt(d,"hl",f.hl),d=Xt(d,"sentry",f.sentry==="false"?"false":"true"),d=Xt(d,"endpoint",f.endpoint),d=Xt(d,"assethost",f.assethost),d=Xt(d,"imghost",f.imghost),d=Xt(d,"reportapi",f.reportapi),d}(n),l=document.createElement("script");return l.src=a,l.async=!0,l.defer=!0,l.onerror=f=>{let d=`Failed to load hCaptcha JS API: "${a}"`;console.error(d,f),e(d)},document.head.appendChild(l),window._hCaptchaOnLoadPromise}}i(iv,"t");function Xt(n,t,e){if(e!=null){let a=n.includes("?")?"&":"?";return n+a+t+"="+encodeURIComponent(e)}return n}i(Xt,"e");var vl="[@hcaptcha/vanilla-hcaptcha]:",Qt=class n extends Error{static{i(this,"i")}constructor(t){super(`${vl}: ${t}`),Object.setPrototypeOf(this,n.prototype)}},_n={notRendered:'hCaptcha was not yet rendered. Please call "render()" first.',apiNotLoaded:i(n=>`hCaptcha JS API was not loaded yet. Please wait for \`loaded\` event to safely call "${n}".`,"apiNotLoaded")},yl=class extends HTMLElement{static{i(this,"o")}constructor(){super(...arguments),this.hcaptchaId=void 0,this.loadJsApiTimeout=void 0,this.jsApiLoaded=!1}connectedCallback(){this.tryLoadingJsApi()}disconnectedCallback(){this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout)}static get observedAttributes(){return["jsapi","host","endpoint","reportapi","assethost","imghost","hl","sentry","recaptchacompat"]}attributeChangedCallback(){this.tryLoadingJsApi()}isJsApiConfigValid(t){let e=!["jsapi","host","endpoint","reportapi","assethost","imghost"].some(a=>{var l;return t[a]&&!(!((l=t[a])===null||l===void 0)&&l.match(/^\w/))});return t.hl&&!t.hl.match(/[\w-]+/)&&(e=!1),t.sentry&&["true","false"].indexOf(t.sentry)===-1&&(e=!1),t.recaptchacompat&&["true","false"].indexOf(t.recaptchacompat)===-1&&(e=!1),e}tryLoadingJsApi(){let t=this.getJsApiConfig();this.isJsApiConfigValid(t)&&(this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout),this.loadJsApiTimeout=setTimeout(()=>{this.jsApiLoaded&&console.error(`${vl} JS API attributes cannot change once hCaptcha JS API is loaded.`),this.jsApiLoaded=!0,iv(t).then(this.onApiLoaded.bind(this)).catch(this.onError.bind(this))},1))}getAttr(t){return this.getAttribute(t)||void 0}getJsApiConfig(){return{host:this.getAttr("host"),hl:this.getAttr("hl"),sentry:this.getAttr("sentry"),recaptchacompat:this.getAttr("recaptchacompat"),jsapi:this.getAttr("jsapi")||"https://js.hcaptcha.com/1/api.js",endpoint:this.getAttr("endpoint"),reportapi:this.getAttr("reportapi"),assethost:this.getAttr("assethost"),imghost:this.getAttr("imghost")}}onApiLoaded(){if(this.$emit("loaded"),this.getAttr("auto-render")==="false")return;let t=this.getAttr("rqdata"),e=this.getAttr("tabindex"),a=this.getAttr("sitekey")||this.getAttr("site-key"),l=this.getAttr("challenge-container");if(!a)return;let f={sitekey:a,theme:this.getAttr("theme"),size:this.getAttr("size"),hl:this.getAttr("hl"),tplinks:this.getAttr("tplinks")==="off"?"off":"on",tabindex:e?parseInt(e):void 0,custom:this.getAttr("custom")==="true"};l&&(f["challenge-container"]=l),this.render(f),t&&this.setData(t)}onError(t){console.error(t),this.$emit("error",{error:t})}$emit(t,e){let a;typeof Event=="function"?a=new Event(t):(a=document.createEvent("Event"),a.initEvent(t,!1,!1)),e&&Object.assign(a,e),this.dispatchEvent(a)}render(t){if(!hcaptcha)throw new Qt(_n.apiNotLoaded("render"));this.hcaptchaId?console.warn(`${vl} hCaptcha was already rendered. You may want to call 'reset()' first.`):this.hcaptchaId=hcaptcha.render(this,Object.assign(Object.assign({},t),{callback:i(()=>{let e=hcaptcha.getResponse(this.hcaptchaId),a=hcaptcha.getRespKey(this.hcaptchaId);this.$emit("verified",{token:e,eKey:a,key:e})},"callback"),"expired-callback":i(()=>{this.$emit("expired")},"expired-callback"),"chalexpired-callback":i(()=>{this.$emit("challenge-expired")},"chalexpired-callback"),"error-callback":this.onError.bind(this),"open-callback":i(()=>{this.$emit("opened")},"open-callback"),"close-callback":i(()=>{this.$emit("closed")},"close-callback")}))}setData(t){if(!this.hcaptchaId)throw new Qt(_n.notRendered);hcaptcha.setData(this.hcaptchaId,{rqdata:t})}execute(){if(!hcaptcha)throw new Qt(_n.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new Qt(_n.notRendered);hcaptcha.execute(this.hcaptchaId)}executeAsync(){if(!hcaptcha)throw new Qt(_n.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new Qt(_n.notRendered);return hcaptcha.execute(this.hcaptchaId,{async:!0})}reset(){if(!hcaptcha)throw new Qt(_n.apiNotLoaded("reset"));if(!this.hcaptchaId)throw new Qt(_n.notRendered);hcaptcha.reset(this.hcaptchaId)}};customElements.define("h-captcha",yl);var Md=null,Pd=!1,Cd={},Er=i((n,t,e)=>{let a=null;return(...l)=>{a&&window.clearTimeout(a),a=window.setTimeout(()=>{n.apply(e,l)},t)}},"debounce"),me=i((n,t)=>{t.append(n)},"mountElement"),un=i(n=>{n.parentNode?.removeChild(n)},"unmountElement"),Tl=i((n,t,e)=>{let a=t||new FormData,l;for(let f in n)Object.prototype.hasOwnProperty.call(n,f)&&(e?l=e+"["+f+"]":l=f,n[f]==null?a.append(l,""):typeof n[f]=="object"&&!(n[f]instanceof File)?Tl(n[f],a,f):a.append(l,n[f]));return a},"objectToFormData"),ov=i(n=>Go.includes(n),"isField"),av=i(n=>Ho.includes(n),"isGroup"),sv=i(n=>Yo.includes(n),"isButton"),Nd=i(n=>ov(n)?be.field:av(n)?be.group:sv(n)?be.button:null,"getFormElementType");var Fd=i((n,t,e)=>n+"["+t+"]"+e,"transformFieldName"),Hn=i((n,t)=>Hd+n+Yd+t,"generateFieldSaveKey"),lv=i(n=>n instanceof Date&&!isNaN(n),"isDateValid"),uv=i((n,t)=>{let e=new Date(n);return e.setDate(e.getDate()+t),e},"calculateDateAfterAddingDays"),cv=i(n=>n.match(/^([a-zA-Z]+)@(\d+)$/),"parseKey"),dv=i(n=>qd.includes(n),"isKeyInLicenseKeys"),fv=i(n=>uv(n,-Xd),"calculateMinPurchaseDate"),pv=i((n,t)=>t<n?Ft.VALID:Ft.OUTDATED,"determineLicenseState"),Ud=i(()=>{let n=Md;if(!n)return Ft.INVALID;if(dv(n))return Ft.VALID;let t=cv(n);if(t?.[1]?.length===10){let[,,e]=t,a=new Date(parseInt(e,10)*1e3),l=new Date(Qd);if(lv(l)){let f=fv(l);return pv(a,f)}}return Ft.INVALID},"processLicenseKey"),Il=i(n=>{Md=n},"setLicenseKey"),Bd=i(n=>n===Ft.VALID?zd:n===Ft.OUTDATED?Wd:jd,"getLicenseText"),Vd=i(n=>{n===Ft.INVALID?console.error(Kd):console.error($d)},"handleInvalidLicenseLog"),bl=i(()=>Pd,"usesLicensedFetures"),ti=i(()=>{Pd=!0},"useLicensedFetures"),Ut=i(n=>n.split(kd).filter(t=>t.includes(_l)).map(t=>{let[e,a]=t.split(_l);return{conditions:e.replace(/^\[|\]$/g,"").split("&&").map(f=>f.split("||").map(d=>{let E=d.match(/(.*?)(=|!=|>|<|>=|<=)(.*)/);if(!E)throw new Error(`Invalid condition format: ${d}`);let[,b,_,A]=E,D,w=A.trim().startsWith(Gd);if(w)D=new Date(A.trim().substring(5));else try{D=JSON.parse(A.trim())}catch{D=A.trim()}return{left:b.trim(),operator:_,right:D,isDate:w}})),returnValue:a}}),"parseConditionString"),Bt=i((n,t,e=null,a=null,l=!1)=>{for(let{conditions:f,returnValue:d}of n)if(f.every(b=>b.some(({left:_,operator:A,right:D})=>{let w={_value:e,_required:a,...t},V=hv(w,_);return mv(A,V,D)})))try{return JSON.parse(d)}catch{return d}return l},"evaluateParsedConditions"),hv=i((n,t)=>t.split(".").reduce((e,a)=>e&&e[a],n),"getNestedValue"),mv=i((n,t,e)=>{switch(n){case"=":return t===e;case"!=":return t!==e;case">":return t>e;case"<":return t<e;case">=":return t>=e;case"<=":return t<=e}},"compareValues"),vr=i(n=>{try{JSON.parse(n)}catch{return!1}return!0},"isJson");var Vt=i((n,t)=>Object.keys(Cd).includes(n)?Object.assign({},t,Cd[n]):t,"getOverwritenDefaults");var Jd="https://formsjs.io/documentation/v1/licensing",Zd="#",ef="position: fixed !important; font-weight: bold; font-size: .8rem;  bottom: 1rem !important;  left: 1rem !important;  background: #fff;  border: 2px solid red;  padding: .5rem;  border-radius: 0.15rem;  z-index: 99999 !important;  display: inline-flex !important;  align-items: center;  color: red;  text-decoration: none;  transition: 0.2s linear;",kd=";",_l=":",Gd="date!",tf="formsjs-form",nf="form-button-container",rf="form-group-container",of="form-group",af="form-group-label",sf="btn form-button",We="form-input",lf="form-field-container",Tn="form-field",Yn="form-field-label",uf="form-field-validation",yr="form-error",Al="field-disabled",Dl="field-required",cf="form-input-checkbox",df="is-toggle",ff="toggle-slider",pf="form-input-color",hf="form-input-radio",mf="form-input-range",gf="form-input-range-min",Ef="form-input-range-max",vf="form-input-range-value",yf="form-input-select",_f="form-input-static",Tf="password-container",Sl="pass-shown",xl="pass-hidden",xe="This field is required",If="Not a valid email address",bf="Not a valid telephone number",Af="Not a valid url address",qo="The value should be bigger than ",zo="The value should be less than ",ut="div",qn="span",_r="label",Df="form",Sf="a",jo="button",rt="input",zn="p",xf="h3",Of="output",wf="select",Rf="option",Lf="optgroup",Cf="textarea",Jt="_container",cn="_label",Mf="_validation",Pf="_group_container",Hd="__formsjs_",Yd="_field_",Nf="_min",Ff="_max",Uf="_value",fe="id",Bf="action",Vf="method",kf="submit",Gf="reset",Ve="type",Hf="href",Wo="click",Yf="input",Ke="name",mt="placeholder",Tr="for",Ir="aria-invalid",br="aria-describedby",jn="disabled";var kt="checked",it="change",Ko="multiple",qf="accept",$o="min",Xo="max",Qo="step",ni="value",Jo="label",Wn="selected",zf="rows",ri="group",Ol="button",ii="checkbox",oi="color",ai="date",si="datetime",li="email",ui="file",ci="hidden",di="number",Ar="password",fi="radio",pi="range",hi="select",mi="static",gi="tel",Ei="textarea",Kn="text",vi="time",yi="url",_i="week";var Go=[],Ho=[],Yo=[];var be={field:"field",group:"group",button:"button"},wl={},qd=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],zd="forms.js license key is valid",jd="forms.js license key is invalid",Wd="forms.js license key is outdated",Kd="forms.js license key is invalid, please use a valid license key.",$d="forms.js license key is outdated, please update your license key.",Xd=372,Ft={VALID:1,OUTDATED:2,INVALID:3},Qd="2024-05-08",Ze=i((n,t,e,a=!1)=>{switch(e){case be.button:Yo.push(n);break;case be.group:Ho.push(n);break;case be.field:Go.push(n);break}a&&ti(),wl[n]=t},"registerConstructor");var Ae=class{static{i(this,"Field")}options={id:"",type:Kn,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),default:"",debounce:200,className:We};inputElement=null;containerElement=null;labelElement=null;validationElement=null;hasScheme=!1;_id;_parent;_form;_isValid=null;_isDisabled=!1;_isRequired=!1;_isMounted=!1;_isVisible=!0;_saveKey;_vMessage=null;_value=null;_type;_parsedConditions=null;_parsedValidationConditions=null;_parsedRequiredConditions=null;_parsedDisabledConditions=null;_triggerEvents=!0;constructor(t,e,a){this.initializeOptions(a),this._id=this.options.id,this._form=e,this._parent=t,this._type=a.type,this._saveKey=Hn(this._form.getId(),this._id)}initializeOptions(t){this.options=Object.assign({},this.options,Vt(this.options.type,t))}async initialize(){this.parseStringConditions(),this.load(),this.update(),this.bindChange()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Ut(this.options.conditions)),typeof this.options.disabled=="string"&&(this._parsedDisabledConditions=Ut(this.options.disabled)),typeof this.options.required=="string"&&(this._parsedRequiredConditions=Ut(this.options.required)),typeof this.options.validation=="string"&&(this._parsedValidationConditions=Ut(this.options.validation))}setValue(t,e=!0){this._value=t,this.syncValue(),this._form.setData(this._id,t),e&&this.save()}syncValue(){this.inputElement&&(this.inputElement instanceof HTMLInputElement||this.inputElement instanceof HTMLTextAreaElement)&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getValidity(){return this._isValid}isDisabled(){return this._isDisabled}isRequired(){return this._isRequired}getValidationMessage(){return this._vMessage}getForm(){return this._form}createContainerElement(){this.containerElement=document.createElement("div"),this.containerElement.className=Tn+" "+this._type,this.containerElement.setAttribute(fe,this._id+Jt)}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this._id),this.inputElement.setAttribute(Ke,this.options.name||this._id),this.inputElement.setAttribute(Ve,this._type),this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder),this.inputElement.className=this.options.className}createLabelElement(){this.labelElement=document.createElement(_r);let t=document.createElement(zn);this.options.label&&(typeof this.options.label=="string"?t.innerText=this.options.label:typeof this.options.label=="function"&&(t.innerHTML="",t.append(this.options.label()))),t.setAttribute(fe,this._id+cn),this.labelElement.setAttribute(Tr,this._id),t.className=Yn,this.options.label&&me(t,this.labelElement)}createValidationElement(){this.validationElement=document.createElement(zn),this.validationElement.setAttribute(fe,this._id+Mf),this.validationElement.className=uf,this.validationElement.style.display="none"}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement)}mount(){this.containerElement&&me(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&un(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleValidatedField(){this._isValid?(this.validationElement&&(this.validationElement.style.display="none",this.validationElement.innerHTML=""),this.labelElement?.classList.remove(yr),this.inputElement?.removeAttribute(Ir),this.inputElement?.removeAttribute(br)):(this.labelElement?.classList.add(yr),this.validationElement&&this._vMessage&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(this._vMessage,this._form.getData()))):this.validationElement.innerText=this._vMessage,this.validationElement.style.display="block"),this.inputElement?.setAttribute(Ir,"true"),this.inputElement?.setAttribute(br,this.validationElement?.getAttribute("id")||"")),this._form.updateError(this._id,this._isValid)}handleVisibility(){this._isVisible&&!this._isMounted&&(this.mount(),this._form.setData(this._id,this._value)),!this._isVisible&&this._isMounted&&(this._form.removeData(this._id),this.unmount())}handleDisabled(){this._isDisabled?(this.containerElement?.classList.add(Al),this.inputElement?.setAttribute(jn,"true")):(this.inputElement?.removeAttribute(jn),this.containerElement?.classList.remove(Al))}handleRequired(){this._isRequired?this.containerElement?.classList.add(Dl):this.containerElement?.classList.remove(Dl)}bindChange(){this.inputElement&&this.inputElement.addEventListener(Yf,Er(this.change,this.options.debounce,this))}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let t=localStorage.getItem(this._saveKey);if(t!==null){this.setValue(vr(t)?JSON.parse(t):t,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){this._triggerEvents=!1,localStorage.removeItem(this._saveKey),this.options.default!==void 0?this.setValue(this.options.default,!1):this.setValue(null,!1),this.update(),this._triggerEvents=!0,this.dispatchEvent("resetted")}async update(){this.updateVisibilityBasedOnConditions(),this.updateDisabledStatus(),this.updateRequiredStatus(),this.handleVisibility(),this.handleDisabled(),this.handleRequired()}updateVisibilityBasedOnConditions(){let t=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Bt(this._parsedConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._value,this._form.getData()))),t!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}updateDisabledStatus(){let t=this._isDisabled;this.options.disabled&&(typeof this.options.disabled=="string"&&this._parsedDisabledConditions?this._isDisabled=Bt(this._parsedDisabledConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.disabled=="function"?this._isDisabled=this.options.disabled(this._value,this._form.getData()):typeof this.options.disabled=="boolean"&&(this._isDisabled=this.options.disabled)),t!==this._isDisabled&&this.dispatchEvent("disabledStateChanged",this._isDisabled)}updateRequiredStatus(){let t=this._isRequired;this.options.required&&(typeof this.options.required=="string"&&this._parsedRequiredConditions?this._isRequired=Bt(this._parsedRequiredConditions,this._form.getData(),this._value):typeof this.options.required=="function"?this._isRequired=this.options.required(this._value,this._form.getData()):typeof this.options.required=="boolean"&&(this._isRequired=this.options.required)),t!==this._isRequired&&this.dispatchEvent("requiredStateChanged",this._isRequired)}validate(){if(!this._isVisible)return!0;if(this.options.validation){if(typeof this.options.validation=="string"&&this._parsedValidationConditions){let t=Bt(this._parsedValidationConditions,this._form.getData(),this._value,this._isRequired,!0);this.setValidationValues(t)}else if(typeof this.options.validation=="function"){let t=this.options.validation(this._value,this._form.getData(),this._isRequired);this.setValidationValues(t)}else this._isValid=!0;this.handleValidatedField()}else this._isValid=!0;return this._isValid}setValidationValues(t){this._isValid=t===!0,this._vMessage=t===!0?"":t,this._isValid||this.dispatchEvent("validationFailed",this._vMessage)}change(t){this.setValue(t.target.value),this.validate(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",this._value)}triggerEvents(t){this._triggerEvents=t}dispatchEvent(t,e=null){if(!this._triggerEvents)return;let a=e!==null?new CustomEvent(t,{detail:e}):new CustomEvent(t);this.inputElement?.dispatchEvent(a)}on(t,e,a){this.inputElement?.addEventListener(t,e,a)}off(t,e,a){this.inputElement?.removeEventListener(t,e,a)}};var Zo=class extends Ae{static{i(this,"RadioField")}options={id:"",type:fi,schema:[],required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),default:null,className:hf};inputElements=[];labelElements=[];constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.handleVisibility()}syncValue(){this.inputElements.forEach(t=>{t.value!==this.getValue()&&t.hasAttribute(kt)?t.removeAttribute(kt):t.value===this.getValue()&&!t.hasAttribute(kt)&&t.setAttribute(kt,"")})}createRadioLabelElement(t,e,a,l){let f=document.createElement(_r);a&&f&&me(a,f);let d=document.createElement(zn);t&&(typeof t=="string"?d.innerText=t:typeof t=="function"&&(d.innerHTML="",d.append(t()))),d.setAttribute(fe,e+cn),f.setAttribute(Tr,e),d.className=Yn,f.append(d),this.labelElements.push(f),l&&f&&me(f,l)}createRadioInputElement(t,e){let a=document.createElement(rt);return a.setAttribute(fe,t),a.setAttribute(Ke,this.getId()),a.setAttribute(ni,e),this.options.default&&e===this.options.default&&a.setAttribute(kt,"true"),a.setAttribute(Ve,this.getType()),a.className=this.options.className,this.inputElements.push(a),this.bindChange(),a}onGui(){this.createContainerElement();let t=document.createElement("p");this.options.label&&(typeof this.options.label=="string"?t.innerText=this.options.label:typeof this.options.label=="function"&&(t.innerHTML="",t.append(this.options.label()))),this.options.label&&this.containerElement&&me(t,this.containerElement),t.setAttribute(fe,this.getId()+cn),t.className=Yn;let e=document.createElement(ut);e.className=lf,this.options.schema.forEach(a=>{let l=this.createRadioInputElement(a.id,a.value);this.createRadioLabelElement(a.label,a.id,l,e)}),this.containerElement&&e&&me(e,this.containerElement),this.createValidationElement(),this.containerElement&&this.validationElement&&me(this.validationElement,this.containerElement)}handleValidatedField(){if(this.getValidity())this.validationElement&&(this.validationElement.style.display="none"),this.inputElements.forEach(e=>{e?.classList.remove(yr),e?.removeAttribute(Ir),e?.removeAttribute(br)});else{this.inputElements.forEach(a=>{a?.classList.add(yr),a?.setAttribute(Ir,"true"),a?.setAttribute(br,this.validationElement?.getAttribute("id")||"")});let e=this.getValidationMessage();this.validationElement&&e&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(e,this.getForm().getData()))):this.validationElement.innerText=e,this.validationElement.style.display="block")}this.getForm().updateError(this.getId(),this.getValidity())}bindChange(){this.inputElements[this.inputElements.length-1]&&this.inputElements[this.inputElements.length-1].addEventListener(it,t=>{this.change(t)})}getValue(){return this._value}};var ea=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],In={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:i(function(n){return typeof console<"u"&&console.warn(n)},"errorHandler"),getWeek:i(function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},"getWeek"),hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var ta={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:i(function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},"ordinal"),rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},na=ta;var gt=i(function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},"pad"),St=i(function(n){return n===!0?1:0},"int");function Rl(n,t){var e;return function(){var a=this,l=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(a,l)},t)}}i(Rl,"debounce");var ra=i(function(n){return n instanceof Array?n:[n]},"arrayify");function Et(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}i(Et,"toggleClass");function Re(n,t,e){var a=window.document.createElement(n);return t=t||"",e=e||"",a.className=t,e!==void 0&&(a.textContent=e),a}i(Re,"createElement");function Ti(n){for(;n.firstChild;)n.removeChild(n.firstChild)}i(Ti,"clearNode");function Ll(n,t){if(t(n))return n;if(n.parentNode)return Ll(n.parentNode,t)}i(Ll,"findParent");function Ii(n,t){var e=Re("div","numInputWrapper"),a=Re("input","numInput "+n),l=Re("span","arrowUp"),f=Re("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?a.type="number":(a.type="text",a.pattern="\\d*"),t!==void 0)for(var d in t)a.setAttribute(d,t[d]);return e.appendChild(a),e.appendChild(l),e.appendChild(f),e}i(Ii,"createNumberInput");function xt(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch{return n.target}}i(xt,"getEventTarget");var Cl=i(function(){},"doNothing"),bi=i(function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},"monthToStr"),jf={D:Cl,F:i(function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},"F"),G:i(function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},"G"),H:i(function(n,t){n.setHours(parseFloat(t))},"H"),J:i(function(n,t){n.setDate(parseFloat(t))},"J"),K:i(function(n,t,e){n.setHours(n.getHours()%12+12*St(new RegExp(e.amPM[1],"i").test(t)))},"K"),M:i(function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},"M"),S:i(function(n,t){n.setSeconds(parseFloat(t))},"S"),U:i(function(n,t){return new Date(parseFloat(t)*1e3)},"U"),W:i(function(n,t,e){var a=parseInt(t),l=new Date(n.getFullYear(),0,2+(a-1)*7,0,0,0,0);return l.setDate(l.getDate()-l.getDay()+e.firstDayOfWeek),l},"W"),Y:i(function(n,t){n.setFullYear(parseFloat(t))},"Y"),Z:i(function(n,t){return new Date(t)},"Z"),d:i(function(n,t){n.setDate(parseFloat(t))},"d"),h:i(function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},"h"),i:i(function(n,t){n.setMinutes(parseFloat(t))},"i"),j:i(function(n,t){n.setDate(parseFloat(t))},"j"),l:Cl,m:i(function(n,t){n.setMonth(parseFloat(t)-1)},"m"),n:i(function(n,t){n.setMonth(parseFloat(t)-1)},"n"),s:i(function(n,t){n.setSeconds(parseFloat(t))},"s"),u:i(function(n,t){return new Date(parseFloat(t))},"u"),w:Cl,y:i(function(n,t){n.setFullYear(2e3+parseFloat(t))},"y")},dn={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Dr={Z:i(function(n){return n.toISOString()},"Z"),D:i(function(n,t,e){return t.weekdays.shorthand[Dr.w(n,t,e)]},"D"),F:i(function(n,t,e){return bi(Dr.n(n,t,e)-1,!1,t)},"F"),G:i(function(n,t,e){return gt(Dr.h(n,t,e))},"G"),H:i(function(n){return gt(n.getHours())},"H"),J:i(function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},"J"),K:i(function(n,t){return t.amPM[St(n.getHours()>11)]},"K"),M:i(function(n,t){return bi(n.getMonth(),!0,t)},"M"),S:i(function(n){return gt(n.getSeconds())},"S"),U:i(function(n){return n.getTime()/1e3},"U"),W:i(function(n,t,e){return e.getWeek(n)},"W"),Y:i(function(n){return gt(n.getFullYear(),4)},"Y"),d:i(function(n){return gt(n.getDate())},"d"),h:i(function(n){return n.getHours()%12?n.getHours()%12:12},"h"),i:i(function(n){return gt(n.getMinutes())},"i"),j:i(function(n){return n.getDate()},"j"),l:i(function(n,t){return t.weekdays.longhand[n.getDay()]},"l"),m:i(function(n){return gt(n.getMonth()+1)},"m"),n:i(function(n){return n.getMonth()+1},"n"),s:i(function(n){return n.getSeconds()},"s"),u:i(function(n){return n.getTime()},"u"),w:i(function(n){return n.getDay()},"w"),y:i(function(n){return String(n.getFullYear()).substring(2)},"y")};var Ml=i(function(n){var t=n.config,e=t===void 0?In:t,a=n.l10n,l=a===void 0?ta:a,f=n.isMobile,d=f===void 0?!1:f;return function(E,b,_){var A=_||l;return e.formatDate!==void 0&&!d?e.formatDate(E,b,A):b.split("").map(function(D,w,V){return Dr[D]&&V[w-1]!=="\\"?Dr[D](E,A,e):D!=="\\"?D:""}).join("")}},"createDateFormatter"),ia=i(function(n){var t=n.config,e=t===void 0?In:t,a=n.l10n,l=a===void 0?ta:a;return function(f,d,E,b){if(!(f!==0&&!f)){var _=b||l,A,D=f;if(f instanceof Date)A=new Date(f.getTime());else if(typeof f!="string"&&f.toFixed!==void 0)A=new Date(f);else if(typeof f=="string"){var w=d||(e||In).dateFormat,V=String(f).trim();if(V==="today")A=new Date,E=!0;else if(e&&e.parseDate)A=e.parseDate(f,w);else if(/Z$/.test(V)||/GMT$/.test(V))A=new Date(f);else{for(var R=void 0,M=[],U=0,Z=0,Y="";U<w.length;U++){var ae=w[U],Me=ae==="\\",Le=w[U-1]==="\\"||Me;if(dn[ae]&&!Le){Y+=dn[ae];var ke=new RegExp(Y).exec(f);ke&&(R=!0)&&M[ae!=="Y"?"push":"unshift"]({fn:jf[ae],val:ke[++Z]})}else Me||(Y+=".")}A=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),M.forEach(function(ce){var _e=ce.fn,pe=ce.val;return A=_e(A,pe,_)||A}),A=R?A:void 0}}if(!(A instanceof Date&&!isNaN(A.getTime()))){e.errorHandler(new Error("Invalid date provided: "+D));return}return E===!0&&A.setHours(0,0,0,0),A}}},"createDateParser");function Ot(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}i(Ot,"compareDates");var Wf=i(function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},"isBetween"),oa=i(function(n,t,e){return n*3600+t*60+e},"calculateSecondsSinceMidnight"),Kf=i(function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},"parseSeconds"),$f={DAY:864e5};function aa(n){var t=n.defaultHour,e=n.defaultMinute,a=n.defaultSeconds;if(n.minDate!==void 0){var l=n.minDate.getHours(),f=n.minDate.getMinutes(),d=n.minDate.getSeconds();t<l&&(t=l),t===l&&e<f&&(e=f),t===l&&e===f&&a<d&&(a=n.minDate.getSeconds())}if(n.maxDate!==void 0){var E=n.maxDate.getHours(),b=n.maxDate.getMinutes();t=Math.min(t,E),t===E&&(e=Math.min(b,e)),t===E&&e===b&&(a=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:a}}i(aa,"getDefaultHours");typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var a=i(function(E){E&&Object.keys(E).forEach(function(b){return n[b]=E[b]})},"_loop_1"),l=0,f=t;l<f.length;l++){var d=f[l];a(d)}return n});var vt=function(){return vt=Object.assign||function(n){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l])}return n},vt.apply(this,arguments)},Xf=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var a=Array(n),l=0,t=0;t<e;t++)for(var f=arguments[t],d=0,E=f.length;d<E;d++,l++)a[l]=f[d];return a},gv=300;function Ev(n,t){var e={config:vt(vt({},In),ot.defaultConfig),l10n:na};e.parseDate=ia({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=M,e._setHoursFromDate=w,e._positionCalendar=Rn,e.changeMonth=Nr,e.changeYear=Zn,e.clear=ds,e.close=fs,e.onMouseOver=Tt,e._createElement=Re,e.createDay=ke,e.destroy=ps,e.isEnabled=$e,e.jumpToDate=Y,e.updateValue=It,e.open=er,e.redraw=tn,e.set=Qi,e.setDate=ms,e.toggle=Es;function a(){e.utils={getDaysInMonth:i(function(v,T){return v===void 0&&(v=e.currentMonth),T===void 0&&(T=e.currentYear),v===1&&(T%4===0&&T%100!==0||T%400===0)?29:e.l10n.daysInMonth[v]},"getDaysInMonth")}}i(a,"setupHelperFunctions");function l(){e.element=e.input=n,e.isOpen=!1,$i(),pt(),nt(),gs(),a(),e.isMobile||Le(),Z(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&w(e.config.noCalendar?e.latestSelectedDateObj:void 0),It(!1)),E();var v=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&v&&Rn(),Ge("onReady")}i(l,"init");function f(){var v;return((v=e.calendarContainer)===null||v===void 0?void 0:v.getRootNode()).activeElement||document.activeElement}i(f,"getClosestActiveElement");function d(v){return v.bind(e)}i(d,"bindToInstance");function E(){var v=e.config;v.weekNumbers===!1&&v.showMonths===1||v.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var T=(e.days.offsetWidth+1)*v.showMonths;e.daysContainer.style.width=T+"px",e.calendarContainer.style.width=T+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}i(E,"setCalendarWidth");function b(v){if(e.selectedDates.length===0){var T=e.config.minDate===void 0||Ot(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),O=aa(e.config);T.setHours(O.hours,O.minutes,O.seconds,T.getMilliseconds()),e.selectedDates=[T],e.latestSelectedDateObj=T}v!==void 0&&v.type!=="blur"&&_s(v);var P=e._input.value;D(),It(),e._input.value!==P&&e._debouncedChange()}i(b,"updateTime");function _(v,T){return v%12+12*St(T===e.l10n.amPM[1])}i(_,"ampm2military");function A(v){switch(v%24){case 0:case 12:return 12;default:return v%12}}i(A,"military2ampm");function D(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var v=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,T=(parseInt(e.minuteElement.value,10)||0)%60,O=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(v=_(v,e.amPM.textContent));var P=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Ot(e.latestSelectedDateObj,e.config.minDate,!0)===0,z=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Ot(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var X=oa(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),Te=oa(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),ie=oa(v,T,O);if(ie>Te&&ie<X){var ve=Kf(X);v=ve[0],T=ve[1],O=ve[2]}}else{if(z){var oe=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;v=Math.min(v,oe.getHours()),v===oe.getHours()&&(T=Math.min(T,oe.getMinutes())),T===oe.getMinutes()&&(O=Math.min(O,oe.getSeconds()))}if(P){var de=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;v=Math.max(v,de.getHours()),v===de.getHours()&&T<de.getMinutes()&&(T=de.getMinutes()),T===de.getMinutes()&&(O=Math.max(O,de.getSeconds()))}}V(v,T,O)}}i(D,"setHoursFromInputs");function w(v){var T=v||e.latestSelectedDateObj;T&&T instanceof Date&&V(T.getHours(),T.getMinutes(),T.getSeconds())}i(w,"setHoursFromDate");function V(v,T,O){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(v%24,T,O||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=gt(e.config.time_24hr?v:(12+v)%12+12*St(v%12===0)),e.minuteElement.value=gt(T),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[St(v>=12)]),e.secondElement!==void 0&&(e.secondElement.value=gt(O)))}i(V,"setHours");function R(v){var T=xt(v),O=parseInt(T.value)+(v.delta||0);(O/1e3>1||v.key==="Enter"&&!/[^\d]/.test(O.toString()))&&Zn(O)}i(R,"onYearInput");function M(v,T,O,P){if(T instanceof Array)return T.forEach(function(z){return M(v,z,O,P)});if(v instanceof Array)return v.forEach(function(z){return M(z,T,O,P)});v.addEventListener(T,O,P),e._handlers.push({remove:i(function(){return v.removeEventListener(T,O,P)},"remove")})}i(M,"bind");function U(){Ge("onChange")}i(U,"triggerChange");function Z(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(O){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+O+"]"),function(P){return M(P,"click",e[O])})}),e.isMobile){Ur();return}var v=Rl(hs,50);if(e._debouncedChange=Rl(U,gv),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&M(e.daysContainer,"mouseover",function(O){e.config.mode==="range"&&Tt(xt(O))}),M(e._input,"keydown",wn),e.calendarContainer!==void 0&&M(e.calendarContainer,"keydown",wn),!e.config.inline&&!e.config.static&&M(window,"resize",v),window.ontouchstart!==void 0?M(window.document,"touchstart",ze):M(window.document,"mousedown",ze),M(window.document,"focus",ze,{capture:!0}),e.config.clickOpens===!0&&(M(e._input,"focus",e.open),M(e._input,"click",e.open)),e.daysContainer!==void 0&&(M(e.monthNav,"click",ys),M(e.monthNav,["keyup","increment"],R),M(e.daysContainer,"click",Kt)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var T=i(function(O){return xt(O).select()},"selText");M(e.timeContainer,["increment"],b),M(e.timeContainer,"blur",b,{capture:!0}),M(e.timeContainer,"click",ae),M([e.hourElement,e.minuteElement],["focus","click"],T),e.secondElement!==void 0&&M(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&M(e.amPM,"click",function(O){b(O)})}e.config.allowInput&&M(e._input,"blur",Wi)}i(Z,"bindEvents");function Y(v,T){var O=v!==void 0?e.parseDate(v):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),P=e.currentYear,z=e.currentMonth;try{O!==void 0&&(e.currentYear=O.getFullYear(),e.currentMonth=O.getMonth())}catch(X){X.message="Invalid date supplied: "+O,e.config.errorHandler(X)}T&&e.currentYear!==P&&(Ge("onYearChange"),_t()),T&&(e.currentYear!==P||e.currentMonth!==z)&&Ge("onMonthChange"),e.redraw()}i(Y,"jumpToDate");function ae(v){var T=xt(v);~T.className.indexOf("arrow")&&Me(v,T.classList.contains("arrowUp")?1:-1)}i(ae,"timeIncrement");function Me(v,T,O){var P=v&&xt(v),z=O||P&&P.parentNode&&P.parentNode.firstChild,X=Br("increment");X.delta=T,z&&z.dispatchEvent(X)}i(Me,"incrementNumInput");function Le(){var v=window.document.createDocumentFragment();if(e.calendarContainer=Re("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(v.appendChild(ls()),e.innerContainer=Re("div","flatpickr-innerContainer"),e.config.weekNumbers){var T=cs(),O=T.weekWrapper,P=T.weekNumbers;e.innerContainer.appendChild(O),e.weekNumbers=P,e.weekWrapper=O}e.rContainer=Re("div","flatpickr-rContainer"),e.rContainer.appendChild(ji()),e.daysContainer||(e.daysContainer=Re("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Gt(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),v.appendChild(e.innerContainer)}e.config.enableTime&&v.appendChild(us()),Et(e.calendarContainer,"rangeMode",e.config.mode==="range"),Et(e.calendarContainer,"animate",e.config.animate===!0),Et(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(v);var z=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!z&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var X=Re("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(X,e.element),X.appendChild(e.element),e.altInput&&X.appendChild(e.altInput),X.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}i(Le,"build");function ke(v,T,O,P){var z=$e(T,!0),X=Re("span",v,T.getDate().toString());return X.dateObj=T,X.$i=P,X.setAttribute("aria-label",e.formatDate(T,e.config.ariaDateFormat)),v.indexOf("hidden")===-1&&Ot(T,e.now)===0&&(e.todayDateElem=X,X.classList.add("today"),X.setAttribute("aria-current","date")),z?(X.tabIndex=-1,ir(T)&&(X.classList.add("selected"),e.selectedDateElem=X,e.config.mode==="range"&&(Et(X,"startRange",e.selectedDates[0]&&Ot(T,e.selectedDates[0],!0)===0),Et(X,"endRange",e.selectedDates[1]&&Ot(T,e.selectedDates[1],!0)===0),v==="nextMonthDay"&&X.classList.add("inRange")))):X.classList.add("flatpickr-disabled"),e.config.mode==="range"&&vs(T)&&!ir(T)&&X.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&v!=="prevMonthDay"&&P%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(T)+"</span>"),Ge("onDayCreate",X),X}i(ke,"createDay");function ce(v){v.focus(),e.config.mode==="range"&&Tt(v)}i(ce,"focusOnDayElem");function _e(v){for(var T=v>0?0:e.config.showMonths-1,O=v>0?e.config.showMonths:-1,P=T;P!=O;P+=v)for(var z=e.daysContainer.children[P],X=v>0?0:z.children.length-1,Te=v>0?z.children.length:-1,ie=X;ie!=Te;ie+=v){var ve=z.children[ie];if(ve.className.indexOf("hidden")===-1&&$e(ve.dateObj))return ve}}i(_e,"getFirstAvailableDay");function pe(v,T){for(var O=v.className.indexOf("Month")===-1?v.dateObj.getMonth():e.currentMonth,P=T>0?e.config.showMonths:-1,z=T>0?1:-1,X=O-e.currentMonth;X!=P;X+=z)for(var Te=e.daysContainer.children[X],ie=O-e.currentMonth===X?v.$i+T:T<0?Te.children.length-1:0,ve=Te.children.length,oe=ie;oe>=0&&oe<ve&&oe!=(T>0?ve:-1);oe+=z){var de=Te.children[oe];if(de.className.indexOf("hidden")===-1&&$e(de.dateObj)&&Math.abs(v.$i-oe)>=Math.abs(T))return ce(de)}e.changeMonth(z),qe(_e(z),0)}i(pe,"getNextAvailableDay");function qe(v,T){var O=f(),P=On(O||document.body),z=v!==void 0?v:P?O:e.selectedDateElem!==void 0&&On(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&On(e.todayDateElem)?e.todayDateElem:_e(T>0?1:-1);z===void 0?e._input.focus():P?pe(z,T):ce(z)}i(qe,"focusOnDay");function Oe(v,T){for(var O=(new Date(v,T,1).getDay()-e.l10n.firstDayOfWeek+7)%7,P=e.utils.getDaysInMonth((T-1+12)%12,v),z=e.utils.getDaysInMonth(T,v),X=window.document.createDocumentFragment(),Te=e.config.showMonths>1,ie=Te?"prevMonthDay hidden":"prevMonthDay",ve=Te?"nextMonthDay hidden":"nextMonthDay",oe=P+1-O,de=0;oe<=P;oe++,de++)X.appendChild(ke("flatpickr-day "+ie,new Date(v,T-1,oe),oe,de));for(oe=1;oe<=z;oe++,de++)X.appendChild(ke("flatpickr-day",new Date(v,T,oe),oe,de));for(var Ue=z+1;Ue<=42-O&&(e.config.showMonths===1||de%7!==0);Ue++,de++)X.appendChild(ke("flatpickr-day "+ve,new Date(v,T+1,Ue%z),Ue,de));var Rt=Re("div","dayContainer");return Rt.appendChild(X),Rt}i(Oe,"buildMonthDays");function Gt(){if(e.daysContainer!==void 0){Ti(e.daysContainer),e.weekNumbers&&Ti(e.weekNumbers);for(var v=document.createDocumentFragment(),T=0;T<e.config.showMonths;T++){var O=new Date(e.currentYear,e.currentMonth,1);O.setMonth(e.currentMonth+T),v.appendChild(Oe(O.getFullYear(),O.getMonth()))}e.daysContainer.appendChild(v),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Tt()}}i(Gt,"buildDays");function _t(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var v=i(function(P){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&P<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&P>e.config.maxDate.getMonth())},"shouldBuildMonth");e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var T=0;T<12;T++)if(v(T)){var O=Re("option","flatpickr-monthDropdown-month");O.value=new Date(e.currentYear,T).getMonth().toString(),O.textContent=bi(T,e.config.shorthandCurrentMonth,e.l10n),O.tabIndex=-1,e.currentMonth===T&&(O.selected=!0),e.monthsDropdownContainer.appendChild(O)}}}i(_t,"buildMonthSwitch");function Pr(){var v=Re("div","flatpickr-month"),T=window.document.createDocumentFragment(),O;e.config.showMonths>1||e.config.monthSelectorType==="static"?O=Re("span","cur-month"):(e.monthsDropdownContainer=Re("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),M(e.monthsDropdownContainer,"change",function(Te){var ie=xt(Te),ve=parseInt(ie.value,10);e.changeMonth(ve-e.currentMonth),Ge("onMonthChange")}),_t(),O=e.monthsDropdownContainer);var P=Ii("cur-year",{tabindex:"-1"}),z=P.getElementsByTagName("input")[0];z.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&z.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(z.setAttribute("max",e.config.maxDate.getFullYear().toString()),z.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var X=Re("div","flatpickr-current-month");return X.appendChild(O),X.appendChild(P),T.appendChild(X),v.appendChild(T),{container:v,yearElement:z,monthElement:O}}i(Pr,"buildMonth");function Jn(){Ti(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var v=e.config.showMonths;v--;){var T=Pr();e.yearElements.push(T.yearElement),e.monthElements.push(T.monthElement),e.monthNav.appendChild(T.container)}e.monthNav.appendChild(e.nextMonthNav)}i(Jn,"buildMonths");function ls(){return e.monthNav=Re("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=Re("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=Re("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Jn(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:i(function(){return e.__hidePrevMonthArrow},"get"),set:i(function(v){e.__hidePrevMonthArrow!==v&&(Et(e.prevMonthNav,"flatpickr-disabled",v),e.__hidePrevMonthArrow=v)},"set")}),Object.defineProperty(e,"_hideNextMonthArrow",{get:i(function(){return e.__hideNextMonthArrow},"get"),set:i(function(v){e.__hideNextMonthArrow!==v&&(Et(e.nextMonthNav,"flatpickr-disabled",v),e.__hideNextMonthArrow=v)},"set")}),e.currentYearElement=e.yearElements[0],or(),e.monthNav}i(ls,"buildMonthNav");function us(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var v=aa(e.config);e.timeContainer=Re("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var T=Re("span","flatpickr-time-separator",":"),O=Ii("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=O.getElementsByTagName("input")[0];var P=Ii("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=P.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=gt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?v.hours:A(v.hours)),e.minuteElement.value=gt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():v.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(O),e.timeContainer.appendChild(T),e.timeContainer.appendChild(P),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var z=Ii("flatpickr-second");e.secondElement=z.getElementsByTagName("input")[0],e.secondElement.value=gt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():v.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(Re("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(z)}return e.config.time_24hr||(e.amPM=Re("span","flatpickr-am-pm",e.l10n.amPM[St((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}i(us,"buildTime");function ji(){e.weekdayContainer?Ti(e.weekdayContainer):e.weekdayContainer=Re("div","flatpickr-weekdays");for(var v=e.config.showMonths;v--;){var T=Re("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(T)}return ft(),e.weekdayContainer}i(ji,"buildWeekdays");function ft(){if(e.weekdayContainer){var v=e.l10n.firstDayOfWeek,T=Xf(e.l10n.weekdays.shorthand);v>0&&v<T.length&&(T=Xf(T.splice(v,T.length),T.splice(0,v)));for(var O=e.config.showMonths;O--;)e.weekdayContainer.children[O].innerHTML=`
      <span class='flatpickr-weekday'>
        `+T.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}i(ft,"updateWeekdays");function cs(){e.calendarContainer.classList.add("hasWeeks");var v=Re("div","flatpickr-weekwrapper");v.appendChild(Re("span","flatpickr-weekday",e.l10n.weekAbbreviation));var T=Re("div","flatpickr-weeks");return v.appendChild(T),{weekWrapper:v,weekNumbers:T}}i(cs,"buildWeeks");function Nr(v,T){T===void 0&&(T=!0);var O=T?v:v-e.currentMonth;O<0&&e._hidePrevMonthArrow===!0||O>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=O,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ge("onYearChange"),_t()),Gt(),Ge("onMonthChange"),or())}i(Nr,"changeMonth");function ds(v,T){if(v===void 0&&(v=!0),T===void 0&&(T=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,T===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var O=aa(e.config),P=O.hours,z=O.minutes,X=O.seconds;V(P,z,X)}e.redraw(),v&&Ge("onChange")}i(ds,"clear");function fs(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Ge("onClose")}i(fs,"close");function ps(){e.config!==void 0&&Ge("onDestroy");for(var v=e._handlers.length;v--;)e._handlers[v].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var T=e.calendarContainer.parentNode;if(T.lastChild&&T.removeChild(T.lastChild),T.parentNode){for(;T.firstChild;)T.parentNode.insertBefore(T.firstChild,T);T.parentNode.removeChild(T)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(O){try{delete e[O]}catch{}})}i(ps,"destroy");function hn(v){return e.calendarContainer.contains(v)}i(hn,"isCalendarElem");function ze(v){if(e.isOpen&&!e.config.inline){var T=xt(v),O=hn(T),P=T===e.input||T===e.altInput||e.element.contains(T)||v.path&&v.path.indexOf&&(~v.path.indexOf(e.input)||~v.path.indexOf(e.altInput)),z=!P&&!O&&!hn(v.relatedTarget),X=!e.config.ignoredFocusElements.some(function(Te){return Te.contains(T)});z&&X&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&b(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}i(ze,"documentClick");function Zn(v){if(!(!v||e.config.minDate&&v<e.config.minDate.getFullYear()||e.config.maxDate&&v>e.config.maxDate.getFullYear())){var T=v,O=e.currentYear!==T;e.currentYear=T||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),O&&(e.redraw(),Ge("onYearChange"),_t())}}i(Zn,"changeYear");function $e(v,T){var O;T===void 0&&(T=!0);var P=e.parseDate(v,void 0,T);if(e.config.minDate&&P&&Ot(P,e.config.minDate,T!==void 0?T:!e.minDateHasTime)<0||e.config.maxDate&&P&&Ot(P,e.config.maxDate,T!==void 0?T:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(P===void 0)return!1;for(var z=!!e.config.enable,X=(O=e.config.enable)!==null&&O!==void 0?O:e.config.disable,Te=0,ie=void 0;Te<X.length;Te++){if(ie=X[Te],typeof ie=="function"&&ie(P))return z;if(ie instanceof Date&&P!==void 0&&ie.getTime()===P.getTime())return z;if(typeof ie=="string"){var ve=e.parseDate(ie,void 0,!0);return ve&&ve.getTime()===P.getTime()?z:!z}else if(typeof ie=="object"&&P!==void 0&&ie.from&&ie.to&&P.getTime()>=ie.from.getTime()&&P.getTime()<=ie.to.getTime())return z}return!z}i($e,"isEnabled");function On(v){return e.daysContainer!==void 0?v.className.indexOf("hidden")===-1&&v.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(v):!1}i(On,"isInView");function Wi(v){var T=v.target===e._input,O=e._input.value.trimEnd()!==Vr();T&&O&&!(v.relatedTarget&&hn(v.relatedTarget))&&e.setDate(e._input.value,!0,v.target===e.altInput?e.config.altFormat:e.config.dateFormat)}i(Wi,"onBlur");function wn(v){var T=xt(v),O=e.config.wrap?n.contains(T):T===e._input,P=e.config.allowInput,z=e.isOpen&&(!P||!O),X=e.config.inline&&O&&!P;if(v.keyCode===13&&O){if(P)return e.setDate(e._input.value,!0,T===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),T.blur();e.open()}else if(hn(T)||z||X){var Te=!!e.timeContainer&&e.timeContainer.contains(T);switch(v.keyCode){case 13:Te?(v.preventDefault(),b(),nr()):Kt(v);break;case 27:v.preventDefault(),nr();break;case 8:case 46:O&&!e.config.allowInput&&(v.preventDefault(),e.clear());break;case 37:case 39:if(!Te&&!O){v.preventDefault();var ie=f();if(e.daysContainer!==void 0&&(P===!1||ie&&On(ie))){var ve=v.keyCode===39?1:-1;v.ctrlKey?(v.stopPropagation(),Nr(ve),qe(_e(1),0)):qe(void 0,ve)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:v.preventDefault();var oe=v.keyCode===40?1:-1;e.daysContainer&&T.$i!==void 0||T===e.input||T===e.altInput?v.ctrlKey?(v.stopPropagation(),Zn(e.currentYear-oe),qe(_e(1),0)):Te||qe(void 0,oe*7):T===e.currentYearElement?Zn(e.currentYear-oe):e.config.enableTime&&(!Te&&e.hourElement&&e.hourElement.focus(),b(v),e._debouncedChange());break;case 9:if(Te){var de=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(bt){return bt}),Ue=de.indexOf(T);if(Ue!==-1){var Rt=de[Ue+(v.shiftKey?-1:1)];v.preventDefault(),(Rt||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(T)&&v.shiftKey&&(v.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&T===e.amPM)switch(v.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],D(),It();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],D(),It();break}(O||hn(T))&&Ge("onKeyDown",v)}i(wn,"onKeyDown");function Tt(v,T){if(T===void 0&&(T="flatpickr-day"),!(e.selectedDates.length!==1||v&&(!v.classList.contains(T)||v.classList.contains("flatpickr-disabled")))){for(var O=v?v.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),P=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),z=Math.min(O,e.selectedDates[0].getTime()),X=Math.max(O,e.selectedDates[0].getTime()),Te=!1,ie=0,ve=0,oe=z;oe<X;oe+=$f.DAY)$e(new Date(oe),!0)||(Te=Te||oe>z&&oe<X,oe<P&&(!ie||oe>ie)?ie=oe:oe>P&&(!ve||oe<ve)&&(ve=oe));var de=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+T));de.forEach(function(Ue){var Rt=Ue.dateObj,bt=Rt.getTime(),ar=ie>0&&bt<ie||ve>0&&bt>ve;if(ar){Ue.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(nn){Ue.classList.remove(nn)});return}else if(Te&&!ar)return;["startRange","inRange","endRange","notAllowed"].forEach(function(nn){Ue.classList.remove(nn)}),v!==void 0&&(v.classList.add(O<=e.selectedDates[0].getTime()?"startRange":"endRange"),P<O&&bt===P?Ue.classList.add("startRange"):P>O&&bt===P&&Ue.classList.add("endRange"),bt>=ie&&(ve===0||bt<=ve)&&Wf(bt,P,O)&&Ue.classList.add("inRange"))})}}i(Tt,"onMouseOver");function hs(){e.isOpen&&!e.config.static&&!e.config.inline&&Rn()}i(hs,"onResize");function er(v,T){if(T===void 0&&(T=e._positionElement),e.isMobile===!0){if(v){v.preventDefault();var O=xt(v);O&&O.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Ge("onOpen");return}else if(e._input.disabled||e.config.inline)return;var P=e.isOpen;e.isOpen=!0,P||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ge("onOpen"),Rn(T)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(v===void 0||!e.timeContainer.contains(v.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}i(er,"open");function Ki(v){return function(T){var O=e.config["_"+v+"Date"]=e.parseDate(T,e.config.dateFormat),P=e.config["_"+(v==="min"?"max":"min")+"Date"];O!==void 0&&(e[v==="min"?"minDateHasTime":"maxDateHasTime"]=O.getHours()>0||O.getMinutes()>0||O.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(z){return $e(z)}),!e.selectedDates.length&&v==="min"&&w(O),It()),e.daysContainer&&(tn(),O!==void 0?e.currentYearElement[v]=O.getFullYear().toString():e.currentYearElement.removeAttribute(v),e.currentYearElement.disabled=!!P&&O!==void 0&&P.getFullYear()===O.getFullYear())}}i(Ki,"minMaxDateSetter");function $i(){var v=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],T=vt(vt({},JSON.parse(JSON.stringify(n.dataset||{}))),t),O={};e.config.parseDate=T.parseDate,e.config.formatDate=T.formatDate,Object.defineProperty(e.config,"enable",{get:i(function(){return e.config._enable},"get"),set:i(function(de){e.config._enable=Zi(de)},"set")}),Object.defineProperty(e.config,"disable",{get:i(function(){return e.config._disable},"get"),set:i(function(de){e.config._disable=Zi(de)},"set")});var P=T.mode==="time";if(!T.dateFormat&&(T.enableTime||P)){var z=ot.defaultConfig.dateFormat||In.dateFormat;O.dateFormat=T.noCalendar||P?"H:i"+(T.enableSeconds?":S":""):z+" H:i"+(T.enableSeconds?":S":"")}if(T.altInput&&(T.enableTime||P)&&!T.altFormat){var X=ot.defaultConfig.altFormat||In.altFormat;O.altFormat=T.noCalendar||P?"h:i"+(T.enableSeconds?":S K":" K"):X+(" h:i"+(T.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:i(function(){return e.config._minDate},"get"),set:Ki("min")}),Object.defineProperty(e.config,"maxDate",{get:i(function(){return e.config._maxDate},"get"),set:Ki("max")});var Te=i(function(de){return function(Ue){e.config[de==="min"?"_minTime":"_maxTime"]=e.parseDate(Ue,"H:i:S")}},"minMaxTimeSetter");Object.defineProperty(e.config,"minTime",{get:i(function(){return e.config._minTime},"get"),set:Te("min")}),Object.defineProperty(e.config,"maxTime",{get:i(function(){return e.config._maxTime},"get"),set:Te("max")}),T.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,O,T);for(var ie=0;ie<v.length;ie++)e.config[v[ie]]=e.config[v[ie]]===!0||e.config[v[ie]]==="true";ea.filter(function(de){return e.config[de]!==void 0}).forEach(function(de){e.config[de]=ra(e.config[de]||[]).map(d)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ie=0;ie<e.config.plugins.length;ie++){var ve=e.config.plugins[ie](e)||{};for(var oe in ve)ea.indexOf(oe)>-1?e.config[oe]=ra(ve[oe]).map(d).concat(e.config[oe]):typeof T[oe]>"u"&&(e.config[oe]=ve[oe])}T.altInputClass||(e.config.altInputClass=Fr().className+" "+e.config.altInputClass),Ge("onParseConfig")}i($i,"parseConfig");function Fr(){return e.config.wrap?n.querySelector("[data-input]"):n}i(Fr,"getInputElem");function pt(){typeof e.config.locale!="object"&&typeof ot.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=vt(vt({},ot.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?ot.l10ns[e.config.locale]:void 0),dn.D="("+e.l10n.weekdays.shorthand.join("|")+")",dn.l="("+e.l10n.weekdays.longhand.join("|")+")",dn.M="("+e.l10n.months.shorthand.join("|")+")",dn.F="("+e.l10n.months.longhand.join("|")+")",dn.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var v=vt(vt({},t),JSON.parse(JSON.stringify(n.dataset||{})));v.time_24hr===void 0&&ot.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Ml(e),e.parseDate=ia({config:e.config,l10n:e.l10n})}i(pt,"setupLocale");function Rn(v){if(typeof e.config.position=="function")return void e.config.position(e,v);if(e.calendarContainer!==void 0){Ge("onPreCalendarPosition");var T=v||e._positionElement,O=Array.prototype.reduce.call(e.calendarContainer.children,function(Ts,Su){return Ts+Su.offsetHeight},0),P=e.calendarContainer.offsetWidth,z=e.config.position.split(" "),X=z[0],Te=z.length>1?z[1]:null,ie=T.getBoundingClientRect(),ve=window.innerHeight-ie.bottom,oe=X==="above"||X!=="below"&&ve<O&&ie.top>O,de=window.pageYOffset+ie.top+(oe?-O-2:T.offsetHeight+2);if(Et(e.calendarContainer,"arrowTop",!oe),Et(e.calendarContainer,"arrowBottom",oe),!e.config.inline){var Ue=window.pageXOffset+ie.left,Rt=!1,bt=!1;Te==="center"?(Ue-=(P-ie.width)/2,Rt=!0):Te==="right"&&(Ue-=P-ie.width,bt=!0),Et(e.calendarContainer,"arrowLeft",!Rt&&!bt),Et(e.calendarContainer,"arrowCenter",Rt),Et(e.calendarContainer,"arrowRight",bt);var ar=window.document.body.offsetWidth-(window.pageXOffset+ie.right),nn=Ue+P>window.document.body.offsetWidth,Iu=ar+P>window.document.body.offsetWidth;if(Et(e.calendarContainer,"rightMost",nn),!e.config.static)if(e.calendarContainer.style.top=de+"px",!nn)e.calendarContainer.style.left=Ue+"px",e.calendarContainer.style.right="auto";else if(!Iu)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=ar+"px";else{var to=tr();if(to===void 0)return;var bu=window.document.body.offsetWidth,kr=Math.max(0,bu/2-P/2),no=".flatpickr-calendar.centerMost:before",Au=".flatpickr-calendar.centerMost:after",ro=to.cssRules.length,Du="{left:"+ie.left+"px;right:auto;}";Et(e.calendarContainer,"rightMost",!1),Et(e.calendarContainer,"centerMost",!0),to.insertRule(no+","+Au+Du,ro),e.calendarContainer.style.left=kr+"px",e.calendarContainer.style.right="auto"}}}}i(Rn,"positionCalendar");function tr(){for(var v=null,T=0;T<document.styleSheets.length;T++){var O=document.styleSheets[T];if(O.cssRules){try{O.cssRules}catch{continue}v=O;break}}return v??Xi()}i(tr,"getDocumentStyleSheet");function Xi(){var v=document.createElement("style");return document.head.appendChild(v),v.sheet}i(Xi,"createStyleSheet");function tn(){e.config.noCalendar||e.isMobile||(_t(),or(),Gt())}i(tn,"redraw");function nr(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}i(nr,"focusAndClose");function Kt(v){v.preventDefault(),v.stopPropagation();var T=i(function(de){return de.classList&&de.classList.contains("flatpickr-day")&&!de.classList.contains("flatpickr-disabled")&&!de.classList.contains("notAllowed")},"isSelectable"),O=Ll(xt(v),T);if(O!==void 0){var P=O,z=e.latestSelectedDateObj=new Date(P.dateObj.getTime()),X=(z.getMonth()<e.currentMonth||z.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=P,e.config.mode==="single")e.selectedDates=[z];else if(e.config.mode==="multiple"){var Te=ir(z);Te?e.selectedDates.splice(parseInt(Te),1):e.selectedDates.push(z)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=z,e.selectedDates.push(z),Ot(z,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(de,Ue){return de.getTime()-Ue.getTime()}));if(D(),X){var ie=e.currentYear!==z.getFullYear();e.currentYear=z.getFullYear(),e.currentMonth=z.getMonth(),ie&&(Ge("onYearChange"),_t()),Ge("onMonthChange")}if(or(),Gt(),It(),!X&&e.config.mode!=="range"&&e.config.showMonths===1?ce(P):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var ve=e.config.mode==="single"&&!e.config.enableTime,oe=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(ve||oe)&&nr()}U()}}i(Kt,"selectDate");var rr={locale:[pt,ft],showMonths:[Jn,E,ji],minDate:[Y],maxDate:[Y],positionElement:[eo],clickOpens:[function(){e.config.clickOpens===!0?(M(e._input,"focus",e.open),M(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Qi(v,T){if(v!==null&&typeof v=="object"){Object.assign(e.config,v);for(var O in v)rr[O]!==void 0&&rr[O].forEach(function(P){return P()})}else e.config[v]=T,rr[v]!==void 0?rr[v].forEach(function(P){return P()}):ea.indexOf(v)>-1&&(e.config[v]=ra(T));e.redraw(),It(!0)}i(Qi,"set");function Ji(v,T){var O=[];if(v instanceof Array)O=v.map(function(P){return e.parseDate(P,T)});else if(v instanceof Date||typeof v=="number")O=[e.parseDate(v,T)];else if(typeof v=="string")switch(e.config.mode){case"single":case"time":O=[e.parseDate(v,T)];break;case"multiple":O=v.split(e.config.conjunction).map(function(P){return e.parseDate(P,T)});break;case"range":O=v.split(e.l10n.rangeSeparator).map(function(P){return e.parseDate(P,T)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(v)));e.selectedDates=e.config.allowInvalidPreload?O:O.filter(function(P){return P instanceof Date&&$e(P,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(P,z){return P.getTime()-z.getTime()})}i(Ji,"setSelectedDate");function ms(v,T,O){if(T===void 0&&(T=!1),O===void 0&&(O=e.config.dateFormat),v!==0&&!v||v instanceof Array&&v.length===0)return e.clear(T);Ji(v,O),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),Y(void 0,T),w(),e.selectedDates.length===0&&e.clear(!1),It(T),T&&Ge("onChange")}i(ms,"setDate");function Zi(v){return v.slice().map(function(T){return typeof T=="string"||typeof T=="number"||T instanceof Date?e.parseDate(T,void 0,!0):T&&typeof T=="object"&&T.from&&T.to?{from:e.parseDate(T.from,void 0),to:e.parseDate(T.to,void 0)}:T}).filter(function(T){return T})}i(Zi,"parseDateRules");function gs(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var v=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);v&&Ji(v,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}i(gs,"setupDates");function nt(){if(e.input=Fr(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=Re(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),eo()}i(nt,"setupInputs");function eo(){e._positionElement=e.config.positionElement||e._input}i(eo,"updatePositionElement");function Ur(){var v=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=Re("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=v,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=v==="datetime-local"?"Y-m-d\\TH:i:S":v==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}M(e.mobileInput,"change",function(T){e.setDate(xt(T).value,!1,e.mobileFormatStr),Ge("onChange"),Ge("onClose")})}i(Ur,"setupMobile");function Es(v){if(e.isOpen===!0)return e.close();e.open(v)}i(Es,"toggle");function Ge(v,T){if(e.config!==void 0){var O=e.config[v];if(O!==void 0&&O.length>0)for(var P=0;O[P]&&P<O.length;P++)O[P](e.selectedDates,e.input.value,e,T);v==="onChange"&&(e.input.dispatchEvent(Br("change")),e.input.dispatchEvent(Br("input")))}}i(Ge,"triggerEvent");function Br(v){var T=document.createEvent("Event");return T.initEvent(v,!0,!0),T}i(Br,"createEvent");function ir(v){for(var T=0;T<e.selectedDates.length;T++){var O=e.selectedDates[T];if(O instanceof Date&&Ot(O,v)===0)return""+T}return!1}i(ir,"isDateSelected");function vs(v){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Ot(v,e.selectedDates[0])>=0&&Ot(v,e.selectedDates[1])<=0}i(vs,"isDateInRange");function or(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(v,T){var O=new Date(e.currentYear,e.currentMonth,1);O.setMonth(e.currentMonth+T),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[T].textContent=bi(O.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=O.getMonth().toString(),v.value=O.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}i(or,"updateNavigationCurrentMonth");function Vr(v){var T=v||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(O){return e.formatDate(O,T)}).filter(function(O,P,z){return e.config.mode!=="range"||e.config.enableTime||z.indexOf(O)===P}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}i(Vr,"getDateStr");function It(v){v===void 0&&(v=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Vr(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Vr(e.config.altFormat)),v!==!1&&Ge("onValueUpdate")}i(It,"updateValue");function ys(v){var T=xt(v),O=e.prevMonthNav.contains(T),P=e.nextMonthNav.contains(T);O||P?Nr(O?-1:1):e.yearElements.indexOf(T)>=0?T.select():T.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):T.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}i(ys,"onMonthNavClick");function _s(v){v.preventDefault();var T=v.type==="keydown",O=xt(v),P=O;e.amPM!==void 0&&O===e.amPM&&(e.amPM.textContent=e.l10n.amPM[St(e.amPM.textContent===e.l10n.amPM[0])]);var z=parseFloat(P.getAttribute("min")),X=parseFloat(P.getAttribute("max")),Te=parseFloat(P.getAttribute("step")),ie=parseInt(P.value,10),ve=v.delta||(T?v.which===38?1:-1:0),oe=ie+Te*ve;if(typeof P.value<"u"&&P.value.length===2){var de=P===e.hourElement,Ue=P===e.minuteElement;oe<z?(oe=X+oe+St(!de)+(St(de)&&St(!e.amPM)),Ue&&Me(void 0,-1,e.hourElement)):oe>X&&(oe=P===e.hourElement?oe-X-St(!e.amPM):z,Ue&&Me(void 0,1,e.hourElement)),e.amPM&&de&&(Te===1?oe+ie===23:Math.abs(oe-ie)>Te)&&(e.amPM.textContent=e.l10n.amPM[St(e.amPM.textContent===e.l10n.amPM[0])]),P.value=gt(oe)}}return i(_s,"timeWrapper"),l(),e}i(Ev,"FlatpickrInstance");function Sr(n,t){for(var e=Array.prototype.slice.call(n).filter(function(d){return d instanceof HTMLElement}),a=[],l=0;l<e.length;l++){var f=e[l];try{if(f.getAttribute("data-fp-omit")!==null)continue;f._flatpickr!==void 0&&(f._flatpickr.destroy(),f._flatpickr=void 0),f._flatpickr=Ev(f,t||{}),a.push(f._flatpickr)}catch(d){console.error(d)}}return a.length===1?a[0]:a}i(Sr,"_flatpickr");typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Sr(this,n)},HTMLElement.prototype.flatpickr=function(n){return Sr([this],n)});var ot=i(function(n,t){return typeof n=="string"?Sr(window.document.querySelectorAll(n),t):n instanceof Node?Sr([n],t):Sr(n,t)},"flatpickr");ot.defaultConfig={};ot.l10ns={en:vt({},na),default:vt({},na)};ot.localize=function(n){ot.l10ns.default=vt(vt({},ot.l10ns.default),n)};ot.setDefaults=function(n){ot.defaultConfig=vt(vt({},ot.defaultConfig),n)};ot.parseDate=ia({});ot.formatDate=Ml({});ot.compareDates=Ot;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Sr(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=ot);var bn=ot;var vv=bn,la=class extends Ae{static{i(this,"DatetimeField")}options={id:"",type:si,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),className:We,enhance:!0,options:{altInput:!0,enableTime:!0}};_flatpickr=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=vv(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.options.enhance?"text":"datetime-local"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder)}getValue(){return this._value}};var Ai=class{static{i(this,"Button")}options={id:"",type:"button",buttonType:"submit",className:sf,template:"Submit"};containerElement=null;buttonElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(t,e,a){this.initializeOptions(a),this._parent=t,this._form=e,this._id=this.options.id,this._type=a.type,this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Vt(this.options.type,t))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Ut(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getType(){return this._type}getButtonType(){return this.options.buttonType}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(ut),this.containerElement.className=nf,this.containerElement.setAttribute(fe,this._id+Jt)}createButtonElement(){this.buttonElement=document.createElement(jo),this.buttonElement.className=this.options.className,this.buttonElement.setAttribute(fe,this._id),this.buttonElement.setAttribute(Ve,this.options.buttonType),typeof this.options.template=="string"?this.buttonElement.innerText=this.options.template:typeof this.options.template=="function"&&(this.buttonElement.innerHTML="",this.buttonElement.append(this.options.template())),this.buttonElement.addEventListener(Wo,t=>this.onClick(t))}onGui(){this.createContainerElement(),this.createButtonElement(),this.containerElement&&this.buttonElement&&me(this.buttonElement,this.containerElement)}mount(){this.buttonElement&&me(this.buttonElement,this._parent),this._isMounted=!0}unmount(){this.buttonElement&&un(this.buttonElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}onClick(t){this.options.click&&this.options.click(t,this._form.getData()),this.dispatchEvent("clicked")}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let t=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Bt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),t!==this._isVisible&&this.dispatchEvent("visibilityChanged")}dispatchEvent(t,e=null){function a(f){if(f!=null){if(typeof f=="boolean")return new CustomEvent(t,{detail:f});new CustomEvent(t,f)}return new CustomEvent(t)}i(a,"getDispathedEvent");let l=a(e);this.buttonElement?.dispatchEvent(l)}on(t,e,a){this.buttonElement?.addEventListener(t,e,a)}off(t,e,a){this.buttonElement?.removeEventListener(t,e,a)}};var ua=class extends Ae{static{i(this,"CheckboxField")}options={id:"",type:ii,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),default:null,className:cf,toggle:!1};sliderElement=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&(this.getValue()&&!this.inputElement.hasAttribute(kt)?this.inputElement.setAttribute(kt,String(this.getValue())):!this.getValue()&&this.inputElement.hasAttribute(kt)&&this.inputElement.removeAttribute(kt))}createContainerElement(){this.containerElement=document.createElement(ut),this.containerElement.className=Tn+" "+this.getType(),this.options.toggle&&(this.containerElement.className+=" "+df),this.containerElement.setAttribute(fe,this.getId()+Jt)}createLabelElement(){this.labelElement=document.createElement(_r),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.sliderElement&&this.labelElement&&me(this.sliderElement,this.labelElement);let t=document.createElement(zn);this.options.label&&(typeof this.options.label=="string"?t.innerText=this.options.label:typeof this.options.label=="function"&&(t.innerHTML="",t.append(this.options.label()))),t.setAttribute(fe,this.getId()+cn),this.labelElement.setAttribute(Tr,this.options.name||this.getId()),t.className=Yn,this.options.label&&me(t,this.labelElement)}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.getType()),this.options.default&&this.inputElement.setAttribute(kt,String(this.options.default)),this.inputElement.className=this.options.className}createToggleSpan(){this.sliderElement=document.createElement(qn),this.sliderElement.className=ff}onGui(){this.createContainerElement(),this.options.toggle&&this.createToggleSpan(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement)}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t)})}change(t){this.setValue(t.target.checked),this.options.change&&this.options.change(this.getValue()),this.validate(),this.dispatchEvent("changed",this._value)}getValue(){return this._value}};var ca=class extends Ae{static{i(this,"ColorField")}options={id:"",type:oi,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),default:null,className:pf};constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t)})}getValue(){return this._value}};var yv=bn,da=class extends Ae{static{i(this,"DateField")}options={id:"",type:ai,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),className:We,enhance:!0,options:{altInput:!0}};_flatpickr=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=yv(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.options.enhance?"text":"date"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder)}getValue(){return this._value}};var fa=class extends Ae{static{i(this,"EmailField")}options={id:"",type:li,required:!1,validation:i((t,e,a)=>a&&!t?xe:t&&typeof t=="string"&&!t.match(this.mailFormat)?If:!0,"validation"),default:"",className:We};mailFormat=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}getValue(){return this._value}};var Zf=Js(Jf(),1);var ha=class extends Ae{static{i(this,"FileField")}options={id:"",type:ui,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),className:We,enhance:!0,multiple:!1,debounce:50,options:{storeAsFile:!0,instantUpload:!1,allowProcess:!1}};_filepond=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFilepond(),this.bindChange()}initializeOptions(t){this.options=Object.assign({},{...this.options,options:{allowMultiple:t.multiple}},Vt(this.options.type,t))}syncValue(){}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.getType()),this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder),this.inputElement.className=this.options.className,this.options.multiple&&!this.options.enhance&&this.inputElement.setAttribute(Ko,"true"),this.options.accept&&this.inputElement.setAttribute(qf,this.options.accept)}getFilepond(){return this._filepond}initFilepond(){this.inputElement&&this.options.enhance&&(this._filepond=(0,Zf.create)(this.inputElement,this.options.options||{}))}bindChange(){if(this.options.enhance){if(!this._filepond)return;this._filepond.on("addfile",(t,e)=>{if(t)return;let a=this._filepond.getFiles();this.filePondChange(a)}),this._filepond.on("removefile",(t,e)=>{if(t)return;let a=this._filepond.getFiles();this.filePondChange(a)}),this._filepond.on("updatefiles",(t,e)=>{if(t)return;let a=this._filepond.getFiles();this.filePondChange(a)})}else this.inputElement?.addEventListener(it,Er(this.change,this.options.debounce,this))}filePondChange(t){this.changeValue(t)}change(t){t.target?.files&&this.changeValue(t.target.files)}changeValue(t){this.setValue(t),this.validate(),this.handleValidatedField(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",t)}getValue(){return this._value}};var ma=class{static{i(this,"HiddenField")}options={id:"",type:ci,default:null};inputElement=null;containerElement=null;labelElement=null;validationElement=null;_id;_parent;_form;_saveKey;_value=null;_type;constructor(t,e,a){this.initializeOptions(a),this._id=this.options.id,this._form=e,this._parent=t,this._type=a.type,this._saveKey=Hn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Vt(this.options.type,t))}async initialize(){this.load(),this.update()}setValue(t,e=!0){this._value=t,this.syncValue(),this._form.setData(this._id,t),e&&this.save()}getValue(){return this._value}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}mountToParent(){this.containerElement&&me(this.containerElement,this._parent)}createContainerElement(){this.containerElement=document.createElement(ut),this.containerElement.className=Tn+" "+this.getType(),this.containerElement.setAttribute(fe,this.getId()+Jt)}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.getType())}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getForm(){return this._form}onGui(){this.createContainerElement(),this.createInputElement(),this.containerElement&&this.inputElement&&me(this.inputElement,this.containerElement),this.mountToParent()}destroy(){this._parent&&this._parent.remove()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let t=localStorage.getItem(this._saveKey);if(t!==null){this.setValue(vr(t)?JSON.parse(t):t,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setValue(this.options.default??null,!1),this.update()}async update(){}};var ga=class extends Ae{static{i(this,"NumberField")}options={id:"",type:di,required:!1,validation:i((t,e,a)=>a&&!t&&t!==0?xe:this.options.min&&this.options.min>t?qo+this.options.min:this.options.max&&this.options.max<t?zo+this.options.max:!0,"validation"),default:null,className:We};constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize(),this.bindMinMax()}async initialize(){this.load(),this.update(),this.bindMinMax(),this.bindChange()}bindMinMax(){this.inputElement&&(this.options.min&&this.inputElement.setAttribute($o,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(Xo,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(Qo,String(this.options.step)))}getValue(){return this._value}};var Ea=class extends Ae{static{i(this,"PasswordField")}options={id:"",type:Ar,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),default:"",className:We,allowPeek:!1};constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize(),this.options.allowPeek&&this.addPeekButton()}addPeekButton(){let t=document.createElement(jo),e=this.inputElement,a=document.createElement(ut);a.classList.add(Tf),e.insertAdjacentElement("afterend",a),a.append(e,t);let l=!0;f(),t.addEventListener(Wo,E=>{E.preventDefault(),l?d():f()});function f(){t.classList.add(xl),t.classList.remove(Sl),t.ariaLabel="show password",e.type=Ar,l=!0}i(f,"hide");function d(){t.classList.add(Sl),t.classList.remove(xl),t.ariaLabel="hide password",e.type=Kn,l=!1}i(d,"show")}getValue(){return this._value}};var va=class extends Ae{static{i(this,"RangeField")}options={id:"",type:pi,required:!1,validation:i((t,e,a)=>a&&!t&&t!==0?xe:this.options.min&&this.options.min>t?qo+this.options.min:this.options.max&&this.options.max<t?zo+this.options.max:!0,"validation"),default:0,className:mf};minElement=null;maxElement=null;valueElement=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.getType()),this.options.min&&this.inputElement.setAttribute($o,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(Xo,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(Qo,String(this.options.step)),this.inputElement.className=this.options.className}createOtherElements(){this.minElement=document.createElement(qn),this.minElement.setAttribute(fe,this.getId()+Nf),this.minElement.className=gf,this.maxElement=document.createElement(qn),this.maxElement.setAttribute(fe,this.getId()+Ff),this.maxElement.className=Ef,this.valueElement=document.createElement(Of),this.valueElement.setAttribute(fe,this.getId()+Uf),this.valueElement.className=vf}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.createOtherElements(),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement),this.labelElement&&this.valueElement&&me(this.valueElement,this.labelElement),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement)}updateRangeValues(){this.minElement&&this.options.min!==void 0&&(this.minElement.innerText=String(this.options.min)),this.maxElement&&this.options.max!==void 0&&(this.maxElement.innerText=String(this.options.max)),this.valueElement&&(this.valueElement.innerText=this.getValue()?String(this.getValue()):""),setTimeout(this.updateInputPadding,10)}updateInputPadding(){this.inputElement&&this.valueElement&&(this.inputElement.style.paddingRight=this.valueElement.clientWidth+5+"px")}async initialize(){this.load(),this.update(),this.bindChange(),this.updateRangeValues()}async reset(){this.triggerEvents(!1),localStorage.removeItem(this.getSaveKey()),this.setValue(this.options.default??null,!1),this.updateRangeValues(),this.update(),this.triggerEvents(!0),this.dispatchEvent("resetted")}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t),this.updateRangeValues()})}getValue(){return this._value}};function Pl(n,t){n.split(/\s+/).forEach(e=>{t(e)})}i(Pl,"forEvents");var Di=class{static{i(this,"MicroEvent")}constructor(){this._events={}}on(t,e){Pl(t,a=>{let l=this._events[a]||[];l.push(e),this._events[a]=l})}off(t,e){var a=arguments.length;if(a===0){this._events={};return}Pl(t,l=>{if(a===1){delete this._events[l];return}let f=this._events[l];f!==void 0&&(f.splice(f.indexOf(e),1),this._events[l]=f)})}trigger(t,...e){var a=this;Pl(t,l=>{let f=a._events[l];f!==void 0&&f.forEach(d=>{d.apply(a,e)})})}};function Nl(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,a;let l=this,f=[];if(Array.isArray(t))t.forEach(d=>{typeof d=="string"?f.push(d):(l.plugins.settings[d.name]=d.options,f.push(d.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(l.plugins.settings[e]=t[e],f.push(e));for(;a=f.shift();)l.require(a)}loadPlugin(t){var e=this,a=e.plugins,l=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');a.requested[t]=!0,a.loaded[t]=l.fn.apply(e,[e.plugins.settings[t]||{}]),a.names.push(t)}require(t){var e=this,a=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(a.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return a.loaded[t]}}}i(Nl,"MicroPlugin");var Si=i(n=>(n=n.filter(Boolean),n.length<2?n[0]||"":Tv(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),"arrayToPattern"),Fl=i(n=>{if(!_v(n))return n.join("");let t="",e=0,a=i(()=>{e>1&&(t+="{"+e+"}")},"prev_pattern");return n.forEach((l,f)=>{if(l===n[f-1]){e++;return}a(),t+=l,e=1}),a(),t},"sequencePattern"),Ul=i(n=>{let t=Array.from(n);return Si(t)},"setToPattern"),_v=i(n=>new Set(n).size!==n.length,"hasDuplicates"),An=i(n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),"escape_regex"),Tv=i(n=>n.reduce((t,e)=>Math.max(t,Iv(e)),0),"maxValueLength"),Iv=i(n=>Array.from(n).length,"unicodeLength");var Bl=i(n=>{if(n.length===1)return[[n]];let t=[],e=n.substring(1);return Bl(e).forEach(function(l){let f=l.slice(0);f[0]=n.charAt(0)+f[0],t.push(f),f=l.slice(0),f.unshift(n.charAt(0)),t.push(f)}),t},"allSubstrings");var bv=[[0,65535]],Av="[̀-ͯ·ʾʼ]",ya,rp,Dv=3,Vl={},ep={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in ep){let t=ep[n]||"";for(let e=0;e<t.length;e++){let a=t.substring(e,e+1);Vl[a]=n}}var Sv=new RegExp(Object.keys(Vl).join("|")+"|"+Av,"gu"),xv=i(n=>{ya===void 0&&(ya=Lv(n||bv))},"initialize"),tp=i((n,t="NFKD")=>n.normalize(t),"normalize"),xi=i(n=>Array.from(n).reduce((t,e)=>t+Ov(e),""),"asciifold"),Ov=i(n=>(n=tp(n).toLowerCase().replace(Sv,t=>Vl[t]||""),tp(n,"NFC")),"_asciifold");function*wv(n){for(let[t,e]of n)for(let a=t;a<=e;a++){let l=String.fromCharCode(a),f=xi(l);f!=l.toLowerCase()&&(f.length>Dv||f.length!=0&&(yield{folded:f,composed:l,code_point:a}))}}i(wv,"generator");var Rv=i(n=>{let t={},e=i((a,l)=>{let f=t[a]||new Set,d=new RegExp("^"+Ul(f)+"$","iu");l.match(d)||(f.add(An(l)),t[a]=f)},"addMatching");for(let a of wv(n))e(a.folded,a.folded),e(a.folded,a.composed);return t},"generateSets"),Lv=i(n=>{let t=Rv(n),e={},a=[];for(let f in t){let d=t[f];d&&(e[f]=Ul(d)),f.length>1&&a.push(An(f))}a.sort((f,d)=>d.length-f.length);let l=Si(a);return rp=new RegExp("^"+l,"u"),e},"generateMap"),Cv=i((n,t=1)=>{let e=0;return n=n.map(a=>(ya[a]&&(e+=a.length),ya[a]||a)),e>=t?Fl(n):""},"mapSequence"),Mv=i((n,t=1)=>(t=Math.max(t,n.length-1),Si(Bl(n).map(e=>Cv(e,t)))),"substringsToPattern"),np=i((n,t=!0)=>{let e=n.length>1?1:0;return Si(n.map(a=>{let l=[],f=t?a.length():a.length()-1;for(let d=0;d<f;d++)l.push(Mv(a.substrs[d]||"",e));return Fl(l)}))},"sequencesToPattern"),Pv=i((n,t)=>{for(let e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let a=n.parts,l=i(d=>{for(let E of a){if(E.start===d.start&&E.substr===d.substr)return!1;if(!(d.length==1||E.length==1)&&(d.start<E.start&&d.end>E.start||E.start<d.start&&E.end>d.start))return!0}return!1},"filter");if(!(e.parts.filter(l).length>0))return!0}return!1},"inSequences"),_a=class n{static{i(this,"Sequence")}parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let a=new n,l=JSON.parse(JSON.stringify(this.parts)),f=l.pop();for(let b of l)a.add(b);let d=e.substr.substring(0,t-f.start),E=d.length;return a.add({start:f.start,end:f.start+E,length:E,substr:d}),a}},ip=i(n=>{xv(),n=xi(n);let t="",e=[new _a];for(let a=0;a<n.length;a++){let f=n.substring(a).match(rp),d=n.substring(a,a+1),E=f?f[0]:null,b=[],_=new Set;for(let A of e){let D=A.last();if(!D||D.length==1||D.end<=a)if(E){let w=E.length;A.add({start:a,end:a+w,length:w,substr:E}),_.add("1")}else A.add({start:a,end:a+1,length:1,substr:d}),_.add("2");else if(E){let w=A.clone(a,D),V=E.length;w.add({start:a,end:a+V,length:V,substr:E}),b.push(w)}else _.add("3")}if(b.length>0){b=b.sort((A,D)=>A.length()-D.length());for(let A of b)Pv(A,e)||e.push(A);continue}if(a>0&&_.size==1&&!_.has("3")){t+=np(e,!1);let A=new _a,D=e[0];D&&A.add(D.last()),e=[A]}}return t+=np(e,!0),t},"getPattern");var op=i((n,t)=>{if(n)return n[t]},"getAttr"),ap=i((n,t)=>{if(n){for(var e,a=t.split(".");(e=a.shift())&&(n=n[e]););return n}},"getAttrNesting"),Ta=i((n,t,e)=>{var a,l;return!n||(n=n+"",t.regex==null)||(l=n.search(t.regex),l===-1)?0:(a=t.string.length/n.length,l===0&&(a+=.5),a*e)},"scoreValue"),Ia=i((n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},"propToArray"),Oi=i((n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},"iterate"),sp=i((n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=xi(n+"").toLowerCase(),t=xi(t+"").toLowerCase(),n>t?1:t>n?-1:0),"cmp");var ba=class{static{i(this,"Sifter")}items;settings;constructor(t,e){this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,a){if(!t||!t.length)return[];let l=[],f=t.split(/\s+/);var d;return a&&(d=new RegExp("^("+Object.keys(a).map(An).join("|")+"):(.*)$")),f.forEach(E=>{let b,_=null,A=null;d&&(b=E.match(d))&&(_=b[1],E=b[2]),E.length>0&&(this.settings.diacritics?A=ip(E)||null:A=An(E),A&&e&&(A="\\b"+A)),l.push({string:E,regex:A?new RegExp(A,"iu"):null,field:_})}),l}getScoreFunction(t,e){var a=this.prepareSearch(t,e);return this._getScoreFunction(a)}_getScoreFunction(t){let e=t.tokens,a=e.length;if(!a)return function(){return 0};let l=t.options.fields,f=t.weights,d=l.length,E=t.getAttrFn;if(!d)return function(){return 1};let b=function(){return d===1?function(_,A){let D=l[0].field;return Ta(E(A,D),_,f[D]||1)}:function(_,A){var D=0;if(_.field){let w=E(A,_.field);!_.regex&&w?D+=1/d:D+=Ta(w,_,1)}else Oi(f,(w,V)=>{D+=Ta(E(A,V),_,w)});return D/d}}();return a===1?function(_){return b(e[0],_)}:t.options.conjunction==="and"?function(_){var A,D=0;for(let w of e){if(A=b(w,_),A<=0)return 0;D+=A}return D/a}:function(_){var A=0;return Oi(e,D=>{A+=b(D,_)}),A/a}}getSortFunction(t,e){var a=this.prepareSearch(t,e);return this._getSortFunction(a)}_getSortFunction(t){var e,a=[];let l=this,f=t.options,d=!t.query&&f.sort_empty?f.sort_empty:f.sort;if(typeof d=="function")return d.bind(this);let E=i(function(_,A){return _==="$score"?A.score:t.getAttrFn(l.items[A.id],_)},"get_field");if(d)for(let _ of d)(t.query||_.field!=="$score")&&a.push(_);if(t.query){e=!0;for(let _ of a)if(_.field==="$score"){e=!1;break}e&&a.unshift({field:"$score",direction:"desc"})}else a=a.filter(_=>_.field!=="$score");return a.length?function(_,A){var D,w;for(let V of a)if(w=V.field,D=(V.direction==="desc"?-1:1)*sp(E(w,_),E(w,A)),D)return D;return 0}:null}prepareSearch(t,e){let a={};var l=Object.assign({},e);if(Ia(l,"sort"),Ia(l,"sort_empty"),l.fields){Ia(l,"fields");let f=[];l.fields.forEach(d=>{typeof d=="string"&&(d={field:d,weight:1}),f.push(d),a[d.field]="weight"in d?d.weight:1}),l.fields=f}return{options:l,query:t.toLowerCase().trim(),tokens:this.tokenize(t,l.respect_word_boundaries,a),total:0,items:[],weights:a,getAttrFn:l.nesting?ap:op}}search(t,e){var a=this,l,f;f=this.prepareSearch(t,e),e=f.options,t=f.query;let d=e.score||a._getScoreFunction(f);t.length?Oi(a.items,(b,_)=>{l=d(b),(e.filter===!1||l>0)&&f.items.push({score:l,id:_})}):Oi(a.items,(b,_)=>{f.items.push({score:1,id:_})});let E=a._getSortFunction(f);return E&&f.items.sort(E),f.total=f.items.length,typeof e.limit=="number"&&(f.items=f.items.slice(0,e.limit)),f}};var Ct=i(n=>typeof n>"u"||n===null?null:wi(n),"hash_key"),wi=i(n=>typeof n=="boolean"?n?"1":"0":n+"","get_hash"),Aa=i(n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),lp=i((n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),"timeout"),up=i((n,t)=>{var e;return function(a,l){var f=this;e&&(f.loading=Math.max(f.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,f.loadedSearches[a]=!0,n.call(f,a,l)},t)}},"loadDebounce"),kl=i((n,t,e)=>{var a,l=n.trigger,f={};n.trigger=function(){var d=arguments[0];if(t.indexOf(d)!==-1)f[d]=arguments;else return l.apply(n,arguments)},e.apply(n,[]),n.trigger=l;for(a of t)a in f&&l.apply(n,f[a])},"debounce_events"),cp=i(n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),"getSelection"),Xe=i((n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},"preventDefault"),yt=i((n,t,e,a)=>{n.addEventListener(t,e,a)},"addEvent"),Dn=i((n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},"isKeyDown"),Da=i((n,t)=>{let e=n.getAttribute("id");return e||(n.setAttribute("id",t),t)},"getId"),Gl=i(n=>n.replace(/[\\"']/g,"\\$&"),"addSlashes"),Sn=i((n,t)=>{t&&n.append(t)},"append"),at=i((n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},"iterate");var zt=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Hl(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),Hl=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString"),dp=i(n=>n.replace(/['"\\]/g,"\\$&"),"escapeQuery"),Sa=i((n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},"triggerEvent"),Ri=i((n,t)=>{Object.assign(n.style,t)},"applyCSS"),wt=i((n,...t)=>{var e=fp(t);n=pp(n),n.map(a=>{e.map(l=>{a.classList.add(l)})})},"addClasses"),fn=i((n,...t)=>{var e=fp(t);n=pp(n),n.map(a=>{e.map(l=>{a.classList.remove(l)})})},"removeClasses"),fp=i(n=>{var t=[];return at(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),pp=i(n=>(Array.isArray(n)||(n=[n]),n),"castAsArray"),xa=i((n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},"parentMatch"),Yl=i((n,t=0)=>t>0?n[n.length-1]:n[0],"getTail"),hp=i(n=>Object.keys(n).length===0,"isEmptyObject"),ql=i((n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},"nodeIndex"),Ye=i((n,t)=>{at(t,(e,a)=>{e==null?n.removeAttribute(a):n.setAttribute(a,""+e)})},"setAttr"),Li=i((n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},"replaceNode");var mp=i((n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}let e=i(f=>{var d=f.data.match(t);if(d&&f.data.length>0){var E=document.createElement("span");E.className="highlight";var b=f.splitText(d.index);b.splitText(d[0].length);var _=b.cloneNode(!0);return E.appendChild(_),Li(b,E),1}return 0},"highlightText"),a=i(f=>{f.nodeType===1&&f.childNodes&&!/(script|style)/i.test(f.tagName)&&(f.className!=="highlight"||f.tagName!=="SPAN")&&Array.from(f.childNodes).forEach(d=>{l(d)})},"highlightChildren"),l=i(f=>f.nodeType===3?e(f):(a(f),0),"highlightRecursive");l(n)},"highlight"),gp=i(n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var a=e.parentNode;a.replaceChild(e.firstChild,e),a.normalize()})},"removeHighlight");var Nv=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Ci=Nv?"metaKey":"ctrlKey";var zl={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:i(function(n){return n.length>0},"shouldLoad"),render:{}};function Oa(n,t){var e=Object.assign({},zl,t),a=e.dataAttr,l=e.labelField,f=e.valueField,d=e.disabledField,E=e.optgroupField,b=e.optgroupLabelField,_=e.optgroupValueField,A=n.tagName.toLowerCase(),D=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!D&&!e.allowEmptyOption){let M=n.querySelector('option[value=""]');M&&(D=M.textContent)}var w={placeholder:D,options:[],optgroups:[],items:[],maxItems:null},V=i(()=>{var M,U=w.options,Z={},Y=1;let ae=0;var Me=i(ce=>{var _e=Object.assign({},ce.dataset),pe=a&&_e[a];return typeof pe=="string"&&pe.length&&(_e=Object.assign(_e,JSON.parse(pe))),_e},"readData"),Le=i((ce,_e)=>{var pe=Ct(ce.value);if(pe!=null&&!(!pe&&!e.allowEmptyOption)){if(Z.hasOwnProperty(pe)){if(_e){var qe=Z[pe][E];qe?Array.isArray(qe)?qe.push(_e):Z[pe][E]=[qe,_e]:Z[pe][E]=_e}}else{var Oe=Me(ce);Oe[l]=Oe[l]||ce.textContent,Oe[f]=Oe[f]||pe,Oe[d]=Oe[d]||ce.disabled,Oe[E]=Oe[E]||_e,Oe.$option=ce,Oe.$order=Oe.$order||++ae,Z[pe]=Oe,U.push(Oe)}ce.selected&&w.items.push(pe)}},"addOption"),ke=i(ce=>{var _e,pe;pe=Me(ce),pe[b]=pe[b]||ce.getAttribute("label")||"",pe[_]=pe[_]||Y++,pe[d]=pe[d]||ce.disabled,pe.$order=pe.$order||++ae,w.optgroups.push(pe),_e=pe[_],at(ce.children,qe=>{Le(qe,_e)})},"addGroup");w.maxItems=n.hasAttribute("multiple")?null:1,at(n.children,ce=>{M=ce.tagName.toLowerCase(),M==="optgroup"?ke(ce):M==="option"&&Le(ce)})},"init_select"),R=i(()=>{let M=n.getAttribute(a);if(M)w.options=JSON.parse(M),at(w.options,Z=>{w.items.push(Z[f])});else{var U=n.value.trim()||"";if(!e.allowEmptyOption&&!U.length)return;let Z=U.split(e.delimiter);at(Z,Y=>{let ae={};ae[l]=Y,ae[f]=Y,w.options.push(ae)}),w.items=Z}},"init_textbox");return A==="select"?V():R(),Object.assign({},zl,w,t)}i(Oa,"getSettings");var yp=0,ct=class extends Nl(Di){static{i(this,"TomSelect")}constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,yp++;var a,l=zt(t);if(l.tomselect)throw new Error("Tom Select already initialized on this element");l.tomselect=this;var f=window.getComputedStyle&&window.getComputedStyle(l,null);a=f.getPropertyValue("direction");let d=Oa(l,e);this.settings=d,this.input=l,this.tabIndex=l.tabIndex||0,this.is_select_tag=l.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(a),this.inputId=Da(l,"tomselect-"+yp),this.isRequired=l.required,this.sifter=new ba(this.options,{diacritics:d.diacritics}),d.mode=d.mode||(d.maxItems===1?"single":"multi"),typeof d.hideSelected!="boolean"&&(d.hideSelected=d.mode==="multi"),typeof d.hidePlaceholder!="boolean"&&(d.hidePlaceholder=d.mode!=="multi");var E=d.createFilter;typeof E!="function"&&(typeof E=="string"&&(E=new RegExp(E)),E instanceof RegExp?d.createFilter=U=>E.test(U):d.createFilter=U=>this.settings.duplicates||!this.options[U]),this.initializePlugins(d.plugins),this.setupCallbacks(),this.setupTemplates();let b=zt("<div>"),_=zt("<div>"),A=this._render("dropdown"),D=zt('<div role="listbox" tabindex="-1">'),w=this.input.getAttribute("class")||"",V=d.mode;var R;if(wt(b,d.wrapperClass,w,V),wt(_,d.controlClass),Sn(b,_),wt(A,d.dropdownClass,V),d.copyClassesToDropdown&&wt(A,w),wt(D,d.dropdownContentClass),Sn(A,D),zt(d.dropdownParent||b).appendChild(A),Hl(d.controlInput)){R=zt(d.controlInput);var M=["autocorrect","autocapitalize","autocomplete","spellcheck"];at(M,U=>{l.getAttribute(U)&&Ye(R,{[U]:l.getAttribute(U)})}),R.tabIndex=-1,_.appendChild(R),this.focus_node=R}else d.controlInput?(R=zt(d.controlInput),this.focus_node=R):(R=zt("<input/>"),this.focus_node=_);this.wrapper=b,this.dropdown=A,this.dropdown_content=D,this.control=_,this.control_input=R,this.setup()}setup(){let t=this,e=t.settings,a=t.control_input,l=t.dropdown,f=t.dropdown_content,d=t.wrapper,E=t.control,b=t.input,_=t.focus_node,A={passive:!0},D=t.inputId+"-ts-dropdown";Ye(f,{id:D}),Ye(_,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":D});let w=Da(_,t.inputId+"-ts-control"),V="label[for='"+dp(t.inputId)+"']",R=document.querySelector(V),M=t.focus.bind(t);if(R){yt(R,"click",M),Ye(R,{for:w});let Y=Da(R,t.inputId+"-ts-label");Ye(_,{"aria-labelledby":Y}),Ye(f,{"aria-labelledby":Y})}if(d.style.width=b.style.width,t.plugins.names.length){let Y="plugin-"+t.plugins.names.join(" plugin-");wt([d,l],Y)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&Ye(b,{multiple:"multiple"}),e.placeholder&&Ye(a,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+An(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=up(e.load,e.loadThrottle)),yt(l,"mousemove",()=>{t.ignoreHover=!1}),yt(l,"mouseenter",Y=>{var ae=xa(Y.target,"[data-selectable]",l);ae&&t.onOptionHover(Y,ae)},{capture:!0}),yt(l,"click",Y=>{let ae=xa(Y.target,"[data-selectable]");ae&&(t.onOptionSelect(Y,ae),Xe(Y,!0))}),yt(E,"click",Y=>{var ae=xa(Y.target,"[data-ts-item]",E);if(ae&&t.onItemSelect(Y,ae)){Xe(Y,!0);return}a.value==""&&(t.onClick(),Xe(Y,!0))}),yt(_,"keydown",Y=>t.onKeyDown(Y)),yt(a,"keypress",Y=>t.onKeyPress(Y)),yt(a,"input",Y=>t.onInput(Y)),yt(_,"blur",Y=>t.onBlur(Y)),yt(_,"focus",Y=>t.onFocus(Y)),yt(a,"paste",Y=>t.onPaste(Y));let U=i(Y=>{let ae=Y.composedPath()[0];if(!d.contains(ae)&&!l.contains(ae)){t.isFocused&&t.blur(),t.inputState();return}ae==a&&t.isOpen?Y.stopPropagation():Xe(Y,!0)},"doc_mousedown"),Z=i(()=>{t.isOpen&&t.positionDropdown()},"win_scroll");yt(document,"mousedown",U),yt(window,"scroll",Z,A),yt(window,"resize",Z,A),this._destroy=()=>{document.removeEventListener("mousedown",U),window.removeEventListener("scroll",Z),window.removeEventListener("resize",Z),R&&R.removeEventListener("click",M)},this.revertSettings={innerHTML:b.innerHTML,tabIndex:b.tabIndex},b.tabIndex=-1,b.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,yt(b,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,b.disabled?t.disable():b.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),wt(b,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),at(e,a=>{this.registerOptionGroup(a)})}setupTemplates(){var t=this,e=t.settings.labelField,a=t.settings.optgroupLabelField,l={optgroup:i(f=>{let d=document.createElement("div");return d.className="optgroup",d.appendChild(f.options),d},"optgroup"),optgroup_header:i((f,d)=>'<div class="optgroup-header">'+d(f[a])+"</div>","optgroup_header"),option:i((f,d)=>"<div>"+d(f[e])+"</div>","option"),item:i((f,d)=>"<div>"+d(f[e])+"</div>","item"),option_create:i((f,d)=>'<div class="create">Add <strong>'+d(f.input)+"</strong>&hellip;</div>","option_create"),no_results:i(()=>'<div class="no-results">No results found</div>',"no_results"),loading:i(()=>'<div class="spinner"></div>',"loading"),not_loading:i(()=>{},"not_loading"),dropdown:i(()=>"<div></div>","dropdown")};t.settings.render=Object.assign({},l,t.settings.render)}setupCallbacks(){var t,e,a={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in a)e=this.settings[a[t]],e&&this.on(t,e)}sync(t=!0){let e=this,a=t?Oa(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(a.options,a.optgroups),e.setValue(a.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){Sa(this.input,"input"),Sa(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){Xe(t);return}e.settings.splitOn&&setTimeout(()=>{var a=e.inputValue();if(a.match(e.settings.splitOn)){var l=a.trim().split(e.settings.splitOn);at(l,f=>{Ct(f)&&(this.options[f]?e.addItem(f):e.createItem(f))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){Xe(t);return}var a=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&a===e.settings.delimiter){e.createItem(),Xe(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==9&&Xe(t);return}switch(t.keyCode){case 65:if(Dn(Ci,t)&&e.control_input.value==""){Xe(t),e.selectAll();return}break;case 27:e.isOpen&&(Xe(t,!0),e.close()),e.clearActiveItems();return;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let a=e.getAdjacent(e.activeOption,1);a&&e.setActiveOption(a)}Xe(t);return;case 38:if(e.activeOption){let a=e.getAdjacent(e.activeOption,-1);a&&e.setActiveOption(a)}Xe(t);return;case 13:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),Xe(t)):e.settings.create&&e.createItem()?Xe(t):document.activeElement==e.control_input&&e.isOpen&&Xe(t);return;case 37:e.advanceSelection(-1,t);return;case 39:e.advanceSelection(1,t);return;case 9:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),Xe(t)),e.settings.create&&e.createItem()&&Xe(t));return;case 8:case 46:e.deleteSelection(t);return}e.isInputHidden&&!Dn(Ci,t)&&Xe(t)}onInput(t){if(this.isLocked)return;let e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=lp(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,a=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),Xe(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),a||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var a=i(()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")},"deactivate");e.settings.create&&e.settings.createOnBlur?e.createItem(null,a):a()}}}onOptionSelect(t,e){var a,l=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?l.createItem(null,()=>{l.settings.closeAfterSelect&&l.close()}):(a=e.dataset.value,typeof a<"u"&&(l.lastQuery=null,l.addItem(a),l.settings.closeAfterSelect&&l.close(),!l.settings.hideSelected&&t.type&&/click/.test(t.type)&&l.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var a=this;return!a.isLocked&&a.settings.mode==="multi"?(Xe(t),a.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){let e=this;if(!e.canLoad(t))return;wt(e.wrapper,e.settings.loadingClass),e.loading++;let a=e.loadCallback.bind(e);e.settings.load.call(e,t,a)}loadCallback(t,e){let a=this;a.loading=Math.max(a.loading-1,0),a.lastQuery=null,a.clearActiveOption(),a.setupOptions(t,e),a.refreshOptions(a.isFocused&&!a.isInputHidden),a.loading||fn(a.wrapper,a.settings.loadingClass),a.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,a=e.value!==t;a&&(e.value=t,Sa(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var a=e?[]:["change"];kl(this,a,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var a=this,l,f,d,E,b,_;if(a.settings.mode!=="single"){if(!t){a.clearActiveItems(),a.isFocused&&a.inputState();return}if(l=e&&e.type.toLowerCase(),l==="click"&&Dn("shiftKey",e)&&a.activeItems.length){for(_=a.getLastActive(),d=Array.prototype.indexOf.call(a.control.children,_),E=Array.prototype.indexOf.call(a.control.children,t),d>E&&(b=d,d=E,E=b),f=d;f<=E;f++)t=a.control.children[f],a.activeItems.indexOf(t)===-1&&a.setActiveItemClass(t);Xe(e)}else l==="click"&&Dn(Ci,e)||l==="keydown"&&Dn("shiftKey",e)?t.classList.contains("active")?a.removeActiveItem(t):a.setActiveItemClass(t):(a.clearActiveItems(),a.setActiveItemClass(t));a.inputState(),a.isFocused||a.focus()}}setActiveItemClass(t){let e=this,a=e.control.querySelector(".last-active");a&&fn(a,"last-active"),wt(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),fn(t,"active")}clearActiveItems(){fn(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,Ye(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),Ye(t,{"aria-selected":"true"}),wt(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;let a=this.dropdown_content,l=a.clientHeight,f=a.scrollTop||0,d=t.offsetHeight,E=t.getBoundingClientRect().top-a.getBoundingClientRect().top+f;E+d>l+f?this.scroll(E-l+d,e):E<f&&this.scroll(E,e)}scroll(t,e){let a=this.dropdown_content;e&&(a.style.scrollBehavior=e),a.scrollTop=t,a.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(fn(this.activeOption,"active"),Ye(this.activeOption,{"aria-selected":null})),this.activeOption=null,Ye(this.focus_node,{"aria-activedescendant":null})}selectAll(){let t=this;if(t.settings.mode==="single")return;let e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,at(e,a=>{t.setActiveItemClass(a)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(Ye(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&Ye(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,a,l=this,f=this.getSearchOptions();if(l.settings.score&&(a=l.settings.score.call(l,t),typeof a!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==l.lastQuery?(l.lastQuery=t,e=l.sifter.search(t,Object.assign(f,{score:a})),l.currentResults=e):e=Object.assign({},l.currentResults),l.settings.hideSelected&&(e.items=e.items.filter(d=>{let E=Ct(d.id);return!(E&&l.items.indexOf(E)!==-1)})),e}refreshOptions(t=!0){var e,a,l,f,d,E,b,_,A,D;let w={},V=[];var R=this,M=R.inputValue();let U=M===R.lastQuery||M==""&&R.lastQuery==null;var Z=R.search(M),Y=null,ae=R.settings.shouldOpen||!1,Me=R.dropdown_content;U&&(Y=R.activeOption,Y&&(A=Y.closest("[data-group]"))),f=Z.items.length,typeof R.settings.maxOptions=="number"&&(f=Math.min(f,R.settings.maxOptions)),f>0&&(ae=!0);let Le=i((ce,_e)=>{let pe=w[ce];if(pe!==void 0){let Oe=V[pe];if(Oe!==void 0)return[pe,Oe.fragment]}let qe=document.createDocumentFragment();return pe=V.length,V.push({fragment:qe,order:_e,optgroup:ce}),[pe,qe]},"getGroupFragment");for(e=0;e<f;e++){let ce=Z.items[e];if(!ce)continue;let _e=ce.id,pe=R.options[_e];if(pe===void 0)continue;let qe=wi(_e),Oe=R.getOption(qe,!0);for(R.settings.hideSelected||Oe.classList.toggle("selected",R.items.includes(qe)),d=pe[R.settings.optgroupField]||"",E=Array.isArray(d)?d:[d],a=0,l=E&&E.length;a<l;a++){d=E[a];let Gt=pe.$order,_t=R.optgroups[d];_t===void 0?d="":Gt=_t.$order;let[Pr,Jn]=Le(d,Gt);a>0&&(Oe=Oe.cloneNode(!0),Ye(Oe,{id:pe.$id+"-clone-"+a,"aria-selected":null}),Oe.classList.add("ts-cloned"),fn(Oe,"active"),R.activeOption&&R.activeOption.dataset.value==_e&&A&&A.dataset.group===d.toString()&&(Y=Oe)),Jn.appendChild(Oe),d!=""&&(w[d]=Pr)}}R.settings.lockOptgroupOrder&&V.sort((ce,_e)=>ce.order-_e.order),b=document.createDocumentFragment(),at(V,ce=>{let _e=ce.fragment,pe=ce.optgroup;if(!_e||!_e.children.length)return;let qe=R.optgroups[pe];if(qe!==void 0){let Oe=document.createDocumentFragment(),Gt=R.render("optgroup_header",qe);Sn(Oe,Gt),Sn(Oe,_e);let _t=R.render("optgroup",{group:qe,options:Oe});Sn(b,_t)}else Sn(b,_e)}),Me.innerHTML="",Sn(Me,b),R.settings.highlight&&(gp(Me),Z.query.length&&Z.tokens.length&&at(Z.tokens,ce=>{mp(Me,ce.regex)}));var ke=i(ce=>{let _e=R.render(ce,{input:M});return _e&&(ae=!0,Me.insertBefore(_e,Me.firstChild)),_e},"add_template");if(R.loading?ke("loading"):R.settings.shouldLoad.call(R,M)?Z.items.length===0&&ke("no_results"):ke("not_loading"),_=R.canCreate(M),_&&(D=ke("option_create")),R.hasOptions=Z.items.length>0||_,ae){if(Z.items.length>0){if(!Y&&R.settings.mode==="single"&&R.items[0]!=null&&(Y=R.getOption(R.items[0])),!Me.contains(Y)){let ce=0;D&&!R.settings.addPrecedence&&(ce=1),Y=R.selectable()[ce]}}else D&&(Y=D);t&&!R.isOpen&&(R.open(),R.scrollToOption(Y,"auto")),R.setActiveOption(Y)}else R.clearActiveOption(),t&&R.isOpen&&R.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){let a=this;if(Array.isArray(t))return a.addOptions(t,e),!1;let l=Ct(t[a.settings.valueField]);return l===null||a.options.hasOwnProperty(l)?!1:(t.$order=t.$order||++a.order,t.$id=a.inputId+"-opt-"+t.$order,a.options[l]=t,a.lastQuery=null,e&&(a.userOptions[l]=e,a.trigger("option_add",l,t)),l)}addOptions(t,e=!1){at(t,a=>{this.addOption(a,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=Ct(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var a;e[this.settings.optgroupValueField]=t,(a=this.registerOptionGroup(e))&&this.trigger("optgroup_add",a,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){let a=this;var l,f;let d=Ct(t),E=Ct(e[a.settings.valueField]);if(d===null)return;let b=a.options[d];if(b==null)return;if(typeof E!="string")throw new Error("Value must be set in option data");let _=a.getOption(d),A=a.getItem(d);if(e.$order=e.$order||b.$order,delete a.options[d],a.uncacheValue(E),a.options[E]=e,_){if(a.dropdown_content.contains(_)){let D=a._render("option",e);Li(_,D),a.activeOption===_&&a.setActiveOption(D)}_.remove()}A&&(f=a.items.indexOf(d),f!==-1&&a.items.splice(f,1,E),l=a._render("item",e),A.classList.contains("active")&&wt(l,"active"),Li(A,l)),a.lastQuery=null}removeOption(t,e){let a=this;t=wi(t),a.uncacheValue(t),delete a.userOptions[t],delete a.options[t],a.lastQuery=null,a.trigger("option_remove",t),a.removeItem(t,e)}clearOptions(t){let e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let a={};at(this.options,(l,f)=>{e(l,f)&&(a[f]=l)}),this.options=this.sifter.items=a,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){let a=Ct(t);if(a===null)return null;let l=this.options[a];if(l!=null){if(l.$div)return l.$div;if(e)return this._render("option",l)}return null}getAdjacent(t,e,a="option"){var l=this,f;if(!t)return null;a=="item"?f=l.controlChildren():f=l.dropdown_content.querySelectorAll("[data-selectable]");for(let d=0;d<f.length;d++)if(f[d]==t)return e>0?f[d+1]:f[d-1];return null}getItem(t){if(typeof t=="object")return t;var e=Ct(t);return e!==null?this.control.querySelector(`[data-value="${Gl(e)}"]`):null}addItems(t,e){var a=this,l=Array.isArray(t)?t:[t];l=l.filter(d=>a.items.indexOf(d)===-1);let f=l[l.length-1];l.forEach(d=>{a.isPending=d!==f,a.addItem(d,e)})}addItem(t,e){var a=e?[]:["change","dropdown_close"];kl(this,a,()=>{var l,f;let d=this,E=d.settings.mode,b=Ct(t);if(!(b&&d.items.indexOf(b)!==-1&&(E==="single"&&d.close(),E==="single"||!d.settings.duplicates))&&!(b===null||!d.options.hasOwnProperty(b))&&(E==="single"&&d.clear(e),!(E==="multi"&&d.isFull()))){if(l=d._render("item",d.options[b]),d.control.contains(l)&&(l=l.cloneNode(!0)),f=d.isFull(),d.items.splice(d.caretPos,0,b),d.insertAtCaret(l),d.isSetup){if(!d.isPending&&d.settings.hideSelected){let _=d.getOption(b),A=d.getAdjacent(_,1);A&&d.setActiveOption(A)}!d.isPending&&!d.settings.closeAfterSelect&&d.refreshOptions(d.isFocused&&E!=="single"),d.settings.closeAfterSelect!=!1&&d.isFull()?d.close():d.isPending||d.positionDropdown(),d.trigger("item_add",b,l),d.isPending||d.updateOriginalInput({silent:e})}(!d.isPending||!f&&d.isFull())&&(d.inputState(),d.refreshState())}})}removeItem(t=null,e){let a=this;if(t=a.getItem(t),!t)return;var l,f;let d=t.dataset.value;l=ql(t),t.remove(),t.classList.contains("active")&&(f=a.activeItems.indexOf(t),a.activeItems.splice(f,1),fn(t,"active")),a.items.splice(l,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(d)&&a.removeOption(d,e),l<a.caretPos&&a.setCaret(a.caretPos-1),a.updateOriginalInput({silent:e}),a.refreshState(),a.positionDropdown(),a.trigger("item_remove",d,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=i(()=>{},"callback"));var a=this,l=a.caretPos,f;if(t=t||a.inputValue(),!a.canCreate(t))return e(),!1;a.lock();var d=!1,E=i(b=>{if(a.unlock(),!b||typeof b!="object")return e();var _=Ct(b[a.settings.valueField]);if(typeof _!="string")return e();a.setTextboxValue(),a.addOption(b,!0),a.setCaret(l),a.addItem(_),e(b),d=!0},"create");return typeof a.settings.create=="function"?f=a.settings.create.call(this,t,E):f={[a.settings.labelField]:t,[a.settings.valueField]:t},d||E(f),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){let t=this;t.refreshValidityState();let e=t.isFull(),a=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);let l=t.wrapper.classList;l.toggle("focus",t.isFocused),l.toggle("disabled",t.isDisabled),l.toggle("readonly",t.isReadOnly),l.toggle("required",t.isRequired),l.toggle("invalid",!t.isValid),l.toggle("locked",a),l.toggle("full",e),l.toggle("input-active",t.isFocused&&!t.isInputHidden),l.toggle("dropdown-active",t.isOpen),l.toggle("has-options",hp(t.options)),l.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){let e=this;var a,l;let f=e.input.querySelector('option[value=""]');if(e.is_select_tag){let b=function(_,A,D){return _||(_=zt('<option value="'+Aa(A)+'">'+Aa(D)+"</option>")),_!=f&&e.input.append(_),d.push(_),(_!=f||E>0)&&(_.selected=!0),_};i(b,"AddSelected");let d=[],E=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(_=>{_.selected=!1}),e.items.length==0&&e.settings.mode=="single"?b(f,"",""):e.items.forEach(_=>{if(a=e.options[_],l=a[e.settings.labelField]||"",d.includes(a.$option)){let A=e.input.querySelector(`option[value="${Gl(_)}"]:not(:checked)`);b(A,_,l)}else a.$option=b(a.$option,_,l)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,Ye(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),Ri(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),Ri(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,a=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,Ye(e.focus_node,{"aria-expanded":"false"}),Ri(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),a&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),a=t.offsetHeight+e.top+window.scrollY,l=e.left+window.scrollX;Ri(this.dropdown,{width:e.width+"px",top:a+"px",left:l+"px"})}}clear(t){var e=this;if(e.items.length){var a=e.controlChildren();at(a,l=>{e.removeItem(l,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){let e=this,a=e.caretPos,l=e.control;l.insertBefore(t,l.children[a]||null),e.setCaret(a+1)}deleteSelection(t){var e,a,l,f,d=this;e=t&&t.keyCode===8?-1:1,a=cp(d.control_input);let E=[];if(d.activeItems.length)f=Yl(d.activeItems,e),l=ql(f),e>0&&l++,at(d.activeItems,b=>E.push(b));else if((d.isFocused||d.settings.mode==="single")&&d.items.length){let b=d.controlChildren(),_;e<0&&a.start===0&&a.length===0?_=b[d.caretPos-1]:e>0&&a.start===d.inputValue().length&&(_=b[d.caretPos]),_!==void 0&&E.push(_)}if(!d.shouldDelete(E,t))return!1;for(Xe(t,!0),typeof l<"u"&&d.setCaret(l);E.length;)d.removeItem(E.pop());return d.inputState(),d.positionDropdown(),d.refreshOptions(!1),!0}shouldDelete(t,e){let a=t.map(l=>l.dataset.value);return!(!a.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(a,e)===!1)}advanceSelection(t,e){var a,l,f=this;f.rtl&&(t*=-1),!f.inputValue().length&&(Dn(Ci,e)||Dn("shiftKey",e)?(a=f.getLastActive(t),a?a.classList.contains("active")?l=f.getAdjacent(a,t,"item"):l=a:t>0?l=f.control_input.nextElementSibling:l=f.control_input.previousElementSibling,l&&(l.classList.contains("active")&&f.removeActiveItem(a),f.setActiveItemClass(l))):f.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var a=this.control.querySelectorAll(".active");if(a)return Yl(a,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,fn(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var a,l;let f=this;if(typeof this.settings.render[t]!="function"||(l=f.settings.render[t].call(this,e,Aa),!l))return null;if(l=zt(l),t==="option"||t==="option_create"?e[f.settings.disabledField]?Ye(l,{"aria-disabled":"true"}):Ye(l,{"data-selectable":""}):t==="optgroup"&&(a=e.group[f.settings.optgroupValueField],Ye(l,{"data-group":a}),e.group[f.settings.disabledField]&&Ye(l,{"data-disabled":""})),t==="option"||t==="item"){let d=wi(e[f.settings.valueField]);Ye(l,{"data-value":d}),t==="item"?(wt(l,f.settings.itemClass),Ye(l,{"data-ts-item":""})):(wt(l,f.settings.optionClass),Ye(l,{role:"option",id:e.$id}),e.$div=l,f.options[d]=e)}return l}_render(t,e){let a=this.render(t,e);if(a==null)throw"HTMLElement expected";return a}clearCache(){at(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){let e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,a){var l=this,f=l[e];l[e]=function(){var d,E;return t==="after"&&(d=f.apply(l,arguments)),E=a.apply(l,arguments),t==="instead"?E:(t==="before"&&(d=f.apply(l,arguments)),d)}}};var zv=i((n,t,e,a)=>{n.addEventListener(t,e,a)},"addEvent");function _p(){zv(this.input,"change",()=>{this.sync()})}i(_p,"plugin");var jv=i(n=>typeof n>"u"||n===null?null:Wv(n),"hash_key"),Wv=i(n=>typeof n=="boolean"?n?"1":"0":n+"","get_hash"),Tp=i((n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},"preventDefault"),Kv=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if($v(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),$v=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString");function Ip(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;let a=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var l=i(function(E,b){b?(E.checked=!0,a.uncheckedClassNames&&E.classList.remove(...a.uncheckedClassNames),a.checkedClassNames&&E.classList.add(...a.checkedClassNames)):(E.checked=!1,a.checkedClassNames&&E.classList.remove(...a.checkedClassNames),a.uncheckedClassNames&&E.classList.add(...a.uncheckedClassNames))},"UpdateChecked"),f=i(function(E){setTimeout(()=>{var b=E.querySelector("input."+a.className);b instanceof HTMLInputElement&&l(b,E.classList.contains("selected"))},1)},"UpdateCheckbox");t.hook("after","setupTemplates",()=>{var d=t.settings.render.option;t.settings.render.option=(E,b)=>{var _=Kv(d.call(t,E,b)),A=document.createElement("input");a.className&&A.classList.add(a.className),A.addEventListener("click",function(w){Tp(w)}),A.type="checkbox";let D=jv(E[t.settings.valueField]);return l(A,!!(D&&t.items.indexOf(D)>-1)),_.prepend(A),_}}),t.on("item_remove",d=>{var E=t.getOption(d);E&&(E.classList.remove("selected"),f(E))}),t.on("item_add",d=>{var E=t.getOption(d);E&&f(E)}),t.hook("instead","onOptionSelect",(d,E)=>{if(E.classList.contains("selected")){E.classList.remove("selected"),t.removeItem(E.dataset.value),t.refreshOptions(),Tp(d,!0);return}e.call(t,d,E),f(E)})}i(Ip,"plugin");var Xv=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Qv(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),Qv=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString");function bp(n){let t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i(a=>`<div class="${a.className}" title="${a.title}">&#10799;</div>`,"html")},n);t.on("initialize",()=>{var a=Xv(e.html(e));a.addEventListener("click",l=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),l.preventDefault(),l.stopPropagation())}),t.control.appendChild(a)})}i(bp,"plugin");var Jv=i((n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},"preventDefault"),xr=i((n,t,e,a)=>{n.addEventListener(t,e,a)},"addEvent"),Zv=i((n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},"iterate"),e2=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(t2(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),t2=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString"),n2=i((n,t)=>{Zv(t,(e,a)=>{e==null?n.removeAttribute(a):n.setAttribute(a,""+e)})},"setAttr"),r2=i((n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},"insertAfter"),i2=i((n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},"insertBefore"),o2=i((n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1},"isBefore");function Ap(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let a=!0,l;n.hook("after","setupTemplates",()=>{var f=n.settings.render.item;n.settings.render.item=(d,E)=>{let b=e2(f.call(n,d,E));n2(b,{draggable:"true"});let _=i(M=>{a||Jv(M),M.stopPropagation()},"mousedown"),A=i(M=>{l=b,setTimeout(()=>{b.classList.add("ts-dragging")},0)},"dragStart"),D=i(M=>{M.preventDefault(),b.classList.add("ts-drag-over"),V(b,l)},"dragOver"),w=i(()=>{b.classList.remove("ts-drag-over")},"dragLeave"),V=i((M,U)=>{U!==void 0&&(o2(U,b)?r2(M,U):i2(M,U))},"moveitem"),R=i(()=>{var M;document.querySelectorAll(".ts-drag-over").forEach(Z=>Z.classList.remove("ts-drag-over")),(M=l)==null||M.classList.remove("ts-dragging"),l=void 0;var U=[];n.control.querySelectorAll("[data-value]").forEach(Z=>{if(Z.dataset.value){let Y=Z.dataset.value;Y&&U.push(Y)}}),n.setValue(U)},"dragend");return xr(b,"mousedown",_),xr(b,"dragstart",A),xr(b,"dragenter",D),xr(b,"dragover",D),xr(b,"dragleave",w),xr(b,"dragend",R),b}}),n.hook("instead","lock",()=>(a=!1,t.call(n))),n.hook("instead","unlock",()=>(a=!0,e.call(n)))}i(Ap,"plugin");var a2=i((n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},"preventDefault"),s2=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(l2(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),l2=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString");function Dp(n){let t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i(a=>'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a class="'+a.closeClass+'">&times;</a></div></div>',"html")},n);t.on("initialize",()=>{var a=s2(e.html(e)),l=a.querySelector("."+e.closeClass);l&&l.addEventListener("click",f=>{a2(f,!0),t.close()}),t.dropdown.insertBefore(a,t.dropdown.firstChild)})}i(Dp,"plugin");var u2=i((n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},"iterate"),c2=i((n,...t)=>{var e=d2(t);n=f2(n),n.map(a=>{e.map(l=>{a.classList.remove(l)})})},"removeClasses"),d2=i(n=>{var t=[];return u2(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),f2=i(n=>(Array.isArray(n)||(n=[n]),n),"castAsArray"),p2=i((n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},"nodeIndex");function Sp(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,a)=>{a<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;let e=n.getLastActive(t);if(e){let a=p2(e);n.setCaret(t>0?a+1:a),n.setActiveItem(),c2(e,"last-active")}else n.setCaret(n.caretPos+t)})}i(Sp,"plugin");var h2=i((n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},"preventDefault"),m2=i((n,t,e,a)=>{n.addEventListener(t,e,a)},"addEvent"),g2=i((n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},"iterate"),xp=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(E2(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),E2=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString"),v2=i((n,...t)=>{var e=y2(t);n=_2(n),n.map(a=>{e.map(l=>{a.classList.add(l)})})},"addClasses"),y2=i(n=>{var t=[];return g2(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),_2=i(n=>(Array.isArray(n)||(n=[n]),n),"castAsArray");function Op(){let n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,v2(n.control_input,"dropdown-input");let t=xp('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);let e=xp('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case 27:n.isOpen&&(h2(e,!0),n.close()),n.clearActiveItems();return;case 9:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});let t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),m2(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}i(Op,"plugin");var wa=i((n,t,e,a)=>{n.addEventListener(t,e,a)},"addEvent");function wp(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var a=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let f of a)t.style[f]=e.style[f];var l=i(()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"},"resize");l(),n.on("update item_add item_remove",l),wa(e,"input",l),wa(e,"keyup",l),wa(e,"blur",l),wa(e,"update",l)})}i(wp,"plugin");function Rp(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}i(Rp,"plugin");function Lp(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}i(Lp,"plugin");var T2=i((n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},"parentMatch"),I2=i((n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},"nodeIndex");function Cp(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var a,l,f,d;if(!n.isOpen||!(e.keyCode===37||e.keyCode===39))return t.call(n,e);n.ignoreHover=!0,d=T2(n.activeOption,"[data-group]"),a=I2(n.activeOption,"[data-selectable]"),d&&(e.keyCode===37?d=d.previousSibling:d=d.nextSibling,d&&(f=d.querySelectorAll("[data-selectable]"),l=f[Math.min(f.length-1,a)],l&&n.setActiveOption(l)))})}i(Cp,"plugin");var b2=i(n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),Mp=i((n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},"preventDefault"),Pp=i((n,t,e,a)=>{n.addEventListener(t,e,a)},"addEvent"),Np=i(n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(A2(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},"getDom"),A2=i(n=>typeof n=="string"&&n.indexOf("<")>-1,"isHtmlString");function Fp(n){let t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var a='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+b2(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var l=e.settings.render.item;e.settings.render.item=(f,d)=>{var E=Np(l.call(e,f,d)),b=Np(a);return E.appendChild(b),Pp(b,"mousedown",_=>{Mp(_,!0)}),Pp(b,"click",_=>{e.isLocked||(Mp(_,!0),!e.isLocked&&e.shouldDelete([E],_)&&(e.removeItem(E),e.refreshOptions(!1),e.inputState()))}),E}})}}i(Fp,"plugin");function Up(n){let t=this,e=Object.assign({text:i(a=>a[t.settings.labelField],"text")},n);t.on("item_remove",function(a){if(t.isFocused&&t.control_input.value.trim()===""){var l=t.options[a];l&&t.setTextboxValue(e.text.call(t,l))}})}i(Up,"plugin");var D2=i((n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},"iterate"),S2=i((n,...t)=>{var e=x2(t);n=O2(n),n.map(a=>{e.map(l=>{a.classList.add(l)})})},"addClasses"),x2=i(n=>{var t=[];return D2(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},"classesArray"),O2=i(n=>(Array.isArray(n)||(n=[n]),n),"castAsArray");function Bp(){let n=this,t=n.canLoad,e=n.clearActiveOption,a=n.loadCallback;var l={},f,d=!1,E,b=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(f.clientHeight/(f.scrollHeight-f.scrollTop)>.9)return!0;if(n.activeOption){var w=n.selectable(),V=Array.from(w).indexOf(n.activeOption);if(V>=w.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];let _=i(D=>typeof n.settings.maxOptions=="number"&&f.children.length>=n.settings.maxOptions?!1:!!(D in l&&l[D]),"canLoadMore"),A=i((D,w)=>n.items.indexOf(w)>=0||b.indexOf(w)>=0,"clearFilter");n.setNextUrl=(D,w)=>{l[D]=w},n.getUrl=D=>{if(D in l){let w=l[D];return l[D]=!1,w}return n.clearPagination(),n.settings.firstUrl.call(n,D)},n.clearPagination=()=>{l={}},n.hook("instead","clearActiveOption",()=>{if(!d)return e.call(n)}),n.hook("instead","canLoad",D=>D in l?_(D):t.call(n,D)),n.hook("instead","loadCallback",(D,w)=>{if(!d)n.clearOptions(A);else if(E){let V=D[0];V!==void 0&&(E.dataset.value=V[n.settings.valueField])}a.call(n,D,w),d=!1}),n.hook("after","refreshOptions",()=>{let D=n.lastValue;var w;_(D)?(w=n.render("loading_more",{query:D}),w&&(w.setAttribute("data-selectable",""),E=w)):D in l&&!f.querySelector(".no-results")&&(w=n.render("no_more_results",{query:D})),w&&(S2(w,n.settings.optionClass),f.append(w))}),n.on("initialize",()=>{b=Object.keys(n.options),f=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:i(()=>'<div class="loading-more-results">Loading more results ... </div>',"loading_more"),no_more_results:i(()=>'<div class="no-more-results">No more results</div>',"no_more_results")},n.settings.render),f.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&_(n.lastValue)&&(d||(d=!0,n.load.call(n,n.lastValue)))})})}i(Bp,"plugin");ct.define("change_listener",_p);ct.define("checkbox_options",Ip);ct.define("clear_button",bp);ct.define("drag_drop",Ap);ct.define("dropdown_header",Dp);ct.define("caret_position",Sp);ct.define("dropdown_input",Op);ct.define("input_autogrow",wp);ct.define("no_backspace_delete",Rp);ct.define("no_active_items",Lp);ct.define("optgroup_columns",Cp);ct.define("remove_button",Fp);ct.define("restore_on_backspace",Up);ct.define("virtual_scroll",Bp);var Vp=ct;var R2=Vp,Ra=class extends Ae{static{i(this,"SelectField")}options={id:"",type:hi,required:!1,validation:i((t,e,a)=>a&&!t?xe:a&&Array.isArray(t)&&t.length===0?xe:!0,"validation"),enhance:!0,multiple:!1,optionsList:[],className:yf,options:{valueField:"value",labelField:"label",searchField:["label"],optgroupField:"group",optgroupLabelField:"label",optgroupValueField:"id"}};_tomselect=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.ensureTomSelectDefaultOptions(),this.onGui(),this.initialize()}ensureTomSelectDefaultOptions(){this.options.options=Object.assign(this.options.options,{valueField:this.options.options?.valueField??ni,labelField:this.options.options?.labelField??Jo,searchField:this.options.options?.searchField??[Jo],optgroupField:this.options.options?.optgroupField??"group",optgroupLabelField:this.options.options?.optgroupLabelField??Jo,optgroupValueField:this.options.options?.optgroupValueField??fe})}async initialize(){this.initTomselect(),typeof this.options.optionsList!="function"&&this.syncOptions(this.options.optionsList||[],typeof this.options.optionGroups!="function"?this.options.optionGroups||[]:[]),this.load(),this.update(),this.bindChange()}syncValue(){if(this.inputElement&&this.inputElement instanceof HTMLSelectElement&&this.options.enhance===!1){let t=this.getValue();for(let e of this.inputElement.options){let a=t&&Array.isArray(t)?t?.some(l=>l===e.value):t===e.value;a&&!e.hasAttribute(Wn)&&e.setAttribute(Wn,""),!a&&e.hasAttribute(Wn)&&e.removeAttribute(Wn)}}else if(this.options.enhance===!0&&this._tomselect){let t=this.getValue();t!==this._tomselect.getValue()&&(typeof t=="string"||Array.isArray(t))&&this._tomselect.setValue(t,!0)}}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,Er(this.change,25,this))}getTomselect(){return this._tomselect}async pullOptions(t,e,a,l){if(typeof a=="function"){let f=await a(t),d=null;l&&(typeof l=="function"?d=await l(t):l.length>0&&(d=l)),e(f,d||void 0)}}initTomselect(){this.options.enhance&&(this.options.optionsList&&typeof this.options.optionsList=="function"&&(this.options.options=Object.assign(this.options.options,{load:i((t,e)=>{this.pullOptions(t,e,this.options.optionsList,this.options.optionGroups)},"load"),preload:this.options.options?.preload??!0})),this.inputElement&&(this._tomselect=new R2(this.inputElement,this.options.options||{})))}handleDisabled(){this.isDisabled()?(this.inputElement?.setAttribute(jn,"true"),this._tomselect&&this._tomselect.disable()):(this.inputElement?.removeAttribute(jn),this._tomselect&&this._tomselect.enable())}createSelectElement(){this.inputElement=document.createElement(wf),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.getType()),this.options.multiple&&this.inputElement.setAttribute(Ko,""),this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder),this.inputElement.className=this.options.className}syncOptions(t,e){if(this.options.enhance)this._tomselect?.clearOptions(),this._tomselect?.addOptions(t),e.length>0&&(this._tomselect?.clearOptionGroups(),e.forEach(a=>{this._tomselect?.addOptionGroup(a.id,a)})),this._tomselect?.sync();else{let a=this.inputElement;a.innerHTML="",e.length>0?e.forEach(l=>{let f=document.createElement(Lf);f.label=l.label,t.filter(E=>E.group===l.id).forEach(E=>{this.inputElement&&this.createOption(E,f)}),this.inputElement?.append(f)}):t.forEach(l=>{this.inputElement&&this.createOption(l,this.inputElement)})}}createOption(t,e){let a=document.createElement(Rf);a.setAttribute(ni,t.value),typeof t.value=="string"&&this.options.default&&Array.isArray(this.options.default)&&this.options.default?.findIndex(l=>l===t.value)>=0?a.setAttribute(Wn,"true"):this.options.default&&this.options.default===t.value&&a.setAttribute(Wn,"true"),t.disabled&&a.setAttribute(jn,String(t.disabled)),a.innerText=t.label,e?.append(a)}onGui(){this.createContainerElement(),this.createSelectElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&me(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&me(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&me(this.labelElement,this.containerElement)}change(t){if(this.options.enhance&&this._tomselect)this.setValue(this._tomselect.getValue());else if(this.inputElement&&this.inputElement instanceof HTMLSelectElement)if(this.options.multiple){let e=this.inputElement.options,a=[];for(let l=0;l<e.length;l++)e[l].selected&&a.push(e[l].value);this.setValue(a)}else this.setValue(t.target.value);this.validate(),this.options.change&&this.options.change(this.getValue()),this.dispatchEvent("changed",this.getValue())}getValue(){return this._value}};var La=class extends Ae{static{i(this,"TelField")}options={id:"",type:gi,required:!1,validation:i((t,e,a)=>a&&!t?xe:t&&typeof t=="string"&&!t.match(this.telFormat)?bf:!0,"validation"),default:null,className:We};telFormat=/^\+?\d{1,3}?[-.\s]?\(?\d{1,4}?\)?([-.\s]?\d{1,9})*$/;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}getValue(){return this._value}};var Ca=class extends Ae{static{i(this,"TextField")}constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}getValue(){return this._value}};var Ma=class extends Ae{static{i(this,"TextareaField")}options={id:"",type:Ei,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),className:We,rows:5};inputElement=null;createInputElement(){this.inputElement=document.createElement(Cf),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.options.rows&&this.inputElement.setAttribute(zf,String(this.options.rows)),this.inputElement.setAttribute(Ve,this.getType()),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder)}constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}getValue(){return this._value}};var L2=bn,Pa=class extends Ae{static{i(this,"TimeField")}options={id:"",type:vi,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),className:We,enhance:!0,options:{enableTime:!0,noCalendar:!0,altInput:!0}};_flatpickr=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=L2(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.options.enhance?"text":"time"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder)}getValue(){return this._value}};var Na=class extends Ae{static{i(this,"UrlField")}options={id:"",type:yi,required:!1,validation:i((t,e,a)=>a&&!t?xe:t&&typeof t=="string"&&!t.match(this.urlFormat)?Af:!0,"validation"),default:"",className:We};urlFormat=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}getValue(){return this._value}};var Gp=Js(kp(),1);var C2=bn,Fa=class extends Ae{static{i(this,"WeekField")}options={id:"",type:_i,required:!1,validation:i((t,e,a)=>a&&!t?xe:!0,"validation"),className:We,enhance:!0,options:{altInput:!0,dateFormat:"Y-W",altFormat:"W, Y",plugins:[(0,Gp.default)()]}};_flatpickr=null;constructor(t,e,a){super(t,e,a),this.initializeOptions(a),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=C2(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(it,t=>{this.change(t)})}createInputElement(){this.inputElement=document.createElement(rt),this.inputElement.setAttribute(fe,this.getId()),this.inputElement.setAttribute(Ke,this.options.name||this.getId()),this.inputElement.setAttribute(Ve,this.options.enhance?"text":"week"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(mt,this.options.placeholder)}getValue(){return this._value}};var Ua=class{static{i(this,"StaticField")}options={id:"",type:mi,template:"",className:_f};staticElement=null;containerElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_saveKey;_value=null;_type;_parsedConditions=null;constructor(t,e,a){this.initializeOptions(a),this._id=this.options.id,this._form=e,this._parent=t,this._type=a.type,this._saveKey=Hn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Vt(this.options.type,t))}async initialize(){this.parseStringConditions(),this.load(),this.update()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Ut(this.options.conditions))}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getForm(){return this._form}setTemplate(t,e=!0){this.staticElement&&(typeof t=="string"?(this._value=t,this.staticElement.innerText=t):typeof t=="function"&&(this._value=t(),this.staticElement.innerHTML="",this.staticElement.append(t())),e&&this.save())}createContainerElement(){this.containerElement=document.createElement(ut),this.containerElement.className=Tn+" "+this._type,this.containerElement.setAttribute(fe,this._id+Jt)}createStaticElement(){this.staticElement=document.createElement(ut),this.staticElement.className=this.options.className,this.staticElement.setAttribute(fe,this._id)}onGui(){this.createContainerElement(),this.createStaticElement(),this.containerElement&&this.staticElement&&me(this.staticElement,this.containerElement)}mount(){this.containerElement&&me(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&un(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let t=localStorage.getItem(this._saveKey);if(t!==null){this.setTemplate(vr(t)?JSON.parse(t):t,!1);return}}this.setTemplate(this.options.template,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setTemplate(this.options.template,!1),this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){this.options.conditions&&(this._parsedConditions?this._isVisible=Bt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this.getValue(),this._form.getData())))}};var Ba=class{static{i(this,"Group")}options={id:"",type:ri,className:of,prefixSchema:!1,schema:[]};containerElement=null;schemaContainerElement=null;labelElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(t,e,a){this.initializeOptions(a),this._parent=t,this._form=e,this._id=this.options.id,this._type=a.type,this.onGui(),this.initialize()}initializeOptions(t){this.options=Object.assign({},this.options,Vt(this.options.type,t))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Ut(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getSchemaContainer(){return this.schemaContainerElement}getType(){return this._type}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(ut),this.containerElement.className=rf,this.containerElement.setAttribute(fe,this._id+Pf)}createSchemaContainerElement(){this.schemaContainerElement=document.createElement(ut),this.schemaContainerElement.className=this.options.className,this.schemaContainerElement.setAttribute(fe,this._id)}createLabelElement(){this.labelElement=document.createElement(xf),this.options.label&&(typeof this.options.label=="string"?this.labelElement.innerText=this.options.label:typeof this.options.label=="function"&&(this.labelElement.innerHTML="",this.labelElement.append(this.options.label()))),this.labelElement.setAttribute(fe,this._id+cn),this.labelElement.className=af}onGui(){this.createContainerElement(),this.createSchemaContainerElement(),this.createLabelElement(),this.containerElement&&this.labelElement&&this.options.label&&me(this.labelElement,this.containerElement),this.containerElement&&this.schemaContainerElement&&me(this.schemaContainerElement,this.containerElement)}mount(){this.containerElement&&me(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&un(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let t=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Bt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),t!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}dispatchEvent(t,e=null){let a=e!==null?new CustomEvent(t,{detail:e}):new CustomEvent(t);this.containerElement?.dispatchEvent(a)}on(t,e,a){this.containerElement?.addEventListener(t,e,a)}off(t,e,a){this.containerElement?.removeEventListener(t,e,a)}};var pn=class{static{i(this,"Form")}options={id:"",saveProgress:!1,useFormData:!1,schema:[],action:null,method:null,className:tf};_parent=null;_formElement=null;_id="";_isValid=null;_errors=[];_fields={};_groups={};_buttons={};_data={};_saveProgress=!1;_licenseState=Ft.INVALID;_schema=[];_dataPrefixMap={};_triggerEvents=!0;constructor(t,e){this.initializeOptions(e),this.setParentElement(t),this.processLicense(),this.onGui(),this.initForm()}setParentElement(t){let e;if(typeof t=="string"?e=document.getElementById(t):e=t,this._parent=e,!this._parent)throw new Error("Parent does not exist in the document")}initializeOptions(t){this.options=Object.assign({},this.options,t),this._id=t.id,this._schema=t.schema,this._saveProgress=t.saveProgress,this._saveProgress&&ti()}initForm(){this._formElement&&this.buildSchema(this._schema,this._formElement),this._formElement&&this._parent&&me(this._formElement,this._parent)}processLicense(){bl()&&(this.options.licenseKey&&Il(this.options.licenseKey),this._licenseState=Ud(),this.hasValidLicense()||Vd(this._licenseState))}buildSchema(t,e,a=null,l=null,f=null){t.forEach(d=>{this.buildElement(d,e,a,l,f)})}isValid(){return this._isValid}createWrapper(t){let e=document.createElement(ut);return me(e,t),e}mapFieldToDataPrefix(t,e,a=null){let l=t.id;a&&(l=Fd(e,a,t.id)),this._dataPrefixMap[l]={id:e,dataKey:t.id,key:a},a&&(t.id=l,t.name=l)}buildElement(t,e,a,l,f){let d={...t},E=wl[t.type];if(!E)throw new Error(`Unknown type: ${t.type}`);let b=this.createWrapper(e),_=Nd(t.type);l&&f&&_===be.field&&this.mapFieldToDataPrefix(d,l,f),a&&_===be.field&&this.mapFieldToDataPrefix(d,a,null);let A=new E(b,this,d);switch(_){case be.button:l&&f?this.assignToListField(l,f,A,_,t.id):this._buttons[t.id]=A;break;case be.group:if(l&&f?this.assignToListField(l,f,A,_,t.id):this._groups[t.id]=A,t.schema&&A.getSchemaContainer){let D=A.getSchemaContainer();D&&this.buildSchema(t.schema,D,t.prefixSchema?A.getId():a,l,f)}break;case be.field:l&&f?this.assignToListField(l,f,A,_,t.id):this._fields[t.id]=A;break}}assignToListField(t,e,a,l,f){let d=this._fields[t];if(!(!d||!d.assignButton||!d.assignGroup||!d.assignField))switch(l){case be.button:d.assignButton(f,e,a);break;case be.group:d.assignGroup(f,e,a);break;case be.field:d.assignField(f,e,a);break}}async update(){this._groups&&Object.keys(this._groups).forEach(t=>{this._groups[t].update()}),this._fields&&Object.keys(this._fields).forEach(t=>{this._fields[t].update()}),this._buttons&&Object.keys(this._buttons).forEach(t=>{this._buttons[t].update()})}getField(t){return this._fields[t]}getFormElement(){return this._formElement}dispatchEvent(t,e=null){if(!this._triggerEvents)return;let a=e!==null?new CustomEvent(t,{detail:e}):new CustomEvent(t);this._formElement?.dispatchEvent(a)}setData(t,e){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,t)?this.setDataFromMap(t,e):this.setSimpleData(t,e),this.update(),this.dispatchEvent("dataUpdated",this._data)}removeData(t){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,t)?this.removeMappedData(t):delete this._data[t],this.dispatchEvent("dataUpdated",this._data)}removeMappedData(t){let e=this._dataPrefixMap[t],{dataKey:a,key:l,id:f}=e;if(!(!a||!f))if(l){let d=this.getField(f);if(!d||!d.getKeyIndex)return;let E=d.getId(),b=d.getKeyIndex(l);delete this._data[E][b][a],typeof this._data[E][b]=="object"&&Object.keys(this._data[E][b]).length===0&&delete this._data[E][b]}else{let d=this.getGroup(f);if(!d)return;let E=d.getId();delete this._data[E][a],typeof this._data[E]=="object"&&Object.keys(this._data[E]).length===0&&delete this._data[E]}}setDataFromMap(t,e){let a=this._dataPrefixMap[t],{dataKey:l,key:f,id:d}=a;if(!(!l||!d))if(f){let E=this.getField(d);if(!E||!E.getKeyIndex)return;let b=E.getId(),_=E.getKeyIndex(f);this.ensureDataStructureExists(b,_),this._data[b][_][l]=e}else{let E=this.getGroup(d);if(!E)return;let b=E.getId();this.ensureDataStructureExists(b),this._data[b][l]=e}}setSimpleData(t,e){this._data[t]=e}ensureDataStructureExists(t,e=null){if(e===null&&!this._data[t]){this._data[t]={};return}else(e||e===0)&&(this._data[t]||(this._data[t]=[]),this._data[t][e]||(this._data[t][e]={}))}removeListData(t,e){this._data[t]&&this._data[t][e]&&this._data[t].splice(e,1)}getId(){return this._id}getData(){return this._data}getButtons(){return this._buttons}getButton(t){return this._buttons[t]}getGroups(){return this._groups}getGroup(t){return this._groups[t]}savesProgress(){return this._saveProgress}getErrors(){return this._errors}hasValidLicense(){return this._licenseState===Ft.VALID}updateError(t,e){this._errors.includes(t)&&e?this._errors=this._errors.filter(a=>a!==t):!this._errors.includes(t)&&!e&&this._errors.push(t),this._isValid=this._errors.length===0}reset(t){this._triggerEvents=!1,t&&t.preventDefault(),this._groups&&Object.keys(this._groups).forEach(e=>{let a=this._groups[e];a.reset&&typeof a.reset=="function"&&a.reset()}),this._fields&&Object.keys(this._fields).forEach(e=>{let a=this._fields[e];a.reset&&typeof a.reset=="function"&&a.reset()}),this._buttons&&Object.keys(this._buttons).forEach(e=>{let a=this._buttons[e];a.reset&&typeof a.reset=="function"&&a.reset()}),this._isValid=null,this._triggerEvents=!0,this.dispatchEvent("resetted")}validate(){this._fields&&Object.keys(this._fields).forEach(t=>{let e=this._fields[t];e.validate&&typeof e.validate=="function"&&e.validate()}),this._isValid=this._errors.length===0}save(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(t=>{let e=this._fields[t];e.save&&typeof e.save=="function"&&e.save()}),this._groups&&Object.keys(this._groups).forEach(t=>{let e=this._groups[t];e.save&&typeof e.save=="function"&&e.save()}))}load(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(t=>{let e=this._fields[t];e.load&&typeof e.load=="function"&&e.load()}),this._groups&&Object.keys(this._groups).forEach(t=>{let e=this._groups[t];e.load&&typeof e.load=="function"&&e.load()}))}onGui(){this._formElement=document.createElement(Df),this._formElement.setAttribute(fe,this._id),this._formElement.className=this.options.className,this.options.action&&this._formElement.setAttribute(Bf,this.options.action),this.options.method&&this._formElement.setAttribute(Vf,this.options.method),this._formElement.addEventListener(kf,t=>this.submit(t)),this._formElement.addEventListener(Gf,this.reset),bl()&&!this.hasValidLicense()&&this.createInvalidElement()}createInvalidElement(){let t=document.createElement(Sf);t.setAttribute(Hf,Jd),t.className=Zd,t.style.cssText=ef;let e=document.createElement(qn);e.innerText=Bd(this._licenseState),me(e,t),this._parent&&me(t,this._parent)}submit(t){if(!this.options.action&&t&&t.preventDefault(),this.validate(),!this.isValid()){this.dispatchEvent("validationFailedOnSubmit");return}let e=this.getData();this.options.useFormData&&(e=Tl(this.getData())),this.options.submit&&this.options.submit(e),this.dispatchEvent("submitted",e)}destroy(){this._parent&&this._parent.remove()}on(t,e,a){this._formElement?.addEventListener(t,e,a)}off(t,e,a){this._formElement?.removeEventListener(t,e,a)}};Ze(ri,Ba,be.group);Ze(Ol,Ai,be.button);Ze(ii,ua,be.field);Ze(oi,ca,be.field);Ze(ai,da,be.field);Ze(si,la,be.field);Ze(li,fa,be.field);Ze(ui,ha,be.field);Ze(ci,ma,be.field);Ze(di,ga,be.field);Ze(Ar,Ea,be.field);Ze(fi,Zo,be.field);Ze(pi,va,be.field);Ze(hi,Ra,be.field);Ze(mi,Ua,be.field);Ze(gi,La,be.field);Ze(Ei,Ma,be.field);Ze(Kn,Ca,be.field);Ze(vi,Pa,be.field);Ze(yi,Na,be.field);Ze(_i,Fa,be.field);function Mi(n,t){return i(function(){return n.apply(t,arguments)},"wrap")}i(Mi,"bind");var{toString:M2}=Object.prototype,{getPrototypeOf:$l}=Object,ka=(n=>t=>{let e=M2.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),jt=i(n=>(n=n.toLowerCase(),t=>ka(t)===n),"kindOfTest"),Ga=i(n=>t=>typeof t===n,"typeOfTest"),{isArray:Or}=Array,Pi=Ga("undefined");function P2(n){return n!==null&&!Pi(n)&&n.constructor!==null&&!Pi(n.constructor)&&Mt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}i(P2,"isBuffer");var Yp=jt("ArrayBuffer");function N2(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Yp(n.buffer),t}i(N2,"isArrayBufferView");var F2=Ga("string"),Mt=Ga("function"),qp=Ga("number"),Ha=i(n=>n!==null&&typeof n=="object","isObject"),U2=i(n=>n===!0||n===!1,"isBoolean"),Va=i(n=>{if(ka(n)!=="object")return!1;let t=$l(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},"isPlainObject"),B2=jt("Date"),V2=jt("File"),k2=jt("Blob"),G2=jt("FileList"),H2=i(n=>Ha(n)&&Mt(n.pipe),"isStream"),Y2=i(n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Mt(n.append)&&((t=ka(n))==="formdata"||t==="object"&&Mt(n.toString)&&n.toString()==="[object FormData]"))},"isFormData"),q2=jt("URLSearchParams"),[z2,j2,W2,K2]=["ReadableStream","Request","Response","Headers"].map(jt),$2=i(n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim");function Ni(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let a,l;if(typeof n!="object"&&(n=[n]),Or(n))for(a=0,l=n.length;a<l;a++)t.call(null,n[a],a,n);else{let f=e?Object.getOwnPropertyNames(n):Object.keys(n),d=f.length,E;for(a=0;a<d;a++)E=f[a],t.call(null,n[E],E,n)}}i(Ni,"forEach");function zp(n,t){t=t.toLowerCase();let e=Object.keys(n),a=e.length,l;for(;a-- >0;)if(l=e[a],t===l.toLowerCase())return l;return null}i(zp,"findKey");var $n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jp=i(n=>!Pi(n)&&n!==$n,"isContextDefined");function Kl(){let{caseless:n}=jp(this)&&this||{},t={},e=i((a,l)=>{let f=n&&zp(t,l)||l;Va(t[f])&&Va(a)?t[f]=Kl(t[f],a):Va(a)?t[f]=Kl({},a):Or(a)?t[f]=a.slice():t[f]=a},"assignValue");for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Ni(arguments[a],e);return t}i(Kl,"merge");var X2=i((n,t,e,{allOwnKeys:a}={})=>(Ni(t,(l,f)=>{e&&Mt(l)?n[f]=Mi(l,e):n[f]=l},{allOwnKeys:a}),n),"extend"),Q2=i(n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),"stripBOM"),J2=i((n,t,e,a)=>{n.prototype=Object.create(t.prototype,a),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},"inherits"),Z2=i((n,t,e,a)=>{let l,f,d,E={};if(t=t||{},n==null)return t;do{for(l=Object.getOwnPropertyNames(n),f=l.length;f-- >0;)d=l[f],(!a||a(d,n,t))&&!E[d]&&(t[d]=n[d],E[d]=!0);n=e!==!1&&$l(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},"toFlatObject"),e0=i((n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;let a=n.indexOf(t,e);return a!==-1&&a===e},"endsWith"),t0=i(n=>{if(!n)return null;if(Or(n))return n;let t=n.length;if(!qp(t))return null;let e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},"toArray"),n0=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&$l(Uint8Array)),r0=i((n,t)=>{let a=(n&&n[Symbol.iterator]).call(n),l;for(;(l=a.next())&&!l.done;){let f=l.value;t.call(n,f[0],f[1])}},"forEachEntry"),i0=i((n,t)=>{let e,a=[];for(;(e=n.exec(t))!==null;)a.push(e);return a},"matchAll"),o0=jt("HTMLFormElement"),a0=i(n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,i(function(e,a,l){return a.toUpperCase()+l},"replacer")),"toCamelCase"),Hp=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),s0=jt("RegExp"),Wp=i((n,t)=>{let e=Object.getOwnPropertyDescriptors(n),a={};Ni(e,(l,f)=>{let d;(d=t(l,f,n))!==!1&&(a[f]=d||l)}),Object.defineProperties(n,a)},"reduceDescriptors"),l0=i(n=>{Wp(n,(t,e)=>{if(Mt(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;let a=n[e];if(Mt(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},"freezeMethods"),u0=i((n,t)=>{let e={},a=i(l=>{l.forEach(f=>{e[f]=!0})},"define");return Or(n)?a(n):a(String(n).split(t)),e},"toObjectSet"),c0=i(()=>{},"noop"),d0=i((n,t)=>n!=null&&Number.isFinite(n=+n)?n:t,"toFiniteNumber");function f0(n){return!!(n&&Mt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}i(f0,"isSpecCompliantForm");var p0=i(n=>{let t=new Array(10),e=i((a,l)=>{if(Ha(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[l]=a;let f=Or(a)?[]:{};return Ni(a,(d,E)=>{let b=e(d,l+1);!Pi(b)&&(f[E]=b)}),t[l]=void 0,f}}return a},"visit");return e(n,0)},"toJSONObject"),h0=jt("AsyncFunction"),m0=i(n=>n&&(Ha(n)||Mt(n))&&Mt(n.then)&&Mt(n.catch),"isThenable"),Kp=((n,t)=>n?setImmediate:t?((e,a)=>($n.addEventListener("message",({source:l,data:f})=>{l===$n&&f===e&&a.length&&a.shift()()},!1),l=>{a.push(l),$n.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Mt($n.postMessage)),g0=typeof queueMicrotask<"u"?queueMicrotask.bind($n):typeof process<"u"&&process.nextTick||Kp,L={isArray:Or,isArrayBuffer:Yp,isBuffer:P2,isFormData:Y2,isArrayBufferView:N2,isString:F2,isNumber:qp,isBoolean:U2,isObject:Ha,isPlainObject:Va,isReadableStream:z2,isRequest:j2,isResponse:W2,isHeaders:K2,isUndefined:Pi,isDate:B2,isFile:V2,isBlob:k2,isRegExp:s0,isFunction:Mt,isStream:H2,isURLSearchParams:q2,isTypedArray:n0,isFileList:G2,forEach:Ni,merge:Kl,extend:X2,trim:$2,stripBOM:Q2,inherits:J2,toFlatObject:Z2,kindOf:ka,kindOfTest:jt,endsWith:e0,toArray:t0,forEachEntry:r0,matchAll:i0,isHTMLForm:o0,hasOwnProperty:Hp,hasOwnProp:Hp,reduceDescriptors:Wp,freezeMethods:l0,toObjectSet:u0,toCamelCase:a0,noop:c0,toFiniteNumber:d0,findKey:zp,global:$n,isContextDefined:jp,isSpecCompliantForm:f0,toJSONObject:p0,isAsyncFn:h0,isThenable:m0,setImmediate:Kp,asap:g0};function wr(n,t,e,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}i(wr,"AxiosError");L.inherits(wr,Error,{toJSON:i(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}},"toJSON")});var $p=wr.prototype,Xp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Xp[n]={value:n}});Object.defineProperties(wr,Xp);Object.defineProperty($p,"isAxiosError",{value:!0});wr.from=(n,t,e,a,l,f)=>{let d=Object.create($p);return L.toFlatObject(n,d,i(function(b){return b!==Error.prototype},"filter"),E=>E!=="isAxiosError"),wr.call(d,n.message,t,e,a,l),d.cause=n,d.name=n.name,f&&Object.assign(d,f),d};var he=wr;var Ya=null;function Xl(n){return L.isPlainObject(n)||L.isArray(n)}i(Xl,"isVisitable");function Jp(n){return L.endsWith(n,"[]")?n.slice(0,-2):n}i(Jp,"removeBrackets");function Qp(n,t,e){return n?n.concat(t).map(i(function(l,f){return l=Jp(l),!e&&f?"["+l+"]":l},"each")).join(e?".":""):t}i(Qp,"renderKey");function E0(n){return L.isArray(n)&&!n.some(Xl)}i(E0,"isFlatArray");var v0=L.toFlatObject(L,{},null,i(function(t){return/^is[A-Z]/.test(t)},"filter"));function y0(n,t,e){if(!L.isObject(n))throw new TypeError("target must be an object");t=t||new(Ya||FormData),e=L.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,i(function(M,U){return!L.isUndefined(U[M])},"defined"));let a=e.metaTokens,l=e.visitor||A,f=e.dots,d=e.indexes,b=(e.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(l))throw new TypeError("visitor must be a function");function _(R){if(R===null)return"";if(L.isDate(R))return R.toISOString();if(!b&&L.isBlob(R))throw new he("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(R)||L.isTypedArray(R)?b&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}i(_,"convertValue");function A(R,M,U){let Z=R;if(R&&!U&&typeof R=="object"){if(L.endsWith(M,"{}"))M=a?M:M.slice(0,-2),R=JSON.stringify(R);else if(L.isArray(R)&&E0(R)||(L.isFileList(R)||L.endsWith(M,"[]"))&&(Z=L.toArray(R)))return M=Jp(M),Z.forEach(i(function(ae,Me){!(L.isUndefined(ae)||ae===null)&&t.append(d===!0?Qp([M],Me,f):d===null?M:M+"[]",_(ae))},"each")),!1}return Xl(R)?!0:(t.append(Qp(U,M,f),_(R)),!1)}i(A,"defaultVisitor");let D=[],w=Object.assign(v0,{defaultVisitor:A,convertValue:_,isVisitable:Xl});function V(R,M){if(!L.isUndefined(R)){if(D.indexOf(R)!==-1)throw Error("Circular reference detected in "+M.join("."));D.push(R),L.forEach(R,i(function(Z,Y){(!(L.isUndefined(Z)||Z===null)&&l.call(t,Z,L.isString(Y)?Y.trim():Y,M,w))===!0&&V(Z,M?M.concat(Y):[Y])},"each")),D.pop()}}if(i(V,"build"),!L.isObject(n))throw new TypeError("data must be an object");return V(n),t}i(y0,"toFormData");var xn=y0;function Zp(n){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,i(function(a){return t[a]},"replacer"))}i(Zp,"encode");function eh(n,t){this._pairs=[],n&&xn(n,this,t)}i(eh,"AxiosURLSearchParams");var th=eh.prototype;th.append=i(function(t,e){this._pairs.push([t,e])},"append");th.toString=i(function(t){let e=t?function(a){return t.call(this,a,Zp)}:Zp;return this._pairs.map(i(function(l){return e(l[0])+"="+e(l[1])},"each"),"").join("&")},"toString");var qa=eh;function _0(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}i(_0,"encode");function Fi(n,t,e){if(!t)return n;let a=e&&e.encode||_0;L.isFunction(e)&&(e={serialize:e});let l=e&&e.serialize,f;if(l?f=l(t,e):f=L.isURLSearchParams(t)?t.toString():new qa(t,e).toString(a),f){let d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}i(Fi,"buildURL");var Ql=class{static{i(this,"InterceptorManager")}constructor(){this.handlers=[]}use(t,e,a){return this.handlers.push({fulfilled:t,rejected:e,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,i(function(a){a!==null&&t(a)},"forEachHandler"))}},Jl=Ql;var za={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var nh=typeof URLSearchParams<"u"?URLSearchParams:qa;var rh=typeof FormData<"u"?FormData:null;var ih=typeof Blob<"u"?Blob:null;var oh={isBrowser:!0,classes:{URLSearchParams:nh,FormData:rh,Blob:ih},protocols:["http","https","file","blob","url","data"]};var tu={};DE(tu,{hasBrowserEnv:()=>eu,hasStandardBrowserEnv:()=>T0,hasStandardBrowserWebWorkerEnv:()=>I0,navigator:()=>Zl,origin:()=>b0});var eu=typeof window<"u"&&typeof document<"u",Zl=typeof navigator=="object"&&navigator||void 0,T0=eu&&(!Zl||["ReactNative","NativeScript","NS"].indexOf(Zl.product)<0),I0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b0=eu&&window.location.href||"http://localhost";var Qe={...tu,...oh};function nu(n,t){return xn(n,new Qe.classes.URLSearchParams,Object.assign({visitor:i(function(e,a,l,f){return Qe.isNode&&L.isBuffer(e)?(this.append(a,e.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},"visitor")},t))}i(nu,"toURLEncodedForm");function A0(n){return L.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}i(A0,"parsePropPath");function D0(n){let t={},e=Object.keys(n),a,l=e.length,f;for(a=0;a<l;a++)f=e[a],t[f]=n[f];return t}i(D0,"arrayToObject");function S0(n){function t(e,a,l,f){let d=e[f++];if(d==="__proto__")return!0;let E=Number.isFinite(+d),b=f>=e.length;return d=!d&&L.isArray(l)?l.length:d,b?(L.hasOwnProp(l,d)?l[d]=[l[d],a]:l[d]=a,!E):((!l[d]||!L.isObject(l[d]))&&(l[d]=[]),t(e,a,l[d],f)&&L.isArray(l[d])&&(l[d]=D0(l[d])),!E)}if(i(t,"buildPath"),L.isFormData(n)&&L.isFunction(n.entries)){let e={};return L.forEachEntry(n,(a,l)=>{t(A0(a),l,e,0)}),e}return null}i(S0,"formDataToJSON");var ja=S0;function x0(n,t,e){if(L.isString(n))try{return(t||JSON.parse)(n),L.trim(n)}catch(a){if(a.name!=="SyntaxError")throw a}return(e||JSON.stringify)(n)}i(x0,"stringifySafely");var ru={transitional:za,adapter:["xhr","http","fetch"],transformRequest:[i(function(t,e){let a=e.getContentType()||"",l=a.indexOf("application/json")>-1,f=L.isObject(t);if(f&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return l?JSON.stringify(ja(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let E;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return nu(t,this.formSerializer).toString();if((E=L.isFileList(t))||a.indexOf("multipart/form-data")>-1){let b=this.env&&this.env.FormData;return xn(E?{"files[]":t}:t,b&&new b,this.formSerializer)}}return f||l?(e.setContentType("application/json",!1),x0(t)):t},"transformRequest")],transformResponse:[i(function(t){let e=this.transitional||ru.transitional,a=e&&e.forcedJSONParsing,l=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(a&&!this.responseType||l)){let d=!(e&&e.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(E){if(d)throw E.name==="SyntaxError"?he.from(E,he.ERR_BAD_RESPONSE,this,null,this.response):E}}return t},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:i(function(t){return t>=200&&t<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],n=>{ru.headers[n]={}});var Rr=ru;var O0=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ah=i(n=>{let t={},e,a,l;return n&&n.split(`
`).forEach(i(function(d){l=d.indexOf(":"),e=d.substring(0,l).trim().toLowerCase(),a=d.substring(l+1).trim(),!(!e||t[e]&&O0[e])&&(e==="set-cookie"?t[e]?t[e].push(a):t[e]=[a]:t[e]=t[e]?t[e]+", "+a:a)},"parser")),t},"default");var sh=Symbol("internals");function Ui(n){return n&&String(n).trim().toLowerCase()}i(Ui,"normalizeHeader");function Wa(n){return n===!1||n==null?n:L.isArray(n)?n.map(Wa):String(n)}i(Wa,"normalizeValue");function w0(n){let t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,a;for(;a=e.exec(n);)t[a[1]]=a[2];return t}i(w0,"parseTokens");var R0=i(n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim()),"isValidHeaderName");function iu(n,t,e,a,l){if(L.isFunction(a))return a.call(this,t,e);if(l&&(t=e),!!L.isString(t)){if(L.isString(a))return t.indexOf(a)!==-1;if(L.isRegExp(a))return a.test(t)}}i(iu,"matchHeaderValue");function L0(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,a)=>e.toUpperCase()+a)}i(L0,"formatHeader");function C0(n,t){let e=L.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(n,a+e,{value:i(function(l,f,d){return this[a].call(this,t,l,f,d)},"value"),configurable:!0})})}i(C0,"buildAccessors");var Lr=class{static{i(this,"AxiosHeaders")}constructor(t){t&&this.set(t)}set(t,e,a){let l=this;function f(E,b,_){let A=Ui(b);if(!A)throw new Error("header name must be a non-empty string");let D=L.findKey(l,A);(!D||l[D]===void 0||_===!0||_===void 0&&l[D]!==!1)&&(l[D||b]=Wa(E))}i(f,"setHeader");let d=i((E,b)=>L.forEach(E,(_,A)=>f(_,A,b)),"setHeaders");if(L.isPlainObject(t)||t instanceof this.constructor)d(t,e);else if(L.isString(t)&&(t=t.trim())&&!R0(t))d(ah(t),e);else if(L.isHeaders(t))for(let[E,b]of t.entries())f(b,E,a);else t!=null&&f(e,t,a);return this}get(t,e){if(t=Ui(t),t){let a=L.findKey(this,t);if(a){let l=this[a];if(!e)return l;if(e===!0)return w0(l);if(L.isFunction(e))return e.call(this,l,a);if(L.isRegExp(e))return e.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ui(t),t){let a=L.findKey(this,t);return!!(a&&this[a]!==void 0&&(!e||iu(this,this[a],a,e)))}return!1}delete(t,e){let a=this,l=!1;function f(d){if(d=Ui(d),d){let E=L.findKey(a,d);E&&(!e||iu(a,a[E],E,e))&&(delete a[E],l=!0)}}return i(f,"deleteHeader"),L.isArray(t)?t.forEach(f):f(t),l}clear(t){let e=Object.keys(this),a=e.length,l=!1;for(;a--;){let f=e[a];(!t||iu(this,this[f],f,t,!0))&&(delete this[f],l=!0)}return l}normalize(t){let e=this,a={};return L.forEach(this,(l,f)=>{let d=L.findKey(a,f);if(d){e[d]=Wa(l),delete e[f];return}let E=t?L0(f):String(f).trim();E!==f&&delete e[f],e[E]=Wa(l),a[E]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let e=Object.create(null);return L.forEach(this,(a,l)=>{a!=null&&a!==!1&&(e[l]=t&&L.isArray(a)?a.join(", "):a)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){let a=new this(t);return e.forEach(l=>a.set(l)),a}static accessor(t){let a=(this[sh]=this[sh]={accessors:{}}).accessors,l=this.prototype;function f(d){let E=Ui(d);a[E]||(C0(l,d),a[E]=!0)}return i(f,"defineAccessor"),L.isArray(t)?t.forEach(f):f(t),this}};Lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Lr.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:i(()=>n,"get"),set(a){this[e]=a}}});L.freezeMethods(Lr);var dt=Lr;function Bi(n,t){let e=this||Rr,a=t||e,l=dt.from(a.headers),f=a.data;return L.forEach(n,i(function(E){f=E.call(e,f,l.normalize(),t?t.status:void 0)},"transform")),l.normalize(),f}i(Bi,"transformData");function Vi(n){return!!(n&&n.__CANCEL__)}i(Vi,"isCancel");function lh(n,t,e){he.call(this,n??"canceled",he.ERR_CANCELED,t,e),this.name="CanceledError"}i(lh,"CanceledError");L.inherits(lh,he,{__CANCEL__:!0});var Zt=lh;function ki(n,t,e){let a=e.config.validateStatus;!e.status||!a||a(e.status)?n(e):t(new he("Request failed with status code "+e.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}i(ki,"settle");function ou(n){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}i(ou,"parseProtocol");function M0(n,t){n=n||10;let e=new Array(n),a=new Array(n),l=0,f=0,d;return t=t!==void 0?t:1e3,i(function(b){let _=Date.now(),A=a[f];d||(d=_),e[l]=b,a[l]=_;let D=f,w=0;for(;D!==l;)w+=e[D++],D=D%n;if(l=(l+1)%n,l===f&&(f=(f+1)%n),_-d<t)return;let V=A&&_-A;return V?Math.round(w*1e3/V):void 0},"push")}i(M0,"speedometer");var uh=M0;function P0(n,t){let e=0,a=1e3/t,l,f,d=i((_,A=Date.now())=>{e=A,l=null,f&&(clearTimeout(f),f=null),n.apply(null,_)},"invoke");return[i((..._)=>{let A=Date.now(),D=A-e;D>=a?d(_,A):(l=_,f||(f=setTimeout(()=>{f=null,d(l)},a-D)))},"throttled"),i(()=>l&&d(l),"flush")]}i(P0,"throttle");var ch=P0;var Cr=i((n,t,e=3)=>{let a=0,l=uh(50,250);return ch(f=>{let d=f.loaded,E=f.lengthComputable?f.total:void 0,b=d-a,_=l(b),A=d<=E;a=d;let D={loaded:d,total:E,progress:E?d/E:void 0,bytes:b,rate:_||void 0,estimated:_&&E&&A?(E-d)/_:void 0,event:f,lengthComputable:E!=null,[t?"download":"upload"]:!0};n(D)},e)},"progressEventReducer"),au=i((n,t)=>{let e=n!=null;return[a=>t[0]({lengthComputable:e,total:n,loaded:a}),t[1]]},"progressEventDecorator"),su=i(n=>(...t)=>L.asap(()=>n(...t)),"asyncDecorator");var dh=Qe.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,Qe.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0;var fh=Qe.hasStandardBrowserEnv?{write(n,t,e,a,l,f){let d=[n+"="+encodeURIComponent(t)];L.isNumber(e)&&d.push("expires="+new Date(e).toGMTString()),L.isString(a)&&d.push("path="+a),L.isString(l)&&d.push("domain="+l),f===!0&&d.push("secure"),document.cookie=d.join("; ")},read(n){let t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lu(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}i(lu,"isAbsoluteURL");function uu(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}i(uu,"combineURLs");function Gi(n,t,e){let a=!lu(t);return n&&(a||e==!1)?uu(n,t):t}i(Gi,"buildFullPath");var ph=i(n=>n instanceof dt?{...n}:n,"headersToObject");function Wt(n,t){t=t||{};let e={};function a(_,A,D,w){return L.isPlainObject(_)&&L.isPlainObject(A)?L.merge.call({caseless:w},_,A):L.isPlainObject(A)?L.merge({},A):L.isArray(A)?A.slice():A}i(a,"getMergedValue");function l(_,A,D,w){if(L.isUndefined(A)){if(!L.isUndefined(_))return a(void 0,_,D,w)}else return a(_,A,D,w)}i(l,"mergeDeepProperties");function f(_,A){if(!L.isUndefined(A))return a(void 0,A)}i(f,"valueFromConfig2");function d(_,A){if(L.isUndefined(A)){if(!L.isUndefined(_))return a(void 0,_)}else return a(void 0,A)}i(d,"defaultToConfig2");function E(_,A,D){if(D in t)return a(_,A);if(D in n)return a(void 0,_)}i(E,"mergeDirectKeys");let b={url:f,method:f,data:f,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:E,headers:i((_,A,D)=>l(ph(_),ph(A),D,!0),"headers")};return L.forEach(Object.keys(Object.assign({},n,t)),i(function(A){let D=b[A]||l,w=D(n[A],t[A],A);L.isUndefined(w)&&D!==E||(e[A]=w)},"computeConfigValue")),e}i(Wt,"mergeConfig");var Ka=i(n=>{let t=Wt({},n),{data:e,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:f,headers:d,auth:E}=t;t.headers=d=dt.from(d),t.url=Fi(Gi(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),E&&d.set("Authorization","Basic "+btoa((E.username||"")+":"+(E.password?unescape(encodeURIComponent(E.password)):"")));let b;if(L.isFormData(e)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((b=d.getContentType())!==!1){let[_,...A]=b?b.split(";").map(D=>D.trim()).filter(Boolean):[];d.setContentType([_||"multipart/form-data",...A].join("; "))}}if(Qe.hasStandardBrowserEnv&&(a&&L.isFunction(a)&&(a=a(t)),a||a!==!1&&dh(t.url))){let _=l&&f&&fh.read(f);_&&d.set(l,_)}return t},"default");var N0=typeof XMLHttpRequest<"u",hh=N0&&function(n){return new Promise(i(function(e,a){let l=Ka(n),f=l.data,d=dt.from(l.headers).normalize(),{responseType:E,onUploadProgress:b,onDownloadProgress:_}=l,A,D,w,V,R;function M(){V&&V(),R&&R(),l.cancelToken&&l.cancelToken.unsubscribe(A),l.signal&&l.signal.removeEventListener("abort",A)}i(M,"done");let U=new XMLHttpRequest;U.open(l.method.toUpperCase(),l.url,!0),U.timeout=l.timeout;function Z(){if(!U)return;let ae=dt.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),Le={data:!E||E==="text"||E==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:ae,config:n,request:U};ki(i(function(ce){e(ce),M()},"_resolve"),i(function(ce){a(ce),M()},"_reject"),Le),U=null}i(Z,"onloadend"),"onloadend"in U?U.onloadend=Z:U.onreadystatechange=i(function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(Z)},"handleLoad"),U.onabort=i(function(){U&&(a(new he("Request aborted",he.ECONNABORTED,n,U)),U=null)},"handleAbort"),U.onerror=i(function(){a(new he("Network Error",he.ERR_NETWORK,n,U)),U=null},"handleError"),U.ontimeout=i(function(){let Me=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",Le=l.transitional||za;l.timeoutErrorMessage&&(Me=l.timeoutErrorMessage),a(new he(Me,Le.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,n,U)),U=null},"handleTimeout"),f===void 0&&d.setContentType(null),"setRequestHeader"in U&&L.forEach(d.toJSON(),i(function(Me,Le){U.setRequestHeader(Le,Me)},"setRequestHeader")),L.isUndefined(l.withCredentials)||(U.withCredentials=!!l.withCredentials),E&&E!=="json"&&(U.responseType=l.responseType),_&&([w,R]=Cr(_,!0),U.addEventListener("progress",w)),b&&U.upload&&([D,V]=Cr(b),U.upload.addEventListener("progress",D),U.upload.addEventListener("loadend",V)),(l.cancelToken||l.signal)&&(A=i(ae=>{U&&(a(!ae||ae.type?new Zt(null,n,U):ae),U.abort(),U=null)},"onCanceled"),l.cancelToken&&l.cancelToken.subscribe(A),l.signal&&(l.signal.aborted?A():l.signal.addEventListener("abort",A)));let Y=ou(l.url);if(Y&&Qe.protocols.indexOf(Y)===-1){a(new he("Unsupported protocol "+Y+":",he.ERR_BAD_REQUEST,n));return}U.send(f||null)},"dispatchXhrRequest"))};var F0=i((n,t)=>{let{length:e}=n=n?n.filter(Boolean):[];if(t||e){let a=new AbortController,l,f=i(function(_){if(!l){l=!0,E();let A=_ instanceof Error?_:this.reason;a.abort(A instanceof he?A:new Zt(A instanceof Error?A.message:A))}},"onabort"),d=t&&setTimeout(()=>{d=null,f(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t),E=i(()=>{n&&(d&&clearTimeout(d),d=null,n.forEach(_=>{_.unsubscribe?_.unsubscribe(f):_.removeEventListener("abort",f)}),n=null)},"unsubscribe");n.forEach(_=>_.addEventListener("abort",f));let{signal:b}=a;return b.unsubscribe=()=>L.asap(E),b}},"composeSignals"),mh=F0;var U0=i(function*(n,t){let e=n.byteLength;if(!t||e<t){yield n;return}let a=0,l;for(;a<e;)l=a+t,yield n.slice(a,l),a=l},"streamChunk"),B0=i(async function*(n,t){for await(let e of V0(n))yield*U0(e,t)},"readBytes"),V0=i(async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}let t=n.getReader();try{for(;;){let{done:e,value:a}=await t.read();if(e)break;yield a}}finally{await t.cancel()}},"readStream"),cu=i((n,t,e,a)=>{let l=B0(n,t),f=0,d,E=i(b=>{d||(d=!0,a&&a(b))},"_onFinish");return new ReadableStream({async pull(b){try{let{done:_,value:A}=await l.next();if(_){E(),b.close();return}let D=A.byteLength;if(e){let w=f+=D;e(w)}b.enqueue(new Uint8Array(A))}catch(_){throw E(_),_}},cancel(b){return E(b),l.return()}},{highWaterMark:2})},"trackStream");var Xa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Eh=Xa&&typeof ReadableStream=="function",k0=Xa&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),vh=i((n,...t)=>{try{return!!n(...t)}catch{return!1}},"test"),G0=Eh&&vh(()=>{let n=!1,t=new Request(Qe.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),gh=64*1024,du=Eh&&vh(()=>L.isReadableStream(new Response("").body)),$a={stream:du&&(n=>n.body)};Xa&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$a[t]&&($a[t]=L.isFunction(n[t])?e=>e[t]():(e,a)=>{throw new he(`Response type '${t}' is not supported`,he.ERR_NOT_SUPPORT,a)})})})(new Response);var H0=i(async n=>{if(n==null)return 0;if(L.isBlob(n))return n.size;if(L.isSpecCompliantForm(n))return(await new Request(Qe.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(L.isArrayBufferView(n)||L.isArrayBuffer(n))return n.byteLength;if(L.isURLSearchParams(n)&&(n=n+""),L.isString(n))return(await k0(n)).byteLength},"getBodyLength"),Y0=i(async(n,t)=>{let e=L.toFiniteNumber(n.getContentLength());return e??H0(t)},"resolveBodyLength"),yh=Xa&&(async n=>{let{url:t,method:e,data:a,signal:l,cancelToken:f,timeout:d,onDownloadProgress:E,onUploadProgress:b,responseType:_,headers:A,withCredentials:D="same-origin",fetchOptions:w}=Ka(n);_=_?(_+"").toLowerCase():"text";let V=mh([l,f&&f.toAbortSignal()],d),R,M=V&&V.unsubscribe&&(()=>{V.unsubscribe()}),U;try{if(b&&G0&&e!=="get"&&e!=="head"&&(U=await Y0(A,a))!==0){let Le=new Request(t,{method:"POST",body:a,duplex:"half"}),ke;if(L.isFormData(a)&&(ke=Le.headers.get("content-type"))&&A.setContentType(ke),Le.body){let[ce,_e]=au(U,Cr(su(b)));a=cu(Le.body,gh,ce,_e)}}L.isString(D)||(D=D?"include":"omit");let Z="credentials"in Request.prototype;R=new Request(t,{...w,signal:V,method:e.toUpperCase(),headers:A.normalize().toJSON(),body:a,duplex:"half",credentials:Z?D:void 0});let Y=await fetch(R),ae=du&&(_==="stream"||_==="response");if(du&&(E||ae&&M)){let Le={};["status","statusText","headers"].forEach(pe=>{Le[pe]=Y[pe]});let ke=L.toFiniteNumber(Y.headers.get("content-length")),[ce,_e]=E&&au(ke,Cr(su(E),!0))||[];Y=new Response(cu(Y.body,gh,ce,()=>{_e&&_e(),M&&M()}),Le)}_=_||"text";let Me=await $a[L.findKey($a,_)||"text"](Y,n);return!ae&&M&&M(),await new Promise((Le,ke)=>{ki(Le,ke,{data:Me,headers:dt.from(Y.headers),status:Y.status,statusText:Y.statusText,config:n,request:R})})}catch(Z){throw M&&M(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,n,R),{cause:Z.cause||Z}):he.from(Z,Z&&Z.code,n,R)}});var fu={http:Ya,xhr:hh,fetch:yh};L.forEach(fu,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});var _h=i(n=>`- ${n}`,"renderReason"),q0=i(n=>L.isFunction(n)||n===null||n===!1,"isResolvedHandle"),Qa={getAdapter:i(n=>{n=L.isArray(n)?n:[n];let{length:t}=n,e,a,l={};for(let f=0;f<t;f++){e=n[f];let d;if(a=e,!q0(e)&&(a=fu[(d=String(e)).toLowerCase()],a===void 0))throw new he(`Unknown adapter '${d}'`);if(a)break;l[d||"#"+f]=a}if(!a){let f=Object.entries(l).map(([E,b])=>`adapter ${E} `+(b===!1?"is not supported by the environment":"is not available in the build")),d=t?f.length>1?`since :
`+f.map(_h).join(`
`):" "+_h(f[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},"getAdapter"),adapters:fu};function pu(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Zt(null,n)}i(pu,"throwIfCancellationRequested");function Ja(n){return pu(n),n.headers=dt.from(n.headers),n.data=Bi.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Qa.getAdapter(n.adapter||Rr.adapter)(n).then(i(function(a){return pu(n),a.data=Bi.call(n,n.transformResponse,a),a.headers=dt.from(a.headers),a},"onAdapterResolution"),i(function(a){return Vi(a)||(pu(n),a&&a.response&&(a.response.data=Bi.call(n,n.transformResponse,a.response),a.response.headers=dt.from(a.response.headers))),Promise.reject(a)},"onAdapterRejection"))}i(Ja,"dispatchRequest");var Za="1.8.4";var es={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{es[n]=i(function(a){return typeof a===n||"a"+(t<1?"n ":" ")+n},"validator")});var Th={};es.transitional=i(function(t,e,a){function l(f,d){return"[Axios v"+Za+"] Transitional option '"+f+"'"+d+(a?". "+a:"")}return i(l,"formatMessage"),(f,d,E)=>{if(t===!1)throw new he(l(d," has been removed"+(e?" in "+e:"")),he.ERR_DEPRECATED);return e&&!Th[d]&&(Th[d]=!0,console.warn(l(d," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(f,d,E):!0}},"transitional");es.spelling=i(function(t){return(e,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)},"spelling");function z0(n,t,e){if(typeof n!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);let a=Object.keys(n),l=a.length;for(;l-- >0;){let f=a[l],d=t[f];if(d){let E=n[f],b=E===void 0||d(E,f,n);if(b!==!0)throw new he("option "+f+" must be "+b,he.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new he("Unknown option "+f,he.ERR_BAD_OPTION)}}i(z0,"assertOptions");var Hi={assertOptions:z0,validators:es};var en=Hi.validators,Mr=class{static{i(this,"Axios")}constructor(t){this.defaults=t,this.interceptors={request:new Jl,response:new Jl}}async request(t,e){try{return await this._request(t,e)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;let f=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Wt(this.defaults,e);let{transitional:a,paramsSerializer:l,headers:f}=e;a!==void 0&&Hi.assertOptions(a,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),l!=null&&(L.isFunction(l)?e.paramsSerializer={serialize:l}:Hi.assertOptions(l,{encode:en.function,serialize:en.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Hi.assertOptions(e,{baseUrl:en.spelling("baseURL"),withXsrfToken:en.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let d=f&&L.merge(f.common,f[e.method]);f&&L.forEach(["delete","get","head","post","put","patch","common"],R=>{delete f[R]}),e.headers=dt.concat(d,f);let E=[],b=!0;this.interceptors.request.forEach(i(function(M){typeof M.runWhen=="function"&&M.runWhen(e)===!1||(b=b&&M.synchronous,E.unshift(M.fulfilled,M.rejected))},"unshiftRequestInterceptors"));let _=[];this.interceptors.response.forEach(i(function(M){_.push(M.fulfilled,M.rejected)},"pushResponseInterceptors"));let A,D=0,w;if(!b){let R=[Ja.bind(this),void 0];for(R.unshift.apply(R,E),R.push.apply(R,_),w=R.length,A=Promise.resolve(e);D<w;)A=A.then(R[D++],R[D++]);return A}w=E.length;let V=e;for(D=0;D<w;){let R=E[D++],M=E[D++];try{V=R(V)}catch(U){M.call(this,U);break}}try{A=Ja.call(this,V)}catch(R){return Promise.reject(R)}for(D=0,w=_.length;D<w;)A=A.then(_[D++],_[D++]);return A}getUri(t){t=Wt(this.defaults,t);let e=Gi(t.baseURL,t.url,t.allowAbsoluteUrls);return Fi(e,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],i(function(t){Mr.prototype[t]=function(e,a){return this.request(Wt(a||{},{method:t,url:e,data:(a||{}).data}))}},"forEachMethodNoData"));L.forEach(["post","put","patch"],i(function(t){function e(a){return i(function(f,d,E){return this.request(Wt(E||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:d}))},"httpMethod")}i(e,"generateHTTPMethod"),Mr.prototype[t]=e(),Mr.prototype[t+"Form"]=e(!0)},"forEachMethodWithData"));var Yi=Mr;var hu=class n{static{i(this,"CancelToken")}constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(i(function(f){e=f},"promiseExecutor"));let a=this;this.promise.then(l=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](l);a._listeners=null}),this.promise.then=l=>{let f,d=new Promise(E=>{a.subscribe(E),f=E}).then(l);return d.cancel=i(function(){a.unsubscribe(f)},"reject"),d},t(i(function(f,d,E){a.reason||(a.reason=new Zt(f,d,E),e(a.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){let t=new AbortController,e=i(a=>{t.abort(a)},"abort");return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new n(i(function(l){t=l},"executor")),cancel:t}}},Ih=hu;function mu(n){return i(function(e){return n.apply(null,e)},"wrap")}i(mu,"spread");function gu(n){return L.isObject(n)&&n.isAxiosError===!0}i(gu,"isAxiosError");var Eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Eu).forEach(([n,t])=>{Eu[t]=n});var bh=Eu;function Ah(n){let t=new Yi(n),e=Mi(Yi.prototype.request,t);return L.extend(e,Yi.prototype,t,{allOwnKeys:!0}),L.extend(e,t,null,{allOwnKeys:!0}),e.create=i(function(l){return Ah(Wt(n,l))},"create"),e}i(Ah,"createInstance");var st=Ah(Rr);st.Axios=Yi;st.CanceledError=Zt;st.CancelToken=Ih;st.isCancel=Vi;st.VERSION=Za;st.toFormData=xn;st.AxiosError=he;st.Cancel=st.CanceledError;st.all=i(function(t){return Promise.all(t)},"all");st.spread=mu;st.isAxiosError=gu;st.mergeConfig=Wt;st.AxiosHeaders=dt;st.formToJSON=n=>ja(L.isHTMLForm(n)?new FormData(n):n);st.getAdapter=Qa.getAdapter;st.HttpStatusCode=bh;st.default=st;var ts=st;var{Axios:LO,AxiosError:CO,CanceledError:MO,isCancel:PO,CancelToken:NO,VERSION:FO,all:UO,Cancel:BO,isAxiosError:VO,spread:kO,toFormData:GO,AxiosHeaders:HO,HttpStatusCode:YO,formToJSON:qO,getAdapter:zO,mergeConfig:jO}=ts;var ns;function Dh(){window.rqid=!1;let n=re(void 0,"h-captcha",{"auto-render":"true",id:"captcha","site-key":"e2480948-c1cc-4f46-ac56-81ea236a50c8",size:"compact",tabindex:"0"}),t=re(void 0,"div");return n.addEventListener("verified",function(e){window.rqid=e.token,document.getElementById("submit-button").disabled=!1}),n.addEventListener("error",function(e){window.rqid=!1,console.log(e.error)}),ns=new pn(t,{id:"form",method:"POST",action:"/go/resend",schema:[{id:"date",type:"datetime",name:"date",label:"Date of Event",enhance:!0,placeholder:"MM/DD/YY 00:00 AM/PM",required:!0},{id:"email",type:"email",name:"email",label:"Email",placeholder:"Username@Website.Ext",required:!0},{id:"attachment",type:"file",name:"attachment",options:{fileSizeBase:1024,allowBrowse:!0,storeAsFile:!0,checkValidity:!0,maxFiles:1,dropValidation:!0},label:"Attachment?",required:!1,enhanced:!0},{id:"event",type:"text",name:"event",label:"Type of Event",placeholder:"Ex: Jennifer’s 50th Bday Party",required:!0},{id:"locale",type:"text",name:"locale",label:"Address of Event",placeholder:"Ex: 1787 Botanical Boulevard, Houston, Texas",required:!0},{id:"selection",type:"select",name:"selection",label:"Type of Music",enhance:!0,multiple:!0,required:!0,options:{plugins:["remove_button","checkbox_options"]},placeholder:"Choose as many from the selection.",optionsList:[{value:"Top 40",label:"Top 40"},{value:"Pop",label:"Pop"},{value:"Rock",label:"Rock"},{value:"R&B",label:"R&B"},{value:"Hip-Hop/Rap",label:"Hip-Hop/Rap"},{value:"Country",label:"Country"},{value:"Disco",label:"Disco"},{value:"Oldies",label:"Oldies"},{value:"Motown",label:"Motown"},{value:"Classical",label:"Classical"},{value:"Alternative",label:"Alternative"},{value:"Jazz",label:"Jazz"},{value:"Techno/House",label:"Techno/House"},{value:"Dubstep",label:"Dubstep"}]},{id:"requests",type:"textarea",name:"requests",label:"Requests?",placeholder:"List Artist and Song; or send link playlist (website, Spotify, YouTube)",required:!1},{id:"dislikes",type:"textarea",name:"dislikes",label:"Dislikes?",placeholder:"Songs or artists that you do not want to be played.",required:!1},{id:"comments",type:"textarea",name:"comments",label:"Comments?",placeholder:"Please list anything or any notes that you want DJ EV to know beforehand.",required:!1},{id:"token",name:"token",type:"hidden"},{id:"submit-button",type:"button",buttonType:"submit",template:"Submit",className:"pure-button-primary pure-button"}]}),window.addEventListener("load",function(){document.getElementById("submit-button").disabled=!0,document.getElementById("form").setAttribute("enctype","multipart/form-data"),document.getElementById("form").classList.add("pure-form","pure-form-stacked"),document.getElementById("form").addEventListener("submit",a=>{a.preventDefault(),ns.validate(),window.rqid&&ns.isValid()&&(ns.getField("token").setValue(window.rqid),a.currentTarget.submit())});let e=document.getElementById("form").childNodes;van.add(e[e.length-2],n)}),t}i(Dh,"Booking");function Sh(){return re([re("Open Format Mix","h2"),re(void 0,"div",{class:"home-separator"}),re(void 0,"br"),re(re(void 0,"iframe",{src:"https://w.soundcloud.com/player/?visual=true&url=https%3A%2F%2Fapi.soundcloud.com%2Fplaylists%2F1881155051&show_artwork=true&show_comments=false&secret_token=s-vDR8Vhv30C3",style:"width: 175%; height: 100%; position: absolute; border: 0px;",allowfullscreen:"",scrolling:"no"}),"div",{style:"width: 36%; height:16em; position: relative;"}),re(void 0,"br"),re("Chill Electronic Mix","h2"),re(void 0,"div",{class:"home-separator"}),re(void 0,"br"),re(re(void 0,"iframe",{src:"https://w.soundcloud.com/player/?visual=true&url=https%3A%2F%2Fapi.soundcloud.com%2Fplaylists%2F1504987279&show_artwork=true&secret_token=s-cLlbzYSiZH8",style:"width: 175%; height: 100%; position: absolute; border: 0px;",allowfullscreen:"",scrolling:"no"}),"div",{style:"width: 36%; height:16em; position: relative;"}),re(void 0,"br"),re("Funk Mix","h2"),re(void 0,"div",{class:"home-separator"}),re(void 0,"br"),re(re(void 0,"iframe",{src:"https://w.soundcloud.com/player/?visual=true&url=https%3A%2F%2Fapi.soundcloud.com%2Fplaylists%2F1849472907&show_artwork=true&show_comments=false",style:"width: 175%; height: 100%; position: absolute; border: 0px;",allowfullscreen:"",scrolling:"no"}),"div",{style:"width: 36%; height:16em; position: relative;"})],"div",{style:"max-width: 100%;"})}i(Sh,"Playlists");var rs;function xh(){window.rqid=!1;let n=re(void 0,"h-captcha",{"auto-render":"true",id:"captcha","site-key":"e2480948-c1cc-4f46-ac56-81ea236a50c8",size:"compact",tabindex:"0"}),t=re(void 0,"div");return n.addEventListener("verified",function(e){window.rqid=e.token,document.getElementById("requests-submit-button").disabled=!1}),n.addEventListener("error",function(e){window.rqid=!1,console.log(e.error)}),rs=new pn(t,{id:"request-form",method:"POST",action:"/go/request",schema:[{id:"artist",type:"text",name:"artist",label:"Artist?",placeholder:"Ex: EV WAVE",required:!1},{id:"song",type:"text",name:"song",label:"Song?",placeholder:"Ex: Sunshine of My Life",required:!1},{id:"url",type:"url",name:"url",label:"Link?",placeholder:"Ex: https://open.spotify.com/album/1dt05UBROzpddBt6cTfouB",required:!1},{id:"token",name:"token",type:"hidden"},{id:"requests-submit-button",type:"button",buttonType:"submit",template:"Submit",className:"pure-button-primary pure-button"}]}),window.addEventListener("load",function(){document.getElementById("requests-submit-button").disabled=!0,document.getElementById("request-form").setAttribute("enctype","multipart/form-data"),document.getElementById("request-form").classList.add("pure-form","pure-form-stacked"),document.getElementById("request-form").addEventListener("submit",a=>{a.preventDefault(),rs.validate(),window.rqid&&rs.isValid()&&(rs.getField("token").setValue(window.rqid),a.currentTarget.submit())});let e=document.getElementById("request-form").childNodes;van.add(e[e.length-2],n)}),t}i(xh,"Requests");var Xn=256,os=[],is;for(;Xn--;)os[Xn]=(Xn+256).toString(16).substring(1);function Qn(){var n=0,t,e="";if(!is||Xn+16>256){for(is=Array(n=256);n--;)is[n]=256*Math.random()|0;n=Xn=0}for(;n<16;n++)t=is[Xn+n],n==6?e+=os[t&15|64]:n==8?e+=os[t&63|128]:e+=os[t],n&1&&n>1&&n<11&&(e+="-");return Xn++,e}i(Qn,"v4");var vu=Stripe("pk_live_51PVFAM07xQtIlHl5nneheqyHshNmnrBOzRIgxXQs6GYp7cmtOWsgQnRlQYwUFez0teYb8OYUlIKi91XLMvEm4gts00iISFGmfg"),j0,Lh="",yu,Oh=Qn(),wh=Qn(),Rh=Qn();window.location.port.length>1&&(Lh=`:${window.location.port}`);yu=`${window.location.protocol}//${window.location.hostname}${Lh}`;var _u=vu.elements({mode:"payment",locale:"en",currency:"usd",amount:50,externalPaymentMethodTypes:[],captureMethod:"automatic_async",loader:"always",appearance:{theme:"flat",labels:"above",disableAnimations:!0}}),W0=_u.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{name:"",email:"",phone:"",address:{line1:"",city:"",state:"TX",country:"US",postal_code:""}}},business:{name:"DJ EV"}});function Ch(){window.rqid=!1;let n=re(void 0,"h-captcha",{"auto-render":"true",id:"captcha","site-key":"e2480948-c1cc-4f46-ac56-81ea236a50c8",size:"compact",tabindex:"0"}),t=re(void 0,"div");return n.addEventListener("verified",function(e){window.rqid=e.token,document.getElementById("payment-submit").disabled=!1}),n.addEventListener("error",function(e){window.rqid=!1,console.log(e.error)}),j0=new pn(t,{id:"payment-form",schema:[{id:"stripe-amount",type:"text",name:"amount",label:"Amount",placeholder:"Ex: US$ 1,000,000.00...",required:!0},{id:"token",name:"token",type:"hidden"},{id:"payment-submit",type:"button",buttonType:"submit",template:"Pay",className:"pure-button-primary pure-button"}]}),window.addEventListener("load",function(){document.getElementById("payment-submit").disabled=!0,document.getElementById("payment-form").classList.add("pure-form","pure-form-stacked");let e=document.getElementById("payment-form"),a=re(void 0,"div",{id:"payment-element"}),l=document.getElementById("stripe-amount");l.setAttribute("autofocus",""),l.addEventListener("keyup",function(){cl(this)}),l.addEventListener("blur",function(){cl(this,"blur")}),van.add(e.childNodes[e.childNodes.length-3],re(void 0,"br")),van.add(e.childNodes[e.childNodes.length-3],a),van.add(e.childNodes[e.childNodes.length-2],n),van.add(e.childNodes[e.childNodes.length-2],re(void 0,"div",{id:"payment-message"})),W0.mount(a),document.getElementById("payment-form").addEventListener("submit",async f=>{f.preventDefault();let d=document.getElementById("stripe-amount").value,E=document.getElementById("payment-submit"),b=document.getElementById("payment-message"),_=d.indexOf("US$ ");_||++_;let A=d.substring(_*4).split(",").join(""),D=Math.round(parseFloat(A)*100);if(!d){b.textContent="Did not specify amount!";return}let{selectedPaymentMethod:w,error:V}=await _u.submit();if(V){b.textContent=V.message,E.disabled=!1;return}b.textContent="Processing payment...",E.disabled=!0;let{confirmationToken:{id:R},error:M}=await vu.createConfirmationToken({elements:_u,params:{return_url:`${yu}/go/message`}},{idempotencyKey:Oh});if(M){b.textContent=M;return}let U={amount:D,confirmation_token:R,payment_method:w,idempotencyKey:wh,idempotencyKey1:Rh},{data:Z,data:Y}=await ts.post(`${yu}/go/create-intent`,U,{headers:{"Content-Type":"application/json"}});Y!=="succeeded"&&(Oh=Qn(),wh=Qn(),Rh=Qn()),ul(Z,vu)})}),t}i(Ch,"Payment");var Tu=class{static{i(this,"BlurryImageLoad")}supportsCSSFilters(t){t===void 0&&(t=!1);let e=document.createElement("test");e.style.cssText=(t?"-webkit-":"")+"filter: blur(2px)";let a=e.style.length!=0,l=document.documentMode===void 0||document.documentMode>9;return a&&l}load(...t){if(t.length===0&&(t=document.querySelectorAll(".blurry-load")),!this.supportsCSSFilters(!0)&&!this.supportsCSSFilters(!1))for(let e of t)e.src="",e.classList.add("no-blur"),e.classList.remove("blurry-load");for(let e of t){let a=new Image;a.src=e.getAttribute("data-large"),a.onload=()=>{e.src=a.src,e.classList.add("blur-out"),e.classList.remove("blurry-load")}}}},Mh=Tu;var qi=document.getElementsByClassName("wrapper"),K0=qi[0],ss=Od(qi),$0=new Mh,as=$t.oldVal.split("/",2).join("");function zi(n,t){return rl({rule:n.name.toLowerCase(),Loader:n,onLoad:i(function(){let e=_d({class:"icon spinner"}),a=this.element.parentElement;e.style.animationPlayState="running",Be.add(ss.parentElement,re(e,"main")),e.addEventListener("animationiteration",function(){ss.style.opacity="0.5",e.style.animationPlayState="paused",e.classList.remove("spinner"),e.classList.add("fadeAway"),e.style.animationPlayState="running";let l=$t.rawVal.split("/",2).join("");l!==as&&(document.getElementById(as).style.opacity="0",document.getElementById(as).addEventListener("transitionend",function(){parseFloat(this.style.opacity)>0||Object.assign(this.style,{display:"none",visibility:"hidden"})})),as=l,e.addEventListener("animationend",function(){Object.assign(a.style,{display:"initial",visibility:"visible",opacity:"0"}),e.style.animationPlayState="paused",e.parentElement.remove(),a.style.opacity="1.0",ss.style.opacity="1.0",qi[1].firstElementChild.style.opacity="1.0",qi[2].firstElementChild.style.opacity="1.0",qi[3].firstElementChild.style.opacity="1.0"},{once:!0}),$0.load()},{once:!0})},"onLoad"),onFirst:i(function(){},"onFirst")})}i(zi,"WebApp");var X0=zi.bind(void 0,Ld),Q0=zi.bind(void 0,Dh),J0=zi.bind(void 0,Sh),Z0=zi.bind(void 0,xh),ey=zi.bind(void 0,Ch);Be.add(K0,ss);Be.add(document.getElementById("home"),X0);Be.add(document.getElementById("booking"),Q0);Be.add(document.getElementById("playlists"),J0);Be.add(document.getElementById("song-requests"),Z0);Be.add(document.getElementById("payment"),ey);})();
