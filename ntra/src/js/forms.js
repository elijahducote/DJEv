(()=>{var ih=Object.create;var oa=Object.defineProperty;var oh=Object.getOwnPropertyDescriptor;var ah=Object.getOwnPropertyNames;var sh=Object.getPrototypeOf,lh=Object.prototype.hasOwnProperty;var i=(a,n)=>oa(a,"name",{value:n,configurable:!0});var al=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports);var uh=(a,n,e,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of ah(n))!lh.call(a,f)&&f!==e&&oa(a,f,{get:()=>n[f],enumerable:!(s=oh(n,f))||s.enumerable});return a};var sl=(a,n,e)=>(e=a!=null?ih(sh(a)):{},uh(n||!a||!a.__esModule?oa(e,"default",{value:a,enumerable:!0}):e,a));var Su=al((Hi,Ou)=>{(function(a,n){typeof Hi=="object"&&typeof Ou<"u"?n(Hi):typeof define=="function"&&define.amd?define(["exports"],n):(a=a||self,n(a.FilePond={}))})(Hi,function(a){"use strict";var n=i(function(t){return t instanceof HTMLElement},"isNode"),e=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=Object.assign({},t),c=[],d=[],p=i(function(){return Object.assign({},l)},"getState"),m=i(function(){var L=[].concat(c);return c.length=0,L},"processActionQueue"),v=i(function(){var L=[].concat(d);d.length=0,L.forEach(function(U){var W=U.type,X=U.data;T(W,X)})},"processDispatchQueue"),T=i(function(L,U,W){if(W&&!document.hidden){d.push({type:L,data:U});return}N[L]&&N[L](U),c.push({type:L,data:U})},"dispatch"),D=i(function(L){for(var U,W=arguments.length,X=new Array(W>1?W-1:0),V=1;V<W;V++)X[V-1]=arguments[V];return w[L]?(U=w)[L].apply(U,X):null},"query"),y={getState:p,processActionQueue:m,processDispatchQueue:v,dispatch:T,query:D},w={};r.forEach(function(F){w=Object.assign({},F(l),{},w)});var N={};return o.forEach(function(F){N=Object.assign({},F(T,D,l),{},N)}),y},"createStore"),s=i(function(t,r,o){if(typeof o=="function"){t[r]=o;return}Object.defineProperty(t,r,Object.assign({},o))},"defineProperty"),f=i(function(t,r){for(var o in t)t.hasOwnProperty(o)&&r(o,t[o])},"forin"),E=i(function(t){var r={};return f(t,function(o){s(r,o,t[o])}),r},"createObject"),h=i(function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(o===null)return t.getAttribute(r)||t.hasAttribute(r);t.setAttribute(r,o)},"attr"),I="http://www.w3.org/2000/svg",b=["svg","path"],S=i(function(t){return b.includes(t)},"isSVGElement"),C=i(function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof r=="object"&&(o=r,r=null);var l=S(t)?document.createElementNS(I,t):document.createElement(t);return r&&(S(t)?h(l,"class",r):l.className=r),f(o,function(c,d){h(l,c,d)}),l},"createElement"),M=i(function(t){return function(r,o){typeof o<"u"&&t.children[o]?t.insertBefore(r,t.children[o]):t.appendChild(r)}},"appendChild"),G=i(function(t,r){return function(o,l){return typeof l<"u"?r.splice(l,0,o):r.push(o),o}},"appendChildView"),pe=i(function(t,r){return function(o){return r.splice(r.indexOf(o),1),o.element.parentNode&&t.removeChild(o.element),o}},"removeChildView"),q=function(){return typeof window<"u"&&typeof window.document<"u"}(),z=i(function(){return q},"isBrowser"),Ee=z()?C("svg"):{},ve="children"in Ee?function(u){return u.children.length}:function(u){return u.childNodes.length},Q=i(function(t,r,o,l){var c=o[0]||t.left,d=o[1]||t.top,p=c+t.width,m=d+t.height*(l[1]||1),v={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:c,top:d,right:p,bottom:m}};return r.filter(function(T){return!T.isRectIgnored()}).map(function(T){return T.rect}).forEach(function(T){Ae(v.inner,Object.assign({},T.inner)),Ae(v.outer,Object.assign({},T.outer))}),Ke(v.inner),v.outer.bottom+=v.element.marginBottom,v.outer.right+=v.element.marginRight,Ke(v.outer),v},"getViewRect"),Ae=i(function(t,r){r.top+=t.top,r.right+=t.left,r.bottom+=t.top,r.left+=t.left,r.bottom>t.bottom&&(t.bottom=r.bottom),r.right>t.right&&(t.right=r.right)},"expandRect"),Ke=i(function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},"calculateRectSize"),ot=i(function(t){return typeof t=="number"},"isNumber"),at=i(function(t,r,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.001;return Math.abs(t-r)<l&&Math.abs(o)<l},"thereYet"),ue=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiffness,o=r===void 0?.5:r,l=t.damping,c=l===void 0?.75:l,d=t.mass,p=d===void 0?10:d,m=null,v=null,T=0,D=!1,y=i(function(L,U){if(!D){if(!(ot(m)&&ot(v))){D=!0,T=0;return}var W=-(v-m)*o;T+=W/p,v+=T,T*=c,at(v,m,T)||U?(v=m,T=0,D=!0,N.onupdate(v),N.oncomplete(v)):N.onupdate(v)}},"interpolate"),w=i(function(L){if(ot(L)&&!ot(v)&&(v=L),m===null&&(m=L,v=L),m=L,v===m||typeof m>"u"){D=!0,T=0,N.onupdate(v),N.oncomplete(v);return}D=!1},"setTarget"),N=E({interpolate:y,target:{set:w,get:i(function(){return m},"get")},resting:{get:i(function(){return D},"get")},onupdate:i(function(L){},"onupdate"),oncomplete:i(function(L){},"oncomplete")});return N},"spring"),_e=i(function(t){return t},"easeLinear"),ce=i(function(t){return t<.5?2*t*t:-1+(4-2*t)*t},"easeInOutQuad"),Ue=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.duration,o=r===void 0?500:r,l=t.easing,c=l===void 0?ce:l,d=t.delay,p=d===void 0?0:d,m=null,v,T,D=!0,y=!1,w=null,N=i(function(U,W){D||w===null||(m===null&&(m=U),!(U-m<p)&&(v=U-m-p,v>=o||W?(v=1,T=y?0:1,F.onupdate(T*w),F.oncomplete(T*w),D=!0):(T=v/o,F.onupdate((v>=0?c(y?1-T:T):0)*w))))},"interpolate"),F=E({interpolate:N,target:{get:i(function(){return y?0:w},"get"),set:i(function(U){if(w===null){w=U,F.onupdate(U),F.oncomplete(U);return}U<w?(w=1,y=!0):(y=!1,w=U),D=!1,m=null},"set")},resting:{get:i(function(){return D},"get")},onupdate:i(function(U){},"onupdate"),oncomplete:i(function(U){},"oncomplete")});return F},"tween"),be={spring:ue,tween:Ue},Pt=i(function(t,r,o){var l=t[r]&&typeof t[r][o]=="object"?t[r][o]:t[r]||t,c=typeof l=="string"?l:l.type,d=typeof l=="object"?Object.assign({},l):{};return be[c]?be[c](d):null},"createAnimator"),dt=i(function(t,r,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;r=Array.isArray(r)?r:[r],r.forEach(function(c){t.forEach(function(d){var p=d,m=i(function(){return o[d]},"getter"),v=i(function(D){return o[d]=D},"setter");typeof d=="object"&&(p=d.key,m=d.getter||m,v=d.setter||v),!(c[p]&&!l)&&(c[p]={get:m,set:v})})})},"addGetSet"),$n=i(function(t){var r=t.mixinConfig,o=t.viewProps,l=t.viewInternalAPI,c=t.viewExternalAPI,d=Object.assign({},o),p=[];return f(r,function(m,v){var T=Pt(v);if(T){T.onupdate=function(y){o[m]=y},T.target=d[m];var D={key:m,setter:i(function(w){T.target!==w&&(T.target=w)},"setter"),getter:i(function(){return o[m]},"getter")};dt([D],[l,c],o,!0),p.push(T)}}),{write:i(function(v){var T=document.hidden,D=!0;return p.forEach(function(y){y.resting||(D=!1),y.interpolate(v,T)}),D},"write"),destroy:i(function(){},"destroy")}},"animations"),Dn=i(function(t){return function(r,o){t.addEventListener(r,o)}},"addEvent"),Eo=i(function(t){return function(r,o){t.removeEventListener(r,o)}},"removeEvent"),go=i(function(t){var r=t.mixinConfig,o=t.viewProps,l=t.viewInternalAPI,c=t.viewExternalAPI,d=t.viewState,p=t.view,m=[],v=Dn(p.element),T=Eo(p.element);return c.on=function(D,y){m.push({type:D,fn:y}),v(D,y)},c.off=function(D,y){m.splice(m.findIndex(function(w){return w.type===D&&w.fn===y}),1),T(D,y)},{write:i(function(){return!0},"write"),destroy:i(function(){m.forEach(function(y){T(y.type,y.fn)})},"destroy")}},"listeners"),Yr=i(function(t){var r=t.mixinConfig,o=t.viewProps,l=t.viewExternalAPI;dt(r,l,o)},"apis"),rt=i(function(t){return t!=null},"isDefined"),vo={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Xn=i(function(t){var r=t.mixinConfig,o=t.viewProps,l=t.viewInternalAPI,c=t.viewExternalAPI,d=t.view,p=Object.assign({},o),m={};dt(r,[l,c],o);var v=i(function(){return[o.translateX||0,o.translateY||0]},"getOffset"),T=i(function(){return[o.scaleX||0,o.scaleY||0]},"getScale"),D=i(function(){return d.rect?Q(d.rect,d.childViews,v(),T()):null},"getRect");return l.rect={get:D},c.rect={get:D},r.forEach(function(y){o[y]=typeof p[y]>"u"?vo[y]:p[y]}),{write:i(function(){if(_o(m,o))return To(d.element,o),Object.assign(m,Object.assign({},o)),!0},"write"),destroy:i(function(){},"destroy")}},"styles"),_o=i(function(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!0;for(var o in r)if(r[o]!==t[o])return!0;return!1},"propsHaveChanged"),To=i(function(t,r){var o=r.opacity,l=r.perspective,c=r.translateX,d=r.translateY,p=r.scaleX,m=r.scaleY,v=r.rotateX,T=r.rotateY,D=r.rotateZ,y=r.originX,w=r.originY,N=r.width,F=r.height,L="",U="";(rt(y)||rt(w))&&(U+="transform-origin: "+(y||0)+"px "+(w||0)+"px;"),rt(l)&&(L+="perspective("+l+"px) "),(rt(c)||rt(d))&&(L+="translate3d("+(c||0)+"px, "+(d||0)+"px, 0) "),(rt(p)||rt(m))&&(L+="scale3d("+(rt(p)?p:1)+", "+(rt(m)?m:1)+", 1) "),rt(D)&&(L+="rotateZ("+D+"rad) "),rt(v)&&(L+="rotateX("+v+"rad) "),rt(T)&&(L+="rotateY("+T+"rad) "),L.length&&(U+="transform:"+L+";"),rt(o)&&(U+="opacity:"+o+";",o===0&&(U+="visibility:hidden;"),o<1&&(U+="pointer-events:none;")),rt(F)&&(U+="height:"+F+"px;"),rt(N)&&(U+="width:"+N+"px;");var W=t.elementCurrentStyle||"";(U.length!==W.length||U!==W)&&(t.style.cssText=U,t.elementCurrentStyle=U)},"applyStyles"),Io={styles:Xn,listeners:go,animations:$n,apis:Yr},Kt=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.layoutCalculated||(t.paddingTop=parseInt(o.paddingTop,10)||0,t.marginTop=parseInt(o.marginTop,10)||0,t.marginRight=parseInt(o.marginRight,10)||0,t.marginBottom=parseInt(o.marginBottom,10)||0,t.marginLeft=parseInt(o.marginLeft,10)||0,r.layoutCalculated=!0),t.left=r.offsetLeft||0,t.top=r.offsetTop||0,t.width=r.offsetWidth||0,t.height=r.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=r.scrollTop,t.hidden=r.offsetParent===null,t},"updateRect"),Be=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.tag,o=r===void 0?"div":r,l=t.name,c=l===void 0?null:l,d=t.attributes,p=d===void 0?{}:d,m=t.read,v=m===void 0?function(){}:m,T=t.write,D=T===void 0?function(){}:T,y=t.create,w=y===void 0?function(){}:y,N=t.destroy,F=N===void 0?function(){}:N,L=t.filterFrameActionsForChild,U=L===void 0?function(Y,K){return K}:L,W=t.didCreateView,X=W===void 0?function(){}:W,V=t.didWriteView,de=V===void 0?function(){}:V,k=t.ignoreRect,Le=k===void 0?!1:k,Ce=t.ignoreRectUpdate,H=Ce===void 0?!1:Ce,J=t.mixins,te=J===void 0?[]:J;return function(Y){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=C(o,"filepond--"+c,p),we=window.getComputedStyle(ne,null),Re=Kt(),re=null,x=!1,O=[],$=[],le={},me={},Ie=[D],Oe=[v],Ge=[F],qe=i(function(){return ne},"getElement"),xn=i(function(){return O.concat()},"getChildViews"),tl=i(function(){return le},"getReference"),Qp=i(function(De){return function(Yt,Ht){return Yt(De,Ht)}},"createChildView"),nl=i(function(){return re||(re=Q(Re,O,[0,0],[1,1]),re)},"getRect"),Jp=i(function(){return we},"getStyle"),Zp=i(function(){re=null,O.forEach(function(Ht){return Ht._read()});var De=!(H&&Re.width&&Re.height);De&&Kt(Re,ne,we);var Yt={root:Xt,props:K,rect:Re};Oe.forEach(function(Ht){return Ht(Yt)})},"_read"),eh=i(function(De,Yt,Ht){var Un=Yt.length===0;return Ie.forEach(function(gt){var hn=gt({props:K,root:Xt,actions:Yt,timestamp:De,shouldOptimize:Ht});hn===!1&&(Un=!1)}),$.forEach(function(gt){var hn=gt.write(De);hn===!1&&(Un=!1)}),O.filter(function(gt){return!!gt.element.parentNode}).forEach(function(gt){var hn=gt._write(De,U(gt,Yt),Ht);hn||(Un=!1)}),O.forEach(function(gt,hn){gt.element.parentNode||(Xt.appendChild(gt.element,hn),gt._read(),gt._write(De,U(gt,Yt),Ht),Un=!1)}),x=Un,de({props:K,root:Xt,actions:Yt,timestamp:De}),Un},"_write"),th=i(function(){$.forEach(function(De){return De.destroy()}),Ge.forEach(function(De){De({root:Xt,props:K})}),O.forEach(function(De){return De._destroy()})},"_destroy"),rl={element:{get:qe},style:{get:Jp},childViews:{get:xn}},il=Object.assign({},rl,{rect:{get:nl},ref:{get:tl},is:i(function(De){return c===De},"is"),appendChild:M(ne),createChildView:Qp(Y),linkView:i(function(De){return O.push(De),De},"linkView"),unlinkView:i(function(De){O.splice(O.indexOf(De),1)},"unlinkView"),appendChildView:G(ne,O),removeChildView:pe(ne,O),registerWriter:i(function(De){return Ie.push(De)},"registerWriter"),registerReader:i(function(De){return Oe.push(De)},"registerReader"),registerDestroyer:i(function(De){return Ge.push(De)},"registerDestroyer"),invalidateLayout:i(function(){return ne.layoutCalculated=!1},"invalidateLayout"),dispatch:Y.dispatch,query:Y.query}),ol={element:{get:qe},childViews:{get:xn},rect:{get:nl},resting:{get:i(function(){return x},"get")},isRectIgnored:i(function(){return Le},"isRectIgnored"),_read:Zp,_write:eh,_destroy:th},nh=Object.assign({},rl,{rect:{get:i(function(){return Re},"get")}});Object.keys(te).sort(function(Fe,De){return Fe==="styles"?1:De==="styles"?-1:0}).forEach(function(Fe){var De=Io[Fe]({mixinConfig:te[Fe],viewProps:K,viewState:me,viewInternalAPI:il,viewExternalAPI:ol,view:E(nh)});De&&$.push(De)});var Xt=E(il);w({root:Xt,props:K});var rh=ve(ne);return O.forEach(function(Fe,De){Xt.appendChild(Fe.element,rh+De)}),X(Xt),E(ol)}},"createView"),yn=i(function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:60,l="__framePainter";if(window[l]){window[l].readers.push(t),window[l].writers.push(r);return}window[l]={readers:[t],writers:[r]};var c=window[l],d=1e3/o,p=null,m=null,v=null,T=null,D=i(function(){document.hidden?(v=i(function(){return window.setTimeout(function(){return y(performance.now())},d)},"requestTick"),T=i(function(){return window.clearTimeout(m)},"cancelTick")):(v=i(function(){return window.requestAnimationFrame(y)},"requestTick"),T=i(function(){return window.cancelAnimationFrame(m)},"cancelTick"))},"setTimerType");document.addEventListener("visibilitychange",function(){T&&T(),D(),y(performance.now())});var y=i(function w(N){m=v(w),p||(p=N);var F=N-p;F<=d||(p=N-F%d,c.readers.forEach(function(L){return L()}),c.writers.forEach(function(L){return L(N)}))},"tick");return D(),y(performance.now()),{pause:i(function(){T(m)},"pause")}},"createPainter"),Ye=i(function(t,r){return function(o){var l=o.root,c=o.props,d=o.actions,p=d===void 0?[]:d,m=o.timestamp,v=o.shouldOptimize;p.filter(function(T){return t[T.type]}).forEach(function(T){return t[T.type]({root:l,props:c,action:T.data,timestamp:m,shouldOptimize:v})}),r&&r({root:l,props:c,actions:p,timestamp:m,shouldOptimize:v})}},"createRoute"),rn=i(function(t,r){return r.parentNode.insertBefore(t,r)},"insertBefore"),Hr=i(function(t,r){return r.parentNode.insertBefore(t,r.nextSibling)},"insertAfter"),on=i(function(t){return Array.isArray(t)},"isArray"),pt=i(function(t){return t==null},"isEmpty"),Do=i(function(t){return t.trim()},"trim"),An=i(function(t){return""+t},"toString"),qr=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return pt(t)?[]:on(t)?t:An(t).split(r).map(Do).filter(function(o){return o.length})},"toArray"),jr=i(function(t){return typeof t=="boolean"},"isBoolean"),Qn=i(function(t){return jr(t)?t:t==="true"},"toBoolean"),it=i(function(t){return typeof t=="string"},"isString"),an=i(function(t){return ot(t)?t:it(t)?An(t).replace(/[a-z]+/gi,""):0},"toNumber"),bn=i(function(t){return parseInt(an(t),10)},"toInt"),zr=i(function(t){return parseFloat(an(t))},"toFloat"),Gt=i(function(t){return ot(t)&&isFinite(t)&&Math.floor(t)===t},"isInt"),On=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(Gt(t))return t;var o=An(t).trim();return/MB$/i.test(o)?(o=o.replace(/MB$i/,"").trim(),bn(o)*r*r):/KB/i.test(o)?(o=o.replace(/KB$i/,"").trim(),bn(o)*r):bn(o)},"toBytes"),Ut=i(function(t){return typeof t=="function"},"isFunction"),Sn=i(function(t){for(var r=self,o=t.split("."),l=null;l=o.shift();)if(r=r[l],!r)return null;return r},"toFunctionReference"),Wr={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Kr=i(function(t){var r={};return r.url=it(t)?t:t.url||"",r.timeout=t.timeout?parseInt(t.timeout,10):0,r.headers=t.headers?t.headers:{},f(Wr,function(o){r[o]=yo(o,t[o],Wr[o],r.timeout,r.headers)}),r.process=t.process||it(t)||t.url?r.process:null,r.remove=t.remove||null,delete r.headers,r},"createServerAPI"),yo=i(function(t,r,o,l,c){if(r===null)return null;if(typeof r=="function")return r;var d={url:o==="GET"||o==="PATCH"?"?"+t+"=":"",method:o,headers:c,withCredentials:!1,timeout:l,onload:null,ondata:null,onerror:null};if(it(r))return d.url=r,d;if(Object.assign(d,r),it(d.headers)){var p=d.headers.split(/:(.+)/);d.headers={header:p[0],value:p[1]}}return d.withCredentials=Qn(d.withCredentials),d},"createAction"),$r=i(function(t){return Kr(t)},"toServerAPI"),Ao=i(function(t){return t===null},"isNull"),$e=i(function(t){return typeof t=="object"&&t!==null},"isObject"),Xr=i(function(t){return $e(t)&&it(t.url)&&$e(t.process)&&$e(t.revert)&&$e(t.restore)&&$e(t.fetch)},"isAPI"),Jn=i(function(t){return on(t)?"array":Ao(t)?"null":Gt(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":Xr(t)?"api":typeof t},"getType"),bo=i(function(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},"replaceSingleQuotes"),Ne={array:qr,boolean:Qn,int:i(function(t){return Jn(t)==="bytes"?On(t):bn(t)},"int"),number:zr,float:zr,bytes:On,string:i(function(t){return Ut(t)?t:An(t)},"string"),function:i(function(t){return Sn(t)},"_function"),serverapi:$r,object:i(function(t){try{return JSON.parse(bo(t))}catch{return null}},"object")},Zn=i(function(t,r){return Ne[r](t)},"convertTo"),Rn=i(function(t,r,o){if(t===r)return t;var l=Jn(t);if(l!==o){var c=Zn(t,o);if(l=Jn(c),c===null)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+o+'"';t=c}return t},"getValueByType"),Oo=i(function(t,r){var o=t;return{enumerable:!0,get:i(function(){return o},"get"),set:i(function(c){o=Rn(c,t,r)},"set")}},"createOption"),Ln=i(function(t){var r={};return f(t,function(o){var l=t[o];r[o]=Oo(l[0],l[1])}),E(r)},"createOptions"),er=i(function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Ln(t)}},"createInitialState"),ht=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(o){return o.toLowerCase()}).join(r)},"fromCamels"),So=i(function(t,r){var o={};return f(r,function(l){o[l]={get:i(function(){return t.getState().options[l]},"get"),set:i(function(d){t.dispatch("SET_"+ht(l,"_").toUpperCase(),{value:d})},"set")}}),o},"createOptionAPI"),Ro=i(function(t){return function(r,o,l){var c={};return f(t,function(d){var p=ht(d,"_").toUpperCase();c["SET_"+p]=function(m){try{l.options[d]=m.value}catch{}r("DID_SET_"+p,{value:l.options[d]})}}),c}},"createOptionActions"),g=i(function(t){return function(r){var o={};return f(t,function(l){o["GET_"+ht(l,"_").toUpperCase()]=function(c){return r.options[l]}}),o}},"createOptionQueries"),_={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},A=i(function(){return Math.random().toString(36).substring(2,11)},"getUniqueId");function R(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=i(function(t){return typeof t},"_typeof"):R=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),R(u)}i(R,"_typeof");var B;function j(u,t,r,o){B||(B=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var l=u&&u.defaultProps,c=arguments.length-3;if(!t&&c!==0&&(t={children:void 0}),t&&l)for(var d in l)t[d]===void 0&&(t[d]=l[d]);else t||(t=l||{});if(c===1)t.children=o;else if(c>1){for(var p=new Array(c),m=0;m<c;m++)p[m]=arguments[m+3];t.children=p}return{$$typeof:B,type:u,key:r===void 0?null:""+r,ref:null,props:t,_owner:null}}i(j,"_jsx");function he(u){var t;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(t=u[Symbol.asyncIterator],t!=null)||Symbol.iterator&&(t=u[Symbol.iterator],t!=null)))return t.call(u);throw new TypeError("Object is not async iterable")}i(he,"_asyncIterator");function Z(u){this.wrapped=u}i(Z,"_AwaitValue");function fe(u){var t,r;function o(d,p){return new Promise(function(m,v){var T={key:d,arg:p,resolve:m,reject:v,next:null};r?r=r.next=T:(t=r=T,l(d,p))})}i(o,"send");function l(d,p){try{var m=u[d](p),v=m.value,T=v instanceof Z;Promise.resolve(T?v.wrapped:v).then(function(D){if(T){l("next",D);return}c(m.done?"return":"normal",D)},function(D){l("throw",D)})}catch(D){c("throw",D)}}i(l,"resume");function c(d,p){switch(d){case"return":t.resolve({value:p,done:!0});break;case"throw":t.reject(p);break;default:t.resolve({value:p,done:!1});break}t=t.next,t?l(t.key,t.arg):r=null}i(c,"settle"),this._invoke=o,typeof u.return!="function"&&(this.return=void 0)}i(fe,"_AsyncGenerator"),typeof Symbol=="function"&&Symbol.asyncIterator&&(fe.prototype[Symbol.asyncIterator]=function(){return this}),fe.prototype.next=function(u){return this._invoke("next",u)},fe.prototype.throw=function(u){return this._invoke("throw",u)},fe.prototype.return=function(u){return this._invoke("return",u)};function ee(u){return function(){return new fe(u.apply(this,arguments))}}i(ee,"_wrapAsyncGenerator");function ie(u){return new Z(u)}i(ie,"_awaitAsyncGenerator");function Pe(u,t){var r={},o=!1;function l(c,d){return o=!0,d=new Promise(function(p){p(u[c](d))}),{done:!1,value:t(d)}}return i(l,"pump"),typeof Symbol=="function"&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(c){return o?(o=!1,c):l("next",c)},typeof u.throw=="function"&&(r.throw=function(c){if(o)throw o=!1,c;return l("throw",c)}),typeof u.return=="function"&&(r.return=function(c){return l("return",c)}),r}i(Pe,"_asyncGeneratorDelegate");function Dt(u,t,r,o,l,c,d){try{var p=u[c](d),m=p.value}catch(v){r(v);return}p.done?t(m):Promise.resolve(m).then(o,l)}i(Dt,"asyncGeneratorStep");function mt(u){return function(){var t=this,r=arguments;return new Promise(function(o,l){var c=u.apply(t,r);function d(m){Dt(c,o,l,d,p,"next",m)}i(d,"_next");function p(m){Dt(c,o,l,d,p,"throw",m)}i(p,"_throw"),d(void 0)})}}i(mt,"_asyncToGenerator");function Cn(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}i(Cn,"_classCallCheck");function Vt(u,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}i(Vt,"_defineProperties");function Na(u,t,r){return t&&Vt(u.prototype,t),r&&Vt(u,r),u}i(Na,"_createClass");function Qr(u,t){for(var r in t){var o=t[r];o.configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,r,o)}if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(t),c=0;c<l.length;c++){var d=l[c],o=t[d];o.configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,d,o)}return u}i(Qr,"_defineEnumerableProperties");function Fa(u,t){for(var r=Object.getOwnPropertyNames(t),o=0;o<r.length;o++){var l=r[o],c=Object.getOwnPropertyDescriptor(t,l);c&&c.configurable&&u[l]===void 0&&Object.defineProperty(u,l,c)}return u}i(Fa,"_defaults");function tr(u,t,r){return t in u?Object.defineProperty(u,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[t]=r,u}i(tr,"_defineProperty");function Jr(){return Jr=Object.assign||function(u){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(u[o]=r[o])}return u},Jr.apply(this,arguments)}i(Jr,"_extends");function xa(u){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),o.forEach(function(l){tr(u,l,r[l])})}return u}i(xa,"_objectSpread");function Zr(u,t){var r=Object.keys(u);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(u);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(u,l).enumerable})),r.push.apply(r,o)}return r}i(Zr,"ownKeys");function Ua(u){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zr(r,!0).forEach(function(o){tr(u,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(r)):Zr(r).forEach(function(o){Object.defineProperty(u,o,Object.getOwnPropertyDescriptor(r,o))})}return u}i(Ua,"_objectSpread2");function Lo(u,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),t&&nr(u,t)}i(Lo,"_inherits");function Ba(u,t){u.prototype=Object.create(t.prototype),u.prototype.constructor=u,u.__proto__=t}i(Ba,"_inheritsLoose");function ei(u){return ei=Object.setPrototypeOf?Object.getPrototypeOf:i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ei(u)}i(ei,"_getPrototypeOf");function nr(u,t){return nr=Object.setPrototypeOf||i(function(o,l){return o.__proto__=l,o},"_setPrototypeOf"),nr(u,t)}i(nr,"_setPrototypeOf");function gc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}i(gc,"isNativeReflectConstruct");function ti(u,t,r){return gc()?ti=Reflect.construct:ti=i(function(l,c,d){var p=[null];p.push.apply(p,c);var m=Function.bind.apply(l,p),v=new m;return d&&nr(v,d.prototype),v},"_construct"),ti.apply(null,arguments)}i(ti,"_construct");function vc(u){return Function.toString.call(u).indexOf("[native code]")!==-1}i(vc,"_isNativeFunction");function Co(u){var t=typeof Map=="function"?new Map:void 0;return Co=i(function(o){if(o===null||!vc(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(o))return t.get(o);t.set(o,l)}function l(){return ti(o,arguments,ei(this).constructor)}return i(l,"Wrapper"),l.prototype=Object.create(o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),nr(l,o)},"_wrapNativeSuper"),Co(u)}i(Co,"_wrapNativeSuper");function Gm(u,t){return t!=null&&typeof Symbol<"u"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](u):u instanceof t}i(Gm,"_instanceof");function Vm(u){return u&&u.__esModule?u:{default:u}}i(Vm,"_interopRequireDefault");function km(u){if(u&&u.__esModule)return u;var t={};if(u!=null){for(var r in u)if(Object.prototype.hasOwnProperty.call(u,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(u,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=u[r]}}return t.default=u,t}i(km,"_interopRequireWildcard");function Ym(u,t){if(u!==t)throw new TypeError("Cannot instantiate an arrow function")}i(Ym,"_newArrowCheck");function Hm(u){if(u==null)throw new TypeError("Cannot destructure undefined")}i(Hm,"_objectDestructuringEmpty");function _c(u,t){if(u==null)return{};var r={},o=Object.keys(u),l,c;for(c=0;c<o.length;c++)l=o[c],!(t.indexOf(l)>=0)&&(r[l]=u[l]);return r}i(_c,"_objectWithoutPropertiesLoose");function Tc(u,t){if(u==null)return{};var r=_c(u,t),o,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);for(l=0;l<c.length;l++)o=c[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(u,o)&&(r[o]=u[o])}return r}i(Tc,"_objectWithoutProperties");function Ic(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}i(Ic,"_assertThisInitialized");function qm(u,t){return t&&(typeof t=="object"||typeof t=="function")?t:Ic(u)}i(qm,"_possibleConstructorReturn");function Ga(u,t){for(;!Object.prototype.hasOwnProperty.call(u,t)&&(u=ei(u),u!==null););return u}i(Ga,"_superPropBase");function wo(u,t,r){return typeof Reflect<"u"&&Reflect.get?wo=Reflect.get:wo=i(function(l,c,d){var p=Ga(l,c);if(p){var m=Object.getOwnPropertyDescriptor(p,c);return m.get?m.get.call(d):m.value}},"_get"),wo(u,t,r||u)}i(wo,"_get");function ni(u,t,r,o){return typeof Reflect<"u"&&Reflect.set?ni=Reflect.set:ni=i(function(c,d,p,m){var v=Ga(c,d),T;if(v){if(T=Object.getOwnPropertyDescriptor(v,d),T.set)return T.set.call(m,p),!0;if(!T.writable)return!1}if(T=Object.getOwnPropertyDescriptor(m,d),T){if(!T.writable)return!1;T.value=p,Object.defineProperty(m,d,T)}else tr(m,d,p);return!0},"set"),ni(u,t,r,o)}i(ni,"set");function jm(u,t,r,o,l){var c=ni(u,t,r,o||u);if(!c&&l)throw new Error("failed to set property");return r}i(jm,"_set");function zm(u,t){return t||(t=u.slice(0)),Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(t)}}))}i(zm,"_taggedTemplateLiteral");function Wm(u,t){return t||(t=u.slice(0)),u.raw=t,u}i(Wm,"_taggedTemplateLiteralLoose");function Km(u,t){if(u===Dc)throw new ReferenceError(t+" is not defined - temporal dead zone");return u}i(Km,"_temporalRef");function $m(u){throw new Error('"'+u+'" is read-only')}i($m,"_readOnlyError");function Xm(u){throw new Error('Class "'+u+'" cannot be referenced in computed property keys.')}i(Xm,"_classNameTDZError");var Dc={};function Qm(u,t){return Po(u)||bc(u,t)||Mo()}i(Qm,"_slicedToArray");function Jm(u,t){return Po(u)||Oc(u,t)||Mo()}i(Jm,"_slicedToArrayLoose");function yc(u){return Po(u)||Va(u)||Mo()}i(yc,"_toArray");function ri(u){return Ac(u)||Va(u)||Sc()}i(ri,"_toConsumableArray");function Ac(u){if(Array.isArray(u)){for(var t=0,r=new Array(u.length);t<u.length;t++)r[t]=u[t];return r}}i(Ac,"_arrayWithoutHoles");function Po(u){if(Array.isArray(u))return u}i(Po,"_arrayWithHoles");function Va(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}i(Va,"_iterableToArray");function bc(u,t){var r=[],o=!0,l=!1,c=void 0;try{for(var d=u[Symbol.iterator](),p;!(o=(p=d.next()).done)&&(r.push(p.value),!(t&&r.length===t));o=!0);}catch(m){l=!0,c=m}finally{try{!o&&d.return!=null&&d.return()}finally{if(l)throw c}}return r}i(bc,"_iterableToArrayLimit");function Oc(u,t){for(var r=[],o=u[Symbol.iterator](),l;!(l=o.next()).done&&(r.push(l.value),!(t&&r.length===t)););return r}i(Oc,"_iterableToArrayLimitLoose");function Sc(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i(Sc,"_nonIterableSpread");function Mo(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i(Mo,"_nonIterableRest");function Zm(u){return function(){var t=u.apply(this,arguments);return t.next(),t}}i(Zm,"_skipFirstGeneratorNext");function Rc(u,t){if(typeof u!="object"||u===null)return u;var r=u[Symbol.toPrimitive];if(r!==void 0){var o=r.call(u,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(u)}i(Rc,"_toPrimitive");function ka(u){var t=Rc(u,"string");return typeof t=="symbol"?t:String(t)}i(ka,"_toPropertyKey");function eE(u,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}i(eE,"_initializerWarningHelper");function tE(u,t,r,o){r&&Object.defineProperty(u,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}i(tE,"_initializerDefineProperty");function nE(u,t,r,o,l){var c={};return Object.keys(o).forEach(function(d){c[d]=o[d]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=r.slice().reverse().reduce(function(d,p){return p(u,t,d)||d},c),l&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(u,t,c),c=null),c}i(nE,"_applyDecoratedDescriptor");var Lc=0;function rE(u){return"__private_"+Lc+++"_"+u}i(rE,"_classPrivateFieldLooseKey");function iE(u,t){if(!Object.prototype.hasOwnProperty.call(u,t))throw new TypeError("attempted to use private field on non-instance");return u}i(iE,"_classPrivateFieldLooseBase");function oE(u,t){var r=t.get(u);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(u):r.value}i(oE,"_classPrivateFieldGet");function aE(u,t,r){var o=t.get(u);if(!o)throw new TypeError("attempted to set private field on non-instance");if(o.set)o.set.call(u,r);else{if(!o.writable)throw new TypeError("attempted to set read only private field");o.value=r}return r}i(aE,"_classPrivateFieldSet");function sE(u,t){if(!t.has(u))throw new TypeError("attempted to set private field on non-instance");var r=t.get(u);if(r.set)return"__destrObj"in r||(r.__destrObj={set value(o){r.set.call(u,o)}}),r.__destrObj;if(!r.writable)throw new TypeError("attempted to set read only private field");return r}i(sE,"_classPrivateFieldDestructureSet");function lE(u,t,r){if(u!==t)throw new TypeError("Private static access of wrong provenance");return r.value}i(lE,"_classStaticPrivateFieldSpecGet");function uE(u,t,r,o){if(u!==t)throw new TypeError("Private static access of wrong provenance");if(!r.writable)throw new TypeError("attempted to set read only private field");return r.value=o,o}i(uE,"_classStaticPrivateFieldSpecSet");function cE(u,t,r){if(u!==t)throw new TypeError("Private static access of wrong provenance");return r}i(cE,"_classStaticPrivateMethodGet");function fE(){throw new TypeError("attempted to set read only static private field")}i(fE,"_classStaticPrivateMethodSet");function dE(u,t,r,o){var l=Ya();if(o)for(var c=0;c<o.length;c++)l=o[c](l);var d=t(i(function(v){l.initializeInstanceElements(v,p.elements)},"initialize"),r),p=l.decorateClass(Pc(d.d.map(Cc)),u);return l.initializeClassElements(d.F,p.elements),l.runClassFinishers(d.F,p.finishers)}i(dE,"_decorate");function Ya(){Ya=i(function(){return u},"_getDecoratorsApi");var u={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:i(function(t,r){["method","field"].forEach(function(o){r.forEach(function(l){l.kind===o&&l.placement==="own"&&this.defineClassElement(t,l)},this)},this)},"initializeInstanceElements"),initializeClassElements:i(function(t,r){var o=t.prototype;["method","field"].forEach(function(l){r.forEach(function(c){var d=c.placement;if(c.kind===l&&(d==="static"||d==="prototype")){var p=d==="static"?t:o;this.defineClassElement(p,c)}},this)},this)},"initializeClassElements"),defineClassElement:i(function(t,r){var o=r.descriptor;if(r.kind==="field"){var l=r.initializer;o={enumerable:o.enumerable,writable:o.writable,configurable:o.configurable,value:l===void 0?void 0:l.call(t)}}Object.defineProperty(t,r.key,o)},"defineClassElement"),decorateClass:i(function(t,r){var o=[],l=[],c={static:[],prototype:[],own:[]};if(t.forEach(function(p){this.addElementPlacement(p,c)},this),t.forEach(function(p){if(!rr(p))return o.push(p);var m=this.decorateElement(p,c);o.push(m.element),o.push.apply(o,m.extras),l.push.apply(l,m.finishers)},this),!r)return{elements:o,finishers:l};var d=this.decorateConstructor(o,r);return l.push.apply(l,d.finishers),d.finishers=l,d},"decorateClass"),addElementPlacement:i(function(t,r,o){var l=r[t.placement];if(!o&&l.indexOf(t.key)!==-1)throw new TypeError("Duplicated element ("+t.key+")");l.push(t.key)},"addElementPlacement"),decorateElement:i(function(t,r){for(var o=[],l=[],c=t.decorators,d=c.length-1;d>=0;d--){var p=r[t.placement];p.splice(p.indexOf(t.key),1);var m=this.fromElementDescriptor(t),v=this.toElementFinisherExtras((0,c[d])(m)||m);t=v.element,this.addElementPlacement(t,r),v.finisher&&l.push(v.finisher);var T=v.extras;if(T){for(var D=0;D<T.length;D++)this.addElementPlacement(T[D],r);o.push.apply(o,T)}}return{element:t,finishers:l,extras:o}},"decorateElement"),decorateConstructor:i(function(t,r){for(var o=[],l=r.length-1;l>=0;l--){var c=this.fromClassDescriptor(t),d=this.toClassDescriptor((0,r[l])(c)||c);if(d.finisher!==void 0&&o.push(d.finisher),d.elements!==void 0){t=d.elements;for(var p=0;p<t.length-1;p++)for(var m=p+1;m<t.length;m++)if(t[p].key===t[m].key&&t[p].placement===t[m].placement)throw new TypeError("Duplicated element ("+t[p].key+")")}}return{elements:t,finishers:o}},"decorateConstructor"),fromElementDescriptor:i(function(t){var r={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor},o={value:"Descriptor",configurable:!0};return Object.defineProperty(r,Symbol.toStringTag,o),t.kind==="field"&&(r.initializer=t.initializer),r},"fromElementDescriptor"),toElementDescriptors:i(function(t){if(t!==void 0)return yc(t).map(function(r){var o=this.toElementDescriptor(r);return this.disallowProperty(r,"finisher","An element descriptor"),this.disallowProperty(r,"extras","An element descriptor"),o},this)},"toElementDescriptors"),toElementDescriptor:i(function(t){var r=String(t.kind);if(r!=="method"&&r!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+r+'"');var o=ka(t.key),l=String(t.placement);if(l!=="static"&&l!=="prototype"&&l!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+l+'"');var c=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var d={kind:r,key:o,placement:l,descriptor:Object.assign({},c)};return r!=="field"?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(c,"get","The property descriptor of a field descriptor"),this.disallowProperty(c,"set","The property descriptor of a field descriptor"),this.disallowProperty(c,"value","The property descriptor of a field descriptor"),d.initializer=t.initializer),d},"toElementDescriptor"),toElementFinisherExtras:i(function(t){var r=this.toElementDescriptor(t),o=qa(t,"finisher"),l=this.toElementDescriptors(t.extras);return{element:r,finisher:o,extras:l}},"toElementFinisherExtras"),fromClassDescriptor:i(function(t){var r={kind:"class",elements:t.map(this.fromElementDescriptor,this)},o={value:"Descriptor",configurable:!0};return Object.defineProperty(r,Symbol.toStringTag,o),r},"fromClassDescriptor"),toClassDescriptor:i(function(t){var r=String(t.kind);if(r!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+r+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var o=qa(t,"finisher"),l=this.toElementDescriptors(t.elements);return{elements:l,finisher:o}},"toClassDescriptor"),runClassFinishers:i(function(t,r){for(var o=0;o<r.length;o++){var l=(0,r[o])(t);if(l!==void 0){if(typeof l!="function")throw new TypeError("Finishers must return a constructor.");t=l}}return t},"runClassFinishers"),disallowProperty:i(function(t,r,o){if(t[r]!==void 0)throw new TypeError(o+" can't have a ."+r+" property.")},"disallowProperty")};return u}i(Ya,"_getDecoratorsApi");function Cc(u){var t=ka(u.key),r;u.kind==="method"?r={value:u.value,writable:!0,configurable:!0,enumerable:!1}:u.kind==="get"?r={get:u.value,configurable:!0,enumerable:!1}:u.kind==="set"?r={set:u.value,configurable:!0,enumerable:!1}:u.kind==="field"&&(r={configurable:!0,writable:!0,enumerable:!0});var o={kind:u.kind==="field"?"field":"method",key:t,placement:u.static?"static":u.kind==="field"?"own":"prototype",descriptor:r};return u.decorators&&(o.decorators=u.decorators),u.kind==="field"&&(o.initializer=u.value),o}i(Cc,"_createElementDescriptor");function wc(u,t){u.descriptor.get!==void 0?t.descriptor.get=u.descriptor.get:t.descriptor.set=u.descriptor.set}i(wc,"_coalesceGetterSetter");function Pc(u){for(var t=[],r=i(function(d){return d.kind==="method"&&d.key===l.key&&d.placement===l.placement},"isSameElement"),o=0;o<u.length;o++){var l=u[o],c;if(l.kind==="method"&&(c=t.find(r)))if(Ha(l.descriptor)||Ha(c.descriptor)){if(rr(l)||rr(c))throw new ReferenceError("Duplicated methods ("+l.key+") can't be decorated.");c.descriptor=l.descriptor}else{if(rr(l)){if(rr(c))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+l.key+").");c.decorators=l.decorators}wc(l,c)}else t.push(l)}return t}i(Pc,"_coalesceClassElements");function rr(u){return u.decorators&&u.decorators.length}i(rr,"_hasDecorators");function Ha(u){return u!==void 0&&!(u.value===void 0&&u.writable===void 0)}i(Ha,"_isDataDescriptor");function qa(u,t){var r=u[t];if(r!==void 0&&typeof r!="function")throw new TypeError("Expected '"+t+"' to be a function");return r}i(qa,"_optionalCallableProperty");function pE(u,t,r){if(!t.has(u))throw new TypeError("attempted to get private field on non-instance");return r}i(pE,"_classPrivateMethodGet");function hE(){throw new TypeError("attempted to reassign private method")}i(hE,"_classPrivateMethodSet");function ja(u,t){ja=i(function(p,m){return new c(p,m)},"_wrapRegExp");var r=Co(RegExp),o=RegExp.prototype,l=new WeakMap;function c(p,m){var v=r.call(this,p);return l.set(v,m),v}i(c,"BabelRegExp"),Lo(c,r),c.prototype.exec=function(p){var m=o.exec.call(this,p);return m&&(m.groups=d(m,this)),m},c.prototype[Symbol.replace]=function(p,m){if(typeof m=="string"){var v=l.get(this);return o[Symbol.replace].call(this,p,m.replace(/\$<([^>]+)>/g,function(D,y){return"$"+v[y]}))}else if(typeof m=="function"){var T=this;return o[Symbol.replace].call(this,p,function(){var D=[];return D.push.apply(D,arguments),typeof D[D.length-1]!="object"&&D.push(d(D,T)),m.apply(this,D)})}else return o[Symbol.replace].call(this,p,m)};function d(p,m){var v=l.get(m);return Object.keys(v).reduce(function(T,D){return T[D]=p[v[D]],T},Object.create(null))}return i(d,"buildGroups"),ja.apply(this,arguments)}i(ja,"_wrapRegExp");var No=i(function(t,r){return t.splice(r,1)},"arrayRemove"),Mc=i(function(t,r){r?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},"run"),ii=i(function(){var t=[],r=i(function(c,d){No(t,t.findIndex(function(p){return p.event===c&&(p.cb===d||!d)}))},"off"),o=i(function(c,d,p){t.filter(function(m){return m.event===c}).map(function(m){return m.cb}).forEach(function(m){return Mc(function(){return m.apply(void 0,ri(d))},p)})},"fire");return{fireSync:i(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];o(c,p,!0)},"fireSync"),fire:i(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];o(c,p,!1)},"fire"),on:i(function(c,d){t.push({event:c,cb:d})},"on"),onOnce:i(function(c,d){t.push({event:c,cb:i(function(){r(c,d),d.apply(void 0,arguments)},"cb")})},"onOnce"),off:r}},"on"),za=i(function(t,r,o){Object.getOwnPropertyNames(t).filter(function(l){return!o.includes(l)}).forEach(function(l){return Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(t,l))})},"copyObjectPropertiesToObject"),Nc=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Et=i(function(t){var r={};return za(t,r,Nc),r},"createItemAPI"),Fc=i(function(t){t.forEach(function(r,o){r.released&&No(t,o)})},"removeReleasedItems"),se={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},et={INPUT:1,LIMBO:2,LOCAL:3},Wa=i(function(t){return/[^0-9]+/.exec(t)},"getNonNumeric"),Ka=i(function(){return Wa(1.1.toLocaleString())[0]},"getDecimalSeparator"),xc=i(function(){var t=Ka(),r=1e3.toLocaleString(),o="1000";return r!==o?Wa(r)[0]:t==="."?",":"."},"getThousandsSeparator"),P={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Fo=[],Mt=i(function(t,r,o){return new Promise(function(l,c){var d=Fo.filter(function(m){return m.key===t}).map(function(m){return m.cb});if(d.length===0){l(r);return}var p=d.shift();d.reduce(function(m,v){return m.then(function(T){return v(T,o)})},p(r,o)).then(function(m){return l(m)}).catch(function(m){return c(m)})})},"applyFilterChain"),sn=i(function(t,r,o){return Fo.filter(function(l){return l.key===t}).map(function(l){return l.cb(r,o)})},"applyFilters"),Uc=i(function(t,r){return Fo.push({key:t,cb:r})},"addFilter"),Bc=i(function(t){return Object.assign(wn,t)},"extendDefaultOptions"),oi=i(function(){return Object.assign({},wn)},"getOptions"),Gc=i(function(t){f(t,function(r,o){wn[r]&&(wn[r][0]=Rn(o,wn[r][0],wn[r][1]))})},"setOptions"),wn={id:[null,P.STRING],name:["filepond",P.STRING],disabled:[!1,P.BOOLEAN],className:[null,P.STRING],required:[!1,P.BOOLEAN],captureMethod:[null,P.STRING],allowSyncAcceptAttribute:[!0,P.BOOLEAN],allowDrop:[!0,P.BOOLEAN],allowBrowse:[!0,P.BOOLEAN],allowPaste:[!0,P.BOOLEAN],allowMultiple:[!1,P.BOOLEAN],allowReplace:[!0,P.BOOLEAN],allowRevert:[!0,P.BOOLEAN],allowRemove:[!0,P.BOOLEAN],allowProcess:[!0,P.BOOLEAN],allowReorder:[!1,P.BOOLEAN],allowDirectoriesOnly:[!1,P.BOOLEAN],storeAsFile:[!1,P.BOOLEAN],forceRevert:[!1,P.BOOLEAN],maxFiles:[null,P.INT],checkValidity:[!1,P.BOOLEAN],itemInsertLocationFreedom:[!0,P.BOOLEAN],itemInsertLocation:["before",P.STRING],itemInsertInterval:[75,P.INT],dropOnPage:[!1,P.BOOLEAN],dropOnElement:[!0,P.BOOLEAN],dropValidation:[!1,P.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],P.ARRAY],instantUpload:[!0,P.BOOLEAN],maxParallelUploads:[2,P.INT],allowMinimumUploadDuration:[!0,P.BOOLEAN],chunkUploads:[!1,P.BOOLEAN],chunkForce:[!1,P.BOOLEAN],chunkSize:[5e6,P.INT],chunkRetryDelays:[[500,1e3,3e3],P.ARRAY],server:[null,P.SERVER_API],fileSizeBase:[1e3,P.INT],labelFileSizeBytes:["bytes",P.STRING],labelFileSizeKilobytes:["KB",P.STRING],labelFileSizeMegabytes:["MB",P.STRING],labelFileSizeGigabytes:["GB",P.STRING],labelDecimalSeparator:[Ka(),P.STRING],labelThousandsSeparator:[xc(),P.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',P.STRING],labelInvalidField:["Field contains invalid files",P.STRING],labelFileWaitingForSize:["Waiting for size",P.STRING],labelFileSizeNotAvailable:["Size not available",P.STRING],labelFileCountSingular:["file in list",P.STRING],labelFileCountPlural:["files in list",P.STRING],labelFileLoading:["Loading",P.STRING],labelFileAdded:["Added",P.STRING],labelFileLoadError:["Error during load",P.STRING],labelFileRemoved:["Removed",P.STRING],labelFileRemoveError:["Error during remove",P.STRING],labelFileProcessing:["Uploading",P.STRING],labelFileProcessingComplete:["Upload complete",P.STRING],labelFileProcessingAborted:["Upload cancelled",P.STRING],labelFileProcessingError:["Error during upload",P.STRING],labelFileProcessingRevertError:["Error during revert",P.STRING],labelTapToCancel:["tap to cancel",P.STRING],labelTapToRetry:["tap to retry",P.STRING],labelTapToUndo:["tap to undo",P.STRING],labelButtonRemoveItem:["Remove",P.STRING],labelButtonAbortItemLoad:["Abort",P.STRING],labelButtonRetryItemLoad:["Retry",P.STRING],labelButtonAbortItemProcessing:["Cancel",P.STRING],labelButtonUndoItemProcessing:["Undo",P.STRING],labelButtonRetryItemProcessing:["Retry",P.STRING],labelButtonProcessItem:["Upload",P.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',P.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],oninit:[null,P.FUNCTION],onwarning:[null,P.FUNCTION],onerror:[null,P.FUNCTION],onactivatefile:[null,P.FUNCTION],oninitfile:[null,P.FUNCTION],onaddfilestart:[null,P.FUNCTION],onaddfileprogress:[null,P.FUNCTION],onaddfile:[null,P.FUNCTION],onprocessfilestart:[null,P.FUNCTION],onprocessfileprogress:[null,P.FUNCTION],onprocessfileabort:[null,P.FUNCTION],onprocessfilerevert:[null,P.FUNCTION],onprocessfile:[null,P.FUNCTION],onprocessfiles:[null,P.FUNCTION],onremovefile:[null,P.FUNCTION],onpreparefile:[null,P.FUNCTION],onupdatefiles:[null,P.FUNCTION],onreorderfiles:[null,P.FUNCTION],beforeDropFile:[null,P.FUNCTION],beforeAddFile:[null,P.FUNCTION],beforeRemoveFile:[null,P.FUNCTION],beforePrepareFile:[null,P.FUNCTION],stylePanelLayout:[null,P.STRING],stylePanelAspectRatio:[null,P.STRING],styleItemPanelAspectRatio:[null,P.STRING],styleButtonRemoveItemPosition:["left",P.STRING],styleButtonProcessItemPosition:["right",P.STRING],styleLoadIndicatorPosition:["right",P.STRING],styleProgressIndicatorPosition:["right",P.STRING],styleButtonRemoveItemAlign:[!1,P.BOOLEAN],files:[[],P.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],P.ARRAY]},ln=i(function(t,r){return pt(r)?t[0]||null:Gt(r)?t[r]||null:(typeof r=="object"&&(r=r.id),t.find(function(o){return o.id===r})||null)},"getItemByQuery"),$a=i(function(t){if(pt(t))return t;if(/:/.test(t)){var r=t.split(":");return r[1]/r[0]}return parseFloat(t)},"getNumericAspectRatioFromString"),Nt=i(function(t){return t.filter(function(r){return!r.archived})},"getActiveItems"),Pn={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ai=null,Vc=i(function(){if(ai===null)try{var t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));var r=document.createElement("input");r.setAttribute("type","file"),r.files=t.files,ai=r.files.length===1}catch{ai=!1}return ai},"canUpdateFileInput"),kc=[se.LOAD_ERROR,se.PROCESSING_ERROR,se.PROCESSING_REVERT_ERROR],Yc=[se.LOADING,se.PROCESSING,se.PROCESSING_QUEUED,se.INIT],Hc=[se.PROCESSING_COMPLETE],qc=i(function(t){return kc.includes(t.status)},"isItemInErrorState"),jc=i(function(t){return Yc.includes(t.status)},"isItemInBusyState"),zc=i(function(t){return Hc.includes(t.status)},"isItemInReadyState"),Xa=i(function(t){return $e(t.options.server)&&($e(t.options.server.process)||Ut(t.options.server.process))},"isAsync"),Wc=i(function(t){return{GET_STATUS:i(function(){var o=Nt(t.items),l=Pn.EMPTY,c=Pn.ERROR,d=Pn.BUSY,p=Pn.IDLE,m=Pn.READY;return o.length===0?l:o.some(qc)?c:o.some(jc)?d:o.some(zc)?m:p},"GET_STATUS"),GET_ITEM:i(function(o){return ln(t.items,o)},"GET_ITEM"),GET_ACTIVE_ITEM:i(function(o){return ln(Nt(t.items),o)},"GET_ACTIVE_ITEM"),GET_ACTIVE_ITEMS:i(function(){return Nt(t.items)},"GET_ACTIVE_ITEMS"),GET_ITEMS:i(function(){return t.items},"GET_ITEMS"),GET_ITEM_NAME:i(function(o){var l=ln(t.items,o);return l?l.filename:null},"GET_ITEM_NAME"),GET_ITEM_SIZE:i(function(o){var l=ln(t.items,o);return l?l.fileSize:null},"GET_ITEM_SIZE"),GET_STYLES:i(function(){return Object.keys(t.options).filter(function(o){return/^style/.test(o)}).map(function(o){return{name:o,value:t.options[o]}})},"GET_STYLES"),GET_PANEL_ASPECT_RATIO:i(function(){var o=/circle/.test(t.options.stylePanelLayout),l=o?1:$a(t.options.stylePanelAspectRatio);return l},"GET_PANEL_ASPECT_RATIO"),GET_ITEM_PANEL_ASPECT_RATIO:i(function(){return t.options.styleItemPanelAspectRatio},"GET_ITEM_PANEL_ASPECT_RATIO"),GET_ITEMS_BY_STATUS:i(function(o){return Nt(t.items).filter(function(l){return l.status===o})},"GET_ITEMS_BY_STATUS"),GET_TOTAL_ITEMS:i(function(){return Nt(t.items).length},"GET_TOTAL_ITEMS"),SHOULD_UPDATE_FILE_INPUT:i(function(){return t.options.storeAsFile&&Vc()&&!Xa(t)},"SHOULD_UPDATE_FILE_INPUT"),IS_ASYNC:i(function(){return Xa(t)},"IS_ASYNC"),GET_FILE_SIZE_LABELS:i(function(o){return{labelBytes:o("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:o("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:o("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:o("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}},"GET_FILE_SIZE_LABELS")}},"queries"),Kc=i(function(t){var r=Nt(t.items).length;if(!t.options.allowMultiple)return r===0;var o=t.options.maxFiles;return o===null||r<o},"hasRoomForItem"),Qa=i(function(t,r,o){return Math.max(Math.min(o,t),r)},"limit"),$c=i(function(t,r,o){return t.splice(r,0,o)},"arrayInsert"),Xc=i(function(t,r,o){return pt(r)?null:typeof o>"u"?(t.push(r),r):(o=Qa(o,0,t.length),$c(t,o,r),r)},"insertItem"),xo=i(function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},"isBase64DataURI"),ir=i(function(t){return(""+t).split("/").pop().split("?").shift()},"getFilenameFromURL"),si=i(function(t){return t.split(".").pop()},"getExtensionFromFilename"),Qc=i(function(t){if(typeof t!="string")return"";var r=t.split("/").pop();return/svg/.test(r)?"svg":/zip|compressed/.test(r)?"zip":/plain/.test(r)?"txt":/msword/.test(r)?"doc":/[a-z]+/.test(r)?r==="jpeg"?"jpg":r:""},"guesstimateExtension"),or=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(r+t).slice(-r.length)},"leftPad"),Ja=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return t.getFullYear()+"-"+or(t.getMonth()+1,"00")+"-"+or(t.getDate(),"00")+"_"+or(t.getHours(),"00")+"-"+or(t.getMinutes(),"00")+"-"+or(t.getSeconds(),"00")},"getDateString"),Mn=i(function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,c=typeof o=="string"?t.slice(0,t.size,o):t.slice(0,t.size,t.type);return c.lastModifiedDate=new Date,t._relativePath&&(c._relativePath=t._relativePath),it(r)||(r=Ja()),r&&l===null&&si(r)?c.name=r:(l=l||Qc(c.type),c.name=r+(l?"."+l:"")),c},"getFileFromBlob"),Jc=i(function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},"getBlobBuilder"),Za=i(function(t,r){var o=Jc();if(o){var l=new o;return l.append(t),l.getBlob(r)}return new Blob([t],{type:r})},"createBlob"),Zc=i(function(t,r){for(var o=new ArrayBuffer(t.length),l=new Uint8Array(o),c=0;c<t.length;c++)l[c]=t.charCodeAt(c);return Za(o,r)},"getBlobFromByteStringWithMimeType"),es=i(function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},"getMimeTypeFromBase64DataURI"),ef=i(function(t){var r=t.split(",")[1];return r.replace(/\s/g,"")},"getBase64DataFromBase64DataURI"),tf=i(function(t){return atob(ef(t))},"getByteStringFromBase64DataURI"),nf=i(function(t){var r=es(t),o=tf(t);return Zc(o,r)},"getBlobFromBase64DataURI"),rf=i(function(t,r,o){return Mn(nf(t),r,null,o)},"getFileFromBase64DataURI"),of=i(function(t){if(!/^content-disposition:/i.test(t))return null;var r=t.split(/filename=|filename\*=.+''/).splice(1).map(function(o){return o.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(o){return o.length});return r.length?decodeURI(r[r.length-1]):null},"getFileNameFromHeader"),af=i(function(t){if(/content-length:/i.test(t)){var r=t.match(/[0-9]+/)[0];return r?parseInt(r,10):null}return null},"getFileSizeFromHeader"),sf=i(function(t){if(/x-content-transfer-id:/i.test(t)){var r=(t.split(":")[1]||"").trim();return r||null}return null},"getTranfserIdFromHeader"),Uo=i(function(t){var r={source:null,name:null,size:null},o=t.split(`
`),l=!0,c=!1,d=void 0;try{for(var p=o[Symbol.iterator](),m;!(l=(m=p.next()).done);l=!0){var v=m.value,T=of(v);if(T){r.name=T;continue}var D=af(v);if(D){r.size=D;continue}var y=sf(v);if(y){r.source=y;continue}}}catch(w){c=!0,d=w}finally{try{!l&&p.return!=null&&p.return()}finally{if(c)throw d}}return r},"getFileInfoFromHeaders"),lf=i(function(t){var r={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},o=i(function(){return r.progress},"getProgress"),l=i(function(){r.request&&r.request.abort&&r.request.abort()},"abort"),c=i(function(){var v=r.source;p.fire("init",v),v instanceof File?p.fire("load",v):v instanceof Blob?p.fire("load",Mn(v,v.name)):xo(v)?p.fire("load",rf(v)):d(v)},"load"),d=i(function(v){if(!t){p.fire("error",{type:"error",body:"Can't load URL",code:400});return}r.timestamp=Date.now(),r.request=t(v,function(T){r.duration=Date.now()-r.timestamp,r.complete=!0,T instanceof Blob&&(T=Mn(T,T.name||ir(v))),p.fire("load",T instanceof Blob?T:T?T.body:null)},function(T){p.fire("error",typeof T=="string"?{type:"error",code:0,body:T}:T)},function(T,D,y){if(y&&(r.size=y),r.duration=Date.now()-r.timestamp,!T){r.progress=null;return}r.progress=D/y,p.fire("progress",r.progress)},function(){p.fire("abort")},function(T){var D=Uo(typeof T=="string"?T:T.headers);p.fire("meta",{size:r.size||D.size,filename:D.name,source:D.source})})},"loadURL"),p=Object.assign({},ii(),{setSource:i(function(v){return r.source=v},"setSource"),getProgress:o,abort:l,load:c});return p},"createFileLoader"),ts=i(function(t){return/GET|HEAD/.test(t)},"isGet"),un=i(function(t,r,o){var l={onheaders:i(function(){},"onheaders"),onprogress:i(function(){},"onprogress"),onload:i(function(){},"onload"),ontimeout:i(function(){},"ontimeout"),onerror:i(function(){},"onerror"),onabort:i(function(){},"onabort"),abort:i(function(){c=!0,p.abort()},"abort")},c=!1,d=!1;o=Object.assign({method:"POST",headers:{},withCredentials:!1},o),r=encodeURI(r),ts(o.method)&&t&&(r=""+r+encodeURIComponent(typeof t=="string"?t:JSON.stringify(t)));var p=new XMLHttpRequest,m=ts(o.method)?p:p.upload;return m.onprogress=function(v){c||l.onprogress(v.lengthComputable,v.loaded,v.total)},p.onreadystatechange=function(){p.readyState<2||p.readyState===4&&p.status===0||d||(d=!0,l.onheaders(p))},p.onload=function(){p.status>=200&&p.status<300?l.onload(p):l.onerror(p)},p.onerror=function(){return l.onerror(p)},p.onabort=function(){c=!0,l.onabort()},p.ontimeout=function(){return l.ontimeout(p)},p.open(o.method,r,!0),Gt(o.timeout)&&(p.timeout=o.timeout),Object.keys(o.headers).forEach(function(v){var T=unescape(encodeURIComponent(o.headers[v]));p.setRequestHeader(v,T)}),o.responseType&&(p.responseType=o.responseType),o.withCredentials&&(p.withCredentials=!0),p.send(t),l},"sendRequest"),ze=i(function(t,r,o,l){return{type:t,code:r,body:o,headers:l}},"createResponse"),cn=i(function(t){return function(r){t(ze("error",0,"Timeout",r.getAllResponseHeaders()))}},"createTimeoutResponse"),ns=i(function(t){return/\?/.test(t)},"hasQS"),ar=i(function(){for(var t="",r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return o.forEach(function(c){t+=ns(t)&&ns(c)?c.replace(/\?/,"&"):c}),t},"buildURL"),Bo=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;if(typeof r=="function")return r;if(!r||!it(r.url))return null;var o=r.onload||function(c){return c},l=r.onerror||function(c){return null};return function(c,d,p,m,v,T){var D=un(c,ar(t,r.url),Object.assign({},r,{responseType:"blob"}));return D.onload=function(y){var w=y.getAllResponseHeaders(),N=Uo(w).name||ir(c);d(ze("load",y.status,r.method==="HEAD"?null:Mn(o(y.response),N),w))},D.onerror=function(y){p(ze("error",y.status,l(y.response)||y.statusText,y.getAllResponseHeaders()))},D.onheaders=function(y){T(ze("headers",y.status,null,y.getAllResponseHeaders()))},D.ontimeout=cn(p),D.onprogress=m,D.onabort=v,D}},"createFetchFunction"),bt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},uf=i(function(t,r,o,l,c,d,p,m,v,T,D){for(var y=[],w=D.chunkTransferId,N=D.chunkServer,F=D.chunkSize,L=D.chunkRetryDelays,U={serverId:w,aborted:!1},W=r.ondata||function(x){return x},X=r.onload||function(x,O){return O==="HEAD"?x.getResponseHeader("Upload-Offset"):x.response},V=r.onerror||function(x){return null},de=i(function(O){var $=new FormData;$e(c)&&$.append(o,JSON.stringify(c));var le=typeof r.headers=="function"?r.headers(l,c):Object.assign({},r.headers,{"Upload-Length":l.size}),me=Object.assign({},r,{headers:le}),Ie=un(W($),ar(t,r.url),me);Ie.onload=function(Oe){return O(X(Oe,me.method))},Ie.onerror=function(Oe){return p(ze("error",Oe.status,V(Oe.response)||Oe.statusText,Oe.getAllResponseHeaders()))},Ie.ontimeout=cn(p)},"requestTransferId"),k=i(function(O){var $=ar(t,N.url,U.serverId),le=typeof r.headers=="function"?r.headers(U.serverId):Object.assign({},r.headers),me={headers:le,method:"HEAD"},Ie=un(null,$,me);Ie.onload=function(Oe){return O(X(Oe,me.method))},Ie.onerror=function(Oe){return p(ze("error",Oe.status,V(Oe.response)||Oe.statusText,Oe.getAllResponseHeaders()))},Ie.ontimeout=cn(p)},"requestTransferOffset"),Le=Math.floor(l.size/F),Ce=0;Ce<=Le;Ce++){var H=Ce*F,J=l.slice(H,H+F,"application/offset+octet-stream");y[Ce]={index:Ce,size:J.size,offset:H,data:J,file:l,progress:0,retries:ri(L),status:bt.QUEUED,error:null,request:null,timeout:null}}var te=i(function(){return d(U.serverId)},"completeProcessingChunks"),Y=i(function(O){return O.status===bt.QUEUED||O.status===bt.ERROR},"canProcessChunk"),K=i(function(O){if(!U.aborted){if(O=O||y.find(Y),!O){y.every(function(qe){return qe.status===bt.COMPLETE})&&te();return}O.status=bt.PROCESSING,O.progress=null;var $=N.ondata||function(qe){return qe},le=N.onerror||function(qe){return null},me=N.onload||function(){},Ie=ar(t,N.url,U.serverId),Oe=typeof N.headers=="function"?N.headers(O):Object.assign({},N.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":O.offset,"Upload-Length":l.size,"Upload-Name":l.name}),Ge=O.request=un($(O.data),Ie,Object.assign({},N,{headers:Oe}));Ge.onload=function(qe){me(qe,O.index,y.length),O.status=bt.COMPLETE,O.request=null,Re()},Ge.onprogress=function(qe,xn,tl){O.progress=qe?xn:null,we()},Ge.onerror=function(qe){O.status=bt.ERROR,O.request=null,O.error=le(qe.response)||qe.statusText,ne(O)||p(ze("error",qe.status,le(qe.response)||qe.statusText,qe.getAllResponseHeaders()))},Ge.ontimeout=function(qe){O.status=bt.ERROR,O.request=null,ne(O)||cn(p)(qe)},Ge.onabort=function(){O.status=bt.QUEUED,O.request=null,v()}}},"processChunk"),ne=i(function(O){return O.retries.length===0?!1:(O.status=bt.WAITING,clearTimeout(O.timeout),O.timeout=setTimeout(function(){K(O)},O.retries.shift()),!0)},"retryProcessChunk"),we=i(function(){var O=y.reduce(function(le,me){return le===null||me.progress===null?null:le+me.progress},0);if(O===null)return m(!1,0,0);var $=y.reduce(function(le,me){return le+me.size},0);m(!0,O,$)},"updateTotalProgress"),Re=i(function(){var O=y.filter(function($){return $.status===bt.PROCESSING}).length;O>=1||K()},"processChunks"),re=i(function(){y.forEach(function(O){clearTimeout(O.timeout),O.request&&O.request.abort()})},"abortChunks");return U.serverId?k(function(x){U.aborted||(y.filter(function(O){return O.offset<x}).forEach(function(O){O.status=bt.COMPLETE,O.progress=O.size}),Re())}):de(function(x){U.aborted||(T(x),U.serverId=x,Re())}),{abort:i(function(){U.aborted=!0,re()},"abort")}},"processFileChunked"),cf=i(function(t,r,o,l){return function(c,d,p,m,v,T,D){if(c){var y=l.chunkUploads,w=y&&c.size>l.chunkSize,N=y&&(w||l.chunkForce);if(c instanceof Blob&&N)return uf(t,r,o,c,d,p,m,v,T,D,l);var F=r.ondata||function(k){return k},L=r.onload||function(k){return k},U=r.onerror||function(k){return null},W=typeof r.headers=="function"?r.headers(c,d)||{}:Object.assign({},r.headers),X=Object.assign({},r,{headers:W}),V=new FormData;$e(d)&&V.append(o,JSON.stringify(d)),(c instanceof Blob?[{name:null,file:c}]:c).forEach(function(k){V.append(o,k.file,k.name===null?k.file.name:""+k.name+k.file.name)});var de=un(F(V),ar(t,r.url),X);return de.onload=function(k){p(ze("load",k.status,L(k.response),k.getAllResponseHeaders()))},de.onerror=function(k){m(ze("error",k.status,U(k.response)||k.statusText,k.getAllResponseHeaders()))},de.ontimeout=cn(m),de.onprogress=v,de.onabort=T,de}}},"createFileProcessorFunction"),ff=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;return typeof r=="function"?function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return r.apply(void 0,[o].concat(d,[l]))}:!r||!it(r.url)?null:cf(t,r,o,l)},"createProcessorFunction"),sr=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;if(typeof r=="function")return r;if(!r||!it(r.url))return function(c,d){return d()};var o=r.onload||function(c){return c},l=r.onerror||function(c){return null};return function(c,d,p){var m=un(c,t+r.url,r);return m.onload=function(v){d(ze("load",v.status,o(v.response),v.getAllResponseHeaders()))},m.onerror=function(v){p(ze("error",v.status,l(v.response)||v.statusText,v.getAllResponseHeaders()))},m.ontimeout=cn(p),m}},"createRevertFunction"),rs=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t+Math.random()*(r-t)},"getRandomNumber"),df=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:25,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,d=null,p=Date.now(),m=i(function v(){var T=Date.now()-p,D=rs(l,c);T+D>r&&(D=T+D-r);var y=T/r;if(y>=1||document.hidden){t(1);return}t(y),d=setTimeout(v,D)},"tick");return r>0&&m(),{clear:i(function(){clearTimeout(d)},"clear")}},"createPerceivedPerformanceUpdater"),pf=i(function(t,r){var o={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},l=r.allowMinimumUploadDuration,c=i(function(y,w){var N=i(function(){o.duration===0||o.progress===null||T.fire("progress",T.getProgress())},"progressFn"),F=i(function(){o.complete=!0,T.fire("load-perceived",o.response.body)},"completeFn");T.fire("start"),o.timestamp=Date.now(),o.perceivedPerformanceUpdater=df(function(L){o.perceivedProgress=L,o.perceivedDuration=Date.now()-o.timestamp,N(),o.response&&o.perceivedProgress===1&&!o.complete&&F()},l?rs(750,1500):0),o.request=t(y,w,function(L){o.response=$e(L)?L:{type:"load",code:200,body:""+L,headers:{}},o.duration=Date.now()-o.timestamp,o.progress=1,T.fire("load",o.response.body),(!l||l&&o.perceivedProgress===1)&&F()},function(L){o.perceivedPerformanceUpdater.clear(),T.fire("error",$e(L)?L:{type:"error",code:0,body:""+L})},function(L,U,W){o.duration=Date.now()-o.timestamp,o.progress=L?U/W:null,N()},function(){o.perceivedPerformanceUpdater.clear(),T.fire("abort",o.response?o.response.body:null)},function(L){T.fire("transfer",L)})},"process"),d=i(function(){o.request&&(o.perceivedPerformanceUpdater.clear(),o.request.abort&&o.request.abort(),o.complete=!0)},"abort"),p=i(function(){d(),o.complete=!1,o.perceivedProgress=0,o.progress=0,o.timestamp=null,o.perceivedDuration=0,o.duration=0,o.request=null,o.response=null},"reset"),m=l?function(){return o.progress?Math.min(o.progress,o.perceivedProgress):null}:function(){return o.progress||null},v=l?function(){return Math.min(o.duration,o.perceivedDuration)}:function(){return o.duration},T=Object.assign({},ii(),{process:c,abort:d,getProgress:m,getDuration:v,reset:p});return T},"createFileProcessor"),is=i(function(t){return t.substring(0,t.lastIndexOf("."))||t},"getFilenameWithoutExtension"),hf=i(function(t){var r=[t.name,t.size,t.type];return t instanceof Blob||xo(t)?r[0]=t.name||Ja():xo(t)?(r[1]=t.length,r[2]=es(t)):it(t)&&(r[0]=ir(t),r[1]=0,r[2]="application/octet-stream"),{name:r[0],size:r[1],type:r[2]}},"createFileStub"),fn=i(function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},"isFile"),mf=i(function u(t){if(!$e(t))return t;var r=on(t)?[]:{};for(var o in t)if(t.hasOwnProperty(o)){var l=t[o];r[o]=l&&$e(l)?u(l):l}return r},"deepCloneObject"),Ef=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=A(),c={archived:!1,frozen:!1,released:!1,source:null,file:o,serverFileReference:r,transferId:null,processingAborted:!1,status:r?se.PROCESSING_COMPLETE:se.INIT,activeLoader:null,activeProcessor:null},d=null,p={},m=i(function(J){return c.status=J},"setStatus"),v=i(function(J){if(!(c.released||c.frozen)){for(var te=arguments.length,Y=new Array(te>1?te-1:0),K=1;K<te;K++)Y[K-1]=arguments[K];Le.fire.apply(Le,[J].concat(Y))}},"fire"),T=i(function(){return si(c.file.name)},"getFileExtension"),D=i(function(){return c.file.type},"getFileType"),y=i(function(){return c.file.size},"getFileSize"),w=i(function(){return c.file},"getFile"),N=i(function(J,te,Y){if(c.source=J,Le.fireSync("init"),c.file){Le.fireSync("load-skip");return}c.file=hf(J),te.on("init",function(){v("load-init")}),te.on("meta",function(K){c.file.size=K.size,c.file.filename=K.filename,K.source&&(t=et.LIMBO,c.serverFileReference=K.source,c.status=se.PROCESSING_COMPLETE),v("load-meta")}),te.on("progress",function(K){m(se.LOADING),v("load-progress",K)}),te.on("error",function(K){m(se.LOAD_ERROR),v("load-request-error",K)}),te.on("abort",function(){m(se.INIT),v("load-abort")}),te.on("load",function(K){c.activeLoader=null;var ne=i(function(re){c.file=fn(re)?re:c.file,t===et.LIMBO&&c.serverFileReference?m(se.PROCESSING_COMPLETE):m(se.IDLE),v("load")},"success"),we=i(function(re){c.file=K,v("load-meta"),m(se.LOAD_ERROR),v("load-file-error",re)},"error");if(c.serverFileReference){ne(K);return}Y(K,ne,we)}),te.setSource(J),c.activeLoader=te,te.load()},"load"),F=i(function(){c.activeLoader&&c.activeLoader.load()},"retryLoad"),L=i(function(){if(c.activeLoader){c.activeLoader.abort();return}m(se.INIT),v("load-abort")},"abortLoad"),U=i(function H(J,te){if(c.processingAborted){c.processingAborted=!1;return}if(m(se.PROCESSING),d=null,!(c.file instanceof Blob)){Le.on("load",function(){H(J,te)});return}J.on("load",function(ne){c.transferId=null,c.serverFileReference=ne}),J.on("transfer",function(ne){c.transferId=ne}),J.on("load-perceived",function(ne){c.activeProcessor=null,c.transferId=null,c.serverFileReference=ne,m(se.PROCESSING_COMPLETE),v("process-complete",ne)}),J.on("start",function(){v("process-start")}),J.on("error",function(ne){c.activeProcessor=null,m(se.PROCESSING_ERROR),v("process-error",ne)}),J.on("abort",function(ne){c.activeProcessor=null,c.serverFileReference=ne,m(se.IDLE),v("process-abort"),d&&d()}),J.on("progress",function(ne){v("process-progress",ne)});var Y=i(function(we){c.archived||J.process(we,Object.assign({},p))},"success"),K=console.error;te(c.file,Y,K),c.activeProcessor=J},"process"),W=i(function(){c.processingAborted=!1,m(se.PROCESSING_QUEUED)},"requestProcessing"),X=i(function(){return new Promise(function(J){if(!c.activeProcessor){c.processingAborted=!0,m(se.IDLE),v("process-abort"),J();return}d=i(function(){J()},"abortProcessingRequestComplete"),c.activeProcessor.abort()})},"abortProcessing"),V=i(function(J,te){return new Promise(function(Y,K){var ne=c.serverFileReference!==null?c.serverFileReference:c.transferId;if(ne===null){Y();return}J(ne,function(){c.serverFileReference=null,c.transferId=null,Y()},function(we){if(!te){Y();return}m(se.PROCESSING_REVERT_ERROR),v("process-revert-error"),K(we)}),m(se.IDLE),v("process-revert")})},"revert"),de=i(function(J,te,Y){var K=J.split("."),ne=K[0],we=K.pop(),Re=p;K.forEach(function(re){return Re=Re[re]}),JSON.stringify(Re[we])!==JSON.stringify(te)&&(Re[we]=te,v("metadata-update",{key:ne,value:p[ne],silent:Y}))},"setMetadata"),k=i(function(J){return mf(J?p[J]:p)},"getMetadata"),Le=Object.assign({id:{get:i(function(){return l},"get")},origin:{get:i(function(){return t},"get"),set:i(function(J){return t=J},"set")},serverId:{get:i(function(){return c.serverFileReference},"get")},transferId:{get:i(function(){return c.transferId},"get")},status:{get:i(function(){return c.status},"get")},filename:{get:i(function(){return c.file.name},"get")},filenameWithoutExtension:{get:i(function(){return is(c.file.name)},"get")},fileExtension:{get:T},fileType:{get:D},fileSize:{get:y},file:{get:w},relativePath:{get:i(function(){return c.file._relativePath},"get")},source:{get:i(function(){return c.source},"get")},getMetadata:k,setMetadata:i(function(J,te,Y){if($e(J)){var K=J;return Object.keys(K).forEach(function(ne){de(ne,K[ne],te)}),J}return de(J,te,Y),te},"setMetadata"),extend:i(function(J,te){return Ce[J]=te},"extend"),abortLoad:L,retryLoad:F,requestProcessing:W,abortProcessing:X,load:N,process:U,revert:V},ii(),{freeze:i(function(){return c.frozen=!0},"freeze"),release:i(function(){return c.released=!0},"release"),released:{get:i(function(){return c.released},"get")},archive:i(function(){return c.archived=!0},"archive"),archived:{get:i(function(){return c.archived},"get")},setFile:i(function(J){return c.file=J},"setFile")}),Ce=E(Le);return Ce},"createItem"),gf=i(function(t,r){return pt(r)?0:it(r)?t.findIndex(function(o){return o.id===r}):-1},"getItemIndexByQuery"),os=i(function(t,r){var o=gf(t,r);if(!(o<0))return t[o]||null},"getItemById"),as=i(function(t,r,o,l,c,d){var p=un(null,t,{method:"GET",responseType:"blob"});return p.onload=function(m){var v=m.getAllResponseHeaders(),T=Uo(v).name||ir(t);r(ze("load",m.status,Mn(m.response,T),v))},p.onerror=function(m){o(ze("error",m.status,m.statusText,m.getAllResponseHeaders()))},p.onheaders=function(m){d(ze("headers",m.status,null,m.getAllResponseHeaders()))},p.ontimeout=cn(o),p.onprogress=l,p.onabort=c,p},"fetchBlob"),ss=i(function(t){return t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},"getDomainFromURL"),vf=i(function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&ss(location.href)!==ss(t)},"isExternalURL"),li=i(function(t){return function(){return Ut(t)?t.apply(void 0,arguments):t}},"dynamicLabel"),_f=i(function(t){return!fn(t.file)},"isMockItem"),Go=i(function(t,r){clearTimeout(r.listUpdateTimeout),r.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:Nt(r.items)})},0)},"listUpdated"),ls=i(function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return new Promise(function(c){if(!t)return c(!0);var d=t.apply(void 0,o);if(d==null)return c(!0);if(typeof d=="boolean")return c(d);typeof d.then=="function"&&d.then(c)})},"optionalPromise"),Vo=i(function(t,r){t.items.sort(function(o,l){return r(Et(o),Et(l))})},"sortItems"),Ot=i(function(t,r){return function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=o.query,c=o.success,d=c===void 0?function(){}:c,p=o.failure,m=p===void 0?function(){}:p,v=Tc(o,["query","success","failure"]),T=ln(t.items,l);if(!T){m({error:ze("error",0,"Item not found"),file:null});return}r(T,d,m,v||{})}},"getItemByQueryFromState"),Tf=i(function(t,r,o){return{ABORT_ALL:i(function(){Nt(o.items).forEach(function(c){c.freeze(),c.abortLoad(),c.abortProcessing()})},"ABORT_ALL"),DID_SET_FILES:i(function(c){var d=c.value,p=d===void 0?[]:d,m=p.map(function(T){return{source:T.source?T.source:T,options:T.options}}),v=Nt(o.items);v.forEach(function(T){m.find(function(D){return D.source===T.source||D.source===T.file})||t("REMOVE_ITEM",{query:T,remove:!1})}),v=Nt(o.items),m.forEach(function(T,D){v.find(function(y){return y.source===T.source||y.file===T.source})||t("ADD_ITEM",Object.assign({},T,{interactionMethod:_.NONE,index:D}))})},"DID_SET_FILES"),DID_UPDATE_ITEM_METADATA:i(function(c){var d=c.id,p=c.action,m=c.change;m.silent||(clearTimeout(o.itemUpdateTimeout),o.itemUpdateTimeout=setTimeout(function(){var v=os(o.items,d);if(!r("IS_ASYNC")){Mt("SHOULD_PREPARE_OUTPUT",!1,{item:v,query:r,action:p,change:m}).then(function(w){var N=r("GET_BEFORE_PREPARE_FILE");N&&(w=N(v,w)),w&&t("REQUEST_PREPARE_OUTPUT",{query:d,item:v,success:i(function(L){t("DID_PREPARE_OUTPUT",{id:d,file:L})},"success")},!0)});return}v.origin===et.LOCAL&&t("DID_LOAD_ITEM",{id:v.id,error:null,serverFileReference:v.source});var T=i(function(){setTimeout(function(){t("REQUEST_ITEM_PROCESSING",{query:d})},32)},"upload"),D=i(function(N){v.revert(sr(o.options.server.url,o.options.server.revert),r("GET_FORCE_REVERT")).then(N?T:function(){}).catch(function(){})},"revert"),y=i(function(N){v.abortProcessing().then(N?T:function(){})},"abort");if(v.status===se.PROCESSING_COMPLETE)return D(o.options.instantUpload);if(v.status===se.PROCESSING)return y(o.options.instantUpload);o.options.instantUpload&&T()},0))},"DID_UPDATE_ITEM_METADATA"),MOVE_ITEM:i(function(c){var d=c.query,p=c.index,m=ln(o.items,d);if(m){var v=o.items.indexOf(m);p=Qa(p,0,o.items.length-1),v!==p&&o.items.splice(p,0,o.items.splice(v,1)[0])}},"MOVE_ITEM"),SORT:i(function(c){var d=c.compare;Vo(o,d),t("DID_SORT_ITEMS",{items:r("GET_ACTIVE_ITEMS")})},"SORT"),ADD_ITEMS:i(function(c){var d=c.items,p=c.index,m=c.interactionMethod,v=c.success,T=v===void 0?function(){}:v,D=c.failure,y=D===void 0?function(){}:D,w=p;if(p===-1||typeof p>"u"){var N=r("GET_ITEM_INSERT_LOCATION"),F=r("GET_TOTAL_ITEMS");w=N==="before"?0:F}var L=r("GET_IGNORED_FILES"),U=i(function(de){return fn(de)?!L.includes(de.name.toLowerCase()):!pt(de)},"isValidFile"),W=d.filter(U),X=W.map(function(V){return new Promise(function(de,k){t("ADD_ITEM",{interactionMethod:m,source:V.source||V,success:de,failure:k,index:w++,options:V.options||{}})})});Promise.all(X).then(T).catch(y)},"ADD_ITEMS"),ADD_ITEM:i(function(c){var d=c.source,p=c.index,m=p===void 0?-1:p,v=c.interactionMethod,T=c.success,D=T===void 0?function(){}:T,y=c.failure,w=y===void 0?function(){}:y,N=c.options,F=N===void 0?{}:N;if(pt(d)){w({error:ze("error",0,"No source"),file:null});return}if(!(fn(d)&&o.options.ignoredFiles.includes(d.name.toLowerCase()))){if(!Kc(o)){if(o.options.allowMultiple||!o.options.allowMultiple&&!o.options.allowReplace){var L=ze("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:d,error:L}),w({error:L,file:null});return}var U=Nt(o.items)[0];if(U.status===se.PROCESSING_COMPLETE||U.status===se.PROCESSING_REVERT_ERROR){var W=r("GET_FORCE_REVERT");if(U.revert(sr(o.options.server.url,o.options.server.revert),W).then(function(){W&&t("ADD_ITEM",{source:d,index:m,interactionMethod:v,success:D,failure:w,options:F})}).catch(function(){}),W)return}t("REMOVE_ITEM",{query:U.id})}var X=F.type==="local"?et.LOCAL:F.type==="limbo"?et.LIMBO:et.INPUT,V=Ef(X,X===et.INPUT?null:d,F.file);Object.keys(F.metadata||{}).forEach(function(Y){V.setMetadata(Y,F.metadata[Y])}),sn("DID_CREATE_ITEM",V,{query:r,dispatch:t});var de=r("GET_ITEM_INSERT_LOCATION");o.options.itemInsertLocationFreedom||(m=de==="before"?-1:o.items.length),Xc(o.items,V,m),Ut(de)&&d&&Vo(o,de);var k=V.id;V.on("init",function(){t("DID_INIT_ITEM",{id:k})}),V.on("load-init",function(){t("DID_START_ITEM_LOAD",{id:k})}),V.on("load-meta",function(){t("DID_UPDATE_ITEM_META",{id:k})}),V.on("load-progress",function(Y){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:k,progress:Y})}),V.on("load-request-error",function(Y){var K=li(o.options.labelFileLoadError)(Y);if(Y.code>=400&&Y.code<500){t("DID_THROW_ITEM_INVALID",{id:k,error:Y,status:{main:K,sub:Y.code+" ("+Y.body+")"}}),w({error:Y,file:Et(V)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:k,error:Y,status:{main:K,sub:o.options.labelTapToRetry}})}),V.on("load-file-error",function(Y){t("DID_THROW_ITEM_INVALID",{id:k,error:Y.status,status:Y.status}),w({error:Y.status,file:Et(V)})}),V.on("load-abort",function(){t("REMOVE_ITEM",{query:k})}),V.on("load-skip",function(){V.on("metadata-update",function(Y){fn(V.file)&&t("DID_UPDATE_ITEM_METADATA",{id:k,change:Y})}),t("COMPLETE_LOAD_ITEM",{query:k,item:V,data:{source:d,success:D}})}),V.on("load",function(){var Y=i(function(ne){if(!ne){t("REMOVE_ITEM",{query:k});return}V.on("metadata-update",function(we){t("DID_UPDATE_ITEM_METADATA",{id:k,change:we})}),Mt("SHOULD_PREPARE_OUTPUT",!1,{item:V,query:r}).then(function(we){var Re=r("GET_BEFORE_PREPARE_FILE");Re&&(we=Re(V,we));var re=i(function(){t("COMPLETE_LOAD_ITEM",{query:k,item:V,data:{source:d,success:D}}),Go(t,o)},"loadComplete");if(we){t("REQUEST_PREPARE_OUTPUT",{query:k,item:V,success:i(function(O){t("DID_PREPARE_OUTPUT",{id:k,file:O}),re()},"success")},!0);return}re()})},"handleAdd");Mt("DID_LOAD_ITEM",V,{query:r,dispatch:t}).then(function(){ls(r("GET_BEFORE_ADD_FILE"),Et(V)).then(Y)}).catch(function(K){if(!K||!K.error||!K.status)return Y(!1);t("DID_THROW_ITEM_INVALID",{id:k,error:K.error,status:K.status})})}),V.on("process-start",function(){t("DID_START_ITEM_PROCESSING",{id:k})}),V.on("process-progress",function(Y){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:k,progress:Y})}),V.on("process-error",function(Y){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:k,error:Y,status:{main:li(o.options.labelFileProcessingError)(Y),sub:o.options.labelTapToRetry}})}),V.on("process-revert-error",function(Y){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:k,error:Y,status:{main:li(o.options.labelFileProcessingRevertError)(Y),sub:o.options.labelTapToRetry}})}),V.on("process-complete",function(Y){t("DID_COMPLETE_ITEM_PROCESSING",{id:k,error:null,serverFileReference:Y}),t("DID_DEFINE_VALUE",{id:k,value:Y})}),V.on("process-abort",function(){t("DID_ABORT_ITEM_PROCESSING",{id:k})}),V.on("process-revert",function(){t("DID_REVERT_ITEM_PROCESSING",{id:k}),t("DID_DEFINE_VALUE",{id:k,value:null})}),t("DID_ADD_ITEM",{id:k,index:m,interactionMethod:v}),Go(t,o);var Le=o.options.server||{},Ce=Le.url,H=Le.load,J=Le.restore,te=Le.fetch;V.load(d,lf(X===et.INPUT?it(d)&&vf(d)&&te?Bo(Ce,te):as:X===et.LIMBO?Bo(Ce,J):Bo(Ce,H)),function(Y,K,ne){Mt("LOAD_FILE",Y,{query:r}).then(K).catch(ne)})}},"ADD_ITEM"),REQUEST_PREPARE_OUTPUT:i(function(c){var d=c.item,p=c.success,m=c.failure,v=m===void 0?function(){}:m,T={error:ze("error",0,"Item not found"),file:null};if(d.archived)return v(T);Mt("PREPARE_OUTPUT",d.file,{query:r,item:d}).then(function(D){Mt("COMPLETE_PREPARE_OUTPUT",D,{query:r,item:d}).then(function(y){if(d.archived)return v(T);p(y)})})},"REQUEST_PREPARE_OUTPUT"),COMPLETE_LOAD_ITEM:i(function(c){var d=c.item,p=c.data,m=p.success,v=p.source,T=r("GET_ITEM_INSERT_LOCATION");if(Ut(T)&&v&&Vo(o,T),t("DID_LOAD_ITEM",{id:d.id,error:null,serverFileReference:d.origin===et.INPUT?null:v}),m(Et(d)),d.origin===et.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:d.id});return}if(d.origin===et.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:d.id,error:null,serverFileReference:v}),t("DID_DEFINE_VALUE",{id:d.id,value:d.serverId||v});return}r("IS_ASYNC")&&o.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:d.id})},"COMPLETE_LOAD_ITEM"),RETRY_ITEM_LOAD:Ot(o,function(l){l.retryLoad()}),REQUEST_ITEM_PREPARE:Ot(o,function(l,c,d){t("REQUEST_PREPARE_OUTPUT",{query:l.id,item:l,success:i(function(m){t("DID_PREPARE_OUTPUT",{id:l.id,file:m}),c({file:l,output:m})},"success"),failure:d},!0)}),REQUEST_ITEM_PROCESSING:Ot(o,function(l,c,d){var p=l.status===se.IDLE||l.status===se.PROCESSING_ERROR;if(!p){var m=i(function(){return t("REQUEST_ITEM_PROCESSING",{query:l,success:c,failure:d})},"processNow"),v=i(function(){return document.hidden?m():setTimeout(m,32)},"process");l.status===se.PROCESSING_COMPLETE||l.status===se.PROCESSING_REVERT_ERROR?l.revert(sr(o.options.server.url,o.options.server.revert),r("GET_FORCE_REVERT")).then(v).catch(function(){}):l.status===se.PROCESSING&&l.abortProcessing().then(v);return}l.status!==se.PROCESSING_QUEUED&&(l.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:l.id}),t("PROCESS_ITEM",{query:l,success:c,failure:d},!0))}),PROCESS_ITEM:Ot(o,function(l,c,d){var p=r("GET_MAX_PARALLEL_UPLOADS"),m=r("GET_ITEMS_BY_STATUS",se.PROCESSING).length;if(m===p){o.processingQueue.push({id:l.id,success:c,failure:d});return}if(l.status!==se.PROCESSING){var v=i(function D(){var y=o.processingQueue.shift();if(y){var w=y.id,N=y.success,F=y.failure,L=ln(o.items,w);if(!L||L.archived){D();return}t("PROCESS_ITEM",{query:w,success:N,failure:F},!0)}},"processNext");l.onOnce("process-complete",function(){c(Et(l)),v();var D=o.options.server,y=o.options.instantUpload;if(y&&l.origin===et.LOCAL&&Ut(D.remove)){var w=i(function(){},"noop");l.origin=et.LIMBO,o.options.server.remove(l.source,w,w)}var N=r("GET_ITEMS_BY_STATUS",se.PROCESSING_COMPLETE).length===o.items.length;N&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),l.onOnce("process-error",function(D){d({error:D,file:Et(l)}),v()});var T=o.options;l.process(pf(ff(T.server.url,T.server.process,T.name,{chunkTransferId:l.transferId,chunkServer:T.server.patch,chunkUploads:T.chunkUploads,chunkForce:T.chunkForce,chunkSize:T.chunkSize,chunkRetryDelays:T.chunkRetryDelays}),{allowMinimumUploadDuration:r("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(D,y,w){Mt("PREPARE_OUTPUT",D,{query:r,item:l}).then(function(N){t("DID_PREPARE_OUTPUT",{id:l.id,file:N}),y(N)}).catch(w)})}}),RETRY_ITEM_PROCESSING:Ot(o,function(l){t("REQUEST_ITEM_PROCESSING",{query:l})}),REQUEST_REMOVE_ITEM:Ot(o,function(l){ls(r("GET_BEFORE_REMOVE_FILE"),Et(l)).then(function(c){c&&t("REMOVE_ITEM",{query:l})})}),RELEASE_ITEM:Ot(o,function(l){l.release()}),REMOVE_ITEM:Ot(o,function(l,c,d,p){var m=i(function(){var D=l.id;os(o.items,D).archive(),t("DID_REMOVE_ITEM",{error:null,id:D,item:l}),Go(t,o),c(Et(l))},"removeFromView"),v=o.options.server;l.origin===et.LOCAL&&v&&Ut(v.remove)&&p.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:l.id}),v.remove(l.source,function(){return m()},function(T){t("DID_THROW_ITEM_REMOVE_ERROR",{id:l.id,error:ze("error",0,T,null),status:{main:li(o.options.labelFileRemoveError)(T),sub:o.options.labelTapToRetry}})})):((p.revert&&l.origin!==et.LOCAL&&l.serverId!==null||o.options.chunkUploads&&l.file.size>o.options.chunkSize||o.options.chunkUploads&&o.options.chunkForce)&&l.revert(sr(o.options.server.url,o.options.server.revert),r("GET_FORCE_REVERT")),m())}),ABORT_ITEM_LOAD:Ot(o,function(l){l.abortLoad()}),ABORT_ITEM_PROCESSING:Ot(o,function(l){if(l.serverId){t("REVERT_ITEM_PROCESSING",{id:l.id});return}l.abortProcessing().then(function(){var c=o.options.instantUpload;c&&t("REMOVE_ITEM",{query:l.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ot(o,function(l){if(!o.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:l});return}var c=i(function(v){v&&t("REVERT_ITEM_PROCESSING",{query:l})},"handleRevert"),d=r("GET_BEFORE_REMOVE_FILE");if(!d)return c(!0);var p=d(Et(l));if(p==null)return c(!0);if(typeof p=="boolean")return c(p);typeof p.then=="function"&&p.then(c)}),REVERT_ITEM_PROCESSING:Ot(o,function(l){l.revert(sr(o.options.server.url,o.options.server.revert),r("GET_FORCE_REVERT")).then(function(){var c=o.options.instantUpload||_f(l);c&&t("REMOVE_ITEM",{query:l.id})}).catch(function(){})}),SET_OPTIONS:i(function(c){var d=c.options,p=Object.keys(d),m=If.filter(function(T){return p.includes(T)}),v=[].concat(ri(m),ri(Object.keys(d).filter(function(T){return!m.includes(T)})));v.forEach(function(T){t("SET_"+ht(T,"_").toUpperCase(),{value:d[T]})})},"SET_OPTIONS")}},"actions"),If=["server"],ko=i(function(t){return t},"formatFilename"),kt=i(function(t){return document.createElement(t)},"createElement"),We=i(function(t,r){var o=t.childNodes[0];o?r!==o.nodeValue&&(o.nodeValue=r):(o=document.createTextNode(r),t.appendChild(o))},"text"),us=i(function(t,r,o,l){var c=(l%360-90)*Math.PI/180;return{x:t+o*Math.cos(c),y:r+o*Math.sin(c)}},"polarToCartesian"),Df=i(function(t,r,o,l,c,d){var p=us(t,r,o,c),m=us(t,r,o,l);return["M",p.x,p.y,"A",o,o,0,d,0,m.x,m.y].join(" ")},"describeArc"),yf=i(function(t,r,o,l,c){var d=1;return c>l&&c-l<=.5&&(d=0),l>c&&l-c>=.5&&(d=0),Df(t,r,o,Math.min(.9999,l)*360,Math.min(.9999,c)*360,d)},"percentageArc"),Af=i(function(t){var r=t.root,o=t.props;o.spin=!1,o.progress=0,o.opacity=0;var l=C("svg");r.ref.path=C("path",{"stroke-width":2,"stroke-linecap":"round"}),l.appendChild(r.ref.path),r.ref.svg=l,r.appendChild(l)},"create"),bf=i(function(t){var r=t.root,o=t.props;if(o.opacity!==0){o.align&&(r.element.dataset.align=o.align);var l=parseInt(h(r.ref.path,"stroke-width"),10),c=r.rect.element.width*.5,d=0,p=0;o.spin?(d=0,p=.5):(d=0,p=o.progress);var m=yf(c,c,c-l,d,p);h(r.ref.path,"d",m),h(r.ref.path,"stroke-opacity",o.spin||o.progress>0?1:0)}},"write"),cs=Be({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Af,write:bf,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Of=i(function(t){var r=t.root,o=t.props;r.element.innerHTML=(o.icon||"")+("<span>"+o.label+"</span>"),o.isDisabled=!1},"create"),Sf=i(function(t){var r=t.root,o=t.props,l=o.isDisabled,c=r.query("GET_DISABLED")||o.opacity===0;c&&!l?(o.isDisabled=!0,h(r.element,"disabled","disabled")):!c&&l&&(o.isDisabled=!1,r.element.removeAttribute("disabled"))},"write"),fs=Be({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Of,write:Sf}),ds=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=l.labelBytes,d=c===void 0?"bytes":c,p=l.labelKilobytes,m=p===void 0?"KB":p,v=l.labelMegabytes,T=v===void 0?"MB":v,D=l.labelGigabytes,y=D===void 0?"GB":D;t=Math.round(Math.abs(t));var w=o,N=o*o,F=o*o*o;return t<w?t+" "+d:t<N?Math.floor(t/w)+" "+m:t<F?ps(t/N,1,r)+" "+T:ps(t/F,2,r)+" "+y},"toNaturalFileSize"),ps=i(function(t,r,o){return t.toFixed(r).split(".").filter(function(l){return l!=="0"}).join(o)},"removeDecimalsWhenZero"),Rf=i(function(t){var r=t.root,o=t.props,l=kt("span");l.className="filepond--file-info-main",h(l,"aria-hidden","true"),r.appendChild(l),r.ref.fileName=l;var c=kt("span");c.className="filepond--file-info-sub",r.appendChild(c),r.ref.fileSize=c,We(c,r.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),We(l,ko(r.query("GET_ITEM_NAME",o.id)))},"create"),Yo=i(function(t){var r=t.root,o=t.props;We(r.ref.fileSize,ds(r.query("GET_ITEM_SIZE",o.id),".",r.query("GET_FILE_SIZE_BASE"),r.query("GET_FILE_SIZE_LABELS",r.query))),We(r.ref.fileName,ko(r.query("GET_ITEM_NAME",o.id)))},"updateFile"),hs=i(function(t){var r=t.root,o=t.props;if(Gt(r.query("GET_ITEM_SIZE",o.id))){Yo({root:r,props:o});return}We(r.ref.fileSize,r.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},"updateFileSizeOnError"),Lf=Be({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ye({DID_LOAD_ITEM:Yo,DID_UPDATE_ITEM_META:Yo,DID_THROW_ITEM_LOAD_ERROR:hs,DID_THROW_ITEM_INVALID:hs}),didCreateView:i(function(t){sn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),create:Rf,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),ms=i(function(t){return Math.round(t*100)},"toPercentage"),Cf=i(function(t){var r=t.root,o=kt("span");o.className="filepond--file-status-main",r.appendChild(o),r.ref.main=o;var l=kt("span");l.className="filepond--file-status-sub",r.appendChild(l),r.ref.sub=l,Es({root:r,action:{progress:null}})},"create"),Es=i(function(t){var r=t.root,o=t.action,l=o.progress===null?r.query("GET_LABEL_FILE_LOADING"):r.query("GET_LABEL_FILE_LOADING")+" "+ms(o.progress)+"%";We(r.ref.main,l),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemLoadProgress"),wf=i(function(t){var r=t.root,o=t.action,l=o.progress===null?r.query("GET_LABEL_FILE_PROCESSING"):r.query("GET_LABEL_FILE_PROCESSING")+" "+ms(o.progress)+"%";We(r.ref.main,l),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},"didSetItemProcessProgress"),Pf=i(function(t){var r=t.root;We(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING")),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},"didRequestItemProcessing"),Mf=i(function(t){var r=t.root;We(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_ABORTED")),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_RETRY"))},"didAbortItemProcessing"),Nf=i(function(t){var r=t.root;We(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),We(r.ref.sub,r.query("GET_LABEL_TAP_TO_UNDO"))},"didCompleteItemProcessing"),gs=i(function(t){var r=t.root;We(r.ref.main,""),We(r.ref.sub,"")},"clear"),lr=i(function(t){var r=t.root,o=t.action;We(r.ref.main,o.status.main),We(r.ref.sub,o.status.sub)},"error"),Ff=Be({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ye({DID_LOAD_ITEM:gs,DID_REVERT_ITEM_PROCESSING:gs,DID_REQUEST_ITEM_PROCESSING:Pf,DID_ABORT_ITEM_PROCESSING:Mf,DID_COMPLETE_ITEM_PROCESSING:Nf,DID_UPDATE_ITEM_PROCESS_PROGRESS:wf,DID_UPDATE_ITEM_LOAD_PROGRESS:Es,DID_THROW_ITEM_LOAD_ERROR:lr,DID_THROW_ITEM_INVALID:lr,DID_THROW_ITEM_PROCESSING_ERROR:lr,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:lr,DID_THROW_ITEM_REMOVE_ERROR:lr}),didCreateView:i(function(t){sn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),create:Cf,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ho={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},qo=[];f(Ho,function(u){qo.push(u)});var yt=i(function(t){if(jo(t)==="right")return 0;var r=t.ref.buttonRemoveItem.rect.element;return r.hidden?null:r.width+r.left},"calculateFileInfoOffset"),xf=i(function(t){var r=t.ref.buttonAbortItemLoad.rect.element;return r.width},"calculateButtonWidth"),ui=i(function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},"calculateFileVerticalCenterOffset"),Uf=i(function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},"calculateFileHorizontalCenterOffset"),Bf=i(function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")},"getLoadIndicatorAlignment"),Gf=i(function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},"getProcessIndicatorAlignment"),jo=i(function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},"getRemoveIndicatorAligment"),Vf={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Bf},processProgressIndicator:{opacity:0,align:Gf},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},vs={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:yt},status:{translateX:yt}},zo={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Nn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:yt},status:{translateX:yt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:yt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:jo},info:{translateX:yt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:jo},buttonRemoveItem:{opacity:1},info:{translateX:yt},status:{opacity:1,translateX:yt}},DID_LOAD_ITEM:vs,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:yt},status:{translateX:yt}},DID_START_ITEM_PROCESSING:zo,DID_REQUEST_ITEM_PROCESSING:zo,DID_UPDATE_ITEM_PROCESS_PROGRESS:zo,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:yt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:yt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:vs},kf=Be({create:i(function(t){var r=t.root;r.element.innerHTML=r.query("GET_ICON_DONE")},"create"),name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Yf=i(function(t){var r=t.root,o=t.props,l=Object.keys(Ho).reduce(function(W,X){return W[X]=Object.assign({},Ho[X]),W},{}),c=o.id,d=r.query("GET_ALLOW_REVERT"),p=r.query("GET_ALLOW_REMOVE"),m=r.query("GET_ALLOW_PROCESS"),v=r.query("GET_INSTANT_UPLOAD"),T=r.query("IS_ASYNC"),D=r.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),y;T?m&&!d?y=i(function(X){return!/RevertItemProcessing/.test(X)},"buttonFilter"):!m&&d?y=i(function(X){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(X)},"buttonFilter"):!m&&!d&&(y=i(function(X){return!/Process/.test(X)},"buttonFilter")):y=i(function(X){return!/Process/.test(X)},"buttonFilter");var w=y?qo.filter(y):qo.concat();if(v&&d&&(l.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",l.RevertItemProcessing.icon="GET_ICON_REMOVE"),T&&!d){var N=Nn.DID_COMPLETE_ITEM_PROCESSING;N.info.translateX=Uf,N.info.translateY=ui,N.status.translateY=ui,N.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(T&&!m&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(W){Nn[W].status.translateY=ui}),Nn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=xf),D&&d){l.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var F=Nn.DID_COMPLETE_ITEM_PROCESSING;F.info.translateX=yt,F.status.translateY=ui,F.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}p||(l.RemoveItem.disabled=!0),f(l,function(W,X){var V=r.createChildView(fs,{label:r.query(X.label),icon:r.query(X.icon),opacity:0});w.includes(W)&&r.appendChildView(V),X.disabled&&(V.element.setAttribute("disabled","disabled"),V.element.setAttribute("hidden","hidden")),V.element.dataset.align=r.query("GET_STYLE_"+X.align),V.element.classList.add(X.className),V.on("click",function(de){de.stopPropagation(),!X.disabled&&r.dispatch(X.action,{query:c})}),r.ref["button"+W]=V}),r.ref.processingCompleteIndicator=r.appendChildView(r.createChildView(kf)),r.ref.processingCompleteIndicator.element.dataset.align=r.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),r.ref.info=r.appendChildView(r.createChildView(Lf,{id:c})),r.ref.status=r.appendChildView(r.createChildView(Ff,{id:c}));var L=r.appendChildView(r.createChildView(cs,{opacity:0,align:r.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));L.element.classList.add("filepond--load-indicator"),r.ref.loadProgressIndicator=L;var U=r.appendChildView(r.createChildView(cs,{opacity:0,align:r.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));U.element.classList.add("filepond--process-indicator"),r.ref.processProgressIndicator=U,r.ref.activeStyles=[]},"create"),Hf=i(function(t){var r=t.root,o=t.actions,l=t.props;qf({root:r,actions:o,props:l});var c=o.concat().filter(function(p){return/^DID_/.test(p.type)}).reverse().find(function(p){return Nn[p.type]});if(c){r.ref.activeStyles=[];var d=Nn[c.type];f(Vf,function(p,m){var v=r.ref[p];f(m,function(T,D){var y=d[p]&&typeof d[p][T]<"u"?d[p][T]:D;r.ref.activeStyles.push({control:v,key:T,value:y})})})}r.ref.activeStyles.forEach(function(p){var m=p.control,v=p.key,T=p.value;m[v]=typeof T=="function"?T(r):T})},"write"),qf=Ye({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:i(function(t){var r=t.root,o=t.action;r.ref.buttonAbortItemProcessing.label=o.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING"),DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:i(function(t){var r=t.root,o=t.action;r.ref.buttonAbortItemLoad.label=o.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD"),DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:i(function(t){var r=t.root,o=t.action;r.ref.buttonAbortItemRemoval.label=o.value},"DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL"),DID_REQUEST_ITEM_PROCESSING:i(function(t){var r=t.root;r.ref.processProgressIndicator.spin=!0,r.ref.processProgressIndicator.progress=0},"DID_REQUEST_ITEM_PROCESSING"),DID_START_ITEM_LOAD:i(function(t){var r=t.root;r.ref.loadProgressIndicator.spin=!0,r.ref.loadProgressIndicator.progress=0},"DID_START_ITEM_LOAD"),DID_START_ITEM_REMOVE:i(function(t){var r=t.root;r.ref.processProgressIndicator.spin=!0,r.ref.processProgressIndicator.progress=0},"DID_START_ITEM_REMOVE"),DID_UPDATE_ITEM_LOAD_PROGRESS:i(function(t){var r=t.root,o=t.action;r.ref.loadProgressIndicator.spin=!1,r.ref.loadProgressIndicator.progress=o.progress},"DID_UPDATE_ITEM_LOAD_PROGRESS"),DID_UPDATE_ITEM_PROCESS_PROGRESS:i(function(t){var r=t.root,o=t.action;r.ref.processProgressIndicator.spin=!1,r.ref.processProgressIndicator.progress=o.progress},"DID_UPDATE_ITEM_PROCESS_PROGRESS")}),jf=Be({create:Yf,write:Hf,didCreateView:i(function(t){sn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),name:"file"}),zf=i(function(t){var r=t.root,o=t.props;r.ref.fileName=kt("legend"),r.appendChild(r.ref.fileName),r.ref.file=r.appendChildView(r.createChildView(jf,{id:o.id})),r.ref.data=!1},"create"),Wf=i(function(t){var r=t.root,o=t.props;We(r.ref.fileName,ko(r.query("GET_ITEM_NAME",o.id)))},"didLoadItem"),Kf=Be({create:zf,ignoreRect:!0,write:Ye({DID_LOAD_ITEM:Wf}),didCreateView:i(function(t){sn("CREATE_VIEW",Object.assign({},t,{view:t}))},"didCreateView"),tag:"fieldset",name:"file-wrapper"}),_s={type:"spring",damping:.6,mass:7},$f=i(function(t){var r=t.root,o=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:_s},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:_s},styles:["translateY"]}}].forEach(function(l){Xf(r,l,o.name)}),r.element.classList.add("filepond--"+o.name),r.ref.scalable=null},"create"),Xf=i(function(t,r,o){var l=Be({name:"panel-"+r.name+" filepond--"+o,mixins:r.mixins,ignoreRectUpdate:!0}),c=t.createChildView(l,r.props);t.ref[r.name]=t.appendChildView(c)},"createSection"),Qf=i(function(t){var r=t.root,o=t.props;if((r.ref.scalable===null||o.scalable!==r.ref.scalable)&&(r.ref.scalable=jr(o.scalable)?o.scalable:!0,r.element.dataset.scalable=r.ref.scalable),!!o.height){var l=r.ref.top.rect.element,c=r.ref.bottom.rect.element,d=Math.max(l.height+c.height,o.height);r.ref.center.translateY=l.height,r.ref.center.scaleY=(d-l.height-c.height)/100,r.ref.bottom.translateY=d-c.height}},"write"),Ts=Be({name:"panel",read:i(function(t){var r=t.root,o=t.props;return o.heightCurrent=r.ref.bottom.translateY},"read"),write:Qf,create:$f,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Jf=i(function(t){var r=t.map(function(l){return l.id}),o=void 0;return{setIndex:i(function(c){o=c},"setIndex"),getIndex:i(function(){return o},"getIndex"),getItemIndex:i(function(c){return r.indexOf(c.id)},"getItemIndex")}},"createDragHelper"),Is={type:"spring",stiffness:.75,damping:.45,mass:10},Ds="spring",ys={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Zf=i(function(t){var r=t.root,o=t.props;if(r.ref.handleClick=function(c){return r.dispatch("DID_ACTIVATE_ITEM",{id:o.id})},r.element.id="filepond--item-"+o.id,r.element.addEventListener("click",r.ref.handleClick),r.ref.container=r.appendChildView(r.createChildView(Kf,{id:o.id})),r.ref.panel=r.appendChildView(r.createChildView(Ts,{name:"item-panel"})),r.ref.panel.height=null,o.markedForRemoval=!1,!!r.query("GET_ALLOW_REORDER")){r.element.dataset.dragState="idle";var l=i(function(d){if(d.isPrimary){var p=!1,m={x:d.pageX,y:d.pageY};o.dragOrigin={x:r.translateX,y:r.translateY},o.dragCenter={x:d.offsetX,y:d.offsetY};var v=Jf(r.query("GET_ACTIVE_ITEMS"));r.dispatch("DID_GRAB_ITEM",{id:o.id,dragState:v});var T=i(function(F){if(F.isPrimary){F.stopPropagation(),F.preventDefault(),o.dragOffset={x:F.pageX-m.x,y:F.pageY-m.y};var L=o.dragOffset.x*o.dragOffset.x+o.dragOffset.y*o.dragOffset.y;L>16&&!p&&(p=!0,r.element.removeEventListener("click",r.ref.handleClick)),r.dispatch("DID_DRAG_ITEM",{id:o.id,dragState:v})}},"drag"),D=i(function(F){F.isPrimary&&(o.dragOffset={x:F.pageX-m.x,y:F.pageY-m.y},w())},"drop"),y=i(function(){w()},"cancel"),w=i(function(){document.removeEventListener("pointercancel",y),document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",D),r.dispatch("DID_DROP_ITEM",{id:o.id,dragState:v}),p&&setTimeout(function(){return r.element.addEventListener("click",r.ref.handleClick)},0)},"reset");document.addEventListener("pointercancel",y),document.addEventListener("pointermove",T),document.addEventListener("pointerup",D)}},"grab");r.element.addEventListener("pointerdown",l)}},"create"),ed=Ye({DID_UPDATE_PANEL_HEIGHT:i(function(t){var r=t.root,o=t.action;r.height=o.height},"DID_UPDATE_PANEL_HEIGHT")}),td=Ye({DID_GRAB_ITEM:i(function(t){var r=t.root,o=t.props;o.dragOrigin={x:r.translateX,y:r.translateY}},"DID_GRAB_ITEM"),DID_DRAG_ITEM:i(function(t){var r=t.root;r.element.dataset.dragState="drag"},"DID_DRAG_ITEM"),DID_DROP_ITEM:i(function(t){var r=t.root,o=t.props;o.dragOffset=null,o.dragOrigin=null,r.element.dataset.dragState="drop"},"DID_DROP_ITEM")},function(u){var t=u.root,r=u.actions,o=u.props,l=u.shouldOptimize;t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var c=r.concat().filter(function(p){return/^DID_/.test(p.type)}).reverse().find(function(p){return ys[p.type]});c&&c.type!==o.currentState&&(o.currentState=c.type,t.element.dataset.filepondItemState=ys[o.currentState]||"");var d=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");d?l||(t.height=t.rect.element.width*d):(ed({root:t,actions:r,props:o}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),l&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),nd=Be({create:Zf,write:td,destroy:i(function(t){var r=t.root,o=t.props;r.element.removeEventListener("click",r.ref.handleClick),r.dispatch("RELEASE_ITEM",{query:o.id})},"destroy"),tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Ds,scaleY:Ds,translateX:Is,translateY:Is,opacity:{type:"tween",duration:150}}}}),Wo=i(function(u,t){return Math.max(1,Math.floor((u+1)/t))},"getItemsPerRow"),Ko=i(function(t,r,o){if(o){var l=t.rect.element.width,c=r.length,d=null;if(c===0||o.top<r[0].rect.element.top)return-1;var p=r[0],m=p.rect.element,v=m.marginLeft+m.marginRight,T=m.width+v,D=Wo(l,T);if(D===1){for(var y=0;y<c;y++){var w=r[y],N=w.rect.outer.top+w.rect.element.height*.5;if(o.top<N)return y}return c}for(var F=m.marginTop+m.marginBottom,L=m.height+F,U=0;U<c;U++){var W=U%D,X=Math.floor(U/D),V=W*T,de=X*L,k=de-m.marginTop,Le=V+T,Ce=de+L+m.marginBottom;if(o.top<Ce&&o.top>k){if(o.left<Le)return U;U!==c-1?d=U:d=null}}return d!==null?d:c}},"getItemIndexByPosition"),ci={height:0,width:0,get getHeight(){return this.height},set setHeight(u){(this.height===0||u===0)&&(this.height=u)},get getWidth(){return this.width},set setWidth(u){(this.width===0||u===0)&&(this.width=u)},setDimensions:i(function(t,r){(this.height===0||t===0)&&(this.height=t),(this.width===0||r===0)&&(this.width=r)},"setDimensions")},rd=i(function(t){var r=t.root;h(r.element,"role","list"),r.ref.lastItemSpanwDate=Date.now()},"create"),id=i(function(t){var r=t.root,o=t.action,l=o.id,c=o.index,d=o.interactionMethod;r.ref.addIndex=c;var p=Date.now(),m=p,v=1;if(d!==_.NONE){v=0;var T=r.query("GET_ITEM_INSERT_INTERVAL"),D=p-r.ref.lastItemSpanwDate;m=D<T?p+(T-D):p}r.ref.lastItemSpanwDate=m,r.appendChildView(r.createChildView(nd,{spawnDate:m,id:l,opacity:v,interactionMethod:d}),c)},"addItemView"),As=i(function(t,r,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=r,t.translateY=o,Date.now()>t.spawnDate&&(t.opacity===0&&od(t,r,o,l,c),t.scaleX=1,t.scaleY=1,t.opacity=1))},"moveItem"),od=i(function(t,r,o,l,c){t.interactionMethod===_.NONE?(t.translateX=null,t.translateX=r,t.translateY=null,t.translateY=o):t.interactionMethod===_.DROP?(t.translateX=null,t.translateX=r-l*20,t.translateY=null,t.translateY=o-c*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===_.BROWSE?(t.translateY=null,t.translateY=o-30):t.interactionMethod===_.API&&(t.translateX=null,t.translateX=r-30,t.translateY=null)},"introItemView"),ad=i(function(t){var r=t.root,o=t.action,l=o.id,c=r.childViews.find(function(d){return d.id===l});c&&(c.scaleX=.9,c.scaleY=.9,c.opacity=0,c.markedForRemoval=!0)},"removeItemView"),$o=i(function(t){return t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5},"getItemHeight"),sd=i(function(t){return t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5},"getItemWidth"),ld=i(function(t){var r=t.root,o=t.action,l=o.id,c=o.dragState,d=r.query("GET_ITEM",{id:l}),p=r.childViews.find(function(W){return W.id===l}),m=r.childViews.length,v=c.getItemIndex(d);if(p){var T={x:p.dragOrigin.x+p.dragOffset.x+p.dragCenter.x,y:p.dragOrigin.y+p.dragOffset.y+p.dragCenter.y},D=$o(p),y=sd(p),w=Math.floor(r.rect.outer.width/y);w>m&&(w=m);var N=Math.floor(m/w+1);ci.setHeight=D*N,ci.setWidth=y*w;var F={y:Math.floor(T.y/D),x:Math.floor(T.x/y),getGridIndex:i(function(){return T.y>ci.getHeight||T.y<0||T.x>ci.getWidth||T.x<0?v:this.y*w+this.x},"getGridIndex"),getColIndex:i(function(){for(var X=r.query("GET_ACTIVE_ITEMS"),V=r.childViews.filter(function(ne){return ne.rect.element.height}),de=X.map(function(ne){return V.find(function(we){return we.id===ne.id})}),k=de.findIndex(function(ne){return ne===p}),Le=$o(p),Ce=de.length,H=Ce,J=0,te=0,Y=0,K=0;K<Ce;K++)if(J=$o(de[K]),Y=te,te=Y+J,T.y<te){if(k>K){if(T.y<Y+Le){H=K;break}continue}H=K;break}return H},"getColIndex")},L=w>1?F.getGridIndex():F.getColIndex();r.dispatch("MOVE_ITEM",{query:p,index:L});var U=c.getIndex();if(U===void 0||U!==L){if(c.setIndex(L),U===void 0)return;r.dispatch("DID_REORDER_ITEMS",{items:r.query("GET_ACTIVE_ITEMS"),origin:v,target:L})}}},"dragItem"),ud=Ye({DID_ADD_ITEM:id,DID_REMOVE_ITEM:ad,DID_DRAG_ITEM:ld}),cd=i(function(t){var r=t.root,o=t.props,l=t.actions,c=t.shouldOptimize;ud({root:r,props:o,actions:l});var d=o.dragCoordinates,p=r.rect.element.width,m=r.childViews.filter(function(H){return H.rect.element.height}),v=r.query("GET_ACTIVE_ITEMS").map(function(H){return m.find(function(J){return J.id===H.id})}).filter(function(H){return H}),T=d?Ko(r,v,d):null,D=r.ref.addIndex||null;r.ref.addIndex=null;var y=0,w=0,N=0;if(v.length!==0){var F=v[0].rect.element,L=F.marginTop+F.marginBottom,U=F.marginLeft+F.marginRight,W=F.width+U,X=F.height+L,V=Wo(p,W);if(V===1){var de=0,k=0;v.forEach(function(H,J){if(T){var te=J-T;te===-2?k=-L*.25:te===-1?k=-L*.75:te===0?k=L*.75:te===1?k=L*.25:k=0}c&&(H.translateX=null,H.translateY=null),H.markedForRemoval||As(H,0,de+k);var Y=H.rect.element.height+L,K=Y*(H.markedForRemoval?H.opacity:1);de+=K})}else{var Le=0,Ce=0;v.forEach(function(H,J){J===T&&(y=1),J===D&&(N+=1),H.markedForRemoval&&H.opacity<.5&&(w-=1);var te=J+N+y+w,Y=te%V,K=Math.floor(te/V),ne=Y*W,we=K*X,Re=Math.sign(ne-Le),re=Math.sign(we-Ce);Le=ne,Ce=we,!H.markedForRemoval&&(c&&(H.translateX=null,H.translateY=null),As(H,ne,we,Re,re))})}}},"write"),fd=i(function(t,r){return r.filter(function(o){return o.data&&o.data.id?t.id===o.data.id:!0})},"filterSetItemActions"),dd=Be({create:rd,write:cd,tag:"ul",name:"list",didWriteView:i(function(t){var r=t.root;r.childViews.filter(function(o){return o.markedForRemoval&&o.opacity===0&&o.resting}).forEach(function(o){o._destroy(),r.removeChildView(o)})},"didWriteView"),filterFrameActionsForChild:fd,mixins:{apis:["dragCoordinates"]}}),pd=i(function(t){var r=t.root,o=t.props;r.ref.list=r.appendChildView(r.createChildView(dd)),o.dragCoordinates=null,o.overflowing=!1},"create"),hd=i(function(t){var r=t.root,o=t.props,l=t.action;r.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(o.dragCoordinates={left:l.position.scopeLeft-r.ref.list.rect.element.left,top:l.position.scopeTop-(r.rect.outer.top+r.rect.element.marginTop+r.rect.element.scrollTop)})},"storeDragCoordinates"),md=i(function(t){var r=t.props;r.dragCoordinates=null},"clearDragCoordinates"),Ed=Ye({DID_DRAG:hd,DID_END_DRAG:md}),gd=i(function(t){var r=t.root,o=t.props,l=t.actions;if(Ed({root:r,props:o,actions:l}),r.ref.list.dragCoordinates=o.dragCoordinates,o.overflowing&&!o.overflow&&(o.overflowing=!1,r.element.dataset.state="",r.height=null),o.overflow){var c=Math.round(o.overflow);c!==r.height&&(o.overflowing=!0,r.element.dataset.state="overflow",r.height=c)}},"write"),vd=Be({create:pd,write:gd,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Ft=i(function(t,r,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";o?h(t,r,l):t.removeAttribute(r)},"attrToggle"),_d=i(function(t){if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){var r=kt("form"),o=t.parentNode,l=t.nextSibling;r.appendChild(t),r.reset(),l?o.insertBefore(t,l):o.appendChild(t)}}},"resetFileInput"),Td=i(function(t){var r=t.root,o=t.props;r.element.id="filepond--browser-"+o.id,h(r.element,"name",r.query("GET_NAME")),h(r.element,"aria-controls","filepond--assistant-"+o.id),h(r.element,"aria-labelledby","filepond--drop-label-"+o.id),bs({root:r,action:{value:r.query("GET_ACCEPTED_FILE_TYPES")}}),Os({root:r,action:{value:r.query("GET_ALLOW_MULTIPLE")}}),Ss({root:r,action:{value:r.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Xo({root:r}),Rs({root:r,action:{value:r.query("GET_REQUIRED")}}),Ls({root:r,action:{value:r.query("GET_CAPTURE_METHOD")}}),r.ref.handleChange=function(l){if(r.element.value){var c=Array.from(r.element.files).map(function(d){return d._relativePath=d.webkitRelativePath,d});setTimeout(function(){o.onload(c),_d(r.element)},250)}},r.element.addEventListener("change",r.ref.handleChange)},"create"),bs=i(function(t){var r=t.root,o=t.action;r.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Ft(r.element,"accept",!!o.value,o.value?o.value.join(","):"")},"setAcceptedFileTypes"),Os=i(function(t){var r=t.root,o=t.action;Ft(r.element,"multiple",o.value)},"toggleAllowMultiple"),Ss=i(function(t){var r=t.root,o=t.action;Ft(r.element,"webkitdirectory",o.value)},"toggleDirectoryFilter"),Xo=i(function(t){var r=t.root,o=r.query("GET_DISABLED"),l=r.query("GET_ALLOW_BROWSE"),c=o||!l;Ft(r.element,"disabled",c)},"toggleDisabled"),Rs=i(function(t){var r=t.root,o=t.action;o.value?r.query("GET_TOTAL_ITEMS")===0&&Ft(r.element,"required",!0):Ft(r.element,"required",!1)},"toggleRequired"),Ls=i(function(t){var r=t.root,o=t.action;Ft(r.element,"capture",!!o.value,o.value===!0?"":o.value)},"setCaptureMethod"),Cs=i(function(t){var r=t.root,o=r.element;if(r.query("GET_TOTAL_ITEMS")>0){Ft(o,"required",!1),Ft(o,"name",!1);for(var l=r.query("GET_ACTIVE_ITEMS"),c=!1,d=0;d<l.length;d++)l[d].status===se.LOAD_ERROR&&(c=!0);r.element.setCustomValidity(c?r.query("GET_LABEL_INVALID_FIELD"):"")}else{Ft(o,"name",!0,r.query("GET_NAME"));var p=r.query("GET_CHECK_VALIDITY");p&&o.setCustomValidity(""),r.query("GET_REQUIRED")&&Ft(o,"required",!0)}},"updateRequiredStatus"),Id=i(function(t){var r=t.root,o=r.query("GET_CHECK_VALIDITY");o&&r.element.setCustomValidity(r.query("GET_LABEL_INVALID_FIELD"))},"updateFieldValidityStatus"),Dd=Be({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Td,destroy:i(function(t){var r=t.root;r.element.removeEventListener("change",r.ref.handleChange)},"destroy"),write:Ye({DID_LOAD_ITEM:Cs,DID_REMOVE_ITEM:Cs,DID_THROW_ITEM_INVALID:Id,DID_SET_DISABLED:Xo,DID_SET_ALLOW_BROWSE:Xo,DID_SET_ALLOW_DIRECTORIES_ONLY:Ss,DID_SET_ALLOW_MULTIPLE:Os,DID_SET_ACCEPTED_FILE_TYPES:bs,DID_SET_CAPTURE_METHOD:Ls,DID_SET_REQUIRED:Rs})}),ws={ENTER:13,SPACE:32},yd=i(function(t){var r=t.root,o=t.props,l=kt("label");h(l,"for","filepond--browser-"+o.id),h(l,"id","filepond--drop-label-"+o.id),r.ref.handleKeyDown=function(c){var d=c.keyCode===ws.ENTER||c.keyCode===ws.SPACE;d&&(c.preventDefault(),r.ref.label.click())},r.ref.handleClick=function(c){var d=c.target===l||l.contains(c.target);d||r.ref.label.click()},l.addEventListener("keydown",r.ref.handleKeyDown),r.element.addEventListener("click",r.ref.handleClick),Ps(l,o.caption),r.appendChild(l),r.ref.label=l},"create"),Ps=i(function(t,r){t.innerHTML=r;var o=t.querySelector(".filepond--label-action");return o&&h(o,"tabindex","0"),r},"updateLabelValue"),Ad=Be({name:"drop-label",ignoreRect:!0,create:yd,destroy:i(function(t){var r=t.root;r.ref.label.addEventListener("keydown",r.ref.handleKeyDown),r.element.removeEventListener("click",r.ref.handleClick)},"destroy"),write:Ye({DID_SET_LABEL_IDLE:i(function(t){var r=t.root,o=t.action;Ps(r.ref.label,o.value)},"DID_SET_LABEL_IDLE")}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),bd=Be({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Od=i(function(t){var r=t.root,o=r.rect.element.width*.5,l=r.rect.element.height*.5;r.ref.blob=r.appendChildView(r.createChildView(bd,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:o,translateY:l}))},"addBlob"),Sd=i(function(t){var r=t.root,o=t.action;if(!r.ref.blob){Od({root:r});return}r.ref.blob.translateX=o.position.scopeLeft,r.ref.blob.translateY=o.position.scopeTop,r.ref.blob.scaleX=1,r.ref.blob.scaleY=1,r.ref.blob.opacity=1},"moveBlob"),Rd=i(function(t){var r=t.root;r.ref.blob&&(r.ref.blob.opacity=0)},"hideBlob"),Ld=i(function(t){var r=t.root;r.ref.blob&&(r.ref.blob.scaleX=2.5,r.ref.blob.scaleY=2.5,r.ref.blob.opacity=0)},"explodeBlob"),Cd=i(function(t){var r=t.root,o=t.props,l=t.actions;wd({root:r,props:o,actions:l});var c=r.ref.blob;l.length===0&&c&&c.opacity===0&&(r.removeChildView(c),r.ref.blob=null)},"write"),wd=Ye({DID_DRAG:Sd,DID_DROP:Ld,DID_END_DRAG:Rd}),Pd=Be({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Cd}),Ms=i(function(t,r){try{var o=new DataTransfer;r.forEach(function(l){l instanceof File?o.items.add(l):o.items.add(new File([l],l.name,{type:l.type}))}),t.files=o.files}catch{return!1}return!0},"setInputFiles"),Md=i(function(t){var r=t.root;r.ref.fields={};var o=document.createElement("legend");o.textContent="Files",r.element.appendChild(o)},"create"),fi=i(function(t,r){return t.ref.fields[r]},"getField"),Qo=i(function(t){t.query("GET_ACTIVE_ITEMS").forEach(function(r){t.ref.fields[r.id]&&t.element.appendChild(t.ref.fields[r.id])})},"syncFieldPositionsWithItems"),Ns=i(function(t){var r=t.root;return Qo(r)},"didReorderItems"),Nd=i(function(t){var r=t.root,o=t.action,l=r.query("GET_ITEM",o.id),c=l.origin===et.LOCAL,d=!c&&r.query("SHOULD_UPDATE_FILE_INPUT"),p=kt("input");p.type=d?"file":"hidden",p.name=r.query("GET_NAME"),r.ref.fields[o.id]=p,Qo(r)},"didAddItem"),Fd=i(function(t){var r=t.root,o=t.action,l=fi(r,o.id);if(l&&(o.serverFileReference!==null&&(l.value=o.serverFileReference),!!r.query("SHOULD_UPDATE_FILE_INPUT"))){var c=r.query("GET_ITEM",o.id);Ms(l,[c.file])}},"didLoadItem"),xd=i(function(t){var r=t.root,o=t.action;r.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var l=fi(r,o.id);l&&Ms(l,[o.file])},0)},"didPrepareOutput"),Ud=i(function(t){var r=t.root;r.element.disabled=r.query("GET_DISABLED")},"didSetDisabled"),Bd=i(function(t){var r=t.root,o=t.action,l=fi(r,o.id);l&&(l.parentNode&&l.parentNode.removeChild(l),delete r.ref.fields[o.id])},"didRemoveItem"),Gd=i(function(t){var r=t.root,o=t.action,l=fi(r,o.id);l&&(o.value===null?l.removeAttribute("value"):l.type!="file"&&(l.value=o.value),Qo(r))},"didDefineValue"),Vd=Ye({DID_SET_DISABLED:Ud,DID_ADD_ITEM:Nd,DID_LOAD_ITEM:Fd,DID_REMOVE_ITEM:Bd,DID_DEFINE_VALUE:Gd,DID_PREPARE_OUTPUT:xd,DID_REORDER_ITEMS:Ns,DID_SORT_ITEMS:Ns}),kd=Be({tag:"fieldset",name:"data",create:Md,write:Vd,ignoreRect:!0}),Yd=i(function(t){return"getRootNode"in t?t.getRootNode():document},"getRootNode"),Hd=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],qd=["css","csv","html","txt"],jd={zip:"zip|compressed",epub:"application/epub+zip"},Fs=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t=t.toLowerCase(),Hd.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):qd.includes(t)?"text/"+t:jd[t]||""},"guesstimateMimeType"),Jo=i(function(t){return new Promise(function(r,o){var l=Zd(t);if(l.length&&!zd(t))return r(l);Wd(t).then(r)})},"requestDataTransferItems"),zd=i(function(t){return t.files?t.files.length>0:!1},"hasFiles"),Wd=i(function(t){return new Promise(function(r,o){var l=(t.items?Array.from(t.items):[]).filter(function(c){return Kd(c)}).map(function(c){return $d(c)});if(!l.length){r(t.files?Array.from(t.files):[]);return}Promise.all(l).then(function(c){var d=[];c.forEach(function(p){d.push.apply(d,p)}),r(d.filter(function(p){return p}).map(function(p){return p._relativePath||(p._relativePath=p.webkitRelativePath),p}))}).catch(console.error)})},"getFiles"),Kd=i(function(t){if(xs(t)){var r=Zo(t);if(r)return r.isFile||r.isDirectory}return t.kind==="file"},"isFileSystemItem"),$d=i(function(t){return new Promise(function(r,o){if(Jd(t)){Xd(Zo(t)).then(r).catch(o);return}r([t.getAsFile()])})},"getFilesFromItem"),Xd=i(function(t){return new Promise(function(r,o){var l=[],c=0,d=0,p=i(function(){d===0&&c===0&&r(l)},"resolveIfDone"),m=i(function v(T){c++;var D=T.createReader(),y=i(function w(){D.readEntries(function(N){if(N.length===0){c--,p();return}N.forEach(function(F){F.isDirectory?v(F):(d++,F.file(function(L){var U=Qd(L);F.fullPath&&(U._relativePath=F.fullPath),l.push(U),d--,p()}))}),w()},o)},"readBatch");y()},"readEntries");m(t)})},"getFilesInDirectory"),Qd=i(function(t){if(t.type.length)return t;var r=t.lastModifiedDate,o=t.name,l=Fs(si(t.name));return l.length&&(t=t.slice(0,t.size,l),t.name=o,t.lastModifiedDate=r),t},"correctMissingFileType"),Jd=i(function(t){return xs(t)&&(Zo(t)||{}).isDirectory},"isDirectoryEntry"),xs=i(function(t){return"webkitGetAsEntry"in t},"isEntry"),Zo=i(function(t){return t.webkitGetAsEntry()},"getAsEntry"),Zd=i(function(t){var r=[];try{if(r=tp(t),r.length)return r;r=ep(t)}catch{}return r},"getLinks"),ep=i(function(t){var r=t.getData("url");return typeof r=="string"&&r.length?[r]:[]},"getLinksFromTransferURLData"),tp=i(function(t){var r=t.getData("text/html");if(typeof r=="string"&&r.length){var o=r.match(/src\s*=\s*"(.+?)"/);if(o)return[o[1]]}return[]},"getLinksFromTransferMetaData"),di=[],dn=i(function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},"eventPosition"),np=i(function(t,r,o){var l=rp(r),c={element:t,filterElement:o,state:null,ondrop:i(function(){},"ondrop"),onenter:i(function(){},"onenter"),ondrag:i(function(){},"ondrag"),onexit:i(function(){},"onexit"),onload:i(function(){},"onload"),allowdrop:i(function(){},"allowdrop")};return c.destroy=l.addListener(c),c},"createDragNDropClient"),rp=i(function(t){var r=di.find(function(l){return l.element===t});if(r)return r;var o=ip(t);return di.push(o),o},"getDragNDropObserver"),ip=i(function(t){var r=[],o={dragenter:ap,dragover:sp,dragleave:up,drop:lp},l={};f(o,function(d,p){l[d]=p(t,r),t.addEventListener(d,l[d],!1)});var c={element:t,addListener:i(function(p){return r.push(p),function(){r.splice(r.indexOf(p),1),r.length===0&&(di.splice(di.indexOf(c),1),f(o,function(m){t.removeEventListener(m,l[m],!1)}))}},"addListener")};return c},"createDragNDropObserver"),op=i(function(t,r){return"elementFromPoint"in t||(t=document),t.elementFromPoint(r.x,r.y)},"elementFromPoint"),ea=i(function(t,r){var o=Yd(r),l=op(o,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return l===r||r.contains(l)},"isEventTarget"),Us=null,pi=i(function(t,r){try{t.dropEffect=r}catch{}},"setDropEffect"),ap=i(function(t,r){return function(o){o.preventDefault(),Us=o.target,r.forEach(function(l){var c=l.element,d=l.onenter;ea(o,c)&&(l.state="enter",d(dn(o)))})}},"dragenter"),sp=i(function(t,r){return function(o){o.preventDefault();var l=o.dataTransfer;Jo(l).then(function(c){var d=!1;r.some(function(p){var m=p.filterElement,v=p.element,T=p.onenter,D=p.onexit,y=p.ondrag,w=p.allowdrop;pi(l,"copy");var N=w(c);if(!N){pi(l,"none");return}if(ea(o,v)){if(d=!0,p.state===null){p.state="enter",T(dn(o));return}if(p.state="over",m&&!N){pi(l,"none");return}y(dn(o))}else m&&!d&&pi(l,"none"),p.state&&(p.state=null,D(dn(o)))})})}},"dragover"),lp=i(function(t,r){return function(o){o.preventDefault();var l=o.dataTransfer;Jo(l).then(function(c){r.forEach(function(d){var p=d.filterElement,m=d.element,v=d.ondrop,T=d.onexit,D=d.allowdrop;if(d.state=null,!(p&&!ea(o,m))){if(!D(c))return T(dn(o));v(dn(o),c)}})})}},"drop"),up=i(function(t,r){return function(o){Us===o.target&&r.forEach(function(l){var c=l.onexit;l.state=null,c(dn(o))})}},"dragleave"),cp=i(function(t,r,o){t.classList.add("filepond--hopper");var l=o.catchesDropsOnPage,c=o.requiresDropOnElement,d=o.filterItems,p=d===void 0?function(y){return y}:d,m=np(t,l?document.documentElement:t,c),v="",T="";m.allowdrop=function(y){return r(p(y))},m.ondrop=function(y,w){var N=p(w);if(!r(N)){D.ondragend(y);return}T="drag-drop",D.onload(N,y)},m.ondrag=function(y){D.ondrag(y)},m.onenter=function(y){T="drag-over",D.ondragstart(y)},m.onexit=function(y){T="drag-exit",D.ondragend(y)};var D={updateHopperState:i(function(){v!==T&&(t.dataset.hopperState=T,v=T)},"updateHopperState"),onload:i(function(){},"onload"),ondragstart:i(function(){},"ondragstart"),ondrag:i(function(){},"ondrag"),ondragend:i(function(){},"ondragend"),destroy:i(function(){m.destroy()},"destroy")};return D},"createHopper"),ta=!1,Fn=[],Bs=i(function(t){var r=document.activeElement,o=r&&(/textarea|input/i.test(r.nodeName)||r.getAttribute("contenteditable")==="true");if(o){for(var l=!1,c=r;c!==document.body;){if(c.classList.contains("filepond--root")){l=!0;break}c=c.parentNode}if(!l)return}Jo(t.clipboardData).then(function(d){d.length&&Fn.forEach(function(p){return p(d)})})},"handlePaste"),fp=i(function(t){Fn.includes(t)||(Fn.push(t),!ta&&(ta=!0,document.addEventListener("paste",Bs)))},"listen"),dp=i(function(t){No(Fn,Fn.indexOf(t)),Fn.length===0&&(document.removeEventListener("paste",Bs),ta=!1)},"unlisten"),pp=i(function(){var t=i(function(l){r.onload(l)},"cb"),r={destroy:i(function(){dp(t)},"destroy"),onload:i(function(){},"onload")};return fp(t),r},"createPaster"),hp=i(function(t){var r=t.root,o=t.props;r.element.id="filepond--assistant-"+o.id,h(r.element,"role","alert"),h(r.element,"aria-live","polite"),h(r.element,"aria-relevant","additions")},"create"),Gs=null,Vs=null,na=[],hi=i(function(t,r){t.element.textContent=r},"assist"),mp=i(function(t){t.element.textContent=""},"clear"),ks=i(function(t,r,o){var l=t.query("GET_TOTAL_ITEMS");hi(t,o+" "+r+", "+l+" "+(l===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Vs),Vs=setTimeout(function(){mp(t)},1500)},"listModified"),Ys=i(function(t){return t.element.parentNode.contains(document.activeElement)},"isUsingFilePond"),Ep=i(function(t){var r=t.root,o=t.action;if(Ys(r)){r.element.textContent="";var l=r.query("GET_ITEM",o.id);na.push(l.filename),clearTimeout(Gs),Gs=setTimeout(function(){ks(r,na.join(", "),r.query("GET_LABEL_FILE_ADDED")),na.length=0},750)}},"itemAdded"),gp=i(function(t){var r=t.root,o=t.action;if(Ys(r)){var l=o.item;ks(r,l.filename,r.query("GET_LABEL_FILE_REMOVED"))}},"itemRemoved"),vp=i(function(t){var r=t.root,o=t.action,l=r.query("GET_ITEM",o.id),c=l.filename,d=r.query("GET_LABEL_FILE_PROCESSING_COMPLETE");hi(r,c+" "+d)},"itemProcessed"),Hs=i(function(t){var r=t.root,o=t.action,l=r.query("GET_ITEM",o.id),c=l.filename,d=r.query("GET_LABEL_FILE_PROCESSING_ABORTED");hi(r,c+" "+d)},"itemProcessedUndo"),mi=i(function(t){var r=t.root,o=t.action,l=r.query("GET_ITEM",o.id),c=l.filename;hi(r,o.status.main+" "+c+" "+o.status.sub)},"itemError"),_p=Be({create:hp,ignoreRect:!0,ignoreRectUpdate:!0,write:Ye({DID_LOAD_ITEM:Ep,DID_REMOVE_ITEM:gp,DID_COMPLETE_ITEM_PROCESSING:vp,DID_ABORT_ITEM_PROCESSING:Hs,DID_REVERT_ITEM_PROCESSING:Hs,DID_THROW_ITEM_REMOVE_ERROR:mi,DID_THROW_ITEM_LOAD_ERROR:mi,DID_THROW_ITEM_INVALID:mi,DID_THROW_ITEM_PROCESSING_ERROR:mi}),tag:"span",name:"assistant"}),qs=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return t.replace(new RegExp(r+".","g"),function(o){return o.charAt(1).toUpperCase()})},"toCamels"),js=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Date.now(),c=null;return function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];clearTimeout(c);var v=Date.now()-l,T=i(function(){l=Date.now(),t.apply(void 0,p)},"fn");v<r?o||(c=setTimeout(T,r-v)):T()}},"debounce"),Tp=1e6,Ei=i(function(t){return t.preventDefault()},"prevent"),Ip=i(function(t){var r=t.root,o=t.props,l=r.query("GET_ID");l&&(r.element.id=l);var c=r.query("GET_CLASS_NAME");c&&c.split(" ").filter(function(D){return D.length}).forEach(function(D){r.element.classList.add(D)}),r.ref.label=r.appendChildView(r.createChildView(Ad,Object.assign({},o,{translateY:null,caption:r.query("GET_LABEL_IDLE")}))),r.ref.list=r.appendChildView(r.createChildView(vd,{translateY:null})),r.ref.panel=r.appendChildView(r.createChildView(Ts,{name:"panel-root"})),r.ref.assistant=r.appendChildView(r.createChildView(_p,Object.assign({},o))),r.ref.data=r.appendChildView(r.createChildView(kd,Object.assign({},o))),r.ref.measure=kt("div"),r.ref.measure.style.height="100%",r.element.appendChild(r.ref.measure),r.ref.bounds=null,r.query("GET_STYLES").filter(function(D){return!pt(D.value)}).map(function(D){var y=D.name,w=D.value;r.element.dataset[y]=w}),r.ref.widthPrevious=null,r.ref.widthUpdated=js(function(){r.ref.updateHistory=[],r.dispatch("DID_RESIZE_ROOT")},250),r.ref.previousAspectRatio=null,r.ref.updateHistory=[];var d=window.matchMedia("(pointer: fine) and (hover: hover)").matches,p="PointerEvent"in window;r.query("GET_ALLOW_REORDER")&&p&&!d&&(r.element.addEventListener("touchmove",Ei,{passive:!1}),r.element.addEventListener("gesturestart",Ei));var m=r.query("GET_CREDITS"),v=m.length===2;if(v){var T=document.createElement("a");T.className="filepond--credits",T.href=m[0],T.tabIndex=-1,T.target="_blank",T.rel="noopener noreferrer nofollow",T.textContent=m[1],r.element.appendChild(T),r.ref.credits=T}},"create"),Dp=i(function(t){var r=t.root,o=t.props,l=t.actions;if(Sp({root:r,props:o,actions:l}),l.filter(function(Oe){return/^DID_SET_STYLE_/.test(Oe.type)}).filter(function(Oe){return!pt(Oe.data.value)}).map(function(Oe){var Ge=Oe.type,qe=Oe.data,xn=qs(Ge.substring(8).toLowerCase(),"_");r.element.dataset[xn]=qe.value,r.invalidateLayout()}),!r.rect.element.hidden){r.rect.element.width!==r.ref.widthPrevious&&(r.ref.widthPrevious=r.rect.element.width,r.ref.widthUpdated());var c=r.ref.bounds;c||(c=r.ref.bounds=bp(r),r.element.removeChild(r.ref.measure),r.ref.measure=null);var d=r.ref,p=d.hopper,m=d.label,v=d.list,T=d.panel;p&&p.updateHopperState();var D=r.query("GET_PANEL_ASPECT_RATIO"),y=r.query("GET_ALLOW_MULTIPLE"),w=r.query("GET_TOTAL_ITEMS"),N=y?r.query("GET_MAX_FILES")||Tp:1,F=w===N,L=l.find(function(Oe){return Oe.type==="DID_ADD_ITEM"});if(F&&L){var U=L.data.interactionMethod;m.opacity=0,y?m.translateY=-40:U===_.API?m.translateX=40:U===_.BROWSE?m.translateY=40:m.translateY=30}else F||(m.opacity=1,m.translateX=0,m.translateY=0);var W=yp(r),X=Ap(r),V=m.rect.element.height,de=!y||F?0:V,k=F?v.rect.element.marginTop:0,Le=w===0?0:v.rect.element.marginBottom,Ce=de+k+X.visual+Le,H=de+k+X.bounds+Le;if(v.translateY=Math.max(0,de-v.rect.element.marginTop)-W.top,D){var J=r.rect.element.width,te=J*D;D!==r.ref.previousAspectRatio&&(r.ref.previousAspectRatio=D,r.ref.updateHistory=[]);var Y=r.ref.updateHistory;Y.push(J);var K=2;if(Y.length>K*2){for(var ne=Y.length,we=ne-10,Re=0,re=ne;re>=we;re--)if(Y[re]===Y[re-2]&&Re++,Re>=K)return}T.scalable=!1,T.height=te;var x=te-de-(Le-W.bottom)-(F?k:0);X.visual>x?v.overflow=x:v.overflow=null,r.height=te}else if(c.fixedHeight){T.scalable=!1;var O=c.fixedHeight-de-(Le-W.bottom)-(F?k:0);X.visual>O?v.overflow=O:v.overflow=null}else if(c.cappedHeight){var $=Ce>=c.cappedHeight,le=Math.min(c.cappedHeight,Ce);T.scalable=!0,T.height=$?le:le-W.top-W.bottom;var me=le-de-(Le-W.bottom)-(F?k:0);Ce>c.cappedHeight&&X.visual>me?v.overflow=me:v.overflow=null,r.height=Math.min(c.cappedHeight,H-W.top-W.bottom)}else{var Ie=w>0?W.top+W.bottom:0;T.scalable=!0,T.height=Math.max(V,Ce-Ie),r.height=Math.max(V,H-Ie)}r.ref.credits&&T.heightCurrent&&(r.ref.credits.style.transform="translateY("+T.heightCurrent+"px)")}},"write"),yp=i(function(t){var r=t.ref.list.childViews[0].childViews[0];return r?{top:r.rect.element.marginTop,bottom:r.rect.element.marginBottom}:{top:0,bottom:0}},"calculateListItemMargin"),Ap=i(function(t){var r=0,o=0,l=t.ref.list,c=l.childViews[0],d=c.childViews.filter(function(X){return X.rect.element.height}),p=t.query("GET_ACTIVE_ITEMS").map(function(X){return d.find(function(V){return V.id===X.id})}).filter(function(X){return X});if(p.length===0)return{visual:r,bounds:o};var m=c.rect.element.width,v=Ko(c,p,l.dragCoordinates),T=p[0].rect.element,D=T.marginTop+T.marginBottom,y=T.marginLeft+T.marginRight,w=T.width+y,N=T.height+D,F=typeof v<"u"&&v>=0?1:0,L=p.find(function(X){return X.markedForRemoval&&X.opacity<.45})?-1:0,U=p.length+F+L,W=Wo(m,w);return W===1?p.forEach(function(X){var V=X.rect.element.height+D;o+=V,r+=V*X.opacity}):(o=Math.ceil(U/W)*N,r=o),{visual:r,bounds:o}},"calculateListHeight"),bp=i(function(t){var r=t.ref.measureHeight||null,o=parseInt(t.style.maxHeight,10)||null,l=r===0?null:r;return{cappedHeight:o,fixedHeight:l}},"calculateRootBoundingBoxHeight"),ra=i(function(t,r){var o=t.query("GET_ALLOW_REPLACE"),l=t.query("GET_ALLOW_MULTIPLE"),c=t.query("GET_TOTAL_ITEMS"),d=t.query("GET_MAX_FILES"),p=r.length;if(!l&&p>1)return t.dispatch("DID_THROW_MAX_FILES",{source:r,error:ze("warning",0,"Max files")}),!0;if(d=l?d:1,!l&&o)return!1;var m=Gt(d);return m&&c+p>d?(t.dispatch("DID_THROW_MAX_FILES",{source:r,error:ze("warning",0,"Max files")}),!0):!1},"exceedsMaxFiles"),Op=i(function(t,r,o){var l=t.childViews[0];return Ko(l,r,{left:o.scopeLeft-l.rect.element.left,top:o.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},"getDragIndex"),zs=i(function(t){var r=t.query("GET_ALLOW_DROP"),o=t.query("GET_DISABLED"),l=r&&!o;if(l&&!t.ref.hopper){var c=cp(t.element,function(d){var p=t.query("GET_BEFORE_DROP_FILE")||function(){return!0},m=t.query("GET_DROP_VALIDATION");return m?d.every(function(v){return sn("ALLOW_HOPPER_ITEM",v,{query:t.query}).every(function(T){return T===!0})&&p(v)}):!0},{filterItems:i(function(p){var m=t.query("GET_IGNORED_FILES");return p.filter(function(v){return fn(v)?!m.includes(v.name.toLowerCase()):!0})},"filterItems"),catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});c.onload=function(d,p){var m=t.ref.list.childViews[0],v=m.childViews.filter(function(D){return D.rect.element.height}),T=t.query("GET_ACTIVE_ITEMS").map(function(D){return v.find(function(y){return y.id===D.id})}).filter(function(D){return D});Mt("ADD_ITEMS",d,{dispatch:t.dispatch}).then(function(D){if(ra(t,D))return!1;t.dispatch("ADD_ITEMS",{items:D,index:Op(t.ref.list,T,p),interactionMethod:_.DROP})}),t.dispatch("DID_DROP",{position:p}),t.dispatch("DID_END_DRAG",{position:p})},c.ondragstart=function(d){t.dispatch("DID_START_DRAG",{position:d})},c.ondrag=js(function(d){t.dispatch("DID_DRAG",{position:d})}),c.ondragend=function(d){t.dispatch("DID_END_DRAG",{position:d})},t.ref.hopper=c,t.ref.drip=t.appendChildView(t.createChildView(Pd))}else!l&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},"toggleDrop"),Ws=i(function(t,r){var o=t.query("GET_ALLOW_BROWSE"),l=t.query("GET_DISABLED"),c=o&&!l;c&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Dd,Object.assign({},r,{onload:i(function(p){Mt("ADD_ITEMS",p,{dispatch:t.dispatch}).then(function(m){if(ra(t,m))return!1;t.dispatch("ADD_ITEMS",{items:m,index:-1,interactionMethod:_.BROWSE})})},"onload")})),0):!c&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},"toggleBrowse"),Ks=i(function(t){var r=t.query("GET_ALLOW_PASTE"),o=t.query("GET_DISABLED"),l=r&&!o;l&&!t.ref.paster?(t.ref.paster=pp(),t.ref.paster.onload=function(c){Mt("ADD_ITEMS",c,{dispatch:t.dispatch}).then(function(d){if(ra(t,d))return!1;t.dispatch("ADD_ITEMS",{items:d,index:-1,interactionMethod:_.PASTE})})}):!l&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},"togglePaste"),Sp=Ye({DID_SET_ALLOW_BROWSE:i(function(t){var r=t.root,o=t.props;Ws(r,o)},"DID_SET_ALLOW_BROWSE"),DID_SET_ALLOW_DROP:i(function(t){var r=t.root;zs(r)},"DID_SET_ALLOW_DROP"),DID_SET_ALLOW_PASTE:i(function(t){var r=t.root;Ks(r)},"DID_SET_ALLOW_PASTE"),DID_SET_DISABLED:i(function(t){var r=t.root,o=t.props;zs(r),Ks(r),Ws(r,o);var l=r.query("GET_DISABLED");l?r.element.dataset.disabled="disabled":r.element.removeAttribute("data-disabled")},"DID_SET_DISABLED")}),Rp=Be({name:"root",read:i(function(t){var r=t.root;r.ref.measure&&(r.ref.measureHeight=r.ref.measure.offsetHeight)},"read"),create:Ip,write:Dp,destroy:i(function(t){var r=t.root;r.ref.paster&&r.ref.paster.destroy(),r.ref.hopper&&r.ref.hopper.destroy(),r.element.removeEventListener("touchmove",Ei),r.element.removeEventListener("gesturestart",Ei)},"destroy"),mixins:{styles:["height"]}}),Lp=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=null,o=oi(),l=e(er(o),[Wc,g(o)],[Tf,Ro(o)]);l.dispatch("SET_OPTIONS",{options:t});var c=i(function(){document.hidden||l.dispatch("KICK")},"visibilityHandler");document.addEventListener("visibilitychange",c);var d=null,p=!1,m=!1,v=null,T=null,D=i(function(){p||(p=!0),clearTimeout(d),d=setTimeout(function(){p=!1,v=null,T=null,m&&(m=!1,l.dispatch("DID_STOP_RESIZE"))},500)},"resizeHandler");window.addEventListener("resize",D);var y=Rp(l,{id:A()}),w=!1,N=!1,F={_read:i(function(){p&&(T=window.innerWidth,v||(v=T),!m&&T!==v&&(l.dispatch("DID_START_RESIZE"),m=!0)),N&&w&&(w=y.element.offsetParent===null),!w&&(y._read(),N=y.rect.element.hidden)},"_read"),_write:i(function(x){var O=l.processActionQueue().filter(function($){return!/^SET_/.test($.type)});w&&!O.length||(X(O),w=y._write(x,O,m),Fc(l.query("GET_ITEMS")),w&&l.processDispatchQueue())},"_write")},L=i(function(x){return function(O){var $={type:x};if(!O)return $;if(O.hasOwnProperty("error")&&($.error=O.error?Object.assign({},O.error):null),O.status&&($.status=Object.assign({},O.status)),O.file&&($.output=O.file),O.source)$.file=O.source;else if(O.item||O.id){var le=O.item?O.item:l.query("GET_ITEM",O.id);$.file=le?Et(le):null}return O.items&&($.items=O.items.map(Et)),/progress/.test(x)&&($.progress=O.progress),O.hasOwnProperty("origin")&&O.hasOwnProperty("target")&&($.origin=O.origin,$.target=O.target),$}},"createEvent"),U={DID_DESTROY:L("destroy"),DID_INIT:L("init"),DID_THROW_MAX_FILES:L("warning"),DID_INIT_ITEM:L("initfile"),DID_START_ITEM_LOAD:L("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:L("addfileprogress"),DID_LOAD_ITEM:L("addfile"),DID_THROW_ITEM_INVALID:[L("error"),L("addfile")],DID_THROW_ITEM_LOAD_ERROR:[L("error"),L("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[L("error"),L("removefile")],DID_PREPARE_OUTPUT:L("preparefile"),DID_START_ITEM_PROCESSING:L("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:L("processfileprogress"),DID_ABORT_ITEM_PROCESSING:L("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:L("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:L("processfiles"),DID_REVERT_ITEM_PROCESSING:L("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[L("error"),L("processfile")],DID_REMOVE_ITEM:L("removefile"),DID_UPDATE_ITEMS:L("updatefiles"),DID_ACTIVATE_ITEM:L("activatefile"),DID_REORDER_ITEMS:L("reorderfiles")},W=i(function(x){var O=Object.assign({pond:Re},x);delete O.type,y.element.dispatchEvent(new CustomEvent("FilePond:"+x.type,{detail:O,bubbles:!0,cancelable:!0,composed:!0}));var $=[];x.hasOwnProperty("error")&&$.push(x.error),x.hasOwnProperty("file")&&$.push(x.file);var le=["type","error","file"];Object.keys(x).filter(function(Ie){return!le.includes(Ie)}).forEach(function(Ie){return $.push(x[Ie])}),Re.fire.apply(Re,[x.type].concat($));var me=l.query("GET_ON"+x.type.toUpperCase());me&&me.apply(void 0,$)},"exposeEvent"),X=i(function(x){x.length&&x.filter(function(O){return U[O.type]}).forEach(function(O){var $=U[O.type];(Array.isArray($)?$:[$]).forEach(function(le){O.type==="DID_INIT_ITEM"?W(le(O.data)):setTimeout(function(){W(le(O.data))},0)})})},"routeActionsToEvents"),V=i(function(x){return l.dispatch("SET_OPTIONS",{options:x})},"setOptions"),de=i(function(x){return l.query("GET_ACTIVE_ITEM",x)},"getFile"),k=i(function(x){return new Promise(function(O,$){l.dispatch("REQUEST_ITEM_PREPARE",{query:x,success:i(function(me){O(me)},"success"),failure:i(function(me){$(me)},"failure")})})},"prepareFile"),Le=i(function(x){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function($,le){J([{source:x,options:O}],{index:O.index}).then(function(me){return $(me&&me[0])}).catch(le)})},"addFile"),Ce=i(function(x){return x.file&&x.id},"isFilePondFile"),H=i(function(x,O){return typeof x=="object"&&!Ce(x)&&!O&&(O=x,x=void 0),l.dispatch("REMOVE_ITEM",Object.assign({},O,{query:x})),l.query("GET_ACTIVE_ITEM",x)===null},"removeFile"),J=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];return new Promise(function(le,me){var Ie=[],Oe={};if(on(O[0]))Ie.push.apply(Ie,O[0]),Object.assign(Oe,O[1]||{});else{var Ge=O[O.length-1];typeof Ge=="object"&&!(Ge instanceof Blob)&&Object.assign(Oe,O.pop()),Ie.push.apply(Ie,O)}l.dispatch("ADD_ITEMS",{items:Ie,index:Oe.index,interactionMethod:_.API,success:le,failure:me})})},"addFiles"),te=i(function(){return l.query("GET_ACTIVE_ITEMS")},"getFiles"),Y=i(function(x){return new Promise(function(O,$){l.dispatch("REQUEST_ITEM_PROCESSING",{query:x,success:i(function(me){O(me)},"success"),failure:i(function(me){$(me)},"failure")})})},"processFile"),K=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];var le=Array.isArray(O[0])?O[0]:O,me=le.length?le:te();return Promise.all(me.map(k))},"prepareFiles"),ne=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];var le=Array.isArray(O[0])?O[0]:O;if(!le.length){var me=te().filter(function(Ie){return!(Ie.status===se.IDLE&&Ie.origin===et.LOCAL)&&Ie.status!==se.PROCESSING&&Ie.status!==se.PROCESSING_COMPLETE&&Ie.status!==se.PROCESSING_REVERT_ERROR});return Promise.all(me.map(Y))}return Promise.all(le.map(Y))},"processFiles"),we=i(function(){for(var x=arguments.length,O=new Array(x),$=0;$<x;$++)O[$]=arguments[$];var le=Array.isArray(O[0])?O[0]:O,me;typeof le[le.length-1]=="object"?me=le.pop():Array.isArray(O[0])&&(me=O[1]);var Ie=te();if(!le.length)return Promise.all(Ie.map(function(Ge){return H(Ge,me)}));var Oe=le.map(function(Ge){return ot(Ge)?Ie[Ge]?Ie[Ge].id:null:Ge}).filter(function(Ge){return Ge});return Oe.map(function(Ge){return H(Ge,me)})},"removeFiles"),Re=Object.assign({},ii(),{},F,{},So(l,o),{setOptions:V,addFile:Le,addFiles:J,getFile:de,processFile:Y,prepareFile:k,removeFile:H,moveFile:i(function(x,O){return l.dispatch("MOVE_ITEM",{query:x,index:O})},"moveFile"),getFiles:te,processFiles:ne,removeFiles:we,prepareFiles:K,sort:i(function(x){return l.dispatch("SORT",{compare:x})},"sort"),browse:i(function(){var x=y.element.querySelector("input[type=file]");x&&x.click()},"browse"),destroy:i(function(){Re.fire("destroy",y.element),l.dispatch("ABORT_ALL"),y._destroy(),window.removeEventListener("resize",D),document.removeEventListener("visibilitychange",c),l.dispatch("DID_DESTROY")},"destroy"),insertBefore:i(function(x){return rn(y.element,x)},"insertBefore$1"),insertAfter:i(function(x){return Hr(y.element,x)},"insertAfter$1"),appendTo:i(function(x){return x.appendChild(y.element)},"appendTo"),replaceElement:i(function(x){rn(y.element,x),x.parentNode.removeChild(x),r=x},"replaceElement"),restoreElement:i(function(){r&&(Hr(r,y.element),y.element.parentNode.removeChild(y.element),r=null)},"restoreElement"),isAttachedTo:i(function(x){return y.element===x||r===x},"isAttachedTo"),element:{get:i(function(){return y.element},"get")},status:{get:i(function(){return l.query("GET_STATUS")},"get")}});return l.dispatch("DID_INIT"),E(Re)},"createApp"),$s=i(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r={};f(oi(),function(l,c){r[l]=c[0]});var o=Lp(Object.assign({},r,{},t));return o},"createAppObject"),Cp=i(function(t){return t.charAt(0).toLowerCase()+t.slice(1)},"lowerCaseFirstLetter"),wp=i(function(t){return qs(t.replace(/^data-/,""))},"attributeNameToPropertyName"),Pp=i(function u(t,r){f(r,function(o,l){f(t,function(c,d){var p=new RegExp(o),m=p.test(c);if(m&&(delete t[c],l!==!1)){if(it(l)){t[l]=d;return}var v=l.group;$e(l)&&!t[v]&&(t[v]={}),t[v][Cp(c.replace(p,""))]=d}}),l.mapping&&u(t[l.group],l.mapping)})},"mapObject"),Mp=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=[];f(t.attributes,function(c){o.push(t.attributes[c])});var l=o.filter(function(c){return c.name}).reduce(function(c,d){var p=h(t,d.name);return c[wp(d.name)]=p===d.name?!0:p,c},{});return Pp(l,r),l},"getAttributesAsObject"),Np=i(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};sn("SET_ATTRIBUTE_TO_OPTION_MAP",o);var l=Object.assign({},r),c=Mp(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,o);Object.keys(c).forEach(function(p){$e(c[p])?($e(l[p])||(l[p]={}),Object.assign(l[p],c[p])):l[p]=c[p]}),l.files=(r.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(p){return{source:p.value,options:{type:p.dataset.type}}}));var d=$s(l);return t.files&&Array.from(t.files).forEach(function(p){d.addFile(p)}),d.replaceElement(t),d},"createAppAtElement"),Fp=i(function(){return n(arguments.length<=0?void 0:arguments[0])?Np.apply(void 0,arguments):$s.apply(void 0,arguments)},"createApp"),xp=["fire","_read","_write"],Xs=i(function(t){var r={};return za(t,r,xp),r},"createAppAPI"),Up=i(function(t,r){return t.replace(/(?:{([a-zA-Z]+)})/g,function(o,l){return r[l]})},"replaceInString"),Bp=i(function(t){var r=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),o=URL.createObjectURL(r),l=new Worker(o);return{transfer:i(function(d,p){},"transfer"),post:i(function(d,p,m){var v=A();l.onmessage=function(T){T.data.id===v&&p(T.data.message)},l.postMessage({id:v,message:d},m)},"post"),terminate:i(function(){l.terminate(),URL.revokeObjectURL(o)},"terminate")}},"createWorker"),Gp=i(function(t){return new Promise(function(r,o){var l=new Image;l.onload=function(){r(l)},l.onerror=function(c){o(c)},l.src=t})},"loadImage"),Qs=i(function(t,r){var o=t.slice(0,t.size,t.type);return o.lastModifiedDate=t.lastModifiedDate,o.name=r,o},"renameFile"),Vp=i(function(t){return Qs(t,t.name)},"copyFile"),Js=[],kp=i(function(t){if(!Js.includes(t)){Js.push(t);var r=t({addFilter:Uc,utils:{Type:P,forin:f,isString:it,isFile:fn,toNaturalFileSize:ds,replaceInString:Up,getExtensionFromFilename:si,getFilenameWithoutExtension:is,guesstimateMimeType:Fs,getFileFromBlob:Mn,getFilenameFromURL:ir,createRoute:Ye,createWorker:Bp,createView:Be,createItemAPI:Et,loadImage:Gp,copyFile:Vp,renameFile:Qs,createBlob:Za,applyFilterChain:Mt,text:We,getNumericAspectRatioFromString:$a},views:{fileActionButton:fs}});Bc(r.options)}},"createAppPlugin"),Yp=i(function(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},"isOperaMini"),Hp=i(function(){return"Promise"in window},"hasPromises"),qp=i(function(){return"slice"in Blob.prototype},"hasBlobSlice"),jp=i(function(){return"URL"in window&&"createObjectURL"in window.URL},"hasCreateObjectURL"),zp=i(function(){return"visibilityState"in document},"hasVisibility"),Wp=i(function(){return"performance"in window},"hasTiming"),Kp=i(function(){return"supports"in(window.CSS||{})},"hasCSSSupports"),$p=i(function(){return/MSIE|Trident/.test(window.navigator.userAgent)},"isIE11"),ia=function(){var u=z()&&!Yp()&&zp()&&Hp()&&qp()&&jp()&&Wp()&&(Kp()||$p());return function(){return u}}(),$t={apps:[]},Xp="filepond",pn=i(function(){},"fn");if(a.Status={},a.FileStatus={},a.FileOrigin={},a.OptionTypes={},a.create=pn,a.destroy=pn,a.parse=pn,a.find=pn,a.registerPlugin=pn,a.getOptions=pn,a.setOptions=pn,ia()){yn(function(){$t.apps.forEach(function(u){return u._read()})},function(u){$t.apps.forEach(function(t){return t._write(u)})});var Zs=i(function u(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ia,create:a.create,destroy:a.destroy,parse:a.parse,find:a.find,registerPlugin:a.registerPlugin,setOptions:a.setOptions}})),document.removeEventListener("DOMContentLoaded",u)},"dispatch");document.readyState!=="loading"?setTimeout(function(){return Zs()},0):document.addEventListener("DOMContentLoaded",Zs);var el=i(function(){return f(oi(),function(t,r){a.OptionTypes[t]=r[1]})},"updateOptionTypes");a.Status=Object.assign({},Pn),a.FileOrigin=Object.assign({},et),a.FileStatus=Object.assign({},se),a.OptionTypes={},el(),a.create=i(function(){var t=Fp.apply(void 0,arguments);return t.on("destroy",a.destroy),$t.apps.push(t),Xs(t)},"create"),a.destroy=i(function(t){var r=$t.apps.findIndex(function(l){return l.isAttachedTo(t)});if(r>=0){var o=$t.apps.splice(r,1)[0];return o.restoreElement(),!0}return!1},"destroy"),a.parse=i(function(t){var r=Array.from(t.querySelectorAll("."+Xp)),o=r.filter(function(l){return!$t.apps.find(function(c){return c.isAttachedTo(l)})});return o.map(function(l){return a.create(l)})},"parse"),a.find=i(function(t){var r=$t.apps.find(function(o){return o.isAttachedTo(t)});return r?Xs(r):null},"find"),a.registerPlugin=i(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.forEach(kp),el()},"registerPlugin"),a.getOptions=i(function(){var t={};return f(oi(),function(r,o){t[r]=o[0]}),t},"getOptions$1"),a.setOptions=i(function(t){return $e(t)&&($t.apps.forEach(function(r){r.setOptions(t)}),Gc(t)),a.getOptions()},"setOptions$1")}a.supported=ia,Object.defineProperty(a,"__esModule",{value:!0})})});var mc=al((Pa,Ma)=>{(function(a,n){typeof Pa=="object"&&typeof Ma<"u"?Ma.exports=n():typeof define=="function"&&define.amd?define(n):(a=typeof globalThis<"u"?globalThis:a||self,a.weekSelect=n())})(Pa,function(){"use strict";function a(e){try{if(typeof e.composedPath=="function"){var s=e.composedPath();return s[0]}return e.target}catch{return e.target}}i(a,"getEventTarget");function n(){return function(e){function s(b){var S=a(b);if(S.classList.contains("flatpickr-day"))for(var C=e.days.childNodes,M=S.$i,G=M/7,pe=C[7*Math.floor(G)].dateObj,q=C[7*Math.ceil(G+.01)-1].dateObj,z=C.length;z--;){var Ee=C[z],ve=Ee.dateObj;ve>q||ve<pe?Ee.classList.remove("inRange"):Ee.classList.add("inRange")}}i(s,"onDayHover");function f(){var b=e.latestSelectedDateObj;b!==void 0&&b.getMonth()===e.currentMonth&&b.getFullYear()===e.currentYear&&(e.weekStartDay=e.days.childNodes[7*Math.floor(e.selectedDateElem.$i/7)].dateObj,e.weekEndDay=e.days.childNodes[7*Math.ceil(e.selectedDateElem.$i/7+.01)-1].dateObj);for(var S=e.days.childNodes,C=S.length;C--;){var M=S[C].dateObj;M>=e.weekStartDay&&M<=e.weekEndDay&&S[C].classList.add("week","selected")}}i(f,"highlightWeek");function E(){for(var b=e.days.childNodes,S=b.length;S--;)b[S].classList.remove("inRange")}i(E,"clearHover");function h(){e.daysContainer!==void 0&&e.daysContainer.addEventListener("mouseover",s)}i(h,"onReady");function I(){e.daysContainer!==void 0&&e.daysContainer.removeEventListener("mouseover",s)}return i(I,"onDestroy"),{onValueUpdate:f,onMonthChange:f,onYearChange:f,onOpen:f,onClose:E,onParseConfig:i(function(){e.config.mode="single",e.config.enableTime=!1,e.config.dateFormat=e.config.dateFormat?e.config.dateFormat:"\\W\\e\\e\\k #W, Y",e.config.altFormat=e.config.altFormat?e.config.altFormat:"\\W\\e\\e\\k #W, Y"},"onParseConfig"),onReady:[h,f,function(){e.loadedPlugins.push("weekSelect")}],onDestroy:I}}}return i(n,"weekSelectPlugin"),n})});var ul=null,cl=!1,ll={},Bn=i((a,n,e)=>{let s=null;return(...f)=>{s&&window.clearTimeout(s),s=window.setTimeout(()=>{a.apply(e,f)},n)}},"debounce"),ae=i((a,n)=>{n.append(a)},"mountElement"),qt=i(a=>{a.parentNode?.removeChild(a)},"unmountElement"),sa=i((a,n,e)=>{let s=n||new FormData,f;for(let E in a)Object.prototype.hasOwnProperty.call(a,E)&&(e?f=e+"["+E+"]":f=E,a[E]==null?s.append(f,""):typeof a[E]=="object"&&!(a[E]instanceof File)?sa(a[E],s,E):s.append(f,a[E]));return s},"objectToFormData"),ch=i(a=>gi.includes(a),"isField"),fh=i(a=>vi.includes(a),"isGroup"),dh=i(a=>_i.includes(a),"isButton"),fl=i(a=>ch(a)?ge.field:fh(a)?ge.group:dh(a)?ge.button:null,"getFormElementType");var dl=i((a,n,e)=>a+"["+n+"]"+e,"transformFieldName"),mn=i((a,n)=>vl+a+_l+n,"generateFieldSaveKey"),ph=i(a=>a instanceof Date&&!isNaN(a),"isDateValid"),hh=i((a,n)=>{let e=new Date(a);return e.setDate(e.getDate()+n),e},"calculateDateAfterAddingDays"),mh=i(a=>a.match(/^([a-zA-Z]+)@(\d+)$/),"parseKey"),Eh=i(a=>Tl.includes(a),"isKeyInLicenseKeys"),gh=i(a=>hh(a,-Ol),"calculateMinPurchaseDate"),vh=i((a,n)=>n<a?St.VALID:St.OUTDATED,"determineLicenseState"),pl=i(()=>{let a=ul;if(!a)return St.INVALID;if(Eh(a))return St.VALID;let n=mh(a);if(n?.[1]?.length===10){let[,,e]=n,s=new Date(parseInt(e,10)*1e3),f=new Date(Sl);if(ph(f)){let E=gh(f);return vh(s,E)}}return St.INVALID},"processLicenseKey"),la=i(a=>{ul=a},"setLicenseKey"),hl=i(a=>a===St.VALID?Il:a===St.OUTDATED?yl:Dl,"getLicenseText"),ml=i(a=>{a===St.INVALID?console.error(Al):console.error(bl)},"handleInvalidLicenseLog"),ua=i(()=>cl,"usesLicensedFetures"),ur=i(()=>{cl=!0},"useLicensedFetures"),Rt=i(a=>a.split(El).filter(n=>n.includes(aa)).map(n=>{let[e,s]=n.split(aa);return{conditions:e.replace(/^\[|\]$/g,"").split("&&").map(E=>E.split("||").map(h=>{let I=h.match(/(.*?)(=|!=|>|<|>=|<=)(.*)/);if(!I)throw new Error(`Invalid condition format: ${h}`);let[,b,S,C]=I,M,G=C.trim().startsWith(gl);if(G)M=new Date(C.trim().substring(5));else try{M=JSON.parse(C.trim())}catch{M=C.trim()}return{left:b.trim(),operator:S,right:M,isDate:G}})),returnValue:s}}),"parseConditionString"),Lt=i((a,n,e=null,s=null,f=!1)=>{for(let{conditions:E,returnValue:h}of a)if(E.every(b=>b.some(({left:S,operator:C,right:M})=>{let G={_value:e,_required:s,...n},pe=_h(G,S);return Th(C,pe,M)})))try{return JSON.parse(h)}catch{return h}return f},"evaluateParsedConditions"),_h=i((a,n)=>n.split(".").reduce((e,s)=>e&&e[s],a),"getNestedValue"),Th=i((a,n,e)=>{switch(a){case"=":return n===e;case"!=":return n!==e;case">":return n>e;case"<":return n<e;case">=":return n>=e;case"<=":return n<=e}},"compareValues"),Gn=i(a=>{try{JSON.parse(a)}catch{return!1}return!0},"isJson");var Ct=i((a,n)=>Object.keys(ll).includes(a)?Object.assign({},n,ll[a]):n,"getOverwritenDefaults");var Rl="https://formsjs.io/documentation/v1/licensing",Ll="#",Cl="position: fixed !important; font-weight: bold; font-size: .8rem;  bottom: 1rem !important;  left: 1rem !important;  background: #fff;  border: 2px solid red;  padding: .5rem;  border-radius: 0.15rem;  z-index: 99999 !important;  display: inline-flex !important;  align-items: center;  color: red;  text-decoration: none;  transition: 0.2s linear;",El=";",aa=":",gl="date!",wl="formsjs-form",Pl="form-button-container",Ml="form-group-container",Nl="form-group",Fl="form-group-label",xl="btn form-button",Ve="form-input",Ul="form-field-container",Qt="form-field",En="form-field-label",Bl="form-field-validation",Vn="form-error",ca="field-disabled",fa="field-required",Gl="form-input-checkbox",Vl="is-toggle",kl="toggle-slider",Yl="form-input-color",Hl="form-input-radio",ql="form-input-range",jl="form-input-range-min",zl="form-input-range-max",Wl="form-input-range-value",Kl="form-input-select",$l="form-input-static",Xl="password-container",da="pass-shown",pa="pass-hidden",ye="This field is required",Ql="Not a valid email address",Jl="Not a valid telephone number",Zl="Not a valid url address",Ti="The value should be bigger than ",Ii="The value should be less than ",tt="div",gn="span",kn="label",eu="form",tu="a",Di="button",Xe="input",vn="p",nu="h3",ru="output",iu="select",ou="option",au="optgroup",su="textarea",Bt="_container",jt="_label",lu="_validation",uu="_group_container",vl="__formsjs_",_l="_field_",cu="_min",fu="_max",du="_value",oe="id",pu="action",hu="method",mu="submit",Eu="reset",Me="type",gu="href",yi="click",vu="input",ke="name",st="placeholder",Yn="for",Hn="aria-invalid",qn="aria-describedby",_n="disabled";var wt="checked",Qe="change",Ai="multiple",_u="accept",bi="min",Oi="max",Si="step",cr="value",Ri="label",Tn="selected",Tu="rows",fr="group",ha="button",dr="checkbox",pr="color",hr="date",mr="datetime",Er="email",gr="file",vr="hidden",_r="number",jn="password",Tr="radio",Ir="range",Dr="select",yr="static",Ar="tel",br="textarea",In="text",Or="time",Sr="url",Rr="week";var gi=[],vi=[],_i=[];var ge={field:"field",group:"group",button:"button"},ma={},Tl=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Il="forms.js license key is valid",Dl="forms.js license key is invalid",yl="forms.js license key is outdated",Al="forms.js license key is invalid, please use a valid license key.",bl="forms.js license key is outdated, please update your license key.",Ol=372,St={VALID:1,OUTDATED:2,INVALID:3},Sl="2024-05-08",je=i((a,n,e,s=!1)=>{switch(e){case ge.button:_i.push(a);break;case ge.group:vi.push(a);break;case ge.field:gi.push(a);break}s&&ur(),ma[a]=n},"registerConstructor");var Te=class{static{i(this,"Field")}options={id:"",type:In,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),default:"",debounce:200,className:Ve};inputElement=null;containerElement=null;labelElement=null;validationElement=null;hasScheme=!1;_id;_parent;_form;_isValid=null;_isDisabled=!1;_isRequired=!1;_isMounted=!1;_isVisible=!0;_saveKey;_vMessage=null;_value=null;_type;_parsedConditions=null;_parsedValidationConditions=null;_parsedRequiredConditions=null;_parsedDisabledConditions=null;_triggerEvents=!0;constructor(n,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=n,this._type=s.type,this._saveKey=mn(this._form.getId(),this._id)}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),this.load(),this.update(),this.bindChange()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions)),typeof this.options.disabled=="string"&&(this._parsedDisabledConditions=Rt(this.options.disabled)),typeof this.options.required=="string"&&(this._parsedRequiredConditions=Rt(this.options.required)),typeof this.options.validation=="string"&&(this._parsedValidationConditions=Rt(this.options.validation))}setValue(n,e=!0){this._value=n,this.syncValue(),this._form.setData(this._id,n),e&&this.save()}syncValue(){this.inputElement&&(this.inputElement instanceof HTMLInputElement||this.inputElement instanceof HTMLTextAreaElement)&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getValidity(){return this._isValid}isDisabled(){return this._isDisabled}isRequired(){return this._isRequired}getValidationMessage(){return this._vMessage}getForm(){return this._form}createContainerElement(){this.containerElement=document.createElement("div"),this.containerElement.className=Qt+" "+this._type,this.containerElement.setAttribute(oe,this._id+Bt)}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this._id),this.inputElement.setAttribute(ke,this.options.name||this._id),this.inputElement.setAttribute(Me,this._type),this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder),this.inputElement.className=this.options.className}createLabelElement(){this.labelElement=document.createElement(kn);let n=document.createElement(vn);this.options.label&&(typeof this.options.label=="string"?n.innerText=this.options.label:typeof this.options.label=="function"&&(n.innerHTML="",n.append(this.options.label()))),n.setAttribute(oe,this._id+jt),this.labelElement.setAttribute(Yn,this._id),n.className=En,this.options.label&&ae(n,this.labelElement)}createValidationElement(){this.validationElement=document.createElement(vn),this.validationElement.setAttribute(oe,this._id+lu),this.validationElement.className=Bl,this.validationElement.style.display="none"}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&ae(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&ae(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&ae(this.labelElement,this.containerElement)}mount(){this.containerElement&&ae(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&qt(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleValidatedField(){this._isValid?(this.validationElement&&(this.validationElement.style.display="none",this.validationElement.innerHTML=""),this.labelElement?.classList.remove(Vn),this.inputElement?.removeAttribute(Hn),this.inputElement?.removeAttribute(qn)):(this.labelElement?.classList.add(Vn),this.validationElement&&this._vMessage&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(this._vMessage,this._form.getData()))):this.validationElement.innerText=this._vMessage,this.validationElement.style.display="block"),this.inputElement?.setAttribute(Hn,"true"),this.inputElement?.setAttribute(qn,this.validationElement?.getAttribute("id")||"")),this._form.updateError(this._id,this._isValid)}handleVisibility(){this._isVisible&&!this._isMounted&&(this.mount(),this._form.setData(this._id,this._value)),!this._isVisible&&this._isMounted&&(this._form.removeData(this._id),this.unmount())}handleDisabled(){this._isDisabled?(this.containerElement?.classList.add(ca),this.inputElement?.setAttribute(_n,"true")):(this.inputElement?.removeAttribute(_n),this.containerElement?.classList.remove(ca))}handleRequired(){this._isRequired?this.containerElement?.classList.add(fa):this.containerElement?.classList.remove(fa)}bindChange(){this.inputElement&&this.inputElement.addEventListener(vu,Bn(this.change,this.options.debounce,this))}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let n=localStorage.getItem(this._saveKey);if(n!==null){this.setValue(Gn(n)?JSON.parse(n):n,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){this._triggerEvents=!1,localStorage.removeItem(this._saveKey),this.options.default!==void 0?this.setValue(this.options.default,!1):this.setValue(null,!1),this.update(),this._triggerEvents=!0,this.dispatchEvent("resetted")}async update(){this.updateVisibilityBasedOnConditions(),this.updateDisabledStatus(),this.updateRequiredStatus(),this.handleVisibility(),this.handleDisabled(),this.handleRequired()}updateVisibilityBasedOnConditions(){let n=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._value,this._form.getData()))),n!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}updateDisabledStatus(){let n=this._isDisabled;this.options.disabled&&(typeof this.options.disabled=="string"&&this._parsedDisabledConditions?this._isDisabled=Lt(this._parsedDisabledConditions,this._form.getData(),this._value,this._isRequired):typeof this.options.disabled=="function"?this._isDisabled=this.options.disabled(this._value,this._form.getData()):typeof this.options.disabled=="boolean"&&(this._isDisabled=this.options.disabled)),n!==this._isDisabled&&this.dispatchEvent("disabledStateChanged",this._isDisabled)}updateRequiredStatus(){let n=this._isRequired;this.options.required&&(typeof this.options.required=="string"&&this._parsedRequiredConditions?this._isRequired=Lt(this._parsedRequiredConditions,this._form.getData(),this._value):typeof this.options.required=="function"?this._isRequired=this.options.required(this._value,this._form.getData()):typeof this.options.required=="boolean"&&(this._isRequired=this.options.required)),n!==this._isRequired&&this.dispatchEvent("requiredStateChanged",this._isRequired)}validate(){if(!this._isVisible)return!0;if(this.options.validation){if(typeof this.options.validation=="string"&&this._parsedValidationConditions){let n=Lt(this._parsedValidationConditions,this._form.getData(),this._value,this._isRequired,!0);this.setValidationValues(n)}else if(typeof this.options.validation=="function"){let n=this.options.validation(this._value,this._form.getData(),this._isRequired);this.setValidationValues(n)}else this._isValid=!0;this.handleValidatedField()}else this._isValid=!0;return this._isValid}setValidationValues(n){this._isValid=n===!0,this._vMessage=n===!0?"":n,this._isValid||this.dispatchEvent("validationFailed",this._vMessage)}change(n){this.setValue(n.target.value),this.validate(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",this._value)}triggerEvents(n){this._triggerEvents=n}dispatchEvent(n,e=null){if(!this._triggerEvents)return;let s=e!==null?new CustomEvent(n,{detail:e}):new CustomEvent(n);this.inputElement?.dispatchEvent(s)}on(n,e,s){this.inputElement?.addEventListener(n,e,s)}off(n,e,s){this.inputElement?.removeEventListener(n,e,s)}};var Li=class extends Te{static{i(this,"RadioField")}options={id:"",type:Tr,schema:[],required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),default:null,className:Hl};inputElements=[];labelElements=[];constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.handleVisibility()}syncValue(){this.inputElements.forEach(n=>{n.value!==this.getValue()&&n.hasAttribute(wt)?n.removeAttribute(wt):n.value===this.getValue()&&!n.hasAttribute(wt)&&n.setAttribute(wt,"")})}createRadioLabelElement(n,e,s,f){let E=document.createElement(kn);s&&E&&ae(s,E);let h=document.createElement(vn);n&&(typeof n=="string"?h.innerText=n:typeof n=="function"&&(h.innerHTML="",h.append(n()))),h.setAttribute(oe,e+jt),E.setAttribute(Yn,e),h.className=En,E.append(h),this.labelElements.push(E),f&&E&&ae(E,f)}createRadioInputElement(n,e){let s=document.createElement(Xe);return s.setAttribute(oe,n),s.setAttribute(ke,this.getId()),s.setAttribute(cr,e),this.options.default&&e===this.options.default&&s.setAttribute(wt,"true"),s.setAttribute(Me,this.getType()),s.className=this.options.className,this.inputElements.push(s),this.bindChange(),s}onGui(){this.createContainerElement();let n=document.createElement("p");this.options.label&&(typeof this.options.label=="string"?n.innerText=this.options.label:typeof this.options.label=="function"&&(n.innerHTML="",n.append(this.options.label()))),this.options.label&&this.containerElement&&ae(n,this.containerElement),n.setAttribute(oe,this.getId()+jt),n.className=En;let e=document.createElement(tt);e.className=Ul,this.options.schema.forEach(s=>{let f=this.createRadioInputElement(s.id,s.value);this.createRadioLabelElement(s.label,s.id,f,e)}),this.containerElement&&e&&ae(e,this.containerElement),this.createValidationElement(),this.containerElement&&this.validationElement&&ae(this.validationElement,this.containerElement)}handleValidatedField(){if(this.getValidity())this.validationElement&&(this.validationElement.style.display="none"),this.inputElements.forEach(e=>{e?.classList.remove(Vn),e?.removeAttribute(Hn),e?.removeAttribute(qn)});else{this.inputElements.forEach(s=>{s?.classList.add(Vn),s?.setAttribute(Hn,"true"),s?.setAttribute(qn,this.validationElement?.getAttribute("id")||"")});let e=this.getValidationMessage();this.validationElement&&e&&(this.options.renderValidationError?(this.validationElement.innerHTML="",this.validationElement.append(this.options.renderValidationError(e,this.getForm().getData()))):this.validationElement.innerText=e,this.validationElement.style.display="block")}this.getForm().updateError(this.getId(),this.getValidity())}bindChange(){this.inputElements[this.inputElements.length-1]&&this.inputElements[this.inputElements.length-1].addEventListener(Qe,n=>{this.change(n)})}getValue(){return this._value}};var Ci=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Jt={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:i(function(a){return typeof console<"u"&&console.warn(a)},"errorHandler"),getWeek:i(function(a){var n=new Date(a.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var e=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},"getWeek"),hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var wi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:i(function(a){var n=a%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},"ordinal"),rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Pi=wi;var lt=i(function(a,n){return n===void 0&&(n=2),("000"+a).slice(n*-1)},"pad"),vt=i(function(a){return a===!0?1:0},"int");function Ea(a,n){var e;return function(){var s=this,f=arguments;clearTimeout(e),e=setTimeout(function(){return a.apply(s,f)},n)}}i(Ea,"debounce");var Mi=i(function(a){return a instanceof Array?a:[a]},"arrayify");function ut(a,n,e){if(e===!0)return a.classList.add(n);a.classList.remove(n)}i(ut,"toggleClass");function Se(a,n,e){var s=window.document.createElement(a);return n=n||"",e=e||"",s.className=n,e!==void 0&&(s.textContent=e),s}i(Se,"createElement");function Lr(a){for(;a.firstChild;)a.removeChild(a.firstChild)}i(Lr,"clearNode");function ga(a,n){if(n(a))return a;if(a.parentNode)return ga(a.parentNode,n)}i(ga,"findParent");function Cr(a,n){var e=Se("div","numInputWrapper"),s=Se("input","numInput "+a),f=Se("span","arrowUp"),E=Se("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),n!==void 0)for(var h in n)s.setAttribute(h,n[h]);return e.appendChild(s),e.appendChild(f),e.appendChild(E),e}i(Cr,"createNumberInput");function _t(a){try{if(typeof a.composedPath=="function"){var n=a.composedPath();return n[0]}return a.target}catch{return a.target}}i(_t,"getEventTarget");var va=i(function(){},"doNothing"),wr=i(function(a,n,e){return e.months[n?"shorthand":"longhand"][a]},"monthToStr"),Iu={D:va,F:i(function(a,n,e){a.setMonth(e.months.longhand.indexOf(n))},"F"),G:i(function(a,n){a.setHours((a.getHours()>=12?12:0)+parseFloat(n))},"G"),H:i(function(a,n){a.setHours(parseFloat(n))},"H"),J:i(function(a,n){a.setDate(parseFloat(n))},"J"),K:i(function(a,n,e){a.setHours(a.getHours()%12+12*vt(new RegExp(e.amPM[1],"i").test(n)))},"K"),M:i(function(a,n,e){a.setMonth(e.months.shorthand.indexOf(n))},"M"),S:i(function(a,n){a.setSeconds(parseFloat(n))},"S"),U:i(function(a,n){return new Date(parseFloat(n)*1e3)},"U"),W:i(function(a,n,e){var s=parseInt(n),f=new Date(a.getFullYear(),0,2+(s-1)*7,0,0,0,0);return f.setDate(f.getDate()-f.getDay()+e.firstDayOfWeek),f},"W"),Y:i(function(a,n){a.setFullYear(parseFloat(n))},"Y"),Z:i(function(a,n){return new Date(n)},"Z"),d:i(function(a,n){a.setDate(parseFloat(n))},"d"),h:i(function(a,n){a.setHours((a.getHours()>=12?12:0)+parseFloat(n))},"h"),i:i(function(a,n){a.setMinutes(parseFloat(n))},"i"),j:i(function(a,n){a.setDate(parseFloat(n))},"j"),l:va,m:i(function(a,n){a.setMonth(parseFloat(n)-1)},"m"),n:i(function(a,n){a.setMonth(parseFloat(n)-1)},"n"),s:i(function(a,n){a.setSeconds(parseFloat(n))},"s"),u:i(function(a,n){return new Date(parseFloat(n))},"u"),w:va,y:i(function(a,n){a.setFullYear(2e3+parseFloat(n))},"y")},zt={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},zn={Z:i(function(a){return a.toISOString()},"Z"),D:i(function(a,n,e){return n.weekdays.shorthand[zn.w(a,n,e)]},"D"),F:i(function(a,n,e){return wr(zn.n(a,n,e)-1,!1,n)},"F"),G:i(function(a,n,e){return lt(zn.h(a,n,e))},"G"),H:i(function(a){return lt(a.getHours())},"H"),J:i(function(a,n){return n.ordinal!==void 0?a.getDate()+n.ordinal(a.getDate()):a.getDate()},"J"),K:i(function(a,n){return n.amPM[vt(a.getHours()>11)]},"K"),M:i(function(a,n){return wr(a.getMonth(),!0,n)},"M"),S:i(function(a){return lt(a.getSeconds())},"S"),U:i(function(a){return a.getTime()/1e3},"U"),W:i(function(a,n,e){return e.getWeek(a)},"W"),Y:i(function(a){return lt(a.getFullYear(),4)},"Y"),d:i(function(a){return lt(a.getDate())},"d"),h:i(function(a){return a.getHours()%12?a.getHours()%12:12},"h"),i:i(function(a){return lt(a.getMinutes())},"i"),j:i(function(a){return a.getDate()},"j"),l:i(function(a,n){return n.weekdays.longhand[a.getDay()]},"l"),m:i(function(a){return lt(a.getMonth()+1)},"m"),n:i(function(a){return a.getMonth()+1},"n"),s:i(function(a){return a.getSeconds()},"s"),u:i(function(a){return a.getTime()},"u"),w:i(function(a){return a.getDay()},"w"),y:i(function(a){return String(a.getFullYear()).substring(2)},"y")};var _a=i(function(a){var n=a.config,e=n===void 0?Jt:n,s=a.l10n,f=s===void 0?wi:s,E=a.isMobile,h=E===void 0?!1:E;return function(I,b,S){var C=S||f;return e.formatDate!==void 0&&!h?e.formatDate(I,b,C):b.split("").map(function(M,G,pe){return zn[M]&&pe[G-1]!=="\\"?zn[M](I,C,e):M!=="\\"?M:""}).join("")}},"createDateFormatter"),Ni=i(function(a){var n=a.config,e=n===void 0?Jt:n,s=a.l10n,f=s===void 0?wi:s;return function(E,h,I,b){if(!(E!==0&&!E)){var S=b||f,C,M=E;if(E instanceof Date)C=new Date(E.getTime());else if(typeof E!="string"&&E.toFixed!==void 0)C=new Date(E);else if(typeof E=="string"){var G=h||(e||Jt).dateFormat,pe=String(E).trim();if(pe==="today")C=new Date,I=!0;else if(e&&e.parseDate)C=e.parseDate(E,G);else if(/Z$/.test(pe)||/GMT$/.test(pe))C=new Date(E);else{for(var q=void 0,z=[],Ee=0,ve=0,Q="";Ee<G.length;Ee++){var Ae=G[Ee],Ke=Ae==="\\",ot=G[Ee-1]==="\\"||Ke;if(zt[Ae]&&!ot){Q+=zt[Ae];var at=new RegExp(Q).exec(E);at&&(q=!0)&&z[Ae!=="Y"?"push":"unshift"]({fn:Iu[Ae],val:at[++ve]})}else Ke||(Q+=".")}C=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),z.forEach(function(ue){var _e=ue.fn,ce=ue.val;return C=_e(C,ce,S)||C}),C=q?C:void 0}}if(!(C instanceof Date&&!isNaN(C.getTime()))){e.errorHandler(new Error("Invalid date provided: "+M));return}return I===!0&&C.setHours(0,0,0,0),C}}},"createDateParser");function Tt(a,n,e){return e===void 0&&(e=!0),e!==!1?new Date(a.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):a.getTime()-n.getTime()}i(Tt,"compareDates");var Du=i(function(a,n,e){return a>Math.min(n,e)&&a<Math.max(n,e)},"isBetween"),Fi=i(function(a,n,e){return a*3600+n*60+e},"calculateSecondsSinceMidnight"),yu=i(function(a){var n=Math.floor(a/3600),e=(a-n*3600)/60;return[n,e,a-n*3600-e*60]},"parseSeconds"),Au={DAY:864e5};function xi(a){var n=a.defaultHour,e=a.defaultMinute,s=a.defaultSeconds;if(a.minDate!==void 0){var f=a.minDate.getHours(),E=a.minDate.getMinutes(),h=a.minDate.getSeconds();n<f&&(n=f),n===f&&e<E&&(e=E),n===f&&e===E&&s<h&&(s=a.minDate.getSeconds())}if(a.maxDate!==void 0){var I=a.maxDate.getHours(),b=a.maxDate.getMinutes();n=Math.min(n,I),n===I&&(e=Math.min(b,e)),n===I&&e===b&&(s=a.maxDate.getSeconds())}return{hours:n,minutes:e,seconds:s}}i(xi,"getDefaultHours");typeof Object.assign!="function"&&(Object.assign=function(a){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!a)throw TypeError("Cannot convert undefined or null to object");for(var s=i(function(I){I&&Object.keys(I).forEach(function(b){return a[b]=I[b]})},"_loop_1"),f=0,E=n;f<E.length;f++){var h=E[f];s(h)}return a});var ct=function(){return ct=Object.assign||function(a){for(var n,e=1,s=arguments.length;e<s;e++){n=arguments[e];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(a[f]=n[f])}return a},ct.apply(this,arguments)},bu=function(){for(var a=0,n=0,e=arguments.length;n<e;n++)a+=arguments[n].length;for(var s=Array(a),f=0,n=0;n<e;n++)for(var E=arguments[n],h=0,I=E.length;h<I;h++,f++)s[f]=E[h];return s},Ih=300;function Dh(a,n){var e={config:ct(ct({},Jt),Je.defaultConfig),l10n:Pi};e.parseDate=Ni({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=z,e._setHoursFromDate=G,e._positionCalendar=an,e.changeMonth=Xn,e.changeYear=yn,e.clear=_o,e.close=To,e.onMouseOver=pt,e._createElement=Se,e.createDay=at,e.destroy=Io,e.isEnabled=Ye,e.jumpToDate=Q,e.updateValue=ht,e.open=An,e.redraw=Gt,e.set=Wr,e.setDate=yo,e.toggle=bo;function s(){e.utils={getDaysInMonth:i(function(g,_){return g===void 0&&(g=e.currentMonth),_===void 0&&(_=e.currentYear),g===1&&(_%4===0&&_%100!==0||_%400===0)?29:e.l10n.daysInMonth[g]},"getDaysInMonth")}}i(s,"setupHelperFunctions");function f(){e.element=e.input=a,e.isOpen=!1,jr(),it(),$e(),Ao(),s(),e.isMobile||ot(),ve(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&G(e.config.noCalendar?e.latestSelectedDateObj:void 0),ht(!1)),I();var g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&g&&an(),Ne("onReady")}i(f,"init");function E(){var g;return((g=e.calendarContainer)===null||g===void 0?void 0:g.getRootNode()).activeElement||document.activeElement}i(E,"getClosestActiveElement");function h(g){return g.bind(e)}i(h,"bindToInstance");function I(){var g=e.config;g.weekNumbers===!1&&g.showMonths===1||g.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var _=(e.days.offsetWidth+1)*g.showMonths;e.daysContainer.style.width=_+"px",e.calendarContainer.style.width=_+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}i(I,"setCalendarWidth");function b(g){if(e.selectedDates.length===0){var _=e.config.minDate===void 0||Tt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),A=xi(e.config);_.setHours(A.hours,A.minutes,A.seconds,_.getMilliseconds()),e.selectedDates=[_],e.latestSelectedDateObj=_}g!==void 0&&g.type!=="blur"&&Ro(g);var R=e._input.value;M(),ht(),e._input.value!==R&&e._debouncedChange()}i(b,"updateTime");function S(g,_){return g%12+12*vt(_===e.l10n.amPM[1])}i(S,"ampm2military");function C(g){switch(g%24){case 0:case 12:return 12;default:return g%12}}i(C,"military2ampm");function M(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var g=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,_=(parseInt(e.minuteElement.value,10)||0)%60,A=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(g=S(g,e.amPM.textContent));var R=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Tt(e.latestSelectedDateObj,e.config.minDate,!0)===0,B=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Tt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var j=Fi(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),he=Fi(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),Z=Fi(g,_,A);if(Z>he&&Z<j){var fe=yu(j);g=fe[0],_=fe[1],A=fe[2]}}else{if(B){var ee=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;g=Math.min(g,ee.getHours()),g===ee.getHours()&&(_=Math.min(_,ee.getMinutes())),_===ee.getMinutes()&&(A=Math.min(A,ee.getSeconds()))}if(R){var ie=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;g=Math.max(g,ie.getHours()),g===ie.getHours()&&_<ie.getMinutes()&&(_=ie.getMinutes()),_===ie.getMinutes()&&(A=Math.max(A,ie.getSeconds()))}}pe(g,_,A)}}i(M,"setHoursFromInputs");function G(g){var _=g||e.latestSelectedDateObj;_&&_ instanceof Date&&pe(_.getHours(),_.getMinutes(),_.getSeconds())}i(G,"setHoursFromDate");function pe(g,_,A){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(g%24,_,A||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=lt(e.config.time_24hr?g:(12+g)%12+12*vt(g%12===0)),e.minuteElement.value=lt(_),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[vt(g>=12)]),e.secondElement!==void 0&&(e.secondElement.value=lt(A)))}i(pe,"setHours");function q(g){var _=_t(g),A=parseInt(_.value)+(g.delta||0);(A/1e3>1||g.key==="Enter"&&!/[^\d]/.test(A.toString()))&&yn(A)}i(q,"onYearInput");function z(g,_,A,R){if(_ instanceof Array)return _.forEach(function(B){return z(g,B,A,R)});if(g instanceof Array)return g.forEach(function(B){return z(B,_,A,R)});g.addEventListener(_,A,R),e._handlers.push({remove:i(function(){return g.removeEventListener(_,A,R)},"remove")})}i(z,"bind");function Ee(){Ne("onChange")}i(Ee,"triggerChange");function ve(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(A){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+A+"]"),function(R){return z(R,"click",e[A])})}),e.isMobile){Jn();return}var g=Ea(Do,50);if(e._debouncedChange=Ea(Ee,Ih),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&z(e.daysContainer,"mouseover",function(A){e.config.mode==="range"&&pt(_t(A))}),z(e._input,"keydown",on),e.calendarContainer!==void 0&&z(e.calendarContainer,"keydown",on),!e.config.inline&&!e.config.static&&z(window,"resize",g),window.ontouchstart!==void 0?z(window.document,"touchstart",Be):z(window.document,"mousedown",Be),z(window.document,"focus",Be,{capture:!0}),e.config.clickOpens===!0&&(z(e._input,"focus",e.open),z(e._input,"click",e.open)),e.daysContainer!==void 0&&(z(e.monthNav,"click",So),z(e.monthNav,["keyup","increment"],q),z(e.daysContainer,"click",Ut)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var _=i(function(A){return _t(A).select()},"selText");z(e.timeContainer,["increment"],b),z(e.timeContainer,"blur",b,{capture:!0}),z(e.timeContainer,"click",Ae),z([e.hourElement,e.minuteElement],["focus","click"],_),e.secondElement!==void 0&&z(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&z(e.amPM,"click",function(A){b(A)})}e.config.allowInput&&z(e._input,"blur",Hr)}i(ve,"bindEvents");function Q(g,_){var A=g!==void 0?e.parseDate(g):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),R=e.currentYear,B=e.currentMonth;try{A!==void 0&&(e.currentYear=A.getFullYear(),e.currentMonth=A.getMonth())}catch(j){j.message="Invalid date supplied: "+A,e.config.errorHandler(j)}_&&e.currentYear!==R&&(Ne("onYearChange"),dt()),_&&(e.currentYear!==R||e.currentMonth!==B)&&Ne("onMonthChange"),e.redraw()}i(Q,"jumpToDate");function Ae(g){var _=_t(g);~_.className.indexOf("arrow")&&Ke(g,_.classList.contains("arrowUp")?1:-1)}i(Ae,"timeIncrement");function Ke(g,_,A){var R=g&&_t(g),B=A||R&&R.parentNode&&R.parentNode.firstChild,j=Zn("increment");j.delta=_,B&&B.dispatchEvent(j)}i(Ke,"incrementNumInput");function ot(){var g=window.document.createDocumentFragment();if(e.calendarContainer=Se("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(g.appendChild(Eo()),e.innerContainer=Se("div","flatpickr-innerContainer"),e.config.weekNumbers){var _=vo(),A=_.weekWrapper,R=_.weekNumbers;e.innerContainer.appendChild(A),e.weekNumbers=R,e.weekWrapper=A}e.rContainer=Se("div","flatpickr-rContainer"),e.rContainer.appendChild(Yr()),e.daysContainer||(e.daysContainer=Se("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Pt(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),g.appendChild(e.innerContainer)}e.config.enableTime&&g.appendChild(go()),ut(e.calendarContainer,"rangeMode",e.config.mode==="range"),ut(e.calendarContainer,"animate",e.config.animate===!0),ut(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(g);var B=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!B&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var j=Se("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(j,e.element),j.appendChild(e.element),e.altInput&&j.appendChild(e.altInput),j.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}i(ot,"build");function at(g,_,A,R){var B=Ye(_,!0),j=Se("span",g,_.getDate().toString());return j.dateObj=_,j.$i=R,j.setAttribute("aria-label",e.formatDate(_,e.config.ariaDateFormat)),g.indexOf("hidden")===-1&&Tt(_,e.now)===0&&(e.todayDateElem=j,j.classList.add("today"),j.setAttribute("aria-current","date")),B?(j.tabIndex=-1,Rn(_)&&(j.classList.add("selected"),e.selectedDateElem=j,e.config.mode==="range"&&(ut(j,"startRange",e.selectedDates[0]&&Tt(_,e.selectedDates[0],!0)===0),ut(j,"endRange",e.selectedDates[1]&&Tt(_,e.selectedDates[1],!0)===0),g==="nextMonthDay"&&j.classList.add("inRange")))):j.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Oo(_)&&!Rn(_)&&j.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&g!=="prevMonthDay"&&R%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(_)+"</span>"),Ne("onDayCreate",j),j}i(at,"createDay");function ue(g){g.focus(),e.config.mode==="range"&&pt(g)}i(ue,"focusOnDayElem");function _e(g){for(var _=g>0?0:e.config.showMonths-1,A=g>0?e.config.showMonths:-1,R=_;R!=A;R+=g)for(var B=e.daysContainer.children[R],j=g>0?0:B.children.length-1,he=g>0?B.children.length:-1,Z=j;Z!=he;Z+=g){var fe=B.children[Z];if(fe.className.indexOf("hidden")===-1&&Ye(fe.dateObj))return fe}}i(_e,"getFirstAvailableDay");function ce(g,_){for(var A=g.className.indexOf("Month")===-1?g.dateObj.getMonth():e.currentMonth,R=_>0?e.config.showMonths:-1,B=_>0?1:-1,j=A-e.currentMonth;j!=R;j+=B)for(var he=e.daysContainer.children[j],Z=A-e.currentMonth===j?g.$i+_:_<0?he.children.length-1:0,fe=he.children.length,ee=Z;ee>=0&&ee<fe&&ee!=(_>0?fe:-1);ee+=B){var ie=he.children[ee];if(ie.className.indexOf("hidden")===-1&&Ye(ie.dateObj)&&Math.abs(g.$i-ee)>=Math.abs(_))return ue(ie)}e.changeMonth(B),Ue(_e(B),0)}i(ce,"getNextAvailableDay");function Ue(g,_){var A=E(),R=rn(A||document.body),B=g!==void 0?g:R?A:e.selectedDateElem!==void 0&&rn(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&rn(e.todayDateElem)?e.todayDateElem:_e(_>0?1:-1);B===void 0?e._input.focus():R?ce(B,_):ue(B)}i(Ue,"focusOnDay");function be(g,_){for(var A=(new Date(g,_,1).getDay()-e.l10n.firstDayOfWeek+7)%7,R=e.utils.getDaysInMonth((_-1+12)%12,g),B=e.utils.getDaysInMonth(_,g),j=window.document.createDocumentFragment(),he=e.config.showMonths>1,Z=he?"prevMonthDay hidden":"prevMonthDay",fe=he?"nextMonthDay hidden":"nextMonthDay",ee=R+1-A,ie=0;ee<=R;ee++,ie++)j.appendChild(at("flatpickr-day "+Z,new Date(g,_-1,ee),ee,ie));for(ee=1;ee<=B;ee++,ie++)j.appendChild(at("flatpickr-day",new Date(g,_,ee),ee,ie));for(var Pe=B+1;Pe<=42-A&&(e.config.showMonths===1||ie%7!==0);Pe++,ie++)j.appendChild(at("flatpickr-day "+fe,new Date(g,_+1,Pe%B),Pe,ie));var Dt=Se("div","dayContainer");return Dt.appendChild(j),Dt}i(be,"buildMonthDays");function Pt(){if(e.daysContainer!==void 0){Lr(e.daysContainer),e.weekNumbers&&Lr(e.weekNumbers);for(var g=document.createDocumentFragment(),_=0;_<e.config.showMonths;_++){var A=new Date(e.currentYear,e.currentMonth,1);A.setMonth(e.currentMonth+_),g.appendChild(be(A.getFullYear(),A.getMonth()))}e.daysContainer.appendChild(g),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&pt()}}i(Pt,"buildDays");function dt(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var g=i(function(R){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&R<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&R>e.config.maxDate.getMonth())},"shouldBuildMonth");e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var _=0;_<12;_++)if(g(_)){var A=Se("option","flatpickr-monthDropdown-month");A.value=new Date(e.currentYear,_).getMonth().toString(),A.textContent=wr(_,e.config.shorthandCurrentMonth,e.l10n),A.tabIndex=-1,e.currentMonth===_&&(A.selected=!0),e.monthsDropdownContainer.appendChild(A)}}}i(dt,"buildMonthSwitch");function $n(){var g=Se("div","flatpickr-month"),_=window.document.createDocumentFragment(),A;e.config.showMonths>1||e.config.monthSelectorType==="static"?A=Se("span","cur-month"):(e.monthsDropdownContainer=Se("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),z(e.monthsDropdownContainer,"change",function(he){var Z=_t(he),fe=parseInt(Z.value,10);e.changeMonth(fe-e.currentMonth),Ne("onMonthChange")}),dt(),A=e.monthsDropdownContainer);var R=Cr("cur-year",{tabindex:"-1"}),B=R.getElementsByTagName("input")[0];B.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&B.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(B.setAttribute("max",e.config.maxDate.getFullYear().toString()),B.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var j=Se("div","flatpickr-current-month");return j.appendChild(A),j.appendChild(R),_.appendChild(j),g.appendChild(_),{container:g,yearElement:B,monthElement:A}}i($n,"buildMonth");function Dn(){Lr(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var g=e.config.showMonths;g--;){var _=$n();e.yearElements.push(_.yearElement),e.monthElements.push(_.monthElement),e.monthNav.appendChild(_.container)}e.monthNav.appendChild(e.nextMonthNav)}i(Dn,"buildMonths");function Eo(){return e.monthNav=Se("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=Se("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=Se("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Dn(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:i(function(){return e.__hidePrevMonthArrow},"get"),set:i(function(g){e.__hidePrevMonthArrow!==g&&(ut(e.prevMonthNav,"flatpickr-disabled",g),e.__hidePrevMonthArrow=g)},"set")}),Object.defineProperty(e,"_hideNextMonthArrow",{get:i(function(){return e.__hideNextMonthArrow},"get"),set:i(function(g){e.__hideNextMonthArrow!==g&&(ut(e.nextMonthNav,"flatpickr-disabled",g),e.__hideNextMonthArrow=g)},"set")}),e.currentYearElement=e.yearElements[0],Ln(),e.monthNav}i(Eo,"buildMonthNav");function go(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var g=xi(e.config);e.timeContainer=Se("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var _=Se("span","flatpickr-time-separator",":"),A=Cr("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=A.getElementsByTagName("input")[0];var R=Cr("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=R.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=lt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?g.hours:C(g.hours)),e.minuteElement.value=lt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():g.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(A),e.timeContainer.appendChild(_),e.timeContainer.appendChild(R),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var B=Cr("flatpickr-second");e.secondElement=B.getElementsByTagName("input")[0],e.secondElement.value=lt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():g.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(Se("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(B)}return e.config.time_24hr||(e.amPM=Se("span","flatpickr-am-pm",e.l10n.amPM[vt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}i(go,"buildTime");function Yr(){e.weekdayContainer?Lr(e.weekdayContainer):e.weekdayContainer=Se("div","flatpickr-weekdays");for(var g=e.config.showMonths;g--;){var _=Se("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(_)}return rt(),e.weekdayContainer}i(Yr,"buildWeekdays");function rt(){if(e.weekdayContainer){var g=e.l10n.firstDayOfWeek,_=bu(e.l10n.weekdays.shorthand);g>0&&g<_.length&&(_=bu(_.splice(g,_.length),_.splice(0,g)));for(var A=e.config.showMonths;A--;)e.weekdayContainer.children[A].innerHTML=`
      <span class='flatpickr-weekday'>
        `+_.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}i(rt,"updateWeekdays");function vo(){e.calendarContainer.classList.add("hasWeeks");var g=Se("div","flatpickr-weekwrapper");g.appendChild(Se("span","flatpickr-weekday",e.l10n.weekAbbreviation));var _=Se("div","flatpickr-weeks");return g.appendChild(_),{weekWrapper:g,weekNumbers:_}}i(vo,"buildWeeks");function Xn(g,_){_===void 0&&(_=!0);var A=_?g:g-e.currentMonth;A<0&&e._hidePrevMonthArrow===!0||A>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=A,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ne("onYearChange"),dt()),Pt(),Ne("onMonthChange"),Ln())}i(Xn,"changeMonth");function _o(g,_){if(g===void 0&&(g=!0),_===void 0&&(_=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,_===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var A=xi(e.config),R=A.hours,B=A.minutes,j=A.seconds;pe(R,B,j)}e.redraw(),g&&Ne("onChange")}i(_o,"clear");function To(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Ne("onClose")}i(To,"close");function Io(){e.config!==void 0&&Ne("onDestroy");for(var g=e._handlers.length;g--;)e._handlers[g].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var _=e.calendarContainer.parentNode;if(_.lastChild&&_.removeChild(_.lastChild),_.parentNode){for(;_.firstChild;)_.parentNode.insertBefore(_.firstChild,_);_.parentNode.removeChild(_)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(A){try{delete e[A]}catch{}})}i(Io,"destroy");function Kt(g){return e.calendarContainer.contains(g)}i(Kt,"isCalendarElem");function Be(g){if(e.isOpen&&!e.config.inline){var _=_t(g),A=Kt(_),R=_===e.input||_===e.altInput||e.element.contains(_)||g.path&&g.path.indexOf&&(~g.path.indexOf(e.input)||~g.path.indexOf(e.altInput)),B=!R&&!A&&!Kt(g.relatedTarget),j=!e.config.ignoredFocusElements.some(function(he){return he.contains(_)});B&&j&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&b(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}i(Be,"documentClick");function yn(g){if(!(!g||e.config.minDate&&g<e.config.minDate.getFullYear()||e.config.maxDate&&g>e.config.maxDate.getFullYear())){var _=g,A=e.currentYear!==_;e.currentYear=_||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),A&&(e.redraw(),Ne("onYearChange"),dt())}}i(yn,"changeYear");function Ye(g,_){var A;_===void 0&&(_=!0);var R=e.parseDate(g,void 0,_);if(e.config.minDate&&R&&Tt(R,e.config.minDate,_!==void 0?_:!e.minDateHasTime)<0||e.config.maxDate&&R&&Tt(R,e.config.maxDate,_!==void 0?_:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(R===void 0)return!1;for(var B=!!e.config.enable,j=(A=e.config.enable)!==null&&A!==void 0?A:e.config.disable,he=0,Z=void 0;he<j.length;he++){if(Z=j[he],typeof Z=="function"&&Z(R))return B;if(Z instanceof Date&&R!==void 0&&Z.getTime()===R.getTime())return B;if(typeof Z=="string"){var fe=e.parseDate(Z,void 0,!0);return fe&&fe.getTime()===R.getTime()?B:!B}else if(typeof Z=="object"&&R!==void 0&&Z.from&&Z.to&&R.getTime()>=Z.from.getTime()&&R.getTime()<=Z.to.getTime())return B}return!B}i(Ye,"isEnabled");function rn(g){return e.daysContainer!==void 0?g.className.indexOf("hidden")===-1&&g.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(g):!1}i(rn,"isInView");function Hr(g){var _=g.target===e._input,A=e._input.value.trimEnd()!==er();_&&A&&!(g.relatedTarget&&Kt(g.relatedTarget))&&e.setDate(e._input.value,!0,g.target===e.altInput?e.config.altFormat:e.config.dateFormat)}i(Hr,"onBlur");function on(g){var _=_t(g),A=e.config.wrap?a.contains(_):_===e._input,R=e.config.allowInput,B=e.isOpen&&(!R||!A),j=e.config.inline&&A&&!R;if(g.keyCode===13&&A){if(R)return e.setDate(e._input.value,!0,_===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),_.blur();e.open()}else if(Kt(_)||B||j){var he=!!e.timeContainer&&e.timeContainer.contains(_);switch(g.keyCode){case 13:he?(g.preventDefault(),b(),On()):Ut(g);break;case 27:g.preventDefault(),On();break;case 8:case 46:A&&!e.config.allowInput&&(g.preventDefault(),e.clear());break;case 37:case 39:if(!he&&!A){g.preventDefault();var Z=E();if(e.daysContainer!==void 0&&(R===!1||Z&&rn(Z))){var fe=g.keyCode===39?1:-1;g.ctrlKey?(g.stopPropagation(),Xn(fe),Ue(_e(1),0)):Ue(void 0,fe)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:g.preventDefault();var ee=g.keyCode===40?1:-1;e.daysContainer&&_.$i!==void 0||_===e.input||_===e.altInput?g.ctrlKey?(g.stopPropagation(),yn(e.currentYear-ee),Ue(_e(1),0)):he||Ue(void 0,ee*7):_===e.currentYearElement?yn(e.currentYear-ee):e.config.enableTime&&(!he&&e.hourElement&&e.hourElement.focus(),b(g),e._debouncedChange());break;case 9:if(he){var ie=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(mt){return mt}),Pe=ie.indexOf(_);if(Pe!==-1){var Dt=ie[Pe+(g.shiftKey?-1:1)];g.preventDefault(),(Dt||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(_)&&g.shiftKey&&(g.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&_===e.amPM)switch(g.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],M(),ht();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],M(),ht();break}(A||Kt(_))&&Ne("onKeyDown",g)}i(on,"onKeyDown");function pt(g,_){if(_===void 0&&(_="flatpickr-day"),!(e.selectedDates.length!==1||g&&(!g.classList.contains(_)||g.classList.contains("flatpickr-disabled")))){for(var A=g?g.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),R=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),B=Math.min(A,e.selectedDates[0].getTime()),j=Math.max(A,e.selectedDates[0].getTime()),he=!1,Z=0,fe=0,ee=B;ee<j;ee+=Au.DAY)Ye(new Date(ee),!0)||(he=he||ee>B&&ee<j,ee<R&&(!Z||ee>Z)?Z=ee:ee>R&&(!fe||ee<fe)&&(fe=ee));var ie=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+_));ie.forEach(function(Pe){var Dt=Pe.dateObj,mt=Dt.getTime(),Cn=Z>0&&mt<Z||fe>0&&mt>fe;if(Cn){Pe.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Vt){Pe.classList.remove(Vt)});return}else if(he&&!Cn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Vt){Pe.classList.remove(Vt)}),g!==void 0&&(g.classList.add(A<=e.selectedDates[0].getTime()?"startRange":"endRange"),R<A&&mt===R?Pe.classList.add("startRange"):R>A&&mt===R&&Pe.classList.add("endRange"),mt>=Z&&(fe===0||mt<=fe)&&Du(mt,R,A)&&Pe.classList.add("inRange"))})}}i(pt,"onMouseOver");function Do(){e.isOpen&&!e.config.static&&!e.config.inline&&an()}i(Do,"onResize");function An(g,_){if(_===void 0&&(_=e._positionElement),e.isMobile===!0){if(g){g.preventDefault();var A=_t(g);A&&A.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Ne("onOpen");return}else if(e._input.disabled||e.config.inline)return;var R=e.isOpen;e.isOpen=!0,R||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ne("onOpen"),an(_)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(g===void 0||!e.timeContainer.contains(g.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}i(An,"open");function qr(g){return function(_){var A=e.config["_"+g+"Date"]=e.parseDate(_,e.config.dateFormat),R=e.config["_"+(g==="min"?"max":"min")+"Date"];A!==void 0&&(e[g==="min"?"minDateHasTime":"maxDateHasTime"]=A.getHours()>0||A.getMinutes()>0||A.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(B){return Ye(B)}),!e.selectedDates.length&&g==="min"&&G(A),ht()),e.daysContainer&&(Gt(),A!==void 0?e.currentYearElement[g]=A.getFullYear().toString():e.currentYearElement.removeAttribute(g),e.currentYearElement.disabled=!!R&&A!==void 0&&R.getFullYear()===A.getFullYear())}}i(qr,"minMaxDateSetter");function jr(){var g=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],_=ct(ct({},JSON.parse(JSON.stringify(a.dataset||{}))),n),A={};e.config.parseDate=_.parseDate,e.config.formatDate=_.formatDate,Object.defineProperty(e.config,"enable",{get:i(function(){return e.config._enable},"get"),set:i(function(ie){e.config._enable=$r(ie)},"set")}),Object.defineProperty(e.config,"disable",{get:i(function(){return e.config._disable},"get"),set:i(function(ie){e.config._disable=$r(ie)},"set")});var R=_.mode==="time";if(!_.dateFormat&&(_.enableTime||R)){var B=Je.defaultConfig.dateFormat||Jt.dateFormat;A.dateFormat=_.noCalendar||R?"H:i"+(_.enableSeconds?":S":""):B+" H:i"+(_.enableSeconds?":S":"")}if(_.altInput&&(_.enableTime||R)&&!_.altFormat){var j=Je.defaultConfig.altFormat||Jt.altFormat;A.altFormat=_.noCalendar||R?"h:i"+(_.enableSeconds?":S K":" K"):j+(" h:i"+(_.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:i(function(){return e.config._minDate},"get"),set:qr("min")}),Object.defineProperty(e.config,"maxDate",{get:i(function(){return e.config._maxDate},"get"),set:qr("max")});var he=i(function(ie){return function(Pe){e.config[ie==="min"?"_minTime":"_maxTime"]=e.parseDate(Pe,"H:i:S")}},"minMaxTimeSetter");Object.defineProperty(e.config,"minTime",{get:i(function(){return e.config._minTime},"get"),set:he("min")}),Object.defineProperty(e.config,"maxTime",{get:i(function(){return e.config._maxTime},"get"),set:he("max")}),_.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,A,_);for(var Z=0;Z<g.length;Z++)e.config[g[Z]]=e.config[g[Z]]===!0||e.config[g[Z]]==="true";Ci.filter(function(ie){return e.config[ie]!==void 0}).forEach(function(ie){e.config[ie]=Mi(e.config[ie]||[]).map(h)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Z=0;Z<e.config.plugins.length;Z++){var fe=e.config.plugins[Z](e)||{};for(var ee in fe)Ci.indexOf(ee)>-1?e.config[ee]=Mi(fe[ee]).map(h).concat(e.config[ee]):typeof _[ee]>"u"&&(e.config[ee]=fe[ee])}_.altInputClass||(e.config.altInputClass=Qn().className+" "+e.config.altInputClass),Ne("onParseConfig")}i(jr,"parseConfig");function Qn(){return e.config.wrap?a.querySelector("[data-input]"):a}i(Qn,"getInputElem");function it(){typeof e.config.locale!="object"&&typeof Je.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ct(ct({},Je.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Je.l10ns[e.config.locale]:void 0),zt.D="("+e.l10n.weekdays.shorthand.join("|")+")",zt.l="("+e.l10n.weekdays.longhand.join("|")+")",zt.M="("+e.l10n.months.shorthand.join("|")+")",zt.F="("+e.l10n.months.longhand.join("|")+")",zt.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var g=ct(ct({},n),JSON.parse(JSON.stringify(a.dataset||{})));g.time_24hr===void 0&&Je.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=_a(e),e.parseDate=Ni({config:e.config,l10n:e.l10n})}i(it,"setupLocale");function an(g){if(typeof e.config.position=="function")return void e.config.position(e,g);if(e.calendarContainer!==void 0){Ne("onPreCalendarPosition");var _=g||e._positionElement,A=Array.prototype.reduce.call(e.calendarContainer.children,function(Lo,Ba){return Lo+Ba.offsetHeight},0),R=e.calendarContainer.offsetWidth,B=e.config.position.split(" "),j=B[0],he=B.length>1?B[1]:null,Z=_.getBoundingClientRect(),fe=window.innerHeight-Z.bottom,ee=j==="above"||j!=="below"&&fe<A&&Z.top>A,ie=window.pageYOffset+Z.top+(ee?-A-2:_.offsetHeight+2);if(ut(e.calendarContainer,"arrowTop",!ee),ut(e.calendarContainer,"arrowBottom",ee),!e.config.inline){var Pe=window.pageXOffset+Z.left,Dt=!1,mt=!1;he==="center"?(Pe-=(R-Z.width)/2,Dt=!0):he==="right"&&(Pe-=R-Z.width,mt=!0),ut(e.calendarContainer,"arrowLeft",!Dt&&!mt),ut(e.calendarContainer,"arrowCenter",Dt),ut(e.calendarContainer,"arrowRight",mt);var Cn=window.document.body.offsetWidth-(window.pageXOffset+Z.right),Vt=Pe+R>window.document.body.offsetWidth,Na=Cn+R>window.document.body.offsetWidth;if(ut(e.calendarContainer,"rightMost",Vt),!e.config.static)if(e.calendarContainer.style.top=ie+"px",!Vt)e.calendarContainer.style.left=Pe+"px",e.calendarContainer.style.right="auto";else if(!Na)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Cn+"px";else{var Qr=bn();if(Qr===void 0)return;var Fa=window.document.body.offsetWidth,tr=Math.max(0,Fa/2-R/2),Jr=".flatpickr-calendar.centerMost:before",xa=".flatpickr-calendar.centerMost:after",Zr=Qr.cssRules.length,Ua="{left:"+Z.left+"px;right:auto;}";ut(e.calendarContainer,"rightMost",!1),ut(e.calendarContainer,"centerMost",!0),Qr.insertRule(Jr+","+xa+Ua,Zr),e.calendarContainer.style.left=tr+"px",e.calendarContainer.style.right="auto"}}}}i(an,"positionCalendar");function bn(){for(var g=null,_=0;_<document.styleSheets.length;_++){var A=document.styleSheets[_];if(A.cssRules){try{A.cssRules}catch{continue}g=A;break}}return g??zr()}i(bn,"getDocumentStyleSheet");function zr(){var g=document.createElement("style");return document.head.appendChild(g),g.sheet}i(zr,"createStyleSheet");function Gt(){e.config.noCalendar||e.isMobile||(dt(),Ln(),Pt())}i(Gt,"redraw");function On(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}i(On,"focusAndClose");function Ut(g){g.preventDefault(),g.stopPropagation();var _=i(function(ie){return ie.classList&&ie.classList.contains("flatpickr-day")&&!ie.classList.contains("flatpickr-disabled")&&!ie.classList.contains("notAllowed")},"isSelectable"),A=ga(_t(g),_);if(A!==void 0){var R=A,B=e.latestSelectedDateObj=new Date(R.dateObj.getTime()),j=(B.getMonth()<e.currentMonth||B.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=R,e.config.mode==="single")e.selectedDates=[B];else if(e.config.mode==="multiple"){var he=Rn(B);he?e.selectedDates.splice(parseInt(he),1):e.selectedDates.push(B)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=B,e.selectedDates.push(B),Tt(B,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(ie,Pe){return ie.getTime()-Pe.getTime()}));if(M(),j){var Z=e.currentYear!==B.getFullYear();e.currentYear=B.getFullYear(),e.currentMonth=B.getMonth(),Z&&(Ne("onYearChange"),dt()),Ne("onMonthChange")}if(Ln(),Pt(),ht(),!j&&e.config.mode!=="range"&&e.config.showMonths===1?ue(R):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var fe=e.config.mode==="single"&&!e.config.enableTime,ee=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(fe||ee)&&On()}Ee()}}i(Ut,"selectDate");var Sn={locale:[it,rt],showMonths:[Dn,I,Yr],minDate:[Q],maxDate:[Q],positionElement:[Xr],clickOpens:[function(){e.config.clickOpens===!0?(z(e._input,"focus",e.open),z(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Wr(g,_){if(g!==null&&typeof g=="object"){Object.assign(e.config,g);for(var A in g)Sn[A]!==void 0&&Sn[A].forEach(function(R){return R()})}else e.config[g]=_,Sn[g]!==void 0?Sn[g].forEach(function(R){return R()}):Ci.indexOf(g)>-1&&(e.config[g]=Mi(_));e.redraw(),ht(!0)}i(Wr,"set");function Kr(g,_){var A=[];if(g instanceof Array)A=g.map(function(R){return e.parseDate(R,_)});else if(g instanceof Date||typeof g=="number")A=[e.parseDate(g,_)];else if(typeof g=="string")switch(e.config.mode){case"single":case"time":A=[e.parseDate(g,_)];break;case"multiple":A=g.split(e.config.conjunction).map(function(R){return e.parseDate(R,_)});break;case"range":A=g.split(e.l10n.rangeSeparator).map(function(R){return e.parseDate(R,_)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(g)));e.selectedDates=e.config.allowInvalidPreload?A:A.filter(function(R){return R instanceof Date&&Ye(R,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(R,B){return R.getTime()-B.getTime()})}i(Kr,"setSelectedDate");function yo(g,_,A){if(_===void 0&&(_=!1),A===void 0&&(A=e.config.dateFormat),g!==0&&!g||g instanceof Array&&g.length===0)return e.clear(_);Kr(g,A),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),Q(void 0,_),G(),e.selectedDates.length===0&&e.clear(!1),ht(_),_&&Ne("onChange")}i(yo,"setDate");function $r(g){return g.slice().map(function(_){return typeof _=="string"||typeof _=="number"||_ instanceof Date?e.parseDate(_,void 0,!0):_&&typeof _=="object"&&_.from&&_.to?{from:e.parseDate(_.from,void 0),to:e.parseDate(_.to,void 0)}:_}).filter(function(_){return _})}i($r,"parseDateRules");function Ao(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var g=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);g&&Kr(g,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}i(Ao,"setupDates");function $e(){if(e.input=Qn(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=Se(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Xr()}i($e,"setupInputs");function Xr(){e._positionElement=e.config.positionElement||e._input}i(Xr,"updatePositionElement");function Jn(){var g=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=Se("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=g,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=g==="datetime-local"?"Y-m-d\\TH:i:S":g==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}z(e.mobileInput,"change",function(_){e.setDate(_t(_).value,!1,e.mobileFormatStr),Ne("onChange"),Ne("onClose")})}i(Jn,"setupMobile");function bo(g){if(e.isOpen===!0)return e.close();e.open(g)}i(bo,"toggle");function Ne(g,_){if(e.config!==void 0){var A=e.config[g];if(A!==void 0&&A.length>0)for(var R=0;A[R]&&R<A.length;R++)A[R](e.selectedDates,e.input.value,e,_);g==="onChange"&&(e.input.dispatchEvent(Zn("change")),e.input.dispatchEvent(Zn("input")))}}i(Ne,"triggerEvent");function Zn(g){var _=document.createEvent("Event");return _.initEvent(g,!0,!0),_}i(Zn,"createEvent");function Rn(g){for(var _=0;_<e.selectedDates.length;_++){var A=e.selectedDates[_];if(A instanceof Date&&Tt(A,g)===0)return""+_}return!1}i(Rn,"isDateSelected");function Oo(g){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Tt(g,e.selectedDates[0])>=0&&Tt(g,e.selectedDates[1])<=0}i(Oo,"isDateInRange");function Ln(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(g,_){var A=new Date(e.currentYear,e.currentMonth,1);A.setMonth(e.currentMonth+_),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[_].textContent=wr(A.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=A.getMonth().toString(),g.value=A.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}i(Ln,"updateNavigationCurrentMonth");function er(g){var _=g||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(A){return e.formatDate(A,_)}).filter(function(A,R,B){return e.config.mode!=="range"||e.config.enableTime||B.indexOf(A)===R}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}i(er,"getDateStr");function ht(g){g===void 0&&(g=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=er(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=er(e.config.altFormat)),g!==!1&&Ne("onValueUpdate")}i(ht,"updateValue");function So(g){var _=_t(g),A=e.prevMonthNav.contains(_),R=e.nextMonthNav.contains(_);A||R?Xn(A?-1:1):e.yearElements.indexOf(_)>=0?_.select():_.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):_.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}i(So,"onMonthNavClick");function Ro(g){g.preventDefault();var _=g.type==="keydown",A=_t(g),R=A;e.amPM!==void 0&&A===e.amPM&&(e.amPM.textContent=e.l10n.amPM[vt(e.amPM.textContent===e.l10n.amPM[0])]);var B=parseFloat(R.getAttribute("min")),j=parseFloat(R.getAttribute("max")),he=parseFloat(R.getAttribute("step")),Z=parseInt(R.value,10),fe=g.delta||(_?g.which===38?1:-1:0),ee=Z+he*fe;if(typeof R.value<"u"&&R.value.length===2){var ie=R===e.hourElement,Pe=R===e.minuteElement;ee<B?(ee=j+ee+vt(!ie)+(vt(ie)&&vt(!e.amPM)),Pe&&Ke(void 0,-1,e.hourElement)):ee>j&&(ee=R===e.hourElement?ee-j-vt(!e.amPM):B,Pe&&Ke(void 0,1,e.hourElement)),e.amPM&&ie&&(he===1?ee+Z===23:Math.abs(ee-Z)>he)&&(e.amPM.textContent=e.l10n.amPM[vt(e.amPM.textContent===e.l10n.amPM[0])]),R.value=lt(ee)}}return i(Ro,"timeWrapper"),f(),e}i(Dh,"FlatpickrInstance");function Wn(a,n){for(var e=Array.prototype.slice.call(a).filter(function(h){return h instanceof HTMLElement}),s=[],f=0;f<e.length;f++){var E=e[f];try{if(E.getAttribute("data-fp-omit")!==null)continue;E._flatpickr!==void 0&&(E._flatpickr.destroy(),E._flatpickr=void 0),E._flatpickr=Dh(E,n||{}),s.push(E._flatpickr)}catch(h){console.error(h)}}return s.length===1?s[0]:s}i(Wn,"_flatpickr");typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(a){return Wn(this,a)},HTMLElement.prototype.flatpickr=function(a){return Wn([this],a)});var Je=i(function(a,n){return typeof a=="string"?Wn(window.document.querySelectorAll(a),n):a instanceof Node?Wn([a],n):Wn(a,n)},"flatpickr");Je.defaultConfig={};Je.l10ns={en:ct({},Pi),default:ct({},Pi)};Je.localize=function(a){Je.l10ns.default=ct(ct({},Je.l10ns.default),a)};Je.setDefaults=function(a){Je.defaultConfig=ct(ct({},Je.defaultConfig),a)};Je.parseDate=Ni({});Je.formatDate=_a({});Je.compareDates=Tt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(a){return Wn(this,a)});Date.prototype.fp_incr=function(a){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof a=="string"?parseInt(a,10):a))};typeof window<"u"&&(window.flatpickr=Je);var Zt=Je;var yh=Zt,Bi=class extends Te{static{i(this,"DatetimeField")}options={id:"",type:mr,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),className:Ve,enhance:!0,options:{altInput:!0,enableTime:!0}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=yh(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"datetime-local"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var Pr=class{static{i(this,"Button")}options={id:"",type:"button",buttonType:"submit",className:xl,template:"Submit"};containerElement=null;buttonElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(n,e,s){this.initializeOptions(s),this._parent=n,this._form=e,this._id=this.options.id,this._type=s.type,this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getType(){return this._type}getButtonType(){return this.options.buttonType}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=Pl,this.containerElement.setAttribute(oe,this._id+Bt)}createButtonElement(){this.buttonElement=document.createElement(Di),this.buttonElement.className=this.options.className,this.buttonElement.setAttribute(oe,this._id),this.buttonElement.setAttribute(Me,this.options.buttonType),typeof this.options.template=="string"?this.buttonElement.innerText=this.options.template:typeof this.options.template=="function"&&(this.buttonElement.innerHTML="",this.buttonElement.append(this.options.template())),this.buttonElement.addEventListener(yi,n=>this.onClick(n))}onGui(){this.createContainerElement(),this.createButtonElement(),this.containerElement&&this.buttonElement&&ae(this.buttonElement,this.containerElement)}mount(){this.buttonElement&&ae(this.buttonElement,this._parent),this._isMounted=!0}unmount(){this.buttonElement&&qt(this.buttonElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}onClick(n){this.options.click&&this.options.click(n,this._form.getData()),this.dispatchEvent("clicked")}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let n=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),n!==this._isVisible&&this.dispatchEvent("visibilityChanged")}dispatchEvent(n,e=null){function s(E){if(E!=null){if(typeof E=="boolean")return new CustomEvent(n,{detail:E});new CustomEvent(n,E)}return new CustomEvent(n)}i(s,"getDispathedEvent");let f=s(e);this.buttonElement?.dispatchEvent(f)}on(n,e,s){this.buttonElement?.addEventListener(n,e,s)}off(n,e,s){this.buttonElement?.removeEventListener(n,e,s)}};var Gi=class extends Te{static{i(this,"CheckboxField")}options={id:"",type:dr,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),default:null,className:Gl,toggle:!1};sliderElement=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&(this.getValue()&&!this.inputElement.hasAttribute(wt)?this.inputElement.setAttribute(wt,String(this.getValue())):!this.getValue()&&this.inputElement.hasAttribute(wt)&&this.inputElement.removeAttribute(wt))}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=Qt+" "+this.getType(),this.options.toggle&&(this.containerElement.className+=" "+Vl),this.containerElement.setAttribute(oe,this.getId()+Bt)}createLabelElement(){this.labelElement=document.createElement(kn),this.inputElement&&this.labelElement&&ae(this.inputElement,this.labelElement),this.sliderElement&&this.labelElement&&ae(this.sliderElement,this.labelElement);let n=document.createElement(vn);this.options.label&&(typeof this.options.label=="string"?n.innerText=this.options.label:typeof this.options.label=="function"&&(n.innerHTML="",n.append(this.options.label()))),n.setAttribute(oe,this.getId()+jt),this.labelElement.setAttribute(Yn,this.options.name||this.getId()),n.className=En,this.options.label&&ae(n,this.labelElement)}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.default&&this.inputElement.setAttribute(wt,String(this.options.default)),this.inputElement.className=this.options.className}createToggleSpan(){this.sliderElement=document.createElement(gn),this.sliderElement.className=kl}onGui(){this.createContainerElement(),this.options.toggle&&this.createToggleSpan(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.containerElement&&this.labelElement&&ae(this.labelElement,this.containerElement),this.labelElement&&this.validationElement&&ae(this.validationElement,this.labelElement)}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}change(n){this.setValue(n.target.checked),this.options.change&&this.options.change(this.getValue()),this.validate(),this.dispatchEvent("changed",this._value)}getValue(){return this._value}};var Vi=class extends Te{static{i(this,"ColorField")}options={id:"",type:pr,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),default:null,className:Yl};constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}getValue(){return this._value}};var Ah=Zt,ki=class extends Te{static{i(this,"DateField")}options={id:"",type:hr,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),className:Ve,enhance:!0,options:{altInput:!0}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=Ah(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"date"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var Yi=class extends Te{static{i(this,"EmailField")}options={id:"",type:Er,required:!1,validation:i((n,e,s)=>s&&!n?ye:n&&typeof n=="string"&&!n.match(this.mailFormat)?Ql:!0,"validation"),default:"",className:Ve};mailFormat=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Ru=sl(Su(),1);var qi=class extends Te{static{i(this,"FileField")}options={id:"",type:gr,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),className:Ve,enhance:!0,multiple:!1,debounce:50,options:{storeAsFile:!0,instantUpload:!1,allowProcess:!1}};_filepond=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFilepond(),this.bindChange()}initializeOptions(n){this.options=Object.assign({},{...this.options,options:{allowMultiple:n.multiple}},Ct(this.options.type,n))}syncValue(){}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder),this.inputElement.className=this.options.className,this.options.multiple&&!this.options.enhance&&this.inputElement.setAttribute(Ai,"true"),this.options.accept&&this.inputElement.setAttribute(_u,this.options.accept)}getFilepond(){return this._filepond}initFilepond(){this.inputElement&&this.options.enhance&&(this._filepond=(0,Ru.create)(this.inputElement,this.options.options||{}))}bindChange(){if(this.options.enhance){if(!this._filepond)return;this._filepond.on("addfile",(n,e)=>{if(n)return;let s=this._filepond.getFiles();this.filePondChange(s)}),this._filepond.on("removefile",(n,e)=>{if(n)return;let s=this._filepond.getFiles();this.filePondChange(s)}),this._filepond.on("updatefiles",(n,e)=>{if(n)return;let s=this._filepond.getFiles();this.filePondChange(s)})}else this.inputElement?.addEventListener(Qe,Bn(this.change,this.options.debounce,this))}filePondChange(n){this.changeValue(n)}change(n){n.target?.files&&this.changeValue(n.target.files)}changeValue(n){this.setValue(n),this.validate(),this.handleValidatedField(),this.options.change&&this.options.change(this._value),this.dispatchEvent("changed",n)}getValue(){return this._value}};var ji=class{static{i(this,"HiddenField")}options={id:"",type:vr,default:null};inputElement=null;containerElement=null;labelElement=null;validationElement=null;_id;_parent;_form;_saveKey;_value=null;_type;constructor(n,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=n,this._type=s.type,this._saveKey=mn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.load(),this.update()}setValue(n,e=!0){this._value=n,this.syncValue(),this._form.setData(this._id,n),e&&this.save()}getValue(){return this._value}syncValue(){this.inputElement&&this.inputElement instanceof HTMLInputElement&&this.inputElement.value!==this._value&&(this.inputElement.value=this._value)}mountToParent(){this.containerElement&&ae(this.containerElement,this._parent)}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=Qt+" "+this.getType(),this.containerElement.setAttribute(oe,this.getId()+Bt)}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType())}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getForm(){return this._form}onGui(){this.createContainerElement(),this.createInputElement(),this.containerElement&&this.inputElement&&ae(this.inputElement,this.containerElement),this.mountToParent()}destroy(){this._parent&&this._parent.remove()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let n=localStorage.getItem(this._saveKey);if(n!==null){this.setValue(Gn(n)?JSON.parse(n):n,!1);return}}this.setValue(this.options.default??null,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setValue(this.options.default??null,!1),this.update()}async update(){}};var zi=class extends Te{static{i(this,"NumberField")}options={id:"",type:_r,required:!1,validation:i((n,e,s)=>s&&!n&&n!==0?ye:this.options.min&&this.options.min>n?Ti+this.options.min:this.options.max&&this.options.max<n?Ii+this.options.max:!0,"validation"),default:null,className:Ve};constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize(),this.bindMinMax()}async initialize(){this.load(),this.update(),this.bindMinMax(),this.bindChange()}bindMinMax(){this.inputElement&&(this.options.min&&this.inputElement.setAttribute(bi,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(Oi,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(Si,String(this.options.step)))}getValue(){return this._value}};var Wi=class extends Te{static{i(this,"PasswordField")}options={id:"",type:jn,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),default:"",className:Ve,allowPeek:!1};constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize(),this.options.allowPeek&&this.addPeekButton()}addPeekButton(){let n=document.createElement(Di),e=this.inputElement,s=document.createElement(tt);s.classList.add(Xl),e.insertAdjacentElement("afterend",s),s.append(e,n);let f=!0;E(),n.addEventListener(yi,I=>{I.preventDefault(),f?h():E()});function E(){n.classList.add(pa),n.classList.remove(da),n.ariaLabel="show password",e.type=jn,f=!0}i(E,"hide");function h(){n.classList.add(da),n.classList.remove(pa),n.ariaLabel="hide password",e.type=In,f=!1}i(h,"show")}getValue(){return this._value}};var Ki=class extends Te{static{i(this,"RangeField")}options={id:"",type:Ir,required:!1,validation:i((n,e,s)=>s&&!n&&n!==0?ye:this.options.min&&this.options.min>n?Ti+this.options.min:this.options.max&&this.options.max<n?Ii+this.options.max:!0,"validation"),default:0,className:ql};minElement=null;maxElement=null;valueElement=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.min&&this.inputElement.setAttribute(bi,String(this.options.min)),this.options.max&&this.inputElement.setAttribute(Oi,String(this.options.max)),this.options.step&&this.inputElement.setAttribute(Si,String(this.options.step)),this.inputElement.className=this.options.className}createOtherElements(){this.minElement=document.createElement(gn),this.minElement.setAttribute(oe,this.getId()+cu),this.minElement.className=jl,this.maxElement=document.createElement(gn),this.maxElement.setAttribute(oe,this.getId()+fu),this.maxElement.className=zl,this.valueElement=document.createElement(ru),this.valueElement.setAttribute(oe,this.getId()+du),this.valueElement.className=Wl}onGui(){this.createContainerElement(),this.createInputElement(),this.createLabelElement(),this.createValidationElement(),this.createOtherElements(),this.inputElement&&this.labelElement&&ae(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&ae(this.validationElement,this.labelElement),this.labelElement&&this.valueElement&&ae(this.valueElement,this.labelElement),this.containerElement&&this.labelElement&&ae(this.labelElement,this.containerElement)}updateRangeValues(){this.minElement&&this.options.min!==void 0&&(this.minElement.innerText=String(this.options.min)),this.maxElement&&this.options.max!==void 0&&(this.maxElement.innerText=String(this.options.max)),this.valueElement&&(this.valueElement.innerText=this.getValue()?String(this.getValue()):""),setTimeout(this.updateInputPadding,10)}updateInputPadding(){this.inputElement&&this.valueElement&&(this.inputElement.style.paddingRight=this.valueElement.clientWidth+5+"px")}async initialize(){this.load(),this.update(),this.bindChange(),this.updateRangeValues()}async reset(){this.triggerEvents(!1),localStorage.removeItem(this.getSaveKey()),this.setValue(this.options.default??null,!1),this.updateRangeValues(),this.update(),this.triggerEvents(!0),this.dispatchEvent("resetted")}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n),this.updateRangeValues()})}getValue(){return this._value}};function Ta(a,n){a.split(/\s+/).forEach(e=>{n(e)})}i(Ta,"forEvents");var Mr=class{static{i(this,"MicroEvent")}constructor(){this._events={}}on(n,e){Ta(n,s=>{let f=this._events[s]||[];f.push(e),this._events[s]=f})}off(n,e){var s=arguments.length;if(s===0){this._events={};return}Ta(n,f=>{if(s===1){delete this._events[f];return}let E=this._events[f];E!==void 0&&(E.splice(E.indexOf(e),1),this._events[f]=E)})}trigger(n,...e){var s=this;Ta(n,f=>{let E=s._events[f];E!==void 0&&E.forEach(h=>{h.apply(s,e)})})}};function Ia(a){return a.plugins={},class extends a{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(n,e){a.plugins[n]={name:n,fn:e}}initializePlugins(n){var e,s;let f=this,E=[];if(Array.isArray(n))n.forEach(h=>{typeof h=="string"?E.push(h):(f.plugins.settings[h.name]=h.options,E.push(h.name))});else if(n)for(e in n)n.hasOwnProperty(e)&&(f.plugins.settings[e]=n[e],E.push(e));for(;s=E.shift();)f.require(s)}loadPlugin(n){var e=this,s=e.plugins,f=a.plugins[n];if(!a.plugins.hasOwnProperty(n))throw new Error('Unable to find "'+n+'" plugin');s.requested[n]=!0,s.loaded[n]=f.fn.apply(e,[e.plugins.settings[n]||{}]),s.names.push(n)}require(n){var e=this,s=e.plugins;if(!e.plugins.loaded.hasOwnProperty(n)){if(s.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');e.loadPlugin(n)}return s.loaded[n]}}}i(Ia,"MicroPlugin");var Nr=i(a=>(a=a.filter(Boolean),a.length<2?a[0]||"":Oh(a)==1?"["+a.join("")+"]":"(?:"+a.join("|")+")"),"arrayToPattern"),Da=i(a=>{if(!bh(a))return a.join("");let n="",e=0,s=i(()=>{e>1&&(n+="{"+e+"}")},"prev_pattern");return a.forEach((f,E)=>{if(f===a[E-1]){e++;return}s(),n+=f,e=1}),s(),n},"sequencePattern"),ya=i(a=>{let n=Array.from(a);return Nr(n)},"setToPattern"),bh=i(a=>new Set(a).size!==a.length,"hasDuplicates"),en=i(a=>(a+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),"escape_regex"),Oh=i(a=>a.reduce((n,e)=>Math.max(n,Sh(e)),0),"maxValueLength"),Sh=i(a=>Array.from(a).length,"unicodeLength");var Aa=i(a=>{if(a.length===1)return[[a]];let n=[],e=a.substring(1);return Aa(e).forEach(function(f){let E=f.slice(0);E[0]=a.charAt(0)+E[0],n.push(E),E=f.slice(0),E.unshift(a.charAt(0)),n.push(E)}),n},"allSubstrings");var Rh=[[0,65535]],Lh="[-]",$i,Pu,Ch=3,ba={},Lu={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let a in Lu){let n=Lu[a]||"";for(let e=0;e<n.length;e++){let s=n.substring(e,e+1);ba[s]=a}}var wh=new RegExp(Object.keys(ba).join("|")+"|"+Lh,"gu"),Ph=i(a=>{$i===void 0&&($i=xh(a||Rh))},"initialize"),Cu=i((a,n="NFKD")=>a.normalize(n),"normalize"),Fr=i(a=>Array.from(a).reduce((n,e)=>n+Mh(e),""),"asciifold"),Mh=i(a=>(a=Cu(a).toLowerCase().replace(wh,n=>ba[n]||""),Cu(a,"NFC")),"_asciifold");function*Nh(a){for(let[n,e]of a)for(let s=n;s<=e;s++){let f=String.fromCharCode(s),E=Fr(f);E!=f.toLowerCase()&&(E.length>Ch||E.length!=0&&(yield{folded:E,composed:f,code_point:s}))}}i(Nh,"generator");var Fh=i(a=>{let n={},e=i((s,f)=>{let E=n[s]||new Set,h=new RegExp("^"+ya(E)+"$","iu");f.match(h)||(E.add(en(f)),n[s]=E)},"addMatching");for(let s of Nh(a))e(s.folded,s.folded),e(s.folded,s.composed);return n},"generateSets"),xh=i(a=>{let n=Fh(a),e={},s=[];for(let E in n){let h=n[E];h&&(e[E]=ya(h)),E.length>1&&s.push(en(E))}s.sort((E,h)=>h.length-E.length);let f=Nr(s);return Pu=new RegExp("^"+f,"u"),e},"generateMap"),Uh=i((a,n=1)=>{let e=0;return a=a.map(s=>($i[s]&&(e+=s.length),$i[s]||s)),e>=n?Da(a):""},"mapSequence"),Bh=i((a,n=1)=>(n=Math.max(n,a.length-1),Nr(Aa(a).map(e=>Uh(e,n)))),"substringsToPattern"),wu=i((a,n=!0)=>{let e=a.length>1?1:0;return Nr(a.map(s=>{let f=[],E=n?s.length():s.length()-1;for(let h=0;h<E;h++)f.push(Bh(s.substrs[h]||"",e));return Da(f)}))},"sequencesToPattern"),Gh=i((a,n)=>{for(let e of n){if(e.start!=a.start||e.end!=a.end||e.substrs.join("")!==a.substrs.join(""))continue;let s=a.parts,f=i(h=>{for(let I of s){if(I.start===h.start&&I.substr===h.substr)return!1;if(!(h.length==1||I.length==1)&&(h.start<I.start&&h.end>I.start||I.start<h.start&&I.end>h.start))return!0}return!1},"filter");if(!(e.parts.filter(f).length>0))return!0}return!1},"inSequences"),Xi=class a{static{i(this,"Sequence")}parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(n){n&&(this.parts.push(n),this.substrs.push(n.substr),this.start=Math.min(n.start,this.start),this.end=Math.max(n.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(n,e){let s=new a,f=JSON.parse(JSON.stringify(this.parts)),E=f.pop();for(let b of f)s.add(b);let h=e.substr.substring(0,n-E.start),I=h.length;return s.add({start:E.start,end:E.start+I,length:I,substr:h}),s}},Mu=i(a=>{Ph(),a=Fr(a);let n="",e=[new Xi];for(let s=0;s<a.length;s++){let E=a.substring(s).match(Pu),h=a.substring(s,s+1),I=E?E[0]:null,b=[],S=new Set;for(let C of e){let M=C.last();if(!M||M.length==1||M.end<=s)if(I){let G=I.length;C.add({start:s,end:s+G,length:G,substr:I}),S.add("1")}else C.add({start:s,end:s+1,length:1,substr:h}),S.add("2");else if(I){let G=C.clone(s,M),pe=I.length;G.add({start:s,end:s+pe,length:pe,substr:I}),b.push(G)}else S.add("3")}if(b.length>0){b=b.sort((C,M)=>C.length()-M.length());for(let C of b)Gh(C,e)||e.push(C);continue}if(s>0&&S.size==1&&!S.has("3")){n+=wu(e,!1);let C=new Xi,M=e[0];M&&C.add(M.last()),e=[C]}}return n+=wu(e,!0),n},"getPattern");var Nu=i((a,n)=>{if(a)return a[n]},"getAttr"),Fu=i((a,n)=>{if(a){for(var e,s=n.split(".");(e=s.shift())&&(a=a[e]););return a}},"getAttrNesting"),Qi=i((a,n,e)=>{var s,f;return!a||(a=a+"",n.regex==null)||(f=a.search(n.regex),f===-1)?0:(s=n.string.length/a.length,f===0&&(s+=.5),s*e)},"scoreValue"),Ji=i((a,n)=>{var e=a[n];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(a[n]=[e])},"propToArray"),xr=i((a,n)=>{if(Array.isArray(a))a.forEach(n);else for(var e in a)a.hasOwnProperty(e)&&n(a[e],e)},"iterate"),xu=i((a,n)=>typeof a=="number"&&typeof n=="number"?a>n?1:a<n?-1:0:(a=Fr(a+"").toLowerCase(),n=Fr(n+"").toLowerCase(),a>n?1:n>a?-1:0),"cmp");var Zi=class{static{i(this,"Sifter")}items;settings;constructor(n,e){this.items=n,this.settings=e||{diacritics:!0}}tokenize(n,e,s){if(!n||!n.length)return[];let f=[],E=n.split(/\s+/);var h;return s&&(h=new RegExp("^("+Object.keys(s).map(en).join("|")+"):(.*)$")),E.forEach(I=>{let b,S=null,C=null;h&&(b=I.match(h))&&(S=b[1],I=b[2]),I.length>0&&(this.settings.diacritics?C=Mu(I)||null:C=en(I),C&&e&&(C="\\b"+C)),f.push({string:I,regex:C?new RegExp(C,"iu"):null,field:S})}),f}getScoreFunction(n,e){var s=this.prepareSearch(n,e);return this._getScoreFunction(s)}_getScoreFunction(n){let e=n.tokens,s=e.length;if(!s)return function(){return 0};let f=n.options.fields,E=n.weights,h=f.length,I=n.getAttrFn;if(!h)return function(){return 1};let b=function(){return h===1?function(S,C){let M=f[0].field;return Qi(I(C,M),S,E[M]||1)}:function(S,C){var M=0;if(S.field){let G=I(C,S.field);!S.regex&&G?M+=1/h:M+=Qi(G,S,1)}else xr(E,(G,pe)=>{M+=Qi(I(C,pe),S,G)});return M/h}}();return s===1?function(S){return b(e[0],S)}:n.options.conjunction==="and"?function(S){var C,M=0;for(let G of e){if(C=b(G,S),C<=0)return 0;M+=C}return M/s}:function(S){var C=0;return xr(e,M=>{C+=b(M,S)}),C/s}}getSortFunction(n,e){var s=this.prepareSearch(n,e);return this._getSortFunction(s)}_getSortFunction(n){var e,s=[];let f=this,E=n.options,h=!n.query&&E.sort_empty?E.sort_empty:E.sort;if(typeof h=="function")return h.bind(this);let I=i(function(S,C){return S==="$score"?C.score:n.getAttrFn(f.items[C.id],S)},"get_field");if(h)for(let S of h)(n.query||S.field!=="$score")&&s.push(S);if(n.query){e=!0;for(let S of s)if(S.field==="$score"){e=!1;break}e&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(S=>S.field!=="$score");return s.length?function(S,C){var M,G;for(let pe of s)if(G=pe.field,M=(pe.direction==="desc"?-1:1)*xu(I(G,S),I(G,C)),M)return M;return 0}:null}prepareSearch(n,e){let s={};var f=Object.assign({},e);if(Ji(f,"sort"),Ji(f,"sort_empty"),f.fields){Ji(f,"fields");let E=[];f.fields.forEach(h=>{typeof h=="string"&&(h={field:h,weight:1}),E.push(h),s[h.field]="weight"in h?h.weight:1}),f.fields=E}return{options:f,query:n.toLowerCase().trim(),tokens:this.tokenize(n,f.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:f.nesting?Fu:Nu}}search(n,e){var s=this,f,E;E=this.prepareSearch(n,e),e=E.options,n=E.query;let h=e.score||s._getScoreFunction(E);n.length?xr(s.items,(b,S)=>{f=h(b),(e.filter===!1||f>0)&&E.items.push({score:f,id:S})}):xr(s.items,(b,S)=>{E.items.push({score:1,id:S})});let I=s._getSortFunction(E);return I&&E.items.sort(I),E.total=E.items.length,typeof e.limit=="number"&&(E.items=E.items.slice(0,e.limit)),E}};var At=i(a=>typeof a>"u"||a===null?null:Ur(a),"hash_key"),Ur=i(a=>typeof a=="boolean"?a?"1":"0":a+"","get_hash"),eo=i(a=>(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),Uu=i((a,n)=>n>0?window.setTimeout(a,n):(a.call(null),null),"timeout"),Bu=i((a,n)=>{var e;return function(s,f){var E=this;e&&(E.loading=Math.max(E.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,E.loadedSearches[s]=!0,a.call(E,s,f)},n)}},"loadDebounce"),Oa=i((a,n,e)=>{var s,f=a.trigger,E={};a.trigger=function(){var h=arguments[0];if(n.indexOf(h)!==-1)E[h]=arguments;else return f.apply(a,arguments)},e.apply(a,[]),a.trigger=f;for(s of n)s in E&&f.apply(a,E[s])},"debounce_events"),Gu=i(a=>({start:a.selectionStart||0,length:(a.selectionEnd||0)-(a.selectionStart||0)}),"getSelection"),He=i((a,n=!1)=>{a&&(a.preventDefault(),n&&a.stopPropagation())},"preventDefault"),ft=i((a,n,e,s)=>{a.addEventListener(n,e,s)},"addEvent"),tn=i((a,n)=>{if(!n||!n[a])return!1;var e=(n.altKey?1:0)+(n.ctrlKey?1:0)+(n.shiftKey?1:0)+(n.metaKey?1:0);return e===1},"isKeyDown"),to=i((a,n)=>{let e=a.getAttribute("id");return e||(a.setAttribute("id",n),n)},"getId"),Sa=i(a=>a.replace(/[\\"']/g,"\\$&"),"addSlashes"),nn=i((a,n)=>{n&&a.append(n)},"append"),Ze=i((a,n)=>{if(Array.isArray(a))a.forEach(n);else for(var e in a)a.hasOwnProperty(e)&&n(a[e],e)},"iterate");var xt=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(Ra(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),Ra=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString"),Vu=i(a=>a.replace(/['"\\]/g,"\\$&"),"escapeQuery"),no=i((a,n)=>{var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!1),a.dispatchEvent(e)},"triggerEvent"),Br=i((a,n)=>{Object.assign(a.style,n)},"applyCSS"),It=i((a,...n)=>{var e=ku(n);a=Yu(a),a.map(s=>{e.map(f=>{s.classList.add(f)})})},"addClasses"),Wt=i((a,...n)=>{var e=ku(n);a=Yu(a),a.map(s=>{e.map(f=>{s.classList.remove(f)})})},"removeClasses"),ku=i(a=>{var n=[];return Ze(a,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),Yu=i(a=>(Array.isArray(a)||(a=[a]),a),"castAsArray"),ro=i((a,n,e)=>{if(!(e&&!e.contains(a)))for(;a&&a.matches;){if(a.matches(n))return a;a=a.parentNode}},"parentMatch"),La=i((a,n=0)=>n>0?a[a.length-1]:a[0],"getTail"),Hu=i(a=>Object.keys(a).length===0,"isEmptyObject"),Ca=i((a,n)=>{if(!a)return-1;n=n||a.nodeName;for(var e=0;a=a.previousElementSibling;)a.matches(n)&&e++;return e},"nodeIndex"),xe=i((a,n)=>{Ze(n,(e,s)=>{e==null?a.removeAttribute(s):a.setAttribute(s,""+e)})},"setAttr"),Gr=i((a,n)=>{a.parentNode&&a.parentNode.replaceChild(n,a)},"replaceNode");var qu=i((a,n)=>{if(n===null)return;if(typeof n=="string"){if(!n.length)return;n=new RegExp(n,"i")}let e=i(E=>{var h=E.data.match(n);if(h&&E.data.length>0){var I=document.createElement("span");I.className="highlight";var b=E.splitText(h.index);b.splitText(h[0].length);var S=b.cloneNode(!0);return I.appendChild(S),Gr(b,I),1}return 0},"highlightText"),s=i(E=>{E.nodeType===1&&E.childNodes&&!/(script|style)/i.test(E.tagName)&&(E.className!=="highlight"||E.tagName!=="SPAN")&&Array.from(E.childNodes).forEach(h=>{f(h)})},"highlightChildren"),f=i(E=>E.nodeType===3?e(E):(s(E),0),"highlightRecursive");f(a)},"highlight"),ju=i(a=>{var n=a.querySelectorAll("span.highlight");Array.prototype.forEach.call(n,function(e){var s=e.parentNode;s.replaceChild(e.firstChild,e),s.normalize()})},"removeHighlight");var Vh=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Vr=Vh?"metaKey":"ctrlKey";var wa={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:i(function(a){return a.length>0},"shouldLoad"),render:{}};function io(a,n){var e=Object.assign({},wa,n),s=e.dataAttr,f=e.labelField,E=e.valueField,h=e.disabledField,I=e.optgroupField,b=e.optgroupLabelField,S=e.optgroupValueField,C=a.tagName.toLowerCase(),M=a.getAttribute("placeholder")||a.getAttribute("data-placeholder");if(!M&&!e.allowEmptyOption){let z=a.querySelector('option[value=""]');z&&(M=z.textContent)}var G={placeholder:M,options:[],optgroups:[],items:[],maxItems:null},pe=i(()=>{var z,Ee=G.options,ve={},Q=1;let Ae=0;var Ke=i(ue=>{var _e=Object.assign({},ue.dataset),ce=s&&_e[s];return typeof ce=="string"&&ce.length&&(_e=Object.assign(_e,JSON.parse(ce))),_e},"readData"),ot=i((ue,_e)=>{var ce=At(ue.value);if(ce!=null&&!(!ce&&!e.allowEmptyOption)){if(ve.hasOwnProperty(ce)){if(_e){var Ue=ve[ce][I];Ue?Array.isArray(Ue)?Ue.push(_e):ve[ce][I]=[Ue,_e]:ve[ce][I]=_e}}else{var be=Ke(ue);be[f]=be[f]||ue.textContent,be[E]=be[E]||ce,be[h]=be[h]||ue.disabled,be[I]=be[I]||_e,be.$option=ue,be.$order=be.$order||++Ae,ve[ce]=be,Ee.push(be)}ue.selected&&G.items.push(ce)}},"addOption"),at=i(ue=>{var _e,ce;ce=Ke(ue),ce[b]=ce[b]||ue.getAttribute("label")||"",ce[S]=ce[S]||Q++,ce[h]=ce[h]||ue.disabled,ce.$order=ce.$order||++Ae,G.optgroups.push(ce),_e=ce[S],Ze(ue.children,Ue=>{ot(Ue,_e)})},"addGroup");G.maxItems=a.hasAttribute("multiple")?null:1,Ze(a.children,ue=>{z=ue.tagName.toLowerCase(),z==="optgroup"?at(ue):z==="option"&&ot(ue)})},"init_select"),q=i(()=>{let z=a.getAttribute(s);if(z)G.options=JSON.parse(z),Ze(G.options,ve=>{G.items.push(ve[E])});else{var Ee=a.value.trim()||"";if(!e.allowEmptyOption&&!Ee.length)return;let ve=Ee.split(e.delimiter);Ze(ve,Q=>{let Ae={};Ae[f]=Q,Ae[E]=Q,G.options.push(Ae)}),G.items=ve}},"init_textbox");return C==="select"?pe():q(),Object.assign({},wa,G,n)}i(io,"getSettings");var Ku=0,nt=class extends Ia(Mr){static{i(this,"TomSelect")}constructor(n,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Ku++;var s,f=xt(n);if(f.tomselect)throw new Error("Tom Select already initialized on this element");f.tomselect=this;var E=window.getComputedStyle&&window.getComputedStyle(f,null);s=E.getPropertyValue("direction");let h=io(f,e);this.settings=h,this.input=f,this.tabIndex=f.tabIndex||0,this.is_select_tag=f.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=to(f,"tomselect-"+Ku),this.isRequired=f.required,this.sifter=new Zi(this.options,{diacritics:h.diacritics}),h.mode=h.mode||(h.maxItems===1?"single":"multi"),typeof h.hideSelected!="boolean"&&(h.hideSelected=h.mode==="multi"),typeof h.hidePlaceholder!="boolean"&&(h.hidePlaceholder=h.mode!=="multi");var I=h.createFilter;typeof I!="function"&&(typeof I=="string"&&(I=new RegExp(I)),I instanceof RegExp?h.createFilter=Ee=>I.test(Ee):h.createFilter=Ee=>this.settings.duplicates||!this.options[Ee]),this.initializePlugins(h.plugins),this.setupCallbacks(),this.setupTemplates();let b=xt("<div>"),S=xt("<div>"),C=this._render("dropdown"),M=xt('<div role="listbox" tabindex="-1">'),G=this.input.getAttribute("class")||"",pe=h.mode;var q;if(It(b,h.wrapperClass,G,pe),It(S,h.controlClass),nn(b,S),It(C,h.dropdownClass,pe),h.copyClassesToDropdown&&It(C,G),It(M,h.dropdownContentClass),nn(C,M),xt(h.dropdownParent||b).appendChild(C),Ra(h.controlInput)){q=xt(h.controlInput);var z=["autocorrect","autocapitalize","autocomplete","spellcheck"];Ze(z,Ee=>{f.getAttribute(Ee)&&xe(q,{[Ee]:f.getAttribute(Ee)})}),q.tabIndex=-1,S.appendChild(q),this.focus_node=q}else h.controlInput?(q=xt(h.controlInput),this.focus_node=q):(q=xt("<input/>"),this.focus_node=S);this.wrapper=b,this.dropdown=C,this.dropdown_content=M,this.control=S,this.control_input=q,this.setup()}setup(){let n=this,e=n.settings,s=n.control_input,f=n.dropdown,E=n.dropdown_content,h=n.wrapper,I=n.control,b=n.input,S=n.focus_node,C={passive:!0},M=n.inputId+"-ts-dropdown";xe(E,{id:M}),xe(S,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":M});let G=to(S,n.inputId+"-ts-control"),pe="label[for='"+Vu(n.inputId)+"']",q=document.querySelector(pe),z=n.focus.bind(n);if(q){ft(q,"click",z),xe(q,{for:G});let Q=to(q,n.inputId+"-ts-label");xe(S,{"aria-labelledby":Q}),xe(E,{"aria-labelledby":Q})}if(h.style.width=b.style.width,n.plugins.names.length){let Q="plugin-"+n.plugins.names.join(" plugin-");It([h,f],Q)}(e.maxItems===null||e.maxItems>1)&&n.is_select_tag&&xe(b,{multiple:"multiple"}),e.placeholder&&xe(s,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+en(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Bu(e.load,e.loadThrottle)),ft(f,"mousemove",()=>{n.ignoreHover=!1}),ft(f,"mouseenter",Q=>{var Ae=ro(Q.target,"[data-selectable]",f);Ae&&n.onOptionHover(Q,Ae)},{capture:!0}),ft(f,"click",Q=>{let Ae=ro(Q.target,"[data-selectable]");Ae&&(n.onOptionSelect(Q,Ae),He(Q,!0))}),ft(I,"click",Q=>{var Ae=ro(Q.target,"[data-ts-item]",I);if(Ae&&n.onItemSelect(Q,Ae)){He(Q,!0);return}s.value==""&&(n.onClick(),He(Q,!0))}),ft(S,"keydown",Q=>n.onKeyDown(Q)),ft(s,"keypress",Q=>n.onKeyPress(Q)),ft(s,"input",Q=>n.onInput(Q)),ft(S,"blur",Q=>n.onBlur(Q)),ft(S,"focus",Q=>n.onFocus(Q)),ft(s,"paste",Q=>n.onPaste(Q));let Ee=i(Q=>{let Ae=Q.composedPath()[0];if(!h.contains(Ae)&&!f.contains(Ae)){n.isFocused&&n.blur(),n.inputState();return}Ae==s&&n.isOpen?Q.stopPropagation():He(Q,!0)},"doc_mousedown"),ve=i(()=>{n.isOpen&&n.positionDropdown()},"win_scroll");ft(document,"mousedown",Ee),ft(window,"scroll",ve,C),ft(window,"resize",ve,C),this._destroy=()=>{document.removeEventListener("mousedown",Ee),window.removeEventListener("scroll",ve),window.removeEventListener("resize",ve),q&&q.removeEventListener("click",z)},this.revertSettings={innerHTML:b.innerHTML,tabIndex:b.tabIndex},b.tabIndex=-1,b.insertAdjacentElement("afterend",n.wrapper),n.sync(!1),e.items=[],delete e.optgroups,delete e.options,ft(b,"invalid",()=>{n.isValid&&(n.isValid=!1,n.isInvalid=!0,n.refreshState())}),n.updateOriginalInput(),n.refreshItems(),n.close(!1),n.inputState(),n.isSetup=!0,b.disabled?n.disable():b.readOnly?n.setReadOnly(!0):n.enable(),n.on("change",this.onChange),It(b,"tomselected","ts-hidden-accessible"),n.trigger("initialize"),e.preload===!0&&n.preload()}setupOptions(n=[],e=[]){this.addOptions(n),Ze(e,s=>{this.registerOptionGroup(s)})}setupTemplates(){var n=this,e=n.settings.labelField,s=n.settings.optgroupLabelField,f={optgroup:i(E=>{let h=document.createElement("div");return h.className="optgroup",h.appendChild(E.options),h},"optgroup"),optgroup_header:i((E,h)=>'<div class="optgroup-header">'+h(E[s])+"</div>","optgroup_header"),option:i((E,h)=>"<div>"+h(E[e])+"</div>","option"),item:i((E,h)=>"<div>"+h(E[e])+"</div>","item"),option_create:i((E,h)=>'<div class="create">Add <strong>'+h(E.input)+"</strong>&hellip;</div>","option_create"),no_results:i(()=>'<div class="no-results">No results found</div>',"no_results"),loading:i(()=>'<div class="spinner"></div>',"loading"),not_loading:i(()=>{},"not_loading"),dropdown:i(()=>"<div></div>","dropdown")};n.settings.render=Object.assign({},f,n.settings.render)}setupCallbacks(){var n,e,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in s)e=this.settings[s[n]],e&&this.on(n,e)}sync(n=!0){let e=this,s=n?io(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(s.options,s.optgroups),e.setValue(s.items||[],!0),e.lastQuery=null}onClick(){var n=this;if(n.activeItems.length>0){n.clearActiveItems(),n.focus();return}n.isFocused&&n.isOpen?n.blur():n.focus()}onMouseDown(){}onChange(){no(this.input,"input"),no(this.input,"change")}onPaste(n){var e=this;if(e.isInputHidden||e.isLocked){He(n);return}e.settings.splitOn&&setTimeout(()=>{var s=e.inputValue();if(s.match(e.settings.splitOn)){var f=s.trim().split(e.settings.splitOn);Ze(f,E=>{At(E)&&(this.options[E]?e.addItem(E):e.createItem(E))})}},0)}onKeyPress(n){var e=this;if(e.isLocked){He(n);return}var s=String.fromCharCode(n.keyCode||n.which);if(e.settings.create&&e.settings.mode==="multi"&&s===e.settings.delimiter){e.createItem(),He(n);return}}onKeyDown(n){var e=this;if(e.ignoreHover=!0,e.isLocked){n.keyCode!==9&&He(n);return}switch(n.keyCode){case 65:if(tn(Vr,n)&&e.control_input.value==""){He(n),e.selectAll();return}break;case 27:e.isOpen&&(He(n,!0),e.close()),e.clearActiveItems();return;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let s=e.getAdjacent(e.activeOption,1);s&&e.setActiveOption(s)}He(n);return;case 38:if(e.activeOption){let s=e.getAdjacent(e.activeOption,-1);s&&e.setActiveOption(s)}He(n);return;case 13:e.canSelect(e.activeOption)?(e.onOptionSelect(n,e.activeOption),He(n)):e.settings.create&&e.createItem()?He(n):document.activeElement==e.control_input&&e.isOpen&&He(n);return;case 37:e.advanceSelection(-1,n);return;case 39:e.advanceSelection(1,n);return;case 9:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(n,e.activeOption),He(n)),e.settings.create&&e.createItem()&&He(n));return;case 8:case 46:e.deleteSelection(n);return}e.isInputHidden&&!tn(Vr,n)&&He(n)}onInput(n){if(this.isLocked)return;let e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Uu(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let n=this.lastValue;this.settings.shouldLoad.call(this,n)&&this.load(n),this.refreshOptions(),this.trigger("type",n)}onOptionHover(n,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(n){var e=this,s=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),He(n);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),s||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(n){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var s=i(()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")},"deactivate");e.settings.create&&e.settings.createOnBlur?e.createItem(null,s):s()}}}onOptionSelect(n,e){var s,f=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?f.createItem(null,()=>{f.settings.closeAfterSelect&&f.close()}):(s=e.dataset.value,typeof s<"u"&&(f.lastQuery=null,f.addItem(s),f.settings.closeAfterSelect&&f.close(),!f.settings.hideSelected&&n.type&&/click/.test(n.type)&&f.setActiveOption(e))))}canSelect(n){return!!(this.isOpen&&n&&this.dropdown_content.contains(n))}onItemSelect(n,e){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(He(n),s.setActiveItem(e,n),!0):!1}canLoad(n){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(n))}load(n){let e=this;if(!e.canLoad(n))return;It(e.wrapper,e.settings.loadingClass),e.loading++;let s=e.loadCallback.bind(e);e.settings.load.call(e,n,s)}loadCallback(n,e){let s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(n,e),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||Wt(s.wrapper,s.settings.loadingClass),s.trigger("load",n,e)}preload(){var n=this.wrapper.classList;n.contains("preloaded")||(n.add("preloaded"),this.load(""))}setTextboxValue(n=""){var e=this.control_input,s=e.value!==n;s&&(e.value=n,no(e,"update"),this.lastValue=n)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(n,e){var s=e?[]:["change"];Oa(this,s,()=>{this.clear(e),this.addItems(n,e)})}setMaxItems(n){n===0&&(n=null),this.settings.maxItems=n,this.refreshState()}setActiveItem(n,e){var s=this,f,E,h,I,b,S;if(s.settings.mode!=="single"){if(!n){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(f=e&&e.type.toLowerCase(),f==="click"&&tn("shiftKey",e)&&s.activeItems.length){for(S=s.getLastActive(),h=Array.prototype.indexOf.call(s.control.children,S),I=Array.prototype.indexOf.call(s.control.children,n),h>I&&(b=h,h=I,I=b),E=h;E<=I;E++)n=s.control.children[E],s.activeItems.indexOf(n)===-1&&s.setActiveItemClass(n);He(e)}else f==="click"&&tn(Vr,e)||f==="keydown"&&tn("shiftKey",e)?n.classList.contains("active")?s.removeActiveItem(n):s.setActiveItemClass(n):(s.clearActiveItems(),s.setActiveItemClass(n));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(n){let e=this,s=e.control.querySelector(".last-active");s&&Wt(s,"last-active"),It(n,"active last-active"),e.trigger("item_select",n),e.activeItems.indexOf(n)==-1&&e.activeItems.push(n)}removeActiveItem(n){var e=this.activeItems.indexOf(n);this.activeItems.splice(e,1),Wt(n,"active")}clearActiveItems(){Wt(this.activeItems,"active"),this.activeItems=[]}setActiveOption(n,e=!0){n!==this.activeOption&&(this.clearActiveOption(),n&&(this.activeOption=n,xe(this.focus_node,{"aria-activedescendant":n.getAttribute("id")}),xe(n,{"aria-selected":"true"}),It(n,"active"),e&&this.scrollToOption(n)))}scrollToOption(n,e){if(!n)return;let s=this.dropdown_content,f=s.clientHeight,E=s.scrollTop||0,h=n.offsetHeight,I=n.getBoundingClientRect().top-s.getBoundingClientRect().top+E;I+h>f+E?this.scroll(I-f+h,e):I<E&&this.scroll(I,e)}scroll(n,e){let s=this.dropdown_content;e&&(s.style.scrollBehavior=e),s.scrollTop=n,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Wt(this.activeOption,"active"),xe(this.activeOption,{"aria-selected":null})),this.activeOption=null,xe(this.focus_node,{"aria-activedescendant":null})}selectAll(){let n=this;if(n.settings.mode==="single")return;let e=n.controlChildren();e.length&&(n.inputState(),n.close(),n.activeItems=e,Ze(e,s=>{n.setActiveItemClass(s)}))}inputState(){var n=this;n.control.contains(n.control_input)&&(xe(n.control_input,{placeholder:n.settings.placeholder}),n.activeItems.length>0||!n.isFocused&&n.settings.hidePlaceholder&&n.items.length>0?(n.setTextboxValue(),n.isInputHidden=!0):(n.settings.hidePlaceholder&&n.items.length>0&&xe(n.control_input,{placeholder:""}),n.isInputHidden=!1),n.wrapper.classList.toggle("input-hidden",n.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var n=this;n.isDisabled||n.isReadOnly||(n.ignoreFocus=!0,n.control_input.offsetWidth?n.control_input.focus():n.focus_node.focus(),setTimeout(()=>{n.ignoreFocus=!1,n.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())}getSearchOptions(){var n=this.settings,e=n.sortField;return typeof n.sortField=="string"&&(e=[{field:n.sortField}]),{fields:n.searchField,conjunction:n.searchConjunction,sort:e,nesting:n.nesting}}search(n){var e,s,f=this,E=this.getSearchOptions();if(f.settings.score&&(s=f.settings.score.call(f,n),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return n!==f.lastQuery?(f.lastQuery=n,e=f.sifter.search(n,Object.assign(E,{score:s})),f.currentResults=e):e=Object.assign({},f.currentResults),f.settings.hideSelected&&(e.items=e.items.filter(h=>{let I=At(h.id);return!(I&&f.items.indexOf(I)!==-1)})),e}refreshOptions(n=!0){var e,s,f,E,h,I,b,S,C,M;let G={},pe=[];var q=this,z=q.inputValue();let Ee=z===q.lastQuery||z==""&&q.lastQuery==null;var ve=q.search(z),Q=null,Ae=q.settings.shouldOpen||!1,Ke=q.dropdown_content;Ee&&(Q=q.activeOption,Q&&(C=Q.closest("[data-group]"))),E=ve.items.length,typeof q.settings.maxOptions=="number"&&(E=Math.min(E,q.settings.maxOptions)),E>0&&(Ae=!0);let ot=i((ue,_e)=>{let ce=G[ue];if(ce!==void 0){let be=pe[ce];if(be!==void 0)return[ce,be.fragment]}let Ue=document.createDocumentFragment();return ce=pe.length,pe.push({fragment:Ue,order:_e,optgroup:ue}),[ce,Ue]},"getGroupFragment");for(e=0;e<E;e++){let ue=ve.items[e];if(!ue)continue;let _e=ue.id,ce=q.options[_e];if(ce===void 0)continue;let Ue=Ur(_e),be=q.getOption(Ue,!0);for(q.settings.hideSelected||be.classList.toggle("selected",q.items.includes(Ue)),h=ce[q.settings.optgroupField]||"",I=Array.isArray(h)?h:[h],s=0,f=I&&I.length;s<f;s++){h=I[s];let Pt=ce.$order,dt=q.optgroups[h];dt===void 0?h="":Pt=dt.$order;let[$n,Dn]=ot(h,Pt);s>0&&(be=be.cloneNode(!0),xe(be,{id:ce.$id+"-clone-"+s,"aria-selected":null}),be.classList.add("ts-cloned"),Wt(be,"active"),q.activeOption&&q.activeOption.dataset.value==_e&&C&&C.dataset.group===h.toString()&&(Q=be)),Dn.appendChild(be),h!=""&&(G[h]=$n)}}q.settings.lockOptgroupOrder&&pe.sort((ue,_e)=>ue.order-_e.order),b=document.createDocumentFragment(),Ze(pe,ue=>{let _e=ue.fragment,ce=ue.optgroup;if(!_e||!_e.children.length)return;let Ue=q.optgroups[ce];if(Ue!==void 0){let be=document.createDocumentFragment(),Pt=q.render("optgroup_header",Ue);nn(be,Pt),nn(be,_e);let dt=q.render("optgroup",{group:Ue,options:be});nn(b,dt)}else nn(b,_e)}),Ke.innerHTML="",nn(Ke,b),q.settings.highlight&&(ju(Ke),ve.query.length&&ve.tokens.length&&Ze(ve.tokens,ue=>{qu(Ke,ue.regex)}));var at=i(ue=>{let _e=q.render(ue,{input:z});return _e&&(Ae=!0,Ke.insertBefore(_e,Ke.firstChild)),_e},"add_template");if(q.loading?at("loading"):q.settings.shouldLoad.call(q,z)?ve.items.length===0&&at("no_results"):at("not_loading"),S=q.canCreate(z),S&&(M=at("option_create")),q.hasOptions=ve.items.length>0||S,Ae){if(ve.items.length>0){if(!Q&&q.settings.mode==="single"&&q.items[0]!=null&&(Q=q.getOption(q.items[0])),!Ke.contains(Q)){let ue=0;M&&!q.settings.addPrecedence&&(ue=1),Q=q.selectable()[ue]}}else M&&(Q=M);n&&!q.isOpen&&(q.open(),q.scrollToOption(Q,"auto")),q.setActiveOption(Q)}else q.clearActiveOption(),n&&q.isOpen&&q.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(n,e=!1){let s=this;if(Array.isArray(n))return s.addOptions(n,e),!1;let f=At(n[s.settings.valueField]);return f===null||s.options.hasOwnProperty(f)?!1:(n.$order=n.$order||++s.order,n.$id=s.inputId+"-opt-"+n.$order,s.options[f]=n,s.lastQuery=null,e&&(s.userOptions[f]=e,s.trigger("option_add",f,n)),f)}addOptions(n,e=!1){Ze(n,s=>{this.addOption(s,e)})}registerOption(n){return this.addOption(n)}registerOptionGroup(n){var e=At(n[this.settings.optgroupValueField]);return e===null?!1:(n.$order=n.$order||++this.order,this.optgroups[e]=n,e)}addOptionGroup(n,e){var s;e[this.settings.optgroupValueField]=n,(s=this.registerOptionGroup(e))&&this.trigger("optgroup_add",s,e)}removeOptionGroup(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.clearCache(),this.trigger("optgroup_remove",n))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(n,e){let s=this;var f,E;let h=At(n),I=At(e[s.settings.valueField]);if(h===null)return;let b=s.options[h];if(b==null)return;if(typeof I!="string")throw new Error("Value must be set in option data");let S=s.getOption(h),C=s.getItem(h);if(e.$order=e.$order||b.$order,delete s.options[h],s.uncacheValue(I),s.options[I]=e,S){if(s.dropdown_content.contains(S)){let M=s._render("option",e);Gr(S,M),s.activeOption===S&&s.setActiveOption(M)}S.remove()}C&&(E=s.items.indexOf(h),E!==-1&&s.items.splice(E,1,I),f=s._render("item",e),C.classList.contains("active")&&It(f,"active"),Gr(C,f)),s.lastQuery=null}removeOption(n,e){let s=this;n=Ur(n),s.uncacheValue(n),delete s.userOptions[n],delete s.options[n],s.lastQuery=null,s.trigger("option_remove",n),s.removeItem(n,e)}clearOptions(n){let e=(n||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let s={};Ze(this.options,(f,E)=>{e(f,E)&&(s[E]=f)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(n,e){return this.items.indexOf(e)>=0}getOption(n,e=!1){let s=At(n);if(s===null)return null;let f=this.options[s];if(f!=null){if(f.$div)return f.$div;if(e)return this._render("option",f)}return null}getAdjacent(n,e,s="option"){var f=this,E;if(!n)return null;s=="item"?E=f.controlChildren():E=f.dropdown_content.querySelectorAll("[data-selectable]");for(let h=0;h<E.length;h++)if(E[h]==n)return e>0?E[h+1]:E[h-1];return null}getItem(n){if(typeof n=="object")return n;var e=At(n);return e!==null?this.control.querySelector(`[data-value="${Sa(e)}"]`):null}addItems(n,e){var s=this,f=Array.isArray(n)?n:[n];f=f.filter(h=>s.items.indexOf(h)===-1);let E=f[f.length-1];f.forEach(h=>{s.isPending=h!==E,s.addItem(h,e)})}addItem(n,e){var s=e?[]:["change","dropdown_close"];Oa(this,s,()=>{var f,E;let h=this,I=h.settings.mode,b=At(n);if(!(b&&h.items.indexOf(b)!==-1&&(I==="single"&&h.close(),I==="single"||!h.settings.duplicates))&&!(b===null||!h.options.hasOwnProperty(b))&&(I==="single"&&h.clear(e),!(I==="multi"&&h.isFull()))){if(f=h._render("item",h.options[b]),h.control.contains(f)&&(f=f.cloneNode(!0)),E=h.isFull(),h.items.splice(h.caretPos,0,b),h.insertAtCaret(f),h.isSetup){if(!h.isPending&&h.settings.hideSelected){let S=h.getOption(b),C=h.getAdjacent(S,1);C&&h.setActiveOption(C)}!h.isPending&&!h.settings.closeAfterSelect&&h.refreshOptions(h.isFocused&&I!=="single"),h.settings.closeAfterSelect!=!1&&h.isFull()?h.close():h.isPending||h.positionDropdown(),h.trigger("item_add",b,f),h.isPending||h.updateOriginalInput({silent:e})}(!h.isPending||!E&&h.isFull())&&(h.inputState(),h.refreshState())}})}removeItem(n=null,e){let s=this;if(n=s.getItem(n),!n)return;var f,E;let h=n.dataset.value;f=Ca(n),n.remove(),n.classList.contains("active")&&(E=s.activeItems.indexOf(n),s.activeItems.splice(E,1),Wt(n,"active")),s.items.splice(f,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(h)&&s.removeOption(h,e),f<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:e}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",h,n)}createItem(n=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=i(()=>{},"callback"));var s=this,f=s.caretPos,E;if(n=n||s.inputValue(),!s.canCreate(n))return e(),!1;s.lock();var h=!1,I=i(b=>{if(s.unlock(),!b||typeof b!="object")return e();var S=At(b[s.settings.valueField]);if(typeof S!="string")return e();s.setTextboxValue(),s.addOption(b,!0),s.setCaret(f),s.addItem(S),e(b),h=!0},"create");return typeof s.settings.create=="function"?E=s.settings.create.call(this,n,I):E={[s.settings.labelField]:n,[s.settings.valueField]:n},h||I(E),!0}refreshItems(){var n=this;n.lastQuery=null,n.isSetup&&n.addItems(n.items),n.updateOriginalInput(),n.refreshState()}refreshState(){let n=this;n.refreshValidityState();let e=n.isFull(),s=n.isLocked;n.wrapper.classList.toggle("rtl",n.rtl);let f=n.wrapper.classList;f.toggle("focus",n.isFocused),f.toggle("disabled",n.isDisabled),f.toggle("readonly",n.isReadOnly),f.toggle("required",n.isRequired),f.toggle("invalid",!n.isValid),f.toggle("locked",s),f.toggle("full",e),f.toggle("input-active",n.isFocused&&!n.isInputHidden),f.toggle("dropdown-active",n.isOpen),f.toggle("has-options",Hu(n.options)),f.toggle("has-items",n.items.length>0)}refreshValidityState(){var n=this;n.input.validity&&(n.isValid=n.input.validity.valid,n.isInvalid=!n.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(n={}){let e=this;var s,f;let E=e.input.querySelector('option[value=""]');if(e.is_select_tag){let b=function(S,C,M){return S||(S=xt('<option value="'+eo(C)+'">'+eo(M)+"</option>")),S!=E&&e.input.append(S),h.push(S),(S!=E||I>0)&&(S.selected=!0),S};i(b,"AddSelected");let h=[],I=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(S=>{S.selected=!1}),e.items.length==0&&e.settings.mode=="single"?b(E,"",""):e.items.forEach(S=>{if(s=e.options[S],f=s[e.settings.labelField]||"",h.includes(s.$option)){let C=e.input.querySelector(`option[value="${Sa(S)}"]:not(:checked)`);b(C,S,f)}else s.$option=b(s.$option,S,f)})}else e.input.value=e.getValue();e.isSetup&&(n.silent||e.trigger("change",e.getValue()))}open(){var n=this;n.isLocked||n.isOpen||n.settings.mode==="multi"&&n.isFull()||(n.isOpen=!0,xe(n.focus_node,{"aria-expanded":"true"}),n.refreshState(),Br(n.dropdown,{visibility:"hidden",display:"block"}),n.positionDropdown(),Br(n.dropdown,{visibility:"visible",display:"block"}),n.focus(),n.trigger("dropdown_open",n.dropdown))}close(n=!0){var e=this,s=e.isOpen;n&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,xe(e.focus_node,{"aria-expanded":"false"}),Br(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),s&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var n=this.control,e=n.getBoundingClientRect(),s=n.offsetHeight+e.top+window.scrollY,f=e.left+window.scrollX;Br(this.dropdown,{width:e.width+"px",top:s+"px",left:f+"px"})}}clear(n){var e=this;if(e.items.length){var s=e.controlChildren();Ze(s,f=>{e.removeItem(f,!0)}),e.inputState(),n||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(n){let e=this,s=e.caretPos,f=e.control;f.insertBefore(n,f.children[s]||null),e.setCaret(s+1)}deleteSelection(n){var e,s,f,E,h=this;e=n&&n.keyCode===8?-1:1,s=Gu(h.control_input);let I=[];if(h.activeItems.length)E=La(h.activeItems,e),f=Ca(E),e>0&&f++,Ze(h.activeItems,b=>I.push(b));else if((h.isFocused||h.settings.mode==="single")&&h.items.length){let b=h.controlChildren(),S;e<0&&s.start===0&&s.length===0?S=b[h.caretPos-1]:e>0&&s.start===h.inputValue().length&&(S=b[h.caretPos]),S!==void 0&&I.push(S)}if(!h.shouldDelete(I,n))return!1;for(He(n,!0),typeof f<"u"&&h.setCaret(f);I.length;)h.removeItem(I.pop());return h.inputState(),h.positionDropdown(),h.refreshOptions(!1),!0}shouldDelete(n,e){let s=n.map(f=>f.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,e)===!1)}advanceSelection(n,e){var s,f,E=this;E.rtl&&(n*=-1),!E.inputValue().length&&(tn(Vr,e)||tn("shiftKey",e)?(s=E.getLastActive(n),s?s.classList.contains("active")?f=E.getAdjacent(s,n,"item"):f=s:n>0?f=E.control_input.nextElementSibling:f=E.control_input.previousElementSibling,f&&(f.classList.contains("active")&&E.removeActiveItem(s),E.setActiveItemClass(f))):E.moveCaret(n))}moveCaret(n){}getLastActive(n){let e=this.control.querySelector(".last-active");if(e)return e;var s=this.control.querySelectorAll(".active");if(s)return La(s,n)}setCaret(n){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(n=this.isReadOnly||this.isDisabled){this.isLocked=n,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(n){this.focus_node.tabIndex=n?-1:this.tabIndex,this.isDisabled=n,this.input.disabled=n,this.control_input.disabled=n,this.setLocked()}setReadOnly(n){this.isReadOnly=n,this.input.readOnly=n,this.control_input.readOnly=n,this.setLocked()}destroy(){var n=this,e=n.revertSettings;n.trigger("destroy"),n.off(),n.wrapper.remove(),n.dropdown.remove(),n.input.innerHTML=e.innerHTML,n.input.tabIndex=e.tabIndex,Wt(n.input,"tomselected","ts-hidden-accessible"),n._destroy(),delete n.input.tomselect}render(n,e){var s,f;let E=this;if(typeof this.settings.render[n]!="function"||(f=E.settings.render[n].call(this,e,eo),!f))return null;if(f=xt(f),n==="option"||n==="option_create"?e[E.settings.disabledField]?xe(f,{"aria-disabled":"true"}):xe(f,{"data-selectable":""}):n==="optgroup"&&(s=e.group[E.settings.optgroupValueField],xe(f,{"data-group":s}),e.group[E.settings.disabledField]&&xe(f,{"data-disabled":""})),n==="option"||n==="item"){let h=Ur(e[E.settings.valueField]);xe(f,{"data-value":h}),n==="item"?(It(f,E.settings.itemClass),xe(f,{"data-ts-item":""})):(It(f,E.settings.optionClass),xe(f,{role:"option",id:e.$id}),e.$div=f,E.options[h]=e)}return f}_render(n,e){let s=this.render(n,e);if(s==null)throw"HTMLElement expected";return s}clearCache(){Ze(this.options,n=>{n.$div&&(n.$div.remove(),delete n.$div)})}uncacheValue(n){let e=this.getOption(n);e&&e.remove()}canCreate(n){return this.settings.create&&n.length>0&&this.settings.createFilter.call(this,n)}hook(n,e,s){var f=this,E=f[e];f[e]=function(){var h,I;return n==="after"&&(h=E.apply(f,arguments)),I=s.apply(f,arguments),n==="instead"?I:(n==="before"&&(h=E.apply(f,arguments)),h)}}};var Xh=i((a,n,e,s)=>{a.addEventListener(n,e,s)},"addEvent");function $u(){Xh(this.input,"change",()=>{this.sync()})}i($u,"plugin");var Qh=i(a=>typeof a>"u"||a===null?null:Jh(a),"hash_key"),Jh=i(a=>typeof a=="boolean"?a?"1":"0":a+"","get_hash"),Xu=i((a,n=!1)=>{a&&(a.preventDefault(),n&&a.stopPropagation())},"preventDefault"),Zh=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(em(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),em=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString");function Qu(a){var n=this,e=n.onOptionSelect;n.settings.hideSelected=!1;let s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},a);var f=i(function(I,b){b?(I.checked=!0,s.uncheckedClassNames&&I.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&I.classList.add(...s.checkedClassNames)):(I.checked=!1,s.checkedClassNames&&I.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&I.classList.add(...s.uncheckedClassNames))},"UpdateChecked"),E=i(function(I){setTimeout(()=>{var b=I.querySelector("input."+s.className);b instanceof HTMLInputElement&&f(b,I.classList.contains("selected"))},1)},"UpdateCheckbox");n.hook("after","setupTemplates",()=>{var h=n.settings.render.option;n.settings.render.option=(I,b)=>{var S=Zh(h.call(n,I,b)),C=document.createElement("input");s.className&&C.classList.add(s.className),C.addEventListener("click",function(G){Xu(G)}),C.type="checkbox";let M=Qh(I[n.settings.valueField]);return f(C,!!(M&&n.items.indexOf(M)>-1)),S.prepend(C),S}}),n.on("item_remove",h=>{var I=n.getOption(h);I&&(I.classList.remove("selected"),E(I))}),n.on("item_add",h=>{var I=n.getOption(h);I&&E(I)}),n.hook("instead","onOptionSelect",(h,I)=>{if(I.classList.contains("selected")){I.classList.remove("selected"),n.removeItem(I.dataset.value),n.refreshOptions(),Xu(h,!0);return}e.call(n,h,I),E(I)})}i(Qu,"plugin");var tm=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(nm(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),nm=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString");function Ju(a){let n=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i(s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`,"html")},a);n.on("initialize",()=>{var s=tm(e.html(e));s.addEventListener("click",f=>{n.isLocked||(n.clear(),n.settings.mode==="single"&&n.settings.allowEmptyOption&&n.addItem(""),f.preventDefault(),f.stopPropagation())}),n.control.appendChild(s)})}i(Ju,"plugin");var rm=i((a,n=!1)=>{a&&(a.preventDefault(),n&&a.stopPropagation())},"preventDefault"),Kn=i((a,n,e,s)=>{a.addEventListener(n,e,s)},"addEvent"),im=i((a,n)=>{if(Array.isArray(a))a.forEach(n);else for(var e in a)a.hasOwnProperty(e)&&n(a[e],e)},"iterate"),om=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(am(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),am=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString"),sm=i((a,n)=>{im(n,(e,s)=>{e==null?a.removeAttribute(s):a.setAttribute(s,""+e)})},"setAttr"),lm=i((a,n)=>{var e;(e=a.parentNode)==null||e.insertBefore(n,a.nextSibling)},"insertAfter"),um=i((a,n)=>{var e;(e=a.parentNode)==null||e.insertBefore(n,a)},"insertBefore"),cm=i((a,n)=>{do{var e;if(n=(e=n)==null?void 0:e.previousElementSibling,a==n)return!0}while(n&&n.previousElementSibling);return!1},"isBefore");function Zu(){var a=this;if(a.settings.mode!=="multi")return;var n=a.lock,e=a.unlock;let s=!0,f;a.hook("after","setupTemplates",()=>{var E=a.settings.render.item;a.settings.render.item=(h,I)=>{let b=om(E.call(a,h,I));sm(b,{draggable:"true"});let S=i(z=>{s||rm(z),z.stopPropagation()},"mousedown"),C=i(z=>{f=b,setTimeout(()=>{b.classList.add("ts-dragging")},0)},"dragStart"),M=i(z=>{z.preventDefault(),b.classList.add("ts-drag-over"),pe(b,f)},"dragOver"),G=i(()=>{b.classList.remove("ts-drag-over")},"dragLeave"),pe=i((z,Ee)=>{Ee!==void 0&&(cm(Ee,b)?lm(z,Ee):um(z,Ee))},"moveitem"),q=i(()=>{var z;document.querySelectorAll(".ts-drag-over").forEach(ve=>ve.classList.remove("ts-drag-over")),(z=f)==null||z.classList.remove("ts-dragging"),f=void 0;var Ee=[];a.control.querySelectorAll("[data-value]").forEach(ve=>{if(ve.dataset.value){let Q=ve.dataset.value;Q&&Ee.push(Q)}}),a.setValue(Ee)},"dragend");return Kn(b,"mousedown",S),Kn(b,"dragstart",C),Kn(b,"dragenter",M),Kn(b,"dragover",M),Kn(b,"dragleave",G),Kn(b,"dragend",q),b}}),a.hook("instead","lock",()=>(s=!1,n.call(a))),a.hook("instead","unlock",()=>(s=!0,e.call(a)))}i(Zu,"plugin");var fm=i((a,n=!1)=>{a&&(a.preventDefault(),n&&a.stopPropagation())},"preventDefault"),dm=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(pm(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),pm=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString");function ec(a){let n=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i(s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>',"html")},a);n.on("initialize",()=>{var s=dm(e.html(e)),f=s.querySelector("."+e.closeClass);f&&f.addEventListener("click",E=>{fm(E,!0),n.close()}),n.dropdown.insertBefore(s,n.dropdown.firstChild)})}i(ec,"plugin");var hm=i((a,n)=>{if(Array.isArray(a))a.forEach(n);else for(var e in a)a.hasOwnProperty(e)&&n(a[e],e)},"iterate"),mm=i((a,...n)=>{var e=Em(n);a=gm(a),a.map(s=>{e.map(f=>{s.classList.remove(f)})})},"removeClasses"),Em=i(a=>{var n=[];return hm(a,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),gm=i(a=>(Array.isArray(a)||(a=[a]),a),"castAsArray"),vm=i((a,n)=>{if(!a)return-1;n=n||a.nodeName;for(var e=0;a=a.previousElementSibling;)a.matches(n)&&e++;return e},"nodeIndex");function tc(){var a=this;a.hook("instead","setCaret",n=>{a.settings.mode==="single"||!a.control.contains(a.control_input)?n=a.items.length:(n=Math.max(0,Math.min(a.items.length,n)),n!=a.caretPos&&!a.isPending&&a.controlChildren().forEach((e,s)=>{s<n?a.control_input.insertAdjacentElement("beforebegin",e):a.control.appendChild(e)})),a.caretPos=n}),a.hook("instead","moveCaret",n=>{if(!a.isFocused)return;let e=a.getLastActive(n);if(e){let s=vm(e);a.setCaret(n>0?s+1:s),a.setActiveItem(),mm(e,"last-active")}else a.setCaret(a.caretPos+n)})}i(tc,"plugin");var _m=i((a,n=!1)=>{a&&(a.preventDefault(),n&&a.stopPropagation())},"preventDefault"),Tm=i((a,n,e,s)=>{a.addEventListener(n,e,s)},"addEvent"),Im=i((a,n)=>{if(Array.isArray(a))a.forEach(n);else for(var e in a)a.hasOwnProperty(e)&&n(a[e],e)},"iterate"),nc=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(Dm(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),Dm=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString"),ym=i((a,...n)=>{var e=Am(n);a=bm(a),a.map(s=>{e.map(f=>{s.classList.add(f)})})},"addClasses"),Am=i(a=>{var n=[];return Im(a,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),bm=i(a=>(Array.isArray(a)||(a=[a]),a),"castAsArray");function rc(){let a=this;a.settings.shouldOpen=!0,a.hook("before","setup",()=>{a.focus_node=a.control,ym(a.control_input,"dropdown-input");let n=nc('<div class="dropdown-input-wrap">');n.append(a.control_input),a.dropdown.insertBefore(n,a.dropdown.firstChild);let e=nc('<input class="items-placeholder" tabindex="-1" />');e.placeholder=a.settings.placeholder||"",a.control.append(e)}),a.on("initialize",()=>{a.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case 27:a.isOpen&&(_m(e,!0),a.close()),a.clearActiveItems();return;case 9:a.focus_node.tabIndex=-1;break}return a.onKeyDown.call(a,e)}),a.on("blur",()=>{a.focus_node.tabIndex=a.isDisabled?-1:a.tabIndex}),a.on("dropdown_open",()=>{a.control_input.focus()});let n=a.onBlur;a.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==a.control_input))return n.call(a)}),Tm(a.control_input,"blur",()=>a.onBlur()),a.hook("before","close",()=>{a.isOpen&&a.focus_node.focus({preventScroll:!0})})})}i(rc,"plugin");var oo=i((a,n,e,s)=>{a.addEventListener(n,e,s)},"addEvent");function ic(){var a=this;a.on("initialize",()=>{var n=document.createElement("span"),e=a.control_input;n.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",a.wrapper.appendChild(n);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let E of s)n.style[E]=e.style[E];var f=i(()=>{n.textContent=e.value,e.style.width=n.clientWidth+"px"},"resize");f(),a.on("update item_add item_remove",f),oo(e,"input",f),oo(e,"keyup",f),oo(e,"blur",f),oo(e,"update",f)})}i(ic,"plugin");function oc(){var a=this,n=a.deleteSelection;this.hook("instead","deleteSelection",e=>a.activeItems.length?n.call(a,e):!1)}i(oc,"plugin");function ac(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}i(ac,"plugin");var Om=i((a,n,e)=>{for(;a&&a.matches;){if(a.matches(n))return a;a=a.parentNode}},"parentMatch"),Sm=i((a,n)=>{if(!a)return-1;n=n||a.nodeName;for(var e=0;a=a.previousElementSibling;)a.matches(n)&&e++;return e},"nodeIndex");function sc(){var a=this,n=a.onKeyDown;a.hook("instead","onKeyDown",e=>{var s,f,E,h;if(!a.isOpen||!(e.keyCode===37||e.keyCode===39))return n.call(a,e);a.ignoreHover=!0,h=Om(a.activeOption,"[data-group]"),s=Sm(a.activeOption,"[data-selectable]"),h&&(e.keyCode===37?h=h.previousSibling:h=h.nextSibling,h&&(E=h.querySelectorAll("[data-selectable]"),f=E[Math.min(E.length-1,s)],f&&a.setActiveOption(f)))})}i(sc,"plugin");var Rm=i(a=>(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"escape_html"),lc=i((a,n=!1)=>{a&&(a.preventDefault(),n&&a.stopPropagation())},"preventDefault"),uc=i((a,n,e,s)=>{a.addEventListener(n,e,s)},"addEvent"),cc=i(a=>{if(a.jquery)return a[0];if(a instanceof HTMLElement)return a;if(Lm(a)){var n=document.createElement("template");return n.innerHTML=a.trim(),n.content.firstChild}return document.querySelector(a)},"getDom"),Lm=i(a=>typeof a=="string"&&a.indexOf("<")>-1,"isHtmlString");function fc(a){let n=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},a);var e=this;if(n.append){var s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+Rm(n.title)+'">'+n.label+"</a>";e.hook("after","setupTemplates",()=>{var f=e.settings.render.item;e.settings.render.item=(E,h)=>{var I=cc(f.call(e,E,h)),b=cc(s);return I.appendChild(b),uc(b,"mousedown",S=>{lc(S,!0)}),uc(b,"click",S=>{e.isLocked||(lc(S,!0),!e.isLocked&&e.shouldDelete([I],S)&&(e.removeItem(I),e.refreshOptions(!1),e.inputState()))}),I}})}}i(fc,"plugin");function dc(a){let n=this,e=Object.assign({text:i(s=>s[n.settings.labelField],"text")},a);n.on("item_remove",function(s){if(n.isFocused&&n.control_input.value.trim()===""){var f=n.options[s];f&&n.setTextboxValue(e.text.call(n,f))}})}i(dc,"plugin");var Cm=i((a,n)=>{if(Array.isArray(a))a.forEach(n);else for(var e in a)a.hasOwnProperty(e)&&n(a[e],e)},"iterate"),wm=i((a,...n)=>{var e=Pm(n);a=Mm(a),a.map(s=>{e.map(f=>{s.classList.add(f)})})},"addClasses"),Pm=i(a=>{var n=[];return Cm(a,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},"classesArray"),Mm=i(a=>(Array.isArray(a)||(a=[a]),a),"castAsArray");function pc(){let a=this,n=a.canLoad,e=a.clearActiveOption,s=a.loadCallback;var f={},E,h=!1,I,b=[];if(a.settings.shouldLoadMore||(a.settings.shouldLoadMore=()=>{if(E.clientHeight/(E.scrollHeight-E.scrollTop)>.9)return!0;if(a.activeOption){var G=a.selectable(),pe=Array.from(G).indexOf(a.activeOption);if(pe>=G.length-2)return!0}return!1}),!a.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";a.settings.sortField=[{field:"$order"},{field:"$score"}];let S=i(M=>typeof a.settings.maxOptions=="number"&&E.children.length>=a.settings.maxOptions?!1:!!(M in f&&f[M]),"canLoadMore"),C=i((M,G)=>a.items.indexOf(G)>=0||b.indexOf(G)>=0,"clearFilter");a.setNextUrl=(M,G)=>{f[M]=G},a.getUrl=M=>{if(M in f){let G=f[M];return f[M]=!1,G}return a.clearPagination(),a.settings.firstUrl.call(a,M)},a.clearPagination=()=>{f={}},a.hook("instead","clearActiveOption",()=>{if(!h)return e.call(a)}),a.hook("instead","canLoad",M=>M in f?S(M):n.call(a,M)),a.hook("instead","loadCallback",(M,G)=>{if(!h)a.clearOptions(C);else if(I){let pe=M[0];pe!==void 0&&(I.dataset.value=pe[a.settings.valueField])}s.call(a,M,G),h=!1}),a.hook("after","refreshOptions",()=>{let M=a.lastValue;var G;S(M)?(G=a.render("loading_more",{query:M}),G&&(G.setAttribute("data-selectable",""),I=G)):M in f&&!E.querySelector(".no-results")&&(G=a.render("no_more_results",{query:M})),G&&(wm(G,a.settings.optionClass),E.append(G))}),a.on("initialize",()=>{b=Object.keys(a.options),E=a.dropdown_content,a.settings.render=Object.assign({},{loading_more:i(()=>'<div class="loading-more-results">Loading more results ... </div>',"loading_more"),no_more_results:i(()=>'<div class="no-more-results">No more results</div>',"no_more_results")},a.settings.render),E.addEventListener("scroll",()=>{a.settings.shouldLoadMore.call(a)&&S(a.lastValue)&&(h||(h=!0,a.load.call(a,a.lastValue)))})})}i(pc,"plugin");nt.define("change_listener",$u);nt.define("checkbox_options",Qu);nt.define("clear_button",Ju);nt.define("drag_drop",Zu);nt.define("dropdown_header",ec);nt.define("caret_position",tc);nt.define("dropdown_input",rc);nt.define("input_autogrow",ic);nt.define("no_backspace_delete",oc);nt.define("no_active_items",ac);nt.define("optgroup_columns",sc);nt.define("remove_button",fc);nt.define("restore_on_backspace",dc);nt.define("virtual_scroll",pc);var hc=nt;var Fm=hc,ao=class extends Te{static{i(this,"SelectField")}options={id:"",type:Dr,required:!1,validation:i((n,e,s)=>s&&!n?ye:s&&Array.isArray(n)&&n.length===0?ye:!0,"validation"),enhance:!0,multiple:!1,optionsList:[],className:Kl,options:{valueField:"value",labelField:"label",searchField:["label"],optgroupField:"group",optgroupLabelField:"label",optgroupValueField:"id"}};_tomselect=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.ensureTomSelectDefaultOptions(),this.onGui(),this.initialize()}ensureTomSelectDefaultOptions(){this.options.options=Object.assign(this.options.options,{valueField:this.options.options?.valueField??cr,labelField:this.options.options?.labelField??Ri,searchField:this.options.options?.searchField??[Ri],optgroupField:this.options.options?.optgroupField??"group",optgroupLabelField:this.options.options?.optgroupLabelField??Ri,optgroupValueField:this.options.options?.optgroupValueField??oe})}async initialize(){this.initTomselect(),typeof this.options.optionsList!="function"&&this.syncOptions(this.options.optionsList||[],typeof this.options.optionGroups!="function"?this.options.optionGroups||[]:[]),this.load(),this.update(),this.bindChange()}syncValue(){if(this.inputElement&&this.inputElement instanceof HTMLSelectElement&&this.options.enhance===!1){let n=this.getValue();for(let e of this.inputElement.options){let s=n&&Array.isArray(n)?n?.some(f=>f===e.value):n===e.value;s&&!e.hasAttribute(Tn)&&e.setAttribute(Tn,""),!s&&e.hasAttribute(Tn)&&e.removeAttribute(Tn)}}else if(this.options.enhance===!0&&this._tomselect){let n=this.getValue();n!==this._tomselect.getValue()&&(typeof n=="string"||Array.isArray(n))&&this._tomselect.setValue(n,!0)}}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,Bn(this.change,25,this))}getTomselect(){return this._tomselect}async pullOptions(n,e,s,f){if(typeof s=="function"){let E=await s(n),h=null;f&&(typeof f=="function"?h=await f(n):f.length>0&&(h=f)),e(E,h||void 0)}}initTomselect(){this.options.enhance&&(this.options.optionsList&&typeof this.options.optionsList=="function"&&(this.options.options=Object.assign(this.options.options,{load:i((n,e)=>{this.pullOptions(n,e,this.options.optionsList,this.options.optionGroups)},"load"),preload:this.options.options?.preload??!0})),this.inputElement&&(this._tomselect=new Fm(this.inputElement,this.options.options||{})))}handleDisabled(){this.isDisabled()?(this.inputElement?.setAttribute(_n,"true"),this._tomselect&&this._tomselect.disable()):(this.inputElement?.removeAttribute(_n),this._tomselect&&this._tomselect.enable())}createSelectElement(){this.inputElement=document.createElement(iu),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.getType()),this.options.multiple&&this.inputElement.setAttribute(Ai,""),this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder),this.inputElement.className=this.options.className}syncOptions(n,e){if(this.options.enhance)this._tomselect?.clearOptions(),this._tomselect?.addOptions(n),e.length>0&&(this._tomselect?.clearOptionGroups(),e.forEach(s=>{this._tomselect?.addOptionGroup(s.id,s)})),this._tomselect?.sync();else{let s=this.inputElement;s.innerHTML="",e.length>0?e.forEach(f=>{let E=document.createElement(au);E.label=f.label,n.filter(I=>I.group===f.id).forEach(I=>{this.inputElement&&this.createOption(I,E)}),this.inputElement?.append(E)}):n.forEach(f=>{this.inputElement&&this.createOption(f,this.inputElement)})}}createOption(n,e){let s=document.createElement(ou);s.setAttribute(cr,n.value),typeof n.value=="string"&&this.options.default&&Array.isArray(this.options.default)&&this.options.default?.findIndex(f=>f===n.value)>=0?s.setAttribute(Tn,"true"):this.options.default&&this.options.default===n.value&&s.setAttribute(Tn,"true"),n.disabled&&s.setAttribute(_n,String(n.disabled)),s.innerText=n.label,e?.append(s)}onGui(){this.createContainerElement(),this.createSelectElement(),this.createLabelElement(),this.createValidationElement(),this.inputElement&&this.labelElement&&ae(this.inputElement,this.labelElement),this.labelElement&&this.validationElement&&ae(this.validationElement,this.labelElement),this.containerElement&&this.labelElement&&ae(this.labelElement,this.containerElement)}change(n){if(this.options.enhance&&this._tomselect)this.setValue(this._tomselect.getValue());else if(this.inputElement&&this.inputElement instanceof HTMLSelectElement)if(this.options.multiple){let e=this.inputElement.options,s=[];for(let f=0;f<e.length;f++)e[f].selected&&s.push(e[f].value);this.setValue(s)}else this.setValue(n.target.value);this.validate(),this.options.change&&this.options.change(this.getValue()),this.dispatchEvent("changed",this.getValue())}getValue(){return this._value}};var so=class extends Te{static{i(this,"TelField")}options={id:"",type:Ar,required:!1,validation:i((n,e,s)=>s&&!n?ye:n&&typeof n=="string"&&!n.match(this.telFormat)?Jl:!0,"validation"),default:null,className:Ve};telFormat=/^\+?\d{1,3}?[-.\s]?\(?\d{1,4}?\)?([-.\s]?\d{1,9})*$/;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var lo=class extends Te{static{i(this,"TextField")}constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var uo=class extends Te{static{i(this,"TextareaField")}options={id:"",type:br,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),className:Ve,rows:5};inputElement=null;createInputElement(){this.inputElement=document.createElement(su),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.options.rows&&this.inputElement.setAttribute(Tu,String(this.options.rows)),this.inputElement.setAttribute(Me,this.getType()),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var xm=Zt,co=class extends Te{static{i(this,"TimeField")}options={id:"",type:Or,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),className:Ve,enhance:!0,options:{enableTime:!0,noCalendar:!0,altInput:!0}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=xm(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"time"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var fo=class extends Te{static{i(this,"UrlField")}options={id:"",type:Sr,required:!1,validation:i((n,e,s)=>s&&!n?ye:n&&typeof n=="string"&&!n.match(this.urlFormat)?Zl:!0,"validation"),default:"",className:Ve};urlFormat=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}getValue(){return this._value}};var Ec=sl(mc(),1);var Um=Zt,po=class extends Te{static{i(this,"WeekField")}options={id:"",type:Rr,required:!1,validation:i((n,e,s)=>s&&!n?ye:!0,"validation"),className:Ve,enhance:!0,options:{altInput:!0,dateFormat:"Y-W",altFormat:"W, Y",plugins:[(0,Ec.default)()]}};_flatpickr=null;constructor(n,e,s){super(n,e,s),this.initializeOptions(s),this.onGui(),this.initialize()}async initialize(){this.load(),this.update(),this.initFlatpickr(),this.bindChange()}getFlatpickr(){return this._flatpickr}initFlatpickr(){this.inputElement&&this.options.enhance&&(this._flatpickr=Um(this.inputElement,this.options.options||{}))}bindChange(){this.inputElement&&this.inputElement.addEventListener(Qe,n=>{this.change(n)})}createInputElement(){this.inputElement=document.createElement(Xe),this.inputElement.setAttribute(oe,this.getId()),this.inputElement.setAttribute(ke,this.options.name||this.getId()),this.inputElement.setAttribute(Me,this.options.enhance?"text":"week"),this.inputElement.className=this.options.className,this.options.placeholder&&this.inputElement.setAttribute(st,this.options.placeholder)}getValue(){return this._value}};var ho=class{static{i(this,"StaticField")}options={id:"",type:yr,template:"",className:$l};staticElement=null;containerElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_saveKey;_value=null;_type;_parsedConditions=null;constructor(n,e,s){this.initializeOptions(s),this._id=this.options.id,this._form=e,this._parent=n,this._type=s.type,this._saveKey=mn(this._form.getId(),this._id),this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),this.load(),this.update()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions))}getValue(){return this._value}getId(){return this._id}getSaveKey(){return this._saveKey}getType(){return this._type}getVisibility(){return this._isVisible}getForm(){return this._form}setTemplate(n,e=!0){this.staticElement&&(typeof n=="string"?(this._value=n,this.staticElement.innerText=n):typeof n=="function"&&(this._value=n(),this.staticElement.innerHTML="",this.staticElement.append(n())),e&&this.save())}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=Qt+" "+this._type,this.containerElement.setAttribute(oe,this._id+Bt)}createStaticElement(){this.staticElement=document.createElement(tt),this.staticElement.className=this.options.className,this.staticElement.setAttribute(oe,this._id)}onGui(){this.createContainerElement(),this.createStaticElement(),this.containerElement&&this.staticElement&&ae(this.staticElement,this.containerElement)}mount(){this.containerElement&&ae(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&qt(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}save(){this._form.savesProgress()&&this._form.hasValidLicense()&&this._value!==void 0&&localStorage.setItem(this._saveKey,JSON.stringify(this._value))}load(){if(this._form.savesProgress()&&this._form.hasValidLicense()){let n=localStorage.getItem(this._saveKey);if(n!==null){this.setTemplate(Gn(n)?JSON.parse(n):n,!1);return}}this.setTemplate(this.options.template,!1)}async reset(){localStorage.removeItem(this._saveKey),this.setTemplate(this.options.template,!1),this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this.getValue(),this._form.getData())))}};var mo=class{static{i(this,"Group")}options={id:"",type:fr,className:Nl,prefixSchema:!1,schema:[]};containerElement=null;schemaContainerElement=null;labelElement=null;_id;_parent;_form;_isMounted=!1;_isVisible=!0;_type;_parsedConditions=null;constructor(n,e,s){this.initializeOptions(s),this._parent=n,this._form=e,this._id=this.options.id,this._type=s.type,this.onGui(),this.initialize()}initializeOptions(n){this.options=Object.assign({},this.options,Ct(this.options.type,n))}async initialize(){this.parseStringConditions(),await this.reset()}parseStringConditions(){typeof this.options.conditions=="string"&&(this._parsedConditions=Rt(this.options.conditions))}getId(){return this._id}getContainer(){return this.containerElement}getSchemaContainer(){return this.schemaContainerElement}getType(){return this._type}getVisibility(){return this._isVisible}createContainerElement(){this.containerElement=document.createElement(tt),this.containerElement.className=Ml,this.containerElement.setAttribute(oe,this._id+uu)}createSchemaContainerElement(){this.schemaContainerElement=document.createElement(tt),this.schemaContainerElement.className=this.options.className,this.schemaContainerElement.setAttribute(oe,this._id)}createLabelElement(){this.labelElement=document.createElement(nu),this.options.label&&(typeof this.options.label=="string"?this.labelElement.innerText=this.options.label:typeof this.options.label=="function"&&(this.labelElement.innerHTML="",this.labelElement.append(this.options.label()))),this.labelElement.setAttribute(oe,this._id+jt),this.labelElement.className=Fl}onGui(){this.createContainerElement(),this.createSchemaContainerElement(),this.createLabelElement(),this.containerElement&&this.labelElement&&this.options.label&&ae(this.labelElement,this.containerElement),this.containerElement&&this.schemaContainerElement&&ae(this.schemaContainerElement,this.containerElement)}mount(){this.containerElement&&ae(this.containerElement,this._parent),this._isMounted=!0}unmount(){this.containerElement&&qt(this.containerElement),this._isMounted=!1}destroy(){this._parent&&this._parent.remove()}handleVisibility(){this._isVisible&&!this._isMounted&&this.mount(),!this._isVisible&&this._isMounted&&this.unmount()}async reset(){this.update()}async update(){this.updateVisibilityBasedOnConditions(),this.handleVisibility()}updateVisibilityBasedOnConditions(){let n=this._isVisible;this.options.conditions&&(this._parsedConditions?this._isVisible=Lt(this._parsedConditions,this._form.getData()):typeof this.options.conditions=="function"&&(this._isVisible=this.options.conditions(this._form.getData()))),n!==this._isVisible&&this.dispatchEvent("visibilityChanged",this._isVisible)}dispatchEvent(n,e=null){let s=e!==null?new CustomEvent(n,{detail:e}):new CustomEvent(n);this.containerElement?.dispatchEvent(s)}on(n,e,s){this.containerElement?.addEventListener(n,e,s)}off(n,e,s){this.containerElement?.removeEventListener(n,e,s)}};var kr=class{static{i(this,"Form")}options={id:"",saveProgress:!1,useFormData:!1,schema:[],action:null,method:null,className:wl};_parent=null;_formElement=null;_id="";_isValid=null;_errors=[];_fields={};_groups={};_buttons={};_data={};_saveProgress=!1;_licenseState=St.INVALID;_schema=[];_dataPrefixMap={};_triggerEvents=!0;constructor(n,e){this.initializeOptions(e),this.setParentElement(n),this.processLicense(),this.onGui(),this.initForm()}setParentElement(n){let e;if(typeof n=="string"?e=document.getElementById(n):e=n,this._parent=e,!this._parent)throw new Error("Parent does not exist in the document")}initializeOptions(n){this.options=Object.assign({},this.options,n),this._id=n.id,this._schema=n.schema,this._saveProgress=n.saveProgress,this._saveProgress&&ur()}initForm(){this._formElement&&this.buildSchema(this._schema,this._formElement),this._formElement&&this._parent&&ae(this._formElement,this._parent)}processLicense(){ua()&&(this.options.licenseKey&&la(this.options.licenseKey),this._licenseState=pl(),this.hasValidLicense()||ml(this._licenseState))}buildSchema(n,e,s=null,f=null,E=null){n.forEach(h=>{this.buildElement(h,e,s,f,E)})}isValid(){return this._isValid}createWrapper(n){let e=document.createElement(tt);return ae(e,n),e}mapFieldToDataPrefix(n,e,s=null){let f=n.id;s&&(f=dl(e,s,n.id)),this._dataPrefixMap[f]={id:e,dataKey:n.id,key:s},s&&(n.id=f,n.name=f)}buildElement(n,e,s,f,E){let h={...n},I=ma[n.type];if(!I)throw new Error(`Unknown type: ${n.type}`);let b=this.createWrapper(e),S=fl(n.type);f&&E&&S===ge.field&&this.mapFieldToDataPrefix(h,f,E),s&&S===ge.field&&this.mapFieldToDataPrefix(h,s,null);let C=new I(b,this,h);switch(S){case ge.button:f&&E?this.assignToListField(f,E,C,S,n.id):this._buttons[n.id]=C;break;case ge.group:if(f&&E?this.assignToListField(f,E,C,S,n.id):this._groups[n.id]=C,n.schema&&C.getSchemaContainer){let M=C.getSchemaContainer();M&&this.buildSchema(n.schema,M,n.prefixSchema?C.getId():s,f,E)}break;case ge.field:f&&E?this.assignToListField(f,E,C,S,n.id):this._fields[n.id]=C;break}}assignToListField(n,e,s,f,E){let h=this._fields[n];if(!(!h||!h.assignButton||!h.assignGroup||!h.assignField))switch(f){case ge.button:h.assignButton(E,e,s);break;case ge.group:h.assignGroup(E,e,s);break;case ge.field:h.assignField(E,e,s);break}}async update(){this._groups&&Object.keys(this._groups).forEach(n=>{this._groups[n].update()}),this._fields&&Object.keys(this._fields).forEach(n=>{this._fields[n].update()}),this._buttons&&Object.keys(this._buttons).forEach(n=>{this._buttons[n].update()})}getField(n){return this._fields[n]}getFormElement(){return this._formElement}dispatchEvent(n,e=null){if(!this._triggerEvents)return;let s=e!==null?new CustomEvent(n,{detail:e}):new CustomEvent(n);this._formElement?.dispatchEvent(s)}setData(n,e){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,n)?this.setDataFromMap(n,e):this.setSimpleData(n,e),this.update(),this.dispatchEvent("dataUpdated",this._data)}removeData(n){Object.prototype.hasOwnProperty.call(this._dataPrefixMap,n)?this.removeMappedData(n):delete this._data[n],this.dispatchEvent("dataUpdated",this._data)}removeMappedData(n){let e=this._dataPrefixMap[n],{dataKey:s,key:f,id:E}=e;if(!(!s||!E))if(f){let h=this.getField(E);if(!h||!h.getKeyIndex)return;let I=h.getId(),b=h.getKeyIndex(f);delete this._data[I][b][s],typeof this._data[I][b]=="object"&&Object.keys(this._data[I][b]).length===0&&delete this._data[I][b]}else{let h=this.getGroup(E);if(!h)return;let I=h.getId();delete this._data[I][s],typeof this._data[I]=="object"&&Object.keys(this._data[I]).length===0&&delete this._data[I]}}setDataFromMap(n,e){let s=this._dataPrefixMap[n],{dataKey:f,key:E,id:h}=s;if(!(!f||!h))if(E){let I=this.getField(h);if(!I||!I.getKeyIndex)return;let b=I.getId(),S=I.getKeyIndex(E);this.ensureDataStructureExists(b,S),this._data[b][S][f]=e}else{let I=this.getGroup(h);if(!I)return;let b=I.getId();this.ensureDataStructureExists(b),this._data[b][f]=e}}setSimpleData(n,e){this._data[n]=e}ensureDataStructureExists(n,e=null){if(e===null&&!this._data[n]){this._data[n]={};return}else(e||e===0)&&(this._data[n]||(this._data[n]=[]),this._data[n][e]||(this._data[n][e]={}))}removeListData(n,e){this._data[n]&&this._data[n][e]&&this._data[n].splice(e,1)}getId(){return this._id}getData(){return this._data}getButtons(){return this._buttons}getButton(n){return this._buttons[n]}getGroups(){return this._groups}getGroup(n){return this._groups[n]}savesProgress(){return this._saveProgress}getErrors(){return this._errors}hasValidLicense(){return this._licenseState===St.VALID}updateError(n,e){this._errors.includes(n)&&e?this._errors=this._errors.filter(s=>s!==n):!this._errors.includes(n)&&!e&&this._errors.push(n),this._isValid=this._errors.length===0}reset(n){this._triggerEvents=!1,n&&n.preventDefault(),this._groups&&Object.keys(this._groups).forEach(e=>{let s=this._groups[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._fields&&Object.keys(this._fields).forEach(e=>{let s=this._fields[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._buttons&&Object.keys(this._buttons).forEach(e=>{let s=this._buttons[e];s.reset&&typeof s.reset=="function"&&s.reset()}),this._isValid=null,this._triggerEvents=!0,this.dispatchEvent("resetted")}validate(){this._fields&&Object.keys(this._fields).forEach(n=>{let e=this._fields[n];e.validate&&typeof e.validate=="function"&&e.validate()}),this._isValid=this._errors.length===0}save(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(n=>{let e=this._fields[n];e.save&&typeof e.save=="function"&&e.save()}),this._groups&&Object.keys(this._groups).forEach(n=>{let e=this._groups[n];e.save&&typeof e.save=="function"&&e.save()}))}load(){!this._saveProgress||!this.hasValidLicense()||(this._fields&&Object.keys(this._fields).forEach(n=>{let e=this._fields[n];e.load&&typeof e.load=="function"&&e.load()}),this._groups&&Object.keys(this._groups).forEach(n=>{let e=this._groups[n];e.load&&typeof e.load=="function"&&e.load()}))}onGui(){this._formElement=document.createElement(eu),this._formElement.setAttribute(oe,this._id),this._formElement.className=this.options.className,this.options.action&&this._formElement.setAttribute(pu,this.options.action),this.options.method&&this._formElement.setAttribute(hu,this.options.method),this._formElement.addEventListener(mu,n=>this.submit(n)),this._formElement.addEventListener(Eu,this.reset),ua()&&!this.hasValidLicense()&&this.createInvalidElement()}createInvalidElement(){let n=document.createElement(tu);n.setAttribute(gu,Rl),n.className=Ll,n.style.cssText=Cl;let e=document.createElement(gn);e.innerText=hl(this._licenseState),ae(e,n),this._parent&&ae(n,this._parent)}submit(n){if(!this.options.action&&n&&n.preventDefault(),this.validate(),!this.isValid()){this.dispatchEvent("validationFailedOnSubmit");return}let e=this.getData();this.options.useFormData&&(e=sa(this.getData())),this.options.submit&&this.options.submit(e),this.dispatchEvent("submitted",e)}destroy(){this._parent&&this._parent.remove()}on(n,e,s){this._formElement?.addEventListener(n,e,s)}off(n,e,s){this._formElement?.removeEventListener(n,e,s)}};je(fr,mo,ge.group);je(ha,Pr,ge.button);je(dr,Gi,ge.field);je(pr,Vi,ge.field);je(hr,ki,ge.field);je(mr,Bi,ge.field);je(Er,Yi,ge.field);je(gr,qi,ge.field);je(vr,ji,ge.field);je(_r,zi,ge.field);je(jn,Wi,ge.field);je(Tr,Li,ge.field);je(Ir,Ki,ge.field);je(Dr,ao,ge.field);je(yr,ho,ge.field);je(Ar,so,ge.field);je(br,uo,ge.field);je(In,lo,ge.field);je(Or,co,ge.field);je(Sr,fo,ge.field);je(Rr,po,ge.field);var Bm={id:"booking-section",schema:[{id:"file",type:"file",name:"",options:{},label:"File",required:!1},{id:"submit",type:"button",buttonType:"submit",template:"Submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}]},tI=new kr("booking-form",Bm);})();
